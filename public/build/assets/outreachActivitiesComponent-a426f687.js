import{m as T,a as A}from"./mixins-00a35343.js";import{m as L}from"./detailsOutreachActivitiesModal-a4dfe355.js";import{m as B,a as R}from"./alertModal-064cb8ca.js";import{m as U,s as H}from"./multiselect-040cdaf8.js";import{r as _,o as u,h as C,i as F,b as t,j as S,g as d,t as g,a as h,w as i,F as P,e as E,l as w,f as O,n as k,k as v,m as p,T as I,v as D,p as M}from"./index-a6b313c0.js";/* empty css                                                         */import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const q={components:{modalProgressYear:U,Multiselect:H,modalconfirmacion:B,modalalerta:R},mixins:[T],data:()=>({outreachActivity:{activityType:"",activityName:"",activityDescription:"",date:"",attendantsAmount:"",duration:"",country:"",placeRegion:"",city:"",undergraduateStudents:0,primaryEducationStudents:0,secondaryEducationStudents:0,generalCommunity:0,companiesIndustriesServices:0,schoolTeachers:0,governmentOfficial:0,other:0,researcherInvolved:null,responsability:"",comments:"",progressReport:""},other:"",draft:!1,showModalProgress:!1,researchers:"",buttonDisable:!1,usuarios:[],idResearcher:"",errors:[],buttonText:"Save Activity"}),mounted(){this.getUsuarios(),this.getUsuarios2(),this.getProgressReport()},methods:{handleFormSubmit1(e){this.outreachActivity.progressReport=e},getProgressReport(){A.get("api/showProgressReport").then(e=>{this.outreachActivity.progressReport=e.data}).catch(e=>console.log(e))},getUsuarios2(){A.get("api/usuarios").then(e=>{this.usuarios=e.data.sort((s,y)=>s.name.localeCompare(y.name))}).catch(e=>console.log(e))},getUsuarios(){A.get("api/researchers").then(e=>{this.researchers=e.data}).catch(e=>console.log(e))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(e){this.participationSc.file=e.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Save draft",message:"¿Are you sure you want to save this Outreach Activity as a draft? this action cannot be undone.",okButton:"Save",cancelButton:"Return"})){var s="";this.outreachActivity.researcherInvolved!==null&&this.outreachActivity.researcherInvolved.length!==0&&this.outreachActivity.researcherInvolved.forEach((c,m)=>{s+=c.name,m===this.outreachActivity.researcherInvolved.length-1?s+=".":s+=", "});var y="",$=0;this.outreachActivity.activityType=="Other"?(y=this.other,$=1):y=this.outreachActivity.activityType;var r="";this.idResearcher!=""?r=this.idResearcher:r=this.userID;let a={idUsuario:r,status:"Draft",activityType:y,otherType:$,activityName:this.outreachActivity.activityName,activityDescription:this.outreachActivity.activityDescription,date:this.outreachActivity.date,attendantsAmount:this.outreachActivity.attendantsAmount,duration:this.outreachActivity.duration,country:this.outreachActivity.country,placeRegion:this.outreachActivity.placeRegion,city:this.outreachActivity.city,undergraduateStudents:this.outreachActivity.undergraduateStudents?1:0,primaryEducationStudents:this.outreachActivity.primaryEducationStudents?1:0,secondaryEducationStudents:this.outreachActivity.secondaryEducationStudents?1:0,generalCommunity:this.outreachActivity.generalCommunity?1:0,companiesIndustriesServices:this.outreachActivity.companiesIndustriesServices?1:0,schoolTeachers:this.outreachActivity.schoolTeachers?1:0,governmentOfficial:this.outreachActivity.governmentOfficial?1:0,other:this.outreachActivity.other?1:0,researcherInvolved:s,responsability:this.outreachActivity.responsability,comments:this.outreachActivity.comments,progressReport:this.outreachActivity.progressReport};A.post("api/outreachActivities",a,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{this.toast.success("Draft saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response?c.response.status===422?this.toast.warning(`Validation error: ${c.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):c.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${c.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):c.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${c.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async createActivity(){this.errors=[];const e=["undergraduateStudents","primaryEducationStudents","secondaryEducationStudents","generalCommunity","companiesIndustriesServices","schoolTeachers","governmentOfficial","other","comments"];for(const l in this.outreachActivity)(this.outreachActivity[l]===""||this.outreachActivity[l]===0||this.outreachActivity[l]==null||this.outreachActivity[l]==[])&&(e.includes(l)||this.errors.push(l));this.outreachActivity.activityType=="Other"&&this.other==""&&this.errors.push("other"),["undergraduateStudents","primaryEducationStudents","secondaryEducationStudents","generalCommunity","companiesIndustriesServices","schoolTeachers","governmentOfficial","other"].some(l=>this.outreachActivity[l])||this.errors.push("target audiencies");var $=await A.post("../api/verifyOutreach",this.outreachActivity).then((function(l){return l.data}).bind(this)).catch(function(l){console.log(l)});$>0&&this.errors.push("duplicated");var r="";if(this.errors.length!=0&&(this.errors.forEach(l=>{l=="activityType"?r=r+`The field Activity Type is required
`:l=="activityName"?r=r+`The field Activity Name is required
`:l=="activityDescription"?r=r+`The field Activity Description is required
`:l=="attendantsAmount"?r=r+`The field Attendants Amount is required
`:l=="placeRegion"?r=r+`The field Place/Region is required
`:l=="researcherInvolved"?r=r+`The field Researcher Involved is required
`:l=="duplicated"?r=r+`There is already a post with the same data, please try again.
`:r=r+"The field "+this.capitalizeFirstLetter(l)+` is required
`}),this.toast.warning(r,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Save Outreach Activity",message:"¿Are you sure you want to save this Outreach Activity?.",okButton:"Save",cancelButton:"Return"})){var a="";this.outreachActivity.researcherInvolved!==null&&this.outreachActivity.researcherInvolved.length!==0&&this.outreachActivity.researcherInvolved.forEach((n,f)=>{a+=n.name,f===this.outreachActivity.researcherInvolved.length-1?a+=".":a+=", "});var c="",m=0;this.outreachActivity.activityType=="Other"?(c=this.other,m=1):c=this.outreachActivity.activityType;var b="";this.idResearcher!=""?b=this.idResearcher:b=this.userID;let o={status:"Finished",idUsuario:b,activityType:c,otherType:m,activityName:this.outreachActivity.activityName,activityDescription:this.outreachActivity.activityDescription,date:this.outreachActivity.date,attendantsAmount:this.outreachActivity.attendantsAmount,duration:this.outreachActivity.duration,country:this.outreachActivity.country,placeRegion:this.outreachActivity.placeRegion,city:this.outreachActivity.city,undergraduateStudents:this.outreachActivity.undergraduateStudents?1:0,primaryEducationStudents:this.outreachActivity.primaryEducationStudents?1:0,secondaryEducationStudents:this.outreachActivity.secondaryEducationStudents?1:0,generalCommunity:this.outreachActivity.generalCommunity?1:0,companiesIndustriesServices:this.outreachActivity.companiesIndustriesServices?1:0,schoolTeachers:this.outreachActivity.schoolTeachers?1:0,governmentOfficial:this.outreachActivity.governmentOfficial?1:0,other:this.outreachActivity.other?1:0,researcherInvolved:a,responsability:this.outreachActivity.responsability,comments:this.outreachActivity.comments,progressReport:this.outreachActivity.progressReport};A.post("api/outreachActivities",o,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.toast.success("Outreach activity saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response?n.response.status===422?this.toast.warning(`Validation error: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},j={name:"modal"},G={class:"modal-mask"},Y={class:"modal-wrapper"},z={class:"modal-container"},W={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},X={for:""},J=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),K=[J],Q={key:0,class:"col-5 m-0"},Z={class:"fw-normal",style:{"font-size":"14px"}},x=t("option",{disabled:"",value:""},"Select a researcher",-1),tt=["value"],et={class:"modal-body"},st={class:"row"},ot={class:"col-md-6"},it=t("label",{for:""},"AC3E researcher involved:",-1),rt=t("label",{for:"",style:{color:"orange"}},"*",-1),at={class:"col-md-3"},nt=t("label",{for:""},"Activity Name:",-1),ct=t("label",{for:"",style:{color:"orange"}},"*",-1),lt=t("br",null,null,-1),ut={class:"col-md-3"},dt=t("label",{for:""},"Activity Description:",-1),ht=t("label",{for:"",style:{color:"orange"}},"*",-1),vt=t("br",null,null,-1),yt=t("br",null,null,-1),pt={class:"row"},mt={class:"col-md-3"},ft=t("label",{for:""},"Activity Type:",-1),gt=t("label",{for:"",style:{color:"orange"}},"*",-1),bt=t("option",{disabled:"",value:""},"Select a type",-1),At=t("option",{value:"Conference"},"Conference",-1),_t=t("option",{value:"Seminar"},"Seminar",-1),$t=t("option",{value:"Forum"},"Forum",-1),Ot=t("option",{value:"Exhibition"},"Exhibition",-1),kt=t("option",{value:"Workshop"},"Workshop",-1),Ct=t("option",{value:"Competition"},"Competition",-1),St=t("option",{value:"Course"},"Course",-1),wt=t("option",{value:"Outreach Material"},"Outreach Material",-1),Tt=t("option",{value:"Other"},"Other",-1),Bt=[bt,At,_t,$t,Ot,kt,Ct,St,wt,Tt],Rt={key:0,class:"col-md-3"},Pt=t("label",{for:""},"Other:",-1),Et=t("label",{for:"",style:{color:"orange"}},"*",-1),Vt=t("br",null,null,-1),Dt={class:"col-md-3"},Ut=t("label",{for:""},"Duration (Days):",-1),Ht=t("label",{for:"",style:{color:"orange"}},"*",-1),Ft=t("br",null,null,-1),It={class:"col-md-3"},Nt=t("label",{for:""},"Country:",-1),Lt=t("label",{for:"",style:{color:"orange"}},"*",-1),Mt=t("br",null,null,-1),qt=t("br",null,null,-1),jt={class:"row"},Gt={class:"col-md-3"},Yt=t("label",{for:""},"Date:",-1),zt=t("label",{for:"",style:{color:"orange"}},"*",-1),Wt=t("br",null,null,-1),Xt={class:"col-md-3"},Jt=t("label",{for:""},"Attendants Amount:",-1),Kt=t("label",{for:"",style:{color:"orange"}},"*",-1),Qt=t("br",null,null,-1),Zt={class:"col-md-3"},xt=t("label",{for:""},"Place/Region:",-1),te=t("label",{for:"",style:{color:"orange"}},"*",-1),ee=t("br",null,null,-1),se={class:"col-md-3"},oe=t("label",{for:""},"City:",-1),ie=t("label",{for:"",style:{color:"orange"}},"*",-1),re=t("br",null,null,-1),ae=t("br",null,null,-1),ne={class:"row"},ce={class:"col-md-6"},le=t("label",{for:""},"Responsability:",-1),ue=t("label",{for:"",style:{color:"orange"}},"*",-1),de=t("br",null,null,-1),he={class:"col-md-6"},ve=t("label",{for:""},"Comments:",-1),ye=t("br",null,null,-1),pe=t("br",null,null,-1),me=t("hr",{size:"3",class:"separador"},null,-1),fe={class:"row"},ge=t("div",{class:"text-uppercase pb-2"},[d("Target Audiences:"),t("label",{for:"",style:{color:"orange"}},"*")],-1),be={class:"col-md-4"},Ae={class:"form-check pt-2"},_e={class:"form-check-label"},$e={class:"col-md-4"},Oe={class:"form-check pt-2"},ke={class:"form-check-label"},Ce={class:"col-md-4"},Se={class:"form-check pt-2"},we={class:"form-check-label"},Te={class:"row"},Be={class:"col-md-4"},Re={class:"form-check pt-2"},Pe={class:"form-check-label"},Ee={class:"col-md-4"},Ve={class:"form-check pt-2"},De={class:"form-check-label"},Ue={class:"col-md-4"},He={class:"form-check pt-2"},Fe={class:"form-check-label"},Ie={class:"row"},Ne={class:"col-md-4"},Le={class:"form-check pt-2"},Me={class:"form-check-label"},qe={class:"col-md-4"},je={class:"form-check pt-2"},Ge={class:"form-check-label"},Ye={class:"modal-footer"},ze={class:"form-check-label"},We=["disabled"],Xe=["disabled"];function Je(e,s,y,$,r,a){const c=_("Multiselect"),m=_("modalconfirmacion"),b=_("modalalerta"),l=_("modalProgressYear");return u(),C(I,{name:"modalcrear"},{default:F(()=>[t("div",j,[t("div",G,[t("div",Y,[t("div",z,[t("div",W,[S(e.$slots,"header",{},()=>[d(" New Outreach Activity ")]),t("label",X,[d("Progress year: "+g(e.outreachActivity.progressReport)+"    ",1),t("a",{class:"btn",onClick:s[0]||(s[0]=o=>e.showModalProgress=!0)},K)]),e.is("Administrator")?(u(),h("label",Q,[d(" Researcher: "),t("label",Z,[i(t("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>e.idResearcher=o)},[x,(u(!0),h(P,null,E(e.usuarios,o=>(u(),h("option",{key:o.id,value:o.id},g(o.name),9,tt))),128))],512),[[w,e.idResearcher]])])])):O("",!0),t("a",{class:"btn btn-closed",onClick:s[2]||(s[2]=o=>e.$emit("close")),ref:"closeBtn"},"X",512)]),t("div",et,[S(e.$slots,"body",{},()=>[t("div",st,[t("div",ot,[it,rt,k(c,{placeholder:"Select the researchers",modelValue:e.outreachActivity.researcherInvolved,"onUpdate:modelValue":s[3]||(s[3]=o=>e.outreachActivity.researcherInvolved=o),searchable:!0,"close-on-select":!1,createTag:!0,options:e.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),t("div",at,[nt,ct,lt,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>e.outreachActivity.activityName=o)},null,512),[[v,e.outreachActivity.activityName]])]),t("div",ut,[dt,ht,vt,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>e.outreachActivity.activityDescription=o)},null,512),[[v,e.outreachActivity.activityDescription]])])]),yt,t("div",pt,[t("div",mt,[ft,gt,i(t("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=o=>e.outreachActivity.activityType=o)},Bt,512),[[w,e.outreachActivity.activityType]])]),e.outreachActivity.activityType=="Other"?(u(),h("div",Rt,[Pt,Et,Vt,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>e.other=o)},null,512),[[v,e.other]])])):O("",!0),t("div",Dt,[Ut,Ht,Ft,i(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=o=>e.outreachActivity.duration=o)},null,512),[[v,e.outreachActivity.duration]])]),t("div",It,[Nt,Lt,Mt,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=o=>e.outreachActivity.country=o)},null,512),[[v,e.outreachActivity.country]])])]),qt,t("div",jt,[t("div",Gt,[Yt,zt,Wt,i(t("input",{type:"date",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=o=>e.outreachActivity.date=o)},null,512),[[v,e.outreachActivity.date]])]),t("div",Xt,[Jt,Kt,Qt,i(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=o=>e.outreachActivity.attendantsAmount=o)},null,512),[[v,e.outreachActivity.attendantsAmount]])]),t("div",Zt,[xt,te,ee,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>e.outreachActivity.placeRegion=o)},null,512),[[v,e.outreachActivity.placeRegion]])]),t("div",se,[oe,ie,re,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>e.outreachActivity.city=o)},null,512),[[v,e.outreachActivity.city]])])]),ae,t("div",ne,[t("div",ce,[le,ue,de,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=o=>e.outreachActivity.responsability=o)},null,512),[[v,e.outreachActivity.responsability]])]),t("div",he,[ve,ye,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>e.outreachActivity.comments=o)},null,512),[[v,e.outreachActivity.comments]])])]),pe,me,t("div",fe,[ge,t("div",be,[t("div",Ae,[t("label",_e,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=o=>e.outreachActivity.undergraduateStudents=o)},null,512),[[p,e.outreachActivity.undergraduateStudents]]),d(" Undergraduate students")])])]),t("div",$e,[t("div",Oe,[t("label",ke,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[17]||(s[17]=o=>e.outreachActivity.primaryEducationStudents=o)},null,512),[[p,e.outreachActivity.primaryEducationStudents]]),d(" Primary education students")])])]),t("div",Ce,[t("div",Se,[t("label",we,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=o=>e.outreachActivity.secondaryEducationStudents=o)},null,512),[[p,e.outreachActivity.secondaryEducationStudents]]),d(" Secondary education students")])])])]),t("div",Te,[t("div",Be,[t("div",Re,[t("label",Pe,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[19]||(s[19]=o=>e.outreachActivity.generalCommunity=o)},null,512),[[p,e.outreachActivity.generalCommunity]]),d(" General community")])])]),t("div",Ee,[t("div",Ve,[t("label",De,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[20]||(s[20]=o=>e.outreachActivity.companiesIndustriesServices=o)},null,512),[[p,e.outreachActivity.companiesIndustriesServices]]),d(" Companies,industries,services ")])])]),t("div",Ue,[t("div",He,[t("label",Fe,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[21]||(s[21]=o=>e.outreachActivity.schoolTeachers=o)},null,512),[[p,e.outreachActivity.schoolTeachers]]),d(" School teachers ")])])])]),t("div",Ie,[t("div",Ne,[t("div",Le,[t("label",Me,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[22]||(s[22]=o=>e.outreachActivity.governmentOfficial=o)},null,512),[[p,e.outreachActivity.governmentOfficial]]),d(" Government official ")])])]),t("div",qe,[t("div",je,[t("label",Ge,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[23]||(s[23]=o=>e.outreachActivity.other=o)},null,512),[[p,e.outreachActivity.other]]),d(" Other ")])])])])])]),t("div",Ye,[S(e.$slots,"footer",{},()=>[t("label",ze,[i(t("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":s[24]||(s[24]=o=>e.draft=o)},null,512),[[p,e.draft]]),d(" Save as a draft")]),e.draft==!1?(u(),h("a",{key:0,class:"btn btn-continue float-end",onClick:s[25]||(s[25]=o=>a.createActivity()),disabled:e.buttonDisable},g(e.buttonText),9,We)):(u(),h("a",{key:1,class:"btn btn-continue float-end",onClick:s[26]||(s[26]=o=>a.guardarBorrador()),disabled:e.buttonDisable}," Save draft ",8,Xe))])]),k(m,{ref:"confirmation"},null,512),k(b,{ref:"alert"},null,512),e.showModalProgress?(u(),C(l,{key:0,progressYear:e.outreachActivity.progressReport,onClose:s[27]||(s[27]=o=>e.showModalProgress=!1),onSubmit:a.handleFormSubmit1},null,8,["progressYear","onSubmit"])):O("",!0)])])])])]),_:3})}const Ke=V(q,[["render",Je]]),Qe={components:{modalProgressYear:U,Multiselect:H,modalconfirmacion:B,modalalerta:R},mixins:[T],data:()=>({outreachActivity:{activityType:"",activityName:"",activityDescription:"",date:"",attendantsAmount:"",duration:"",country:"",placeRegion:"",city:"",undergraduateStudents:!1,primaryEducationStudents:!1,secondaryEducationStudents:!1,generalCommunity:!1,companiesIndustriesServices:!1,schoolTeachers:!1,governmentOfficial:!1,other:!1,progressReport:""},id:"",other:"",draft:!1,showModalProgress:!1,researchers:"",usuarios:[],idResearcher:"",buttonDisable:!1,errors:[],buttonText:"Edit Activity"}),mounted(){this.getUsuarios(),this.getUsuarios2()},props:{activity1:Object},created(){if(this.id=this.activity1.id,this.idResearcher=this.activity1.idUsuario,this.outreachActivity.activityType=this.activity1.activityType,this.outreachActivity.activityName=this.activity1.activityName,this.outreachActivity.activityDescription=this.activity1.activityDescription,this.outreachActivity.date=this.activity1.date,this.outreachActivity.attendantsAmount=this.activity1.attendantsAmount,this.outreachActivity.duration=this.activity1.duration,this.outreachActivity.country=this.activity1.country,this.outreachActivity.placeRegion=this.activity1.placeRegion,this.outreachActivity.city=this.activity1.city,this.outreachActivity.undergraduateStudents=this.activity1.undergraduateStudents===1,this.outreachActivity.primaryEducationStudents=this.activity1.primaryEducationStudents===1,this.outreachActivity.secondaryEducationStudents=this.activity1.secondaryEducationStudents===1,this.outreachActivity.generalCommunity=this.activity1.generalCommunity===1,this.outreachActivity.companiesIndustriesServices=this.activity1.companiesIndustriesServices===1,this.outreachActivity.schoolTeachers=this.activity1.schoolTeachers===1,this.outreachActivity.governmentOfficial=this.activity1.governmentOfficial===1,this.outreachActivity.other=this.activity1.other===1,this.outreachActivity.progressReport=this.activity1.progressReport,this.outreachActivity.responsability=this.activity1.responsability,this.outreachActivity.comments=this.activity1.comments,this.activity1.researcherInvolved!=null){const e=this.activity1.researcherInvolved.split(",");this.outreachActivity.researcherInvolved=e.map((s,y)=>(s=s.trim(),s.endsWith(".")&&(s=s.slice(0,-1)),{value:s,name:s}))}this.activity1.otherType==!0?(this.outreachActivity.activityType="Other",this.other=this.activity1.activityType):this.outreachActivity.activityType=this.activity1.activityType},methods:{handleFormSubmit1(e){this.outreachActivity.progressReport=e},getUsuarios(){A.get("api/researchers").then(e=>{this.researchers=e.data}).catch(e=>console.log(e))},getUsuarios2(){A.get("api/usuarios").then(e=>{this.usuarios=e.data.sort((s,y)=>s.name.localeCompare(y.name))}).catch(e=>console.log(e))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(e){this.participationSc.file=e.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Edit draft",message:"¿Are you sure you want to edit this Outreach Activity as a draft? this action cannot be undone.",okButton:"Edit",cancelButton:"Return"})){var s="";this.outreachActivity.researcherInvolved!==null&&this.outreachActivity.researcherInvolved.length!==0&&this.outreachActivity.researcherInvolved.forEach((c,m)=>{s+=c.name,m===this.outreachActivity.researcherInvolved.length-1?s+=".":s+=", "});var y="",$=0;this.outreachActivity.activityType=="Other"?(y=this.other,$=1):y=this.outreachActivity.activityType;var r="";this.idResearcher!=""?r=this.idResearcher:r=this.userID;let a={idUsuario:r,status:"Draft",activityType:y,otherType:$,activityName:this.outreachActivity.activityName,activityDescription:this.outreachActivity.activityDescription,date:this.outreachActivity.date,attendantsAmount:this.outreachActivity.attendantsAmount,duration:this.outreachActivity.duration,country:this.outreachActivity.country,placeRegion:this.outreachActivity.placeRegion,city:this.outreachActivity.city,undergraduateStudents:this.outreachActivity.undergraduateStudents?1:0,primaryEducationStudents:this.outreachActivity.primaryEducationStudents?1:0,secondaryEducationStudents:this.outreachActivity.secondaryEducationStudents?1:0,generalCommunity:this.outreachActivity.generalCommunity?1:0,companiesIndustriesServices:this.outreachActivity.companiesIndustriesServices?1:0,schoolTeachers:this.outreachActivity.schoolTeachers?1:0,governmentOfficial:this.outreachActivity.governmentOfficial?1:0,other:this.outreachActivity.other?1:0,researcherInvolved:s,responsability:this.outreachActivity.responsability,comments:this.outreachActivity.comments,progressReport:this.outreachActivity.progressReport};A.put(`api/outreachActivities/${this.id}`,a).then(c=>{this.toast.success("Outreach activity edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response?c.response.status===422?this.toast.warning(`Validation error: ${c.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):c.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${c.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):c.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${c.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async createActivity(){this.errors=[];const e=["undergraduateStudents","primaryEducationStudents","secondaryEducationStudents","generalCommunity","companiesIndustriesServices","schoolTeachers","governmentOfficial","other","comments"];for(const o in this.outreachActivity)(this.outreachActivity[o]===""||this.outreachActivity[o]===0||this.outreachActivity[o]==null||this.outreachActivity[o]==[])&&(e.includes(o)||this.errors.push(o));["undergraduateStudents","primaryEducationStudents","secondaryEducationStudents","generalCommunity","companiesIndustriesServices","schoolTeachers","governmentOfficial","other"].some(o=>this.outreachActivity[o])||this.errors.push("target audiencies"),this.outreachActivity.activityType=="Other"&&this.other==""&&this.errors.push("other");let $={id:this.id,activityType:m,otherType:b,activityName:this.outreachActivity.activityName,activityDescription:this.outreachActivity.activityDescription,date:this.outreachActivity.date,attendantsAmount:this.outreachActivity.attendantsAmount,duration:this.outreachActivity.duration,country:this.outreachActivity.country,placeRegion:this.outreachActivity.placeRegion,city:this.outreachActivity.city,undergraduateStudents:this.outreachActivity.undergraduateStudents?1:0,primaryEducationStudents:this.outreachActivity.primaryEducationStudents?1:0,secondaryEducationStudents:this.outreachActivity.secondaryEducationStudents?1:0,generalCommunity:this.outreachActivity.generalCommunity?1:0,companiesIndustriesServices:this.outreachActivity.companiesIndustriesServices?1:0,schoolTeachers:this.outreachActivity.schoolTeachers?1:0,governmentOfficial:this.outreachActivity.governmentOfficial?1:0,other:this.outreachActivity.other?1:0,researcherInvolved:c,responsability:this.outreachActivity.responsability,comments:this.outreachActivity.comments,progressReport:this.outreachActivity.progressReport};var r=await A.post("../api/verifyOutreach",$).then((function(o){return o.data}).bind(this)).catch(function(o){console.log(o)});r>0&&this.errors.push("duplicated");var a="";if(this.errors.length!=0&&(this.errors.forEach(o=>{o=="activityType"?a=a+`The field Activity Type is required
`:o=="activityName"?a=a+`The field Activity Name is required
`:o=="activityDescription"?a=a+`The field Activity Description is required
`:o=="attendantsAmount"?a=a+`The field Attendants Amount is required
`:o=="placeRegion"?a=a+`The field Place/Region is required
`:o=="duplicated"?a=a+`There is already a post with the same data, please try again.
`:a=a+"The field "+this.capitalizeFirstLetter(o)+` is required
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Outreach Activity",message:"¿Are you sure you want to edit this Outreach Activity?.",okButton:"Edit",cancelButton:"Return"})){var c="";this.outreachActivity.researcherInvolved!==null&&this.outreachActivity.researcherInvolved.length!==0&&this.outreachActivity.researcherInvolved.forEach((f,N)=>{c+=f.name,N===this.outreachActivity.researcherInvolved.length-1?c+=".":c+=", "});var m="",b=0;this.outreachActivity.activityType=="Other"?(m=this.other,b=1):m=this.outreachActivity.activityType;var l="";this.idResearcher!=""?l=this.idResearcher:l=this.userID;let n={idUsuario:l,status:"Finished",activityType:m,otherType:b,activityName:this.outreachActivity.activityName,activityDescription:this.outreachActivity.activityDescription,date:this.outreachActivity.date,attendantsAmount:this.outreachActivity.attendantsAmount,duration:this.outreachActivity.duration,country:this.outreachActivity.country,placeRegion:this.outreachActivity.placeRegion,city:this.outreachActivity.city,undergraduateStudents:this.outreachActivity.undergraduateStudents,primaryEducationStudents:this.outreachActivity.primaryEducationStudents,secondaryEducationStudents:this.outreachActivity.secondaryEducationStudents,generalCommunity:this.outreachActivity.generalCommunity,companiesIndustriesServices:this.outreachActivity.companiesIndustriesServices,schoolTeachers:this.outreachActivity.schoolTeachers,governmentOfficial:this.outreachActivity.governmentOfficial,other:this.outreachActivity.other,researcherInvolved:c,responsability:this.outreachActivity.responsability,comments:this.outreachActivity.comments,progressReport:this.outreachActivity.progressReport};A.put(`api/outreachActivities/${this.id}`,n).then(f=>{this.toast.success("Outreach activity edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(f=>{f.response?f.response.status===422?this.toast.warning(`Validation error: ${f.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):f.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${f.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):f.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${f.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},Ze={name:"modal"},xe={class:"modal-mask"},ts={class:"modal-wrapper"},es={class:"modal-container"},ss={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},os={for:""},is=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),rs=[is],as={key:0,class:"col-5 m-0"},ns={class:"fw-normal",style:{"font-size":"14px"}},cs=t("option",{disabled:"",value:""},"Select a researcher",-1),ls=["value"],us={class:"modal-body"},ds={class:"row"},hs={class:"col-md-6"},vs=t("label",{for:""},"Researcher Involved:",-1),ys=t("label",{for:"",style:{color:"orange"}},"*",-1),ps={class:"col-md-3"},ms=t("label",{for:""},"Activity Name:",-1),fs=t("label",{for:"",style:{color:"orange"}},"*",-1),gs=t("br",null,null,-1),bs={class:"col-md-3"},As=t("label",{for:""},"Activity Description:",-1),_s=t("label",{for:"",style:{color:"orange"}},"*",-1),$s=t("br",null,null,-1),Os=t("br",null,null,-1),ks={class:"row"},Cs={class:"col-md-3"},Ss=t("label",{for:""},"Activity Type:",-1),ws=t("label",{for:"",style:{color:"orange"}},"*",-1),Ts=t("option",{disabled:"",value:""},"Select a type",-1),Bs=t("option",{value:"Conference"},"Conference",-1),Rs=t("option",{value:"Seminar"},"Seminar",-1),Ps=t("option",{value:"Forum"},"Forum",-1),Es=t("option",{value:"Exhibition"},"Exhibition",-1),Vs=t("option",{value:"Workshop"},"Workshop",-1),Ds=t("option",{value:"Competition"},"Competition",-1),Us=t("option",{value:"Course"},"Course",-1),Hs=t("option",{value:"Outreach Material"},"Outreach Material",-1),Fs=t("option",{value:"Other"},"Other",-1),Is=[Ts,Bs,Rs,Ps,Es,Vs,Ds,Us,Hs,Fs],Ns={key:0,class:"col-3"},Ls=t("label",{for:""},"Other:",-1),Ms=t("label",{for:"",style:{color:"orange"}},"*",-1),qs=t("br",null,null,-1),js={class:"col-md-3"},Gs=t("label",{for:""},"Duration (Days):",-1),Ys=t("label",{for:"",style:{color:"orange"}},"*",-1),zs=t("br",null,null,-1),Ws={class:"col-md-3"},Xs=t("label",{for:""},"Country:",-1),Js=t("label",{for:"",style:{color:"orange"}},"*",-1),Ks=t("br",null,null,-1),Qs=t("br",null,null,-1),Zs={class:"row"},xs={class:"col-md-3"},to=t("label",{for:""},"Date:",-1),eo=t("label",{for:"",style:{color:"orange"}},"*",-1),so=t("br",null,null,-1),oo={class:"col-md-3"},io=t("label",{for:""},"Attendants Amount:",-1),ro=t("label",{for:"",style:{color:"orange"}},"*",-1),ao=t("br",null,null,-1),no={class:"col-md-3"},co=t("label",{for:""},"Place/Region:",-1),lo=t("label",{for:"",style:{color:"orange"}},"*",-1),uo=t("br",null,null,-1),ho={class:"col-md-3"},vo=t("label",{for:""},"City:",-1),yo=t("label",{for:"",style:{color:"orange"}},"*",-1),po=t("br",null,null,-1),mo=t("br",null,null,-1),fo={class:"row"},go={class:"col-md-6"},bo=t("label",{for:""},"Responsability:",-1),Ao=t("label",{for:"",style:{color:"orange"}},"*",-1),_o=t("br",null,null,-1),$o={class:"col-md-6"},Oo=t("label",{for:""},"Comments:",-1),ko=t("br",null,null,-1),Co=t("br",null,null,-1),So=t("hr",{size:"3",class:"separador"},null,-1),wo={class:"row"},To=t("div",{class:"text-uppercase pb-2"},[d("Target Audiences:"),t("label",{for:"",style:{color:"orange"}},"*")],-1),Bo={class:"col-md-4"},Ro={class:"form-check pt-2"},Po={class:"form-check-label"},Eo={class:"col-md-4"},Vo={class:"form-check pt-2"},Do={class:"form-check-label"},Uo={class:"col-md-4"},Ho={class:"form-check pt-2"},Fo={class:"form-check-label"},Io={class:"row"},No={class:"col-md-4"},Lo={class:"form-check pt-2"},Mo={class:"form-check-label"},qo={class:"col-md-4"},jo={class:"form-check pt-2"},Go={class:"form-check-label"},Yo={class:"col-md-4"},zo={class:"form-check pt-2"},Wo={class:"form-check-label"},Xo={class:"row"},Jo={class:"col-md-4"},Ko={class:"form-check pt-2"},Qo={class:"form-check-label"},Zo={class:"col-md-4"},xo={class:"form-check pt-2"},ti={class:"form-check-label"},ei={class:"modal-footer"},si={class:"form-check-label"},oi=["disabled"],ii=["disabled"];function ri(e,s,y,$,r,a){const c=_("Multiselect"),m=_("modalconfirmacion"),b=_("modalalerta"),l=_("modalProgressYear");return u(),C(I,{name:"modalcrear"},{default:F(()=>[t("div",Ze,[t("div",xe,[t("div",ts,[t("div",es,[t("div",ss,[S(e.$slots,"header",{},()=>[d(" Edit Outreach Activity ")]),t("label",os,[d("Progress year: "+g(e.outreachActivity.progressReport)+"    ",1),t("a",{class:"btn",onClick:s[0]||(s[0]=o=>e.showModalProgress=!0)},rs)]),e.is("Administrator")?(u(),h("label",as,[d(" Researcher: "),t("label",ns,[i(t("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>e.idResearcher=o)},[cs,(u(!0),h(P,null,E(e.usuarios,o=>(u(),h("option",{key:o.id,value:o.id},g(o.name),9,ls))),128))],512),[[w,e.idResearcher]])])])):O("",!0),t("a",{class:"btn btn-closed",onClick:s[2]||(s[2]=o=>e.$emit("close")),ref:"closeBtn"},"X",512)]),t("div",us,[S(e.$slots,"body",{},()=>[t("div",ds,[t("div",hs,[vs,ys,k(c,{placeholder:"Select the researchers",modelValue:e.outreachActivity.researcherInvolved,"onUpdate:modelValue":s[3]||(s[3]=o=>e.outreachActivity.researcherInvolved=o),limit:"4",searchable:!0,"close-on-select":!1,createTag:!0,options:e.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),t("div",ps,[ms,fs,gs,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>e.outreachActivity.activityName=o)},null,512),[[v,e.outreachActivity.activityName]])]),t("div",bs,[As,_s,$s,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>e.outreachActivity.activityDescription=o)},null,512),[[v,e.outreachActivity.activityDescription]])])]),Os,t("div",ks,[t("div",Cs,[Ss,ws,i(t("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=o=>e.outreachActivity.activityType=o)},Is,512),[[w,e.outreachActivity.activityType]])]),e.outreachActivity.activityType=="Other"?(u(),h("div",Ns,[Ls,Ms,qs,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>e.other=o)},null,512),[[v,e.other]])])):O("",!0),t("div",js,[Gs,Ys,zs,i(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=o=>e.outreachActivity.duration=o)},null,512),[[v,e.outreachActivity.duration]])]),t("div",Ws,[Xs,Js,Ks,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=o=>e.outreachActivity.country=o)},null,512),[[v,e.outreachActivity.country]])])]),Qs,t("div",Zs,[t("div",xs,[to,eo,so,i(t("input",{type:"date",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=o=>e.outreachActivity.date=o)},null,512),[[v,e.outreachActivity.date]])]),t("div",oo,[io,ro,ao,i(t("input",{type:"number",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=o=>e.outreachActivity.attendantsAmount=o)},null,512),[[v,e.outreachActivity.attendantsAmount]])]),t("div",no,[co,lo,uo,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>e.outreachActivity.placeRegion=o)},null,512),[[v,e.outreachActivity.placeRegion]])]),t("div",ho,[vo,yo,po,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>e.outreachActivity.city=o)},null,512),[[v,e.outreachActivity.city]])])]),mo,t("div",fo,[t("div",go,[bo,Ao,_o,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=o=>e.outreachActivity.responsability=o)},null,512),[[v,e.outreachActivity.responsability]])]),t("div",$o,[Oo,ko,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>e.outreachActivity.comments=o)},null,512),[[v,e.outreachActivity.comments]])])]),Co,So,t("div",wo,[To,t("div",Bo,[t("div",Ro,[t("label",Po,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=o=>e.outreachActivity.undergraduateStudents=o)},null,512),[[p,e.outreachActivity.undergraduateStudents]]),d(" Undergraduate students")])])]),t("div",Eo,[t("div",Vo,[t("label",Do,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[17]||(s[17]=o=>e.outreachActivity.primaryEducationStudents=o)},null,512),[[p,e.outreachActivity.primaryEducationStudents]]),d(" Primary education students")])])]),t("div",Uo,[t("div",Ho,[t("label",Fo,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=o=>e.outreachActivity.secondaryEducationStudents=o)},null,512),[[p,e.outreachActivity.secondaryEducationStudents]]),d(" Secondary education students")])])])]),t("div",Io,[t("div",No,[t("div",Lo,[t("label",Mo,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[19]||(s[19]=o=>e.outreachActivity.generalCommunity=o)},null,512),[[p,e.outreachActivity.generalCommunity]]),d(" General community")])])]),t("div",qo,[t("div",jo,[t("label",Go,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[20]||(s[20]=o=>e.outreachActivity.companiesIndustriesServices=o)},null,512),[[p,e.outreachActivity.companiesIndustriesServices]]),d(" Companies,industries,services ")])])]),t("div",Yo,[t("div",zo,[t("label",Wo,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[21]||(s[21]=o=>e.outreachActivity.schoolTeachers=o)},null,512),[[p,e.outreachActivity.schoolTeachers]]),d(" School teachers ")])])])]),t("div",Xo,[t("div",Jo,[t("div",Ko,[t("label",Qo,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[22]||(s[22]=o=>e.outreachActivity.governmentOfficial=o)},null,512),[[p,e.outreachActivity.governmentOfficial]]),d(" Government official ")])])]),t("div",Zo,[t("div",xo,[t("label",ti,[i(t("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[23]||(s[23]=o=>e.outreachActivity.other=o)},null,512),[[p,e.outreachActivity.other]]),d(" Other ")])])])])])]),t("div",ei,[S(e.$slots,"footer",{},()=>[t("label",si,[i(t("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":s[24]||(s[24]=o=>e.draft=o)},null,512),[[p,e.draft]]),d(" Edit as a draft")]),e.draft==!1?(u(),h("a",{key:0,class:"btn btn-continue float-end",onClick:s[25]||(s[25]=o=>a.createActivity()),disabled:e.buttonDisable},g(e.buttonText),9,oi)):(u(),h("a",{key:1,class:"btn btn-continue float-end",onClick:s[26]||(s[26]=o=>a.guardarBorrador()),disabled:e.buttonDisable}," Edit draft ",8,ii))])]),k(m,{ref:"confirmation"},null,512),k(b,{ref:"alert"},null,512),e.showModalProgress?(u(),C(l,{key:0,progressYear:e.outreachActivity.progressReport,onClose:s[27]||(s[27]=o=>e.showModalProgress=!1),onSubmit:a.handleFormSubmit1},null,8,["progressYear","onSubmit"])):O("",!0)])])])])]),_:3})}const ai=V(Qe,[["render",ri]]),ni={components:{modalver:L,modalcrear:Ke,modaleditar:ai,modalconfirmacion:B,modalalerta:R},mixins:[T],data(){return{outreachActivities:null,outreachActivity:null,showDetailsActivity:!1,showNewOutreach:!1,showEditOutreach:!1,activityEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getOutreachActivities(this.userID)},methods:{verActivity(e){this.outreachActivity=e,this.showDetailsActivity=!0},getOutreachActivities(e){A.get(`api/outreachActivities/${e}`).then(s=>{this.outreachActivities=s.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#myTableOutreach")}).catch(s=>console.log(s))},recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.outreachActivities=null,this.getOutreachActivities(this.userID)):this.crearTabla("#myTableOutreach")},editActivity(e){this.activityEdit=e,this.showEditOutreach=!0},async deleteActivity(e){await this.$refs.confirmation.show({title:"Delete Outreach Activity",message:"¿Are you sure you want to delete this Outreach Activity?.",okButton:"Delete",cancelButton:"Return"})&&A.delete(`api/outreachActivities/${e}`).then(y=>{this.toast.success("Outreach Activity successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(y=>console.log(y))}}},ci={class:"row mt-4 mx-4"},li={class:"col-12"},ui={class:"card mb-4"},di={class:"row pb-0 p-4"},hi={class:"col-12"},vi={class:"d-flex justify-content-end"},yi=t("i",{class:"fa-solid fa-rotate"},null,-1),pi=[yi],mi={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},fi={class:"container"},gi={class:"table-responsive p-0"},bi={class:"loader-sm"},Ai={class:"table align-items-center mb-0",id:"myTableOutreach"},_i=t("thead",null,[t("tr",{style:{color:"black"}},[t("th",{style:{"min-width":"16px"}}),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Activity Type"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Activity Name"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Date"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name of Main Responsible")])],-1),$i=t("td",null,null,-1),Oi={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ki={class:"align-middle text-end"},Ci={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Si=["onClick"],wi=t("i",{class:"fa fa-fw fa-edit"},null,-1),Ti=[wi],Bi=["onClick"],Ri=t("i",{class:"fa-regular fa-eye"},null,-1),Pi=[Ri],Ei=["onClick"],Vi=t("i",{class:"fa fa-fw fa-trash"},null,-1),Di=[Vi],Ui={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#878686"}},Hi={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Fi={class:"text-sm mb-0"},Ii={key:0,class:"text-sm mb-0"},Ni={key:1,class:"text-sm mb-0"},Li={key:0,class:"text-sm mb-0"},Mi={key:1,class:"text-sm mb-0 truncate-text"},qi={key:0,class:"text-sm mb-0"},ji={key:1,class:"text-sm mb-0"},Gi={key:0,class:"text-sm mb-0"},Yi={key:1,class:"text-sm mb-0"},zi=M('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Wi(e,s,y,$,r,a){const c=_("modalconfirmacion"),m=_("modalalerta"),b=_("modalver"),l=_("modaleditar"),o=_("modalcrear");return u(),h("div",ci,[t("div",li,[t("div",ui,[t("div",di,[t("div",hi,[t("div",vi,[t("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=n=>r.showNewOutreach=!0)},"New Activity"),d("   "),t("a",{class:"btn btn-spacing btn-search-blue",onClick:s[1]||(s[1]=n=>a.recargarTabla("General"))},pi)])])]),t("div",mi,[t("div",fi,[t("div",gi,[i(t("div",bi,null,512),[[D,r.mostrarCarga]]),i(t("table",Ai,[_i,t("tbody",null,[(u(!0),h(P,null,E(r.outreachActivities,n=>(u(),h("tr",{key:n.id},[$i,t("td",null,[t("p",Oi,g(n.id),1)]),t("td",ki,[t("div",Ci,[t("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:f=>a.editActivity(n)},Ti,8,Si),d("   "),t("a",{class:"btn btn-success btn-xs",title:"Details",onClick:f=>a.verActivity(n)},Pi,8,Bi),d("   "),t("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:f=>a.deleteActivity(n.id)},Di,8,Ei)])]),t("td",null,[n.status=="Draft"?(u(),h("p",Ui,g(n.status),1)):O("",!0),n.status=="Finished"?(u(),h("p",Hi,g(n.status),1)):O("",!0)]),t("td",null,[t("p",Fi,g(n.usuario.name),1)]),t("td",null,[n.activityType==null||n.activityType==""?(u(),h("p",Ii,"---")):(u(),h("p",Ni,g(n.activityType),1))]),t("td",null,[n.activityName==null?(u(),h("p",Li,"---")):(u(),h("p",Mi,g(n.activityName),1))]),t("td",null,[n.date==null?(u(),h("p",qi,"---")):(u(),h("p",ji,g(n.date),1))]),t("td",null,[n.nameOfTheMainResponsible==null?(u(),h("p",Gi,"---")):(u(),h("p",Yi,g(n.nameOfTheMainResponsible),1))])]))),128))])],512),[[D,r.mostrarTabla]]),zi])])])]),k(c,{ref:"confirmation"},null,512),k(m,{ref:"alert"},null,512),r.showDetailsActivity?(u(),C(b,{key:0,activity1:r.outreachActivity,onClose:s[2]||(s[2]=n=>r.showDetailsActivity=!1)},null,8,["activity1"])):O("",!0),r.showEditOutreach?(u(),C(l,{key:1,activity1:r.activityEdit,onClose:s[3]||(s[3]=n=>r.showEditOutreach=!1),onRecarga:s[4]||(s[4]=n=>a.recargarTabla("General"))},null,8,["activity1"])):O("",!0),r.showNewOutreach?(u(),C(o,{key:2,onClose:s[5]||(s[5]=n=>r.showNewOutreach=!1),onRecarga:s[6]||(s[6]=n=>a.recargarTabla("General"))})):O("",!0)])])}const sr=V(ni,[["render",Wi]]);export{sr as default};
