import{m as R,a as y}from"./mixins-00a35343.js";import{m as q}from"./detailsConjointProjectsModal-6c17dcbe.js";import{m as k,a as B}from"./alertModal-064cb8ca.js";import{m as N,s as H}from"./multiselect-040cdaf8.js";import{r as P,o as c,h as $,i as U,b as e,j as C,g as _,t as b,a as d,w as h,F as S,e as T,l as D,f as v,n as O,k as j,m as F,T as I,v as V,p as L}from"./index-a6b313c0.js";/* empty css                                                         */import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const A={components:{modalProgressYear:N,Multiselect:H,modalconfirmacion:k,modalalerta:B},mixins:[R],data:()=>({conjointProject:{activityName:null,researcherInvolved:null,institutionCollaborates:"",countryOrigin:"",cityOrigin:"",countryDestination:"",cityDestination:"",beginningDate:"",endingDate:"",nameOfExternalResearcher:"",studentOrResearcher:"",collaborationStay:"",comments:"",progressReport:""},other:"",other2:"",draft:!1,showModalProgress:!1,researchers:"",researchers2:"",idResearcher:"",activityNames:["Visit in Chile (include students)","Visit abroad (include students)","Research Stay (Pasantia de investigacion) (include students)","Participation in R&D Projects directed by other Researcher (external)","Participation in R&D Projects directed by an AC3E Researcher","Other"],buttonDisable:!1,errors:[],buttonText:"Save Project"}),mounted(){this.getUsuarios(),this.getUsuarios2(),this.getProgressReport()},methods:{handleFormSubmit1(t){this.conjointProject.progressReport=t},getProgressReport(){y.get("api/showProgressReport").then(t=>{this.conjointProject.progressReport=t.data}).catch(t=>console.log(t))},getUsuarios(){y.get("api/researchers").then(t=>{this.researchers=t.data}).catch(t=>console.log(t))},getUsuarios2(){y.get("api/usuarios").then(t=>{this.researchers2=t.data}).catch(t=>console.log(t))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(t){this.participationSc.file=t.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Save draft",message:"¿Are you sure you want to save this Conjoint Project as a draft? this action cannot be undone.",okButton:"Save",cancelButton:"Return"})){var o="";this.conjointProject.researcherInvolved!==null&&this.conjointProject.researcherInvolved.length!==0&&this.conjointProject.researcherInvolved.forEach((l,g)=>{o+=l.name,g===this.conjointProject.researcherInvolved.length-1?o+=".":o+=", "});var m="",i=0,n="";this.conjointProject.activityName!==null&&this.conjointProject.activityName.length!==0&&this.conjointProject.activityName.forEach((l,g)=>{n+=l.name,g===this.conjointProject.activityName.length-1?n+=".":n+=", "}),this.conjointProject.collaborationStay=="Other"?(m=this.other2,i=1):m=this.conjointProject.collaborationStay;var u="";this.idResearcher!=""?u=this.idResearcher:u=this.userID;let f={idUsuario:u,status:"Draft",moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:o,studentOrResearcher:this.conjointProject.studentOrResearcher,activityName:n,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:m,otherStay:i,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};y.post("api/conjointProjects",f,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{this.toast.success("Draft saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response?l.response.status===422?this.toast.warning(`Validation error: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},async createCollaboration(){this.errors=[];const t=["comments"];for(const r in this.conjointProject)!t.includes(r)&&(this.conjointProject[r]===""||this.conjointProject[r]===0||this.conjointProject[r]==null)&&this.errors.push(r);this.conjointProject.collaborationStay=="Other"&&this.other2==""&&this.errors.push("other2");let o={status:"Finished",idUsuario:g,moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:n,studentOrResearcher:this.conjointProject.studentOrResearcher,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:u,otherStay:f,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};var m=await y.post("../api/verifyConjoint",o).then((function(r){return r.data}).bind(this)).catch(function(r){console.log(r)});m>0&&this.errors.push("duplicated");var i="";if(this.errors.length!=0&&(this.errors.forEach(r=>{r=="activityName"?i=i+`The field Activity Name is required
`:r=="researcherInvolved"?i=i+`The field Researcher Involved is required
`:r=="institutionCollaborates"?i=i+`The field Institution which collaborates is required
`:r=="countryOrigin"?i=i+`The field Country Origin is required
`:r=="cityOrigin"?i=i+`The field City Origin is required
`:r=="countryDestination"?i=i+`The field Country Destination is required
`:r=="cityDestination"?i=i+`The field City Destination is required
`:r=="beginningDate"?i=i+`The field Beginning Date is required
`:r=="endingDate"?i=i+`The field Ending Date is required
`:r=="progressReport"?i=i+`The field Progress Report line is required
`:r=="other"?i=i+`The field Other Activity is required
`:r=="other2"?i=i+`The field Other Stay is required
`:r=="nameOfExternalResearcher"?i=i+`The field Name of external researcher is required
`:r=="studentOrResearcher"?i=i+`The field Student or Researcher is required
`:r=="collaborationStay"?i=i+`The field Collaboration Stay is required
`:r=="duplicated"?i=i+`There is already a post with the same data, please try again.
`:i=i+"The field "+this.capitalizeFirstLetter(r)+` is required
`}),this.toast.warning(i,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Save Project",message:"¿Are you sure you want to save this Conjoint Project?.",okButton:"Save",cancelButton:"Return"})){var n="";this.conjointProject.researcherInvolved!==null&&this.conjointProject.researcherInvolved.length!==0&&this.conjointProject.researcherInvolved.forEach((a,p)=>{n+=a.name,p===this.conjointProject.researcherInvolved.length-1?n+=".":n+=", "});var u="",f=0,l="";this.conjointProject.activityName!==null&&this.conjointProject.activityName.length!==0&&this.conjointProject.activityName.forEach((a,p)=>{l+=a.name,p===this.conjointProject.activityName.length-1?l+=".":l+=", "}),this.conjointProject.collaborationStay=="Other"?(u=this.other2,f=1):u=this.conjointProject.collaborationStay;var g="";this.idResearcher!=""?g=this.idResearcher:g=this.userID;let s={status:"Finished",idUsuario:g,moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:n,studentOrResearcher:this.conjointProject.studentOrResearcher,activityName:l,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:u,otherStay:f,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};console.log(s),y.post("api/conjointProjects",s,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.toast.success("Project saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response?a.response.status===422?this.toast.warning(`Validation error: ${a.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):a.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${a.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):a.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${a.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},M={name:"modal"},x={class:"modal-mask"},Y={class:"modal-wrapper"},z={class:"modal-container"},G={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},W={for:""},X=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),J=[X],K={key:0,class:"col-5 m-0"},Q={class:"fw-normal",style:{"font-size":"14px"}},Z=e("option",{disabled:"",value:""},"Select a researcher",-1),ee=["value"],te={class:"modal-body"},oe={class:"row"},se={class:"col-md-6"},ne=e("label",{for:""},"AC3E researcher involved:",-1),re=e("label",{for:"",style:{color:"orange"}},"*",-1),ie={class:"col-md-3"},ae=e("label",{for:""},"Collaboration Stay:",-1),le=e("label",{for:"",style:{color:"orange"}},"*",-1),ce=e("option",{disabled:"",value:""},"Select a type",-1),ue=e("option",{value:"Short Visit (Up to two weeks)"},"Short Visit (Up to two weeks)",-1),de=e("option",{value:"Long Visit (More than two weeks)"},"Long Visit (More than two weeks)",-1),he=e("option",{value:"Other"},"Other",-1),ge=[ce,ue,de,he],fe={key:0,class:"col-md-3"},je=e("label",{for:""},"Other Stay:",-1),me=e("label",{for:"",style:{color:"orange"}},"*",-1),pe=e("br",null,null,-1),be=e("br",null,null,-1),ye={class:"row"},Pe={class:"col-md-6"},ve=e("label",{for:""},"Activity Name:",-1),_e=e("label",{for:"",style:{color:"orange"}},"*",-1),Oe={class:"col-md-6"},$e=e("label",{for:""},"Institution which the center collaborates:",-1),Ce=e("label",{for:"",style:{color:"orange"}},"*",-1),De=e("br",null,null,-1),we=e("br",null,null,-1),Re={class:"row"},ke={class:"col-md-3"},Be={key:0,for:""},Se={key:1,for:""},Te=e("label",{for:"",style:{color:"orange"}},"*",-1),Ee=e("br",null,null,-1),Ve={class:"col-md-3"},Ne=e("label",{for:""},"Student or Researcher:",-1),He=e("label",{for:"",style:{color:"orange"}},"*",-1),Ue=e("br",null,null,-1),Fe=e("option",{disabled:"",value:""},"Select a type",-1),Ie=e("option",{value:"Student"},"Student",-1),qe=e("option",{value:"Researcher"},"Researcher",-1),Le=[Fe,Ie,qe],Ae={class:"col-md-3"},Me=e("label",{for:""},"Beginning Date:",-1),xe=e("label",{for:"",style:{color:"orange"}},"*",-1),Ye=e("br",null,null,-1),ze={class:"col-md-3"},Ge=e("label",{for:""},"Ending Date:",-1),We=e("label",{for:"",style:{color:"orange"}},"*",-1),Xe=e("br",null,null,-1),Je=e("br",null,null,-1),Ke={class:"row"},Qe={class:"col-md-3"},Ze=e("label",{for:""},"Country Origin:",-1),et=e("label",{for:"",style:{color:"orange"}},"*",-1),tt=e("br",null,null,-1),ot={class:"col-md-3"},st=e("label",{for:""},"City Origin:",-1),nt=e("label",{for:"",style:{color:"orange"}},"*",-1),rt=e("br",null,null,-1),it={class:"col-md-3"},at=e("label",{for:""},"Country Destination:",-1),lt=e("label",{for:"",style:{color:"orange"}},"*",-1),ct=e("br",null,null,-1),ut={class:"col-md-3"},dt=e("label",{for:""},"City Destination:",-1),ht=e("label",{for:"",style:{color:"orange"}},"*",-1),gt=e("br",null,null,-1),ft=e("br",null,null,-1),jt={class:"row"},mt={class:"col-md-6"},pt=e("label",{for:""},"Comments:",-1),bt=e("br",null,null,-1),yt={class:"modal-footer"},Pt={class:"form-check-label"},vt=["disabled"],_t=["disabled"];function Ot(t,o,m,i,n,u){const f=P("Multiselect"),l=P("modalconfirmacion"),g=P("modalalerta"),r=P("modalProgressYear");return c(),$(I,{name:"modalcrear"},{default:U(()=>[e("div",M,[e("div",x,[e("div",Y,[e("div",z,[e("div",G,[C(t.$slots,"header",{},()=>[_(" New Conjoint Project ")]),e("label",W,[_("Progress year: "+b(t.conjointProject.progressReport)+"    ",1),e("a",{class:"btn",onClick:o[0]||(o[0]=s=>t.showModalProgress=!0)},J)]),t.is("Administrator")?(c(),d("label",K,[_(" Researcher: "),e("label",Q,[h(e("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.idResearcher=s)},[Z,(c(!0),d(S,null,T(t.researchers2,s=>(c(),d("option",{key:s.id,value:s.id},b(s.name),9,ee))),128))],512),[[D,t.idResearcher]])])])):v("",!0),e("a",{class:"btn btn-closed",onClick:o[2]||(o[2]=s=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",te,[C(t.$slots,"body",{},()=>[e("div",oe,[e("div",se,[ne,re,O(f,{placeholder:"Select the participants",modelValue:t.conjointProject.researcherInvolved,"onUpdate:modelValue":o[3]||(o[3]=s=>t.conjointProject.researcherInvolved=s),searchable:!0,"close-on-select":!1,createTag:!0,options:t.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),e("div",ie,[ae,le,h(e("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=s=>t.conjointProject.collaborationStay=s)},ge,512),[[D,t.conjointProject.collaborationStay]])]),t.conjointProject.collaborationStay=="Other"?(c(),d("div",fe,[je,me,pe,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.other2=s)},null,512),[[j,t.other2]])])):v("",!0)]),be,e("div",ye,[e("div",Pe,[ve,_e,O(f,{placeholder:"Select the options",modelValue:t.conjointProject.activityName,"onUpdate:modelValue":o[6]||(o[6]=s=>t.conjointProject.activityName=s),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:t.activityNames,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),e("div",Oe,[$e,Ce,De,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=s=>t.conjointProject.institutionCollaborates=s)},null,512),[[j,t.conjointProject.institutionCollaborates]])])]),we,e("div",Re,[e("div",ke,[t.conjointProject.studentOrResearcher=="Researcher"?(c(),d("label",Be,"Name of external researcher:")):(c(),d("label",Se,"Name of external person:")),Te,Ee,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=s=>t.conjointProject.nameOfExternalResearcher=s)},null,512),[[j,t.conjointProject.nameOfExternalResearcher]])]),e("div",Ve,[Ne,He,Ue,h(e("select",{class:"form-select","onUpdate:modelValue":o[9]||(o[9]=s=>t.conjointProject.studentOrResearcher=s)},Le,512),[[D,t.conjointProject.studentOrResearcher]])]),e("div",Ae,[Me,xe,Ye,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=s=>t.conjointProject.beginningDate=s)},null,512),[[j,t.conjointProject.beginningDate]])]),e("div",ze,[Ge,We,Xe,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=s=>t.conjointProject.endingDate=s)},null,512),[[j,t.conjointProject.endingDate]])])]),Je,e("div",Ke,[e("div",Qe,[Ze,et,tt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=s=>t.conjointProject.countryOrigin=s)},null,512),[[j,t.conjointProject.countryOrigin]])]),e("div",ot,[st,nt,rt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=s=>t.conjointProject.cityOrigin=s)},null,512),[[j,t.conjointProject.cityOrigin]])]),e("div",it,[at,lt,ct,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=s=>t.conjointProject.countryDestination=s)},null,512),[[j,t.conjointProject.countryDestination]])]),e("div",ut,[dt,ht,gt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>t.conjointProject.cityDestination=s)},null,512),[[j,t.conjointProject.cityDestination]])])]),ft,e("div",jt,[e("div",mt,[pt,bt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=s=>t.conjointProject.comments=s)},null,512),[[j,t.conjointProject.comments]])])])])]),e("div",yt,[C(t.$slots,"footer",{},()=>[e("label",Pt,[h(e("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":o[17]||(o[17]=s=>t.draft=s)},null,512),[[F,t.draft]]),_(" Save as a draft")]),t.draft==!1?(c(),d("a",{key:0,class:"btn btn-continue float-end",onClick:o[18]||(o[18]=s=>u.createCollaboration()),disabled:t.buttonDisable},b(t.buttonText),9,vt)):(c(),d("a",{key:1,class:"btn btn-continue float-end",onClick:o[19]||(o[19]=s=>u.guardarBorrador()),disabled:t.buttonDisable}," Save draft ",8,_t))])]),O(l,{ref:"confirmation"},null,512),O(g,{ref:"alert"},null,512),t.showModalProgress?(c(),$(r,{key:0,progressYear:t.conjointProject.progressReport,onClose:o[20]||(o[20]=s=>t.showModalProgress=!1),onSubmit:u.handleFormSubmit1},null,8,["progressYear","onSubmit"])):v("",!0)])])])])]),_:3})}const $t=E(A,[["render",Ot]]),Ct={components:{modalProgressYear:N,Multiselect:H,modalconfirmacion:k,modalalerta:B},mixins:[R],data:()=>({conjointProject:{activityName:null,researcherInvolved:null,institutionCollaborates:"",countryOrigin:"",cityOrigin:"",countryDestination:"",cityDestination:"",beginningDate:"",endingDate:"",progressReport:""},id:"",other:"",draft:!1,showModalProgress:!1,researchers:"",researchers2:[],idResearcher:"",buttonDisable:!1,activityNames:["Visit in Chile (include students)","Visit abroad (include students)","Research Stay (Pasantia de investigacion) (include students)","Participation in R&D Projects directed by other Researcher (external)","Participation in R&D Projects directed by an AC3E Researcher","Other"],errors:[],buttonText:"Edit Project"}),mounted(){this.getUsuarios(),this.getUsuarios2()},props:{project1:Object},created(){if(this.id=this.project1.id,this.idResearcher=this.project1.idUsuario,this.conjointProject.activityName=this.project1.activityName,this.conjointProject.institutionCollaborates=this.project1.institutionCollaborates,this.conjointProject.countryOrigin=this.project1.countryOrigin,this.conjointProject.cityOrigin=this.project1.cityOrigin,this.conjointProject.countryDestination=this.project1.countryDestination,this.conjointProject.cityDestination=this.project1.cityDestination,this.conjointProject.beginningDate=this.project1.beginningDate,this.conjointProject.endingDate=this.project1.endingDate,this.conjointProject.nameOfExternalResearcher=this.project1.nameOfExternalResearcher,this.conjointProject.comments=this.project1.comments,this.conjointProject.progressReport=this.project1.progressReport,this.conjointProject.studentOrResearcher=this.project1.studentOrResearcher,this.project1.researcherInvolved!=null){const t=this.project1.researcherInvolved.split(",");this.conjointProject.researcherInvolved=t.map((o,m)=>(o=o.trim(),o.endsWith(".")&&(o=o.slice(0,-1)),{value:o,name:o}))}if(this.project1.activityName!=null){const t=this.project1.activityName.split(",");this.conjointProject.activityName=t.map((o,m)=>(o=o.trim(),o.endsWith(".")&&(o=o.slice(0,-1)),{value:o,name:o}))}this.project1.otherStay==!0?(this.conjointProject.collaborationStay="Other",this.other2=this.project1.collaborationStay):this.conjointProject.collaborationStay=this.project1.collaborationStay},methods:{getUsuarios2(){y.get("api/usuarios").then(t=>{this.researchers2=t.data}).catch(t=>console.log(t))},handleFormSubmit1(t){this.conjointProject.progressReport=t},getUsuarios(){y.get("api/researchers").then(t=>{this.researchers=t.data}).catch(t=>console.log(t))},clearFileInput(){this.$refs.fileInput.value=""},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Edit draft",message:"¿Are you sure you want to edit this Conjoint Project as a draft? this action cannot be undone.",okButton:"Edit",cancelButton:"Return"})){var o="";this.conjointProject.researcherInvolved!==null&&this.conjointProject.researcherInvolved.length!==0&&this.conjointProject.researcherInvolved.forEach((l,g)=>{o+=l.name,g===this.conjointProject.researcherInvolved.length-1?o+=".":o+=", "});var m="",i=0,n="";this.conjointProject.activityName!==null&&this.conjointProject.activityName.length!==0&&this.conjointProject.activityName.forEach((l,g)=>{n+=l.name,g===this.conjointProject.activityName.length-1?n+=".":n+=", "}),this.conjointProject.collaborationStay=="Other"?(m=this.other2,i=1):m=this.conjointProject.collaborationStay;var u="";this.idResearcher!=""?u=this.idResearcher:u=this.userID;let f={idUsuario:u,status:"Draft",moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:o,studentOrResearcher:this.conjointProject.studentOrResearcher,activityName:n,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:m,otherStay:i,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};y.put(`api/conjointProjects/${this.id}`,f).then(l=>{this.toast.success("Draft edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response?l.response.status===422?this.toast.warning(`Validation error: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},async editConjoint(){this.errors=[];const t=["comments"];for(const r in this.conjointProject)!t.includes(r)&&(this.conjointProject[r]===""||this.conjointProject[r]===0||this.conjointProject[r]==null)&&this.errors.push(r);this.conjointProject.collaborationStay=="Other"&&this.other2==""&&this.errors.push("other2");var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID;let m={idUsuario:o,id:this.id,status:"Finished",moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:u,studentOrResearcher:this.conjointProject.studentOrResearcher,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:f,otherStay:l,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};var i=await y.post("../api/verifyConjoint",m).then((function(r){return r.data}).bind(this)).catch(function(r){console.log(r)});i>0&&this.errors.push("duplicated");var n="";if(this.errors.length!=0&&(this.errors.forEach(r=>{r=="activityName"?n=n+`The field Activity Name is required
`:r=="researcherInvolved"?n=n+`The field Researcher Involved is required
`:r=="institutionCollaborates"?n=n+`The field Institution which collaborates is required
`:r=="countryOrigin"?n=n+`The field Country Origin is required
`:r=="cityOrigin"?n=n+`The field City Origin is required
`:r=="countryDestination"?n=n+`The field Country Destination is required
`:r=="cityDestination"?n=n+`The field City Destination is required
`:r=="beginningDate"?n=n+`The field Beginning Date is required
`:r=="endingDate"?n=n+`The field Ending Date is required
`:r=="progressReport"?n=n+`The field Progress Report line is required
`:r=="other"?n=n+`The field Other Activity is required
`:r=="other2"?n=n+`The field Other Stay is required
`:r=="nameOfAc3eMember"?n=n+`The field Name of ac3e member is required
`:r=="nameOfExternalResearcher"?n=n+`The field Name of external researcher is required
`:r=="studentOrResearcher"?n=n+`The field Student or Researcher is required
`:r=="collaborationStay"?n=n+`The field Collaboration Stay is required
`:r=="duplicated"?n=n+`There is already a post with the same data, please try again.
`:n=n+"The field "+this.capitalizeFirstLetter(r)+` is required
`}),this.toast.warning(n,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Project",message:"¿Are you sure you want to edit this Conjoint Project?.",okButton:"Edit",cancelButton:"Return"})){var u="";this.conjointProject.researcherInvolved!==null&&this.conjointProject.researcherInvolved.length!==0&&this.conjointProject.researcherInvolved.forEach((p,w)=>{u+=p.name,w===this.conjointProject.researcherInvolved.length-1?u+=".":u+=", "});var f="",l=0,g="";this.conjointProject.activityName!==null&&this.conjointProject.activityName.length!==0&&this.conjointProject.activityName.forEach((p,w)=>{g+=p.name,w===this.conjointProject.activityName.length-1?g+=".":g+=", "}),this.conjointProject.collaborationStay=="Other"?(f=this.other2,l=1):f=this.conjointProject.collaborationStay;var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID;let a={status:"Finished",idUsuario:o,moduleType:1,institutionCollaborates:this.conjointProject.institutionCollaborates,researcherInvolved:u,studentOrResearcher:this.conjointProject.studentOrResearcher,activityName:g,countryOrigin:this.conjointProject.countryOrigin,cityOrigin:this.conjointProject.cityOrigin,countryDestination:this.conjointProject.countryDestination,cityDestination:this.conjointProject.cityDestination,beginningDate:this.conjointProject.beginningDate,endingDate:this.conjointProject.endingDate,nameOfExternalResearcher:this.conjointProject.nameOfExternalResearcher,collaborationStay:f,otherStay:l,comments:this.conjointProject.comments,progressReport:this.conjointProject.progressReport};console.log(a),y.put(`api/conjointProjects/${this.id}`,a).then(p=>{this.toast.success("Project edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(p=>{p.response?p.response.status===422?this.toast.warning(`Validation error: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},Dt={name:"modal"},wt={class:"modal-mask"},Rt={class:"modal-wrapper"},kt={class:"modal-container"},Bt={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},St={for:""},Tt=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),Et=[Tt],Vt={key:0,class:"col-5 m-0"},Nt={class:"fw-normal",style:{"font-size":"14px"}},Ht=e("option",{disabled:"",value:""},"Select a researcher",-1),Ut=["value"],Ft={class:"modal-body"},It={class:"row"},qt={class:"col-md-6"},Lt=e("label",{for:""},"AC3E researcher involved:",-1),At=e("label",{for:"",style:{color:"orange"}},"*",-1),Mt={class:"col-md-3"},xt=e("label",{for:""},"Collaboration Stay:",-1),Yt=e("label",{for:"",style:{color:"orange"}},"*",-1),zt=e("option",{disabled:"",value:null},"Select a type",-1),Gt=e("option",{value:"Short Visit (Up to two weeks)"},"Short Visit (Up to two weeks)",-1),Wt=e("option",{value:"Long Visit (More than two weeks)"},"Long Visit (More than two weeks)",-1),Xt=e("option",{value:"Other"},"Other",-1),Jt=[zt,Gt,Wt,Xt],Kt={key:0,class:"col-md-3"},Qt=e("label",{for:""},"Other Stay:",-1),Zt=e("label",{for:"",style:{color:"orange"}},"*",-1),eo=e("br",null,null,-1),to=e("br",null,null,-1),oo={class:"row"},so={class:"col-md-6"},no=e("label",{for:""},"Activity Name:",-1),ro=e("label",{for:"",style:{color:"orange"}},"*",-1),io={class:"col-md-6"},ao=e("label",{for:""},"Institution which the center collaborates:",-1),lo=e("label",{for:"",style:{color:"orange"}},"*",-1),co=e("br",null,null,-1),uo=e("br",null,null,-1),ho={class:"row"},go={class:"col-md-3"},fo={key:0,for:""},jo={key:1,for:""},mo=e("label",{for:"",style:{color:"orange"}},"*",-1),po=e("br",null,null,-1),bo={class:"col-md-3"},yo=e("label",{for:""},"Student or Researcher:",-1),Po=e("label",{for:"",style:{color:"orange"}},"*",-1),vo=e("br",null,null,-1),_o=e("option",{disabled:"",value:null},"Select a type",-1),Oo=e("option",{value:"Student"},"Student",-1),$o=e("option",{value:"Researcher"},"Researcher",-1),Co=[_o,Oo,$o],Do={class:"col-md-3"},wo=e("label",{for:""},"Beginning Date:",-1),Ro=e("label",{for:"",style:{color:"orange"}},"*",-1),ko=e("br",null,null,-1),Bo={class:"col-md-3"},So=e("label",{for:""},"Ending Date:",-1),To=e("label",{for:"",style:{color:"orange"}},"*",-1),Eo=e("br",null,null,-1),Vo=e("br",null,null,-1),No={class:"row"},Ho={class:"col-md-3"},Uo=e("label",{for:""},"Country Origin:",-1),Fo=e("label",{for:"",style:{color:"orange"}},"*",-1),Io=e("br",null,null,-1),qo={class:"col-md-3"},Lo=e("label",{for:""},"City Origin:",-1),Ao=e("label",{for:"",style:{color:"orange"}},"*",-1),Mo=e("br",null,null,-1),xo={class:"col-md-3"},Yo=e("label",{for:""},"Country Destination:",-1),zo=e("label",{for:"",style:{color:"orange"}},"*",-1),Go=e("br",null,null,-1),Wo={class:"col-md-3"},Xo=e("label",{for:""},"City Destination:",-1),Jo=e("label",{for:"",style:{color:"orange"}},"*",-1),Ko=e("br",null,null,-1),Qo=e("br",null,null,-1),Zo={class:"row"},es={class:"col-md-6"},ts=e("label",{for:""},"Comments:",-1),os=e("br",null,null,-1),ss={class:"modal-footer"},ns={class:"form-check-label"},rs=["disabled"],is=["disabled"];function as(t,o,m,i,n,u){const f=P("Multiselect"),l=P("modalconfirmacion"),g=P("modalalerta"),r=P("modalProgressYear");return c(),$(I,{name:"modalcrear"},{default:U(()=>[e("div",Dt,[e("div",wt,[e("div",Rt,[e("div",kt,[e("div",Bt,[C(t.$slots,"header",{},()=>[_(" Edit Conjoint Project ")]),e("label",St,[_("Progress year: "+b(t.conjointProject.progressReport)+"    ",1),e("a",{class:"btn",onClick:o[0]||(o[0]=s=>t.showModalProgress=!0)},Et)]),t.is("Administrator")?(c(),d("label",Vt,[_(" Researcher: "),e("label",Nt,[h(e("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.idResearcher=s)},[Ht,(c(!0),d(S,null,T(t.researchers2,s=>(c(),d("option",{key:s.id,value:s.id},b(s.name),9,Ut))),128))],512),[[D,t.idResearcher]])])])):v("",!0),e("a",{class:"btn btn-closed",onClick:o[2]||(o[2]=s=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Ft,[C(t.$slots,"body",{},()=>[e("div",It,[e("div",qt,[Lt,At,O(f,{placeholder:"Select the participants",modelValue:t.conjointProject.researcherInvolved,"onUpdate:modelValue":o[3]||(o[3]=s=>t.conjointProject.researcherInvolved=s),searchable:!0,"close-on-select":!1,createTag:!0,options:t.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),e("div",Mt,[xt,Yt,h(e("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=s=>t.conjointProject.collaborationStay=s)},Jt,512),[[D,t.conjointProject.collaborationStay]])]),t.conjointProject.collaborationStay=="Other"?(c(),d("div",Kt,[Qt,Zt,eo,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.other2=s)},null,512),[[j,t.other2]])])):v("",!0)]),to,e("div",oo,[e("div",so,[no,ro,O(f,{placeholder:"Select the options",modelValue:t.conjointProject.activityName,"onUpdate:modelValue":o[6]||(o[6]=s=>t.conjointProject.activityName=s),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:t.activityNames,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),e("div",io,[ao,lo,co,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=s=>t.conjointProject.institutionCollaborates=s)},null,512),[[j,t.conjointProject.institutionCollaborates]])])]),uo,e("div",ho,[e("div",go,[t.conjointProject.studentOrResearcher=="Researcher"?(c(),d("label",fo,"Name of external researcher:")):(c(),d("label",jo,"Name of external person:")),mo,po,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=s=>t.conjointProject.nameOfExternalResearcher=s)},null,512),[[j,t.conjointProject.nameOfExternalResearcher]])]),e("div",bo,[yo,Po,vo,h(e("select",{class:"form-select","onUpdate:modelValue":o[9]||(o[9]=s=>t.conjointProject.studentOrResearcher=s)},Co,512),[[D,t.conjointProject.studentOrResearcher]])]),e("div",Do,[wo,Ro,ko,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=s=>t.conjointProject.beginningDate=s)},null,512),[[j,t.conjointProject.beginningDate]])]),e("div",Bo,[So,To,Eo,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=s=>t.conjointProject.endingDate=s)},null,512),[[j,t.conjointProject.endingDate]])])]),Vo,e("div",No,[e("div",Ho,[Uo,Fo,Io,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=s=>t.conjointProject.countryOrigin=s)},null,512),[[j,t.conjointProject.countryOrigin]])]),e("div",qo,[Lo,Ao,Mo,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=s=>t.conjointProject.cityOrigin=s)},null,512),[[j,t.conjointProject.cityOrigin]])]),e("div",xo,[Yo,zo,Go,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=s=>t.conjointProject.countryDestination=s)},null,512),[[j,t.conjointProject.countryDestination]])]),e("div",Wo,[Xo,Jo,Ko,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>t.conjointProject.cityDestination=s)},null,512),[[j,t.conjointProject.cityDestination]])])]),Qo,e("div",Zo,[e("div",es,[ts,os,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=s=>t.conjointProject.comments=s)},null,512),[[j,t.conjointProject.comments]])])])])]),e("div",ss,[C(t.$slots,"footer",{},()=>[e("label",ns,[h(e("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":o[17]||(o[17]=s=>t.draft=s)},null,512),[[F,t.draft]]),_(" Save as a draft")]),t.draft==!1?(c(),d("a",{key:0,class:"btn btn-continue float-end",onClick:o[18]||(o[18]=s=>u.editConjoint()),disabled:t.buttonDisable},b(t.buttonText),9,rs)):(c(),d("a",{key:1,class:"btn btn-continue float-end",onClick:o[19]||(o[19]=s=>u.guardarBorrador()),disabled:t.buttonDisable}," Save draft ",8,is))])]),O(l,{ref:"confirmation"},null,512),O(g,{ref:"alert"},null,512),t.showModalProgress?(c(),$(r,{key:0,progressYear:t.conjointProject.progressReport,onClose:o[20]||(o[20]=s=>t.showModalProgress=!1),onSubmit:u.handleFormSubmit1},null,8,["progressYear","onSubmit"])):v("",!0)])])])])]),_:3})}const ls=E(Ct,[["render",as]]),cs={components:{modalver:q,modalcrear:$t,modaleditar:ls,modalconfirmacion:k,modalalerta:B},mixins:[R],data(){return{conjointProjects:null,conjointProject:null,showNewProject:!1,showDetailsProject:!1,showEditProject:!1,projectEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getConjointProjects(this.userID)},methods:{verProject(t){this.conjointProject=t,this.showDetailsProject=!0},getConjointProjects(t){y.get(`api/conjointProjects/${t}`).then(o=>{this.conjointProjects=o.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#myTableProjects")}).catch(o=>console.log(o))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.conjointProjects=null,this.getConjointProjects(this.userID)):this.crearTabla("#myTableProjects")},editProject(t){this.projectEdit=t,this.showEditProject=!0},async deleteProject(t){await this.$refs.confirmation.show({title:"Delete Conjoint project",message:"¿Are you sure you want to delete this Conjoint project?.",okButton:"Delete",cancelButton:"Return"})&&y.delete(`api/conjointProjects/${t}`).then(m=>{this.toast.success("Conjoint project successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(m=>console.log(m))}}},us={class:"row mt-4 mx-4"},ds={class:"col-12"},hs={class:"card mb-4"},gs={class:"row pb-0 p-4"},fs={class:"col-12"},js={class:"d-flex justify-content-end"},ms=e("i",{class:"fa-solid fa-rotate"},null,-1),ps=[ms],bs={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},ys={class:"container"},Ps={class:"table-responsive p-0"},vs={class:"loader-sm"},_s={class:"table align-items-center mb-0",id:"myTableProjects"},Os=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Activity Name"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name of AC3E Member"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name of External Person"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Beggining Date"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ending Date")])],-1),$s=e("td",null,null,-1),Cs={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ds={class:"align-middle text-end"},ws={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Rs=["onClick"],ks=e("i",{class:"fa fa-fw fa-edit"},null,-1),Bs=[ks],Ss=["onClick"],Ts=e("i",{class:"fa-regular fa-eye"},null,-1),Es=[Ts],Vs=["onClick"],Ns=e("i",{class:"fa fa-fw fa-trash"},null,-1),Hs=[Ns],Us={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#878686"}},Fs={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Is={class:"text-sm mb-0"},qs={key:0,class:"text-sm mb-0"},Ls={key:1,class:"text-sm mb-0"},As={key:0,class:"text-sm mb-0"},Ms={key:1,class:"text-sm mb-0"},xs={key:0,class:"text-sm mb-0"},Ys={key:1,class:"text-sm mb-0"},zs={key:0,class:"text-sm mb-0"},Gs={key:1,class:"text-sm mb-0"},Ws={key:0,class:"text-sm mb-0"},Xs={key:1,class:"text-sm mb-0"},Js=L('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Ks(t,o,m,i,n,u){const f=P("modalconfirmacion"),l=P("modalalerta"),g=P("modalver"),r=P("modaleditar"),s=P("modalcrear");return c(),d("div",us,[e("div",ds,[e("div",hs,[e("div",gs,[e("div",fs,[e("div",js,[e("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:o[0]||(o[0]=a=>n.showNewProject=!0)},"New Project"),_("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:o[1]||(o[1]=a=>u.recargarTabla("General"))},ps)])])]),e("div",bs,[e("div",ys,[e("div",Ps,[h(e("div",vs,null,512),[[V,n.mostrarCarga]]),h(e("table",_s,[Os,e("tbody",null,[(c(!0),d(S,null,T(n.conjointProjects,a=>(c(),d("tr",{key:a.id},[$s,e("td",null,[e("p",Cs,b(a.id),1)]),e("td",Ds,[e("div",ws,[e("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:p=>u.editProject(a)},Bs,8,Rs),_("   "),e("a",{class:"btn btn-success btn-xs",title:"Details",onClick:p=>u.verProject(a)},Es,8,Ss),_("   "),e("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:p=>u.deleteProject(a.id)},Hs,8,Vs)])]),e("td",null,[a.status=="Draft"?(c(),d("p",Us,b(a.status),1)):v("",!0),a.status=="Finished"?(c(),d("p",Fs,b(a.status),1)):v("",!0)]),e("td",null,[e("p",Is,b(a.usuario.name),1)]),e("td",null,[a.activityName==null?(c(),d("p",qs,"---")):(c(),d("p",Ls,b(a.activityName),1))]),e("td",null,[a.nameOfAC3EMember==null?(c(),d("p",As,"---")):(c(),d("p",Ms,b(a.nameOfAC3EMember),1))]),e("td",null,[a.nameOfExternalResearcher==null?(c(),d("p",xs,"---")):(c(),d("p",Ys,b(a.nameOfExternalResearcher),1))]),e("td",null,[a.begginingDate==null?(c(),d("p",zs,"---")):(c(),d("p",Gs,b(a.begginingDate),1))]),e("td",null,[a.endingDate==null?(c(),d("p",Ws,"---")):(c(),d("p",Xs,b(a.endingDate),1))])]))),128))])],512),[[V,n.mostrarTabla]]),Js])])])]),O(f,{ref:"confirmation"},null,512),O(l,{ref:"alert"},null,512),n.showDetailsProject?(c(),$(g,{key:0,project1:n.conjointProject,onClose:o[2]||(o[2]=a=>n.showDetailsProject=!1)},null,8,["project1"])):v("",!0),n.showEditProject?(c(),$(r,{key:1,project1:n.projectEdit,onClose:o[3]||(o[3]=a=>n.showEditProject=!1),onRecarga:o[4]||(o[4]=a=>u.recargarTabla("General"))},null,8,["project1"])):v("",!0),n.showNewProject?(c(),$(s,{key:2,onClose:o[5]||(o[5]=a=>n.showNewProject=!1),onRecarga:o[6]||(o[6]=a=>u.recargarTabla("General"))})):v("",!0)])])}const an=E(cs,[["render",Ks]]);export{an as default};
