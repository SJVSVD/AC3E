import{m as C,a as g}from"./mixins-00a35343.js";import{m as A}from"./detailsParticipationScEventsModal-e30a2a42.js";import{m as B,a as T}from"./alertModal-064cb8ca.js";import{m as H,s as I}from"./multiselect-040cdaf8.js";import{r as _,o as p,h as w,i as N,b as t,j as k,g as y,t as v,a as u,w as m,F as D,e as E,l as U,f as P,n as S,k as b,m as V,T as L,v as R,p as q}from"./index-a6b313c0.js";/* empty css                                                         */import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const j={components:{modalProgressYear:H,Multiselect:I,modalconfirmacion:B,modalalerta:T},mixins:[C],data:()=>({participationSc:{typeEvent:null,eventName:"",researcherInvolved:null,presentationTitle:"",typeOfParticipation:null,country:"",city:"",startDate:"",endingDate:"",nameOfParticipants:"",progressReport:"",file:"",comments:""},other:"",other2:"",draft:!1,showModalProgress:!1,usuarios:[],researchers:[],optionsTypeEvent:["International congress","National congress","Workshop","Course","Conference","Seminar","Symposium","Other"],optionsTypeParticipation:["Paper presentation","Talk","Session chair","Keynote","Just assistance","Other"],idResearcher:"",buttonDisable:!1,errors:[],buttonText:"Save Participation"}),mounted(){this.getUsuarios(),this.getUsuarios2()},created(){this.getProgressReport()},methods:{handleFormSubmit1(s){this.participationSc.progressReport=s},getUsuarios2(){g.get("api/usuarios").then(s=>{this.usuarios=s.data.sort((e,c)=>e.name.localeCompare(c.name))}).catch(s=>console.log(s))},getProgressReport(){g.get("api/showProgressReport").then(s=>{this.participationSc.progressReport=s.data}).catch(s=>console.log(s))},getUsuarios(){g.get("api/researchers").then(s=>{this.researchers=s.data}).catch(s=>console.log(s))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(s){this.participationSc.file=s.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Save draft",message:"¿Are you sure you want to save this Participation as a draft? this action cannot be undone.",okButton:"Save",cancelButton:"Return"})){var e="";this.participationSc.typeEvent!==null&&this.participationSc.typeEvent.length!==0&&this.participationSc.typeEvent.forEach((r,d)=>{e+=r.name,d===this.participationSc.typeEvent.length-1?e+=".":e+=", "});var c="";this.participationSc.typeOfParticipation!==null&&this.participationSc.typeOfParticipation.length!==0&&this.participationSc.typeOfParticipation.forEach((r,d)=>{c+=r.name,d===this.participationSc.typeOfParticipation.length-1?c+=".":c+=", "});var h="";this.participationSc.researcherInvolved!==null&&this.participationSc.researcherInvolved.length!==0&&this.participationSc.researcherInvolved.forEach((r,d)=>{h+=r.name,d===this.participationSc.researcherInvolved.length-1?h+=".":h+=", "});var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID;let a={idUsuario:o,status:"Draft",researcherInvolved:h,typeEvent:e,presentationTitle:this.participationSc.presentationTitle,typeOfParticipation:c,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,file:this.participationSc.file,comments:this.participationSc.comments};g.post("api/participationScEvents",a,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{this.toast.success("Draft saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(r=>{r.response?r.response.status===422?this.toast.warning(`Validation error: ${r.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):r.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${r.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):r.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${r.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const s=this.$refs.closeBtn;this.$emit("recarga"),s.click()},capitalizeFirstLetter(s){return s.charAt(0).toUpperCase()+s.slice(1)},async createParticipation(){this.errors=[];const s=["comments"];for(const n in this.participationSc)!s.includes(n)&&(this.participationSc[n]===""||this.participationSc[n]===0||this.participationSc[n]==null)&&this.errors.push(n);var e="";this.idResearcher!=""?e=this.idResearcher:e=this.userID;let c={status:"Finished",idUsuario:e,presentationTitle:this.participationSc.presentationTitle,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,file:this.participationSc.file,comments:this.participationSc.comments};var h=await g.post("../api/verifyParticipation",c).then((function(n){return n.data}).bind(this)).catch(function(n){console.log(n)});h>0&&this.errors.push("duplicated");var o="";if(this.errors.length!=0&&(this.errors.forEach(n=>{n=="typeEvent"?o=o+`The field Type Event is required
`:n=="eventName"?o=o+`The field Event Name is required
`:n=="startDate"?o=o+`The field Start Date is required
`:n=="endingDate"?o=o+`The field Ending Date is required
`:n=="nameOfParticipants"?o=o+`The field Name of Participants is required
`:n=="progressReport"?o=o+`The field Progress Report line is required
`:n=="duplicated"?o=o+`There is already a post with the same data, please try again.
`:o=o+"The field "+this.capitalizeFirstLetter(n)+` is required
`}),this.toast.warning(o,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Save Participation",message:"¿Are you sure you want to save this Participation of sc event?.",okButton:"Save",cancelButton:"Return"})){var a="";this.participationSc.typeEvent!==null&&this.participationSc.typeEvent.length!==0&&this.participationSc.typeEvent.forEach((l,f)=>{a+=l.name,f===this.participationSc.typeEvent.length-1?a+=".":a+=", "});var r="";this.participationSc.typeOfParticipation!==null&&this.participationSc.typeOfParticipation.length!==0&&this.participationSc.typeOfParticipation.forEach((l,f)=>{r+=l.name,f===this.participationSc.typeOfParticipation.length-1?r+=".":r+=", "});var e="";this.idResearcher!=""?e=this.idResearcher:e=this.userID;var d="";this.participationSc.researcherInvolved!==null&&this.participationSc.researcherInvolved.length!==0&&this.participationSc.researcherInvolved.forEach((l,f)=>{d+=l.name,f===this.participationSc.researcherInvolved.length-1?d+=".":d+=", "});let i={status:"Finished",researcherInvolved:d,idUsuario:e,typeEvent:a,presentationTitle:this.participationSc.presentationTitle,typeOfParticipation:r,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,file:this.participationSc.file,comments:this.participationSc.comments};g.post("api/participationScEvents",i,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{this.toast.success("Participation saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response?l.response.status===422?this.toast.warning(`Validation error: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},Y={name:"modal"},G={class:"modal-mask"},z={class:"modal-wrapper"},W={class:"modal-container"},J={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},K={for:""},X=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),Q=[X],Z={key:0,class:"col-5 m-0"},x={class:"fw-normal",style:{"font-size":"14px"}},tt=t("option",{disabled:"",value:""},"Select a researcher",-1),et=["value"],st={class:"modal-body"},it={class:"row"},ot={class:"col-md-6"},at=t("label",{for:""},"AC3E researcher involved:",-1),rt=t("label",{for:"",style:{color:"orange"}},"*",-1),nt=t("br",null,null,-1),lt={class:"row"},ct={class:"col-md-6"},pt=t("label",{for:""},"Type of Event:",-1),dt=t("label",{for:"",style:{color:"orange"}},"*",-1),ut={class:"col-md-6"},ht=t("label",{for:""},"Type of Participation:",-1),ft=t("label",{for:"",style:{color:"orange"}},"*",-1),mt=t("br",null,null,-1),gt={class:"row"},bt={class:"col-md-6"},vt=t("label",{for:""},"Event Name:",-1),_t=t("label",{for:"",style:{color:"orange"}},"*",-1),yt=t("br",null,null,-1),St={class:"col-md-6"},Pt=t("label",{for:""},"Presentation Title:",-1),Ot=t("label",{for:"",style:{color:"orange"}},"*",-1),$t=t("br",null,null,-1),wt=t("br",null,null,-1),kt={class:"row"},Ct={class:"col-md-3"},Bt=t("label",{for:""},"Country:",-1),Tt=t("label",{for:"",style:{color:"orange"}},"*",-1),Dt=t("br",null,null,-1),Et={class:"col-md-3"},Ft=t("label",{for:""},"City:",-1),Rt=t("label",{for:"",style:{color:"orange"}},"*",-1),Ht=t("br",null,null,-1),It={class:"col-md-3"},Nt=t("label",{for:""},"Start Date:",-1),Ut=t("label",{for:"",style:{color:"orange"}},"*",-1),Vt=t("br",null,null,-1),Lt={class:"col-md-3"},Mt=t("label",{for:""},"Ending Date:",-1),At=t("label",{for:"",style:{color:"orange"}},"*",-1),qt=t("br",null,null,-1),jt=t("br",null,null,-1),Yt={class:"row"},Gt={class:"col-md-6"},zt=t("label",{for:""},"Name of participants:",-1),Wt=t("label",{for:"",style:{color:"orange"}},"*",-1),Jt={class:"col-md-5"},Kt={class:"form-group"},Xt=t("label",{for:"archivo"},"File: ",-1),Qt=t("label",{for:"",style:{color:"orange"}},"*",-1),Zt={class:"col-md-1 pt-2"},xt=t("br",null,null,-1),te=t("i",{class:"fa-solid fa-ban"},null,-1),ee=[te],se=t("br",null,null,-1),ie={class:"row"},oe={class:"col-md-6"},ae=t("label",{for:""},"Comments:",-1),re=t("br",null,null,-1),ne=t("br",null,null,-1),le={class:"modal-footer"},ce={class:"form-check-label"},pe=["disabled"],de=["disabled"];function ue(s,e,c,h,o,a){const r=_("Multiselect"),d=_("modalconfirmacion"),n=_("modalalerta"),O=_("modalProgressYear");return p(),w(L,{name:"modalcrear"},{default:N(()=>[t("div",Y,[t("div",G,[t("div",z,[t("div",W,[t("div",J,[k(s.$slots,"header",{},()=>[y(" New Participation Sc Event ")]),t("label",K,[y("Progress year: "+v(s.participationSc.progressReport)+"    ",1),t("a",{class:"btn",onClick:e[0]||(e[0]=i=>s.showModalProgress=!0)},Q)]),s.is("Administrator")?(p(),u("label",Z,[y(" Researcher: "),t("label",x,[m(t("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=i=>s.idResearcher=i)},[tt,(p(!0),u(D,null,E(s.usuarios,i=>(p(),u("option",{key:i.id,value:i.id},v(i.name),9,et))),128))],512),[[U,s.idResearcher]])])])):P("",!0),t("a",{class:"btn btn-closed",onClick:e[2]||(e[2]=i=>s.$emit("close")),ref:"closeBtn"},"X",512)]),t("div",st,[k(s.$slots,"body",{},()=>[t("div",it,[t("div",ot,[at,rt,S(r,{placeholder:"Select the participants",modelValue:s.participationSc.researcherInvolved,"onUpdate:modelValue":e[3]||(e[3]=i=>s.participationSc.researcherInvolved=i),searchable:!0,"close-on-select":!1,createTag:!0,options:s.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])])]),nt,t("div",lt,[t("div",ct,[pt,dt,S(r,{placeholder:"Select the options",modelValue:s.participationSc.typeEvent,"onUpdate:modelValue":e[4]||(e[4]=i=>s.participationSc.typeEvent=i),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:s.optionsTypeEvent,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),t("div",ut,[ht,ft,S(r,{placeholder:"Select the options",modelValue:s.participationSc.typeOfParticipation,"onUpdate:modelValue":e[5]||(e[5]=i=>s.participationSc.typeOfParticipation=i),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:s.optionsTypeParticipation,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])])]),mt,t("div",gt,[t("div",bt,[vt,_t,yt,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=i=>s.participationSc.eventName=i)},null,512),[[b,s.participationSc.eventName]])]),t("div",St,[Pt,Ot,$t,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=i=>s.participationSc.presentationTitle=i)},null,512),[[b,s.participationSc.presentationTitle]])])]),wt,t("div",kt,[t("div",Ct,[Bt,Tt,Dt,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=i=>s.participationSc.country=i)},null,512),[[b,s.participationSc.country]])]),t("div",Et,[Ft,Rt,Ht,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=i=>s.participationSc.city=i)},null,512),[[b,s.participationSc.city]])]),t("div",It,[Nt,Ut,Vt,m(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=i=>s.participationSc.startDate=i)},null,512),[[b,s.participationSc.startDate]])]),t("div",Lt,[Mt,At,qt,m(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=i=>s.participationSc.endingDate=i)},null,512),[[b,s.participationSc.endingDate]])])]),jt,t("div",Yt,[t("div",Gt,[zt,Wt,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=i=>s.participationSc.nameOfParticipants=i)},null,512),[[b,s.participationSc.nameOfParticipants]])]),t("div",Jt,[t("div",Kt,[Xt,Qt,t("input",{type:"file",ref:"fileInput",accept:".pdf, .jpg, .jpeg, .png,",class:"form-control",onChange:e[13]||(e[13]=(...i)=>a.getFile&&a.getFile(...i))},null,544)])]),t("div",Zt,[xt,t("a",{class:"btn btn-closed",title:"Clear Input",onClick:e[14]||(e[14]=(...i)=>a.clearFileInput&&a.clearFileInput(...i))},ee)])]),se,t("div",ie,[t("div",oe,[ae,re,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[15]||(e[15]=i=>s.participationSc.comments=i)},null,512),[[b,s.participationSc.comments]])])]),ne])]),t("div",le,[k(s.$slots,"footer",{},()=>[t("label",ce,[m(t("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":e[16]||(e[16]=i=>s.draft=i)},null,512),[[V,s.draft]]),y(" Save as a draft")]),s.draft==!1?(p(),u("a",{key:0,class:"btn btn-continue float-end",onClick:e[17]||(e[17]=i=>a.createParticipation()),disabled:s.buttonDisable},v(s.buttonText),9,pe)):(p(),u("a",{key:1,class:"btn btn-continue float-end",onClick:e[18]||(e[18]=i=>a.guardarBorrador()),disabled:s.buttonDisable}," Save draft ",8,de))])]),S(d,{ref:"confirmation"},null,512),S(n,{ref:"alert"},null,512),s.showModalProgress?(p(),w(O,{key:0,progressYear:s.participationSc.progressReport,onClose:e[19]||(e[19]=i=>s.showModalProgress=!1),onSubmit:a.handleFormSubmit1},null,8,["progressYear","onSubmit"])):P("",!0)])])])])]),_:3})}const he=F(j,[["render",ue]]),fe={components:{modalProgressYear:H,Multiselect:I,modalconfirmacion:B,modalalerta:T},mixins:[C],data:()=>({participationSc:{typeEvent:null,eventName:"",presentationTitle:"",typeOfParticipation:null,researcherInvolved:null,country:"",city:"",startDate:"",endingDate:"",nameOfParticipants:"",progressReport:"",file:"",comments:""},optionsTypeEvent:["International congress","National congress","Workshop","Course","Conference","Seminar","Symposium","Other"],optionsTypeParticipation:["Paper presentation","Talk","Session chair","Keynote","Just assistance","Other"],other:"",other2:"",draft:!1,showModalProgress:!1,researchers:[],usuarios:[],idResearcher:"",user:"",id:"",buttonDisable:!1,errors:[],buttonText:"Edit Participation"}),mounted(){this.getUsuarios(),this.getUsuarios2()},props:{participation1:Object},created(){if(this.id=this.participation1.id,this.idResearcher=this.participation1.idUsuario,this.user=this.participation1.usuario.name,this.participationSc.eventName=this.participation1.eventName,this.participationSc.presentationTitle=this.participation1.presentationTitle,this.participationSc.country=this.participation1.country,this.participationSc.city=this.participation1.city,this.participationSc.startDate=this.participation1.startDate,this.participationSc.endingDate=this.participation1.endingDate,this.participationSc.progressReport=this.participation1.progressReport,this.participationSc.endingDate=this.participation1.endingDate,this.participationSc.comments=this.participation1.comments,this.participationSc.nameOfParticipants=this.participation1.nameOfParticipants,this.participation1.researcherInvolved!=null){const s=this.participation1.researcherInvolved.split(",");this.participationSc.researcherInvolved=s.map((e,c)=>(e=e.trim(),e.endsWith(".")&&(e=e.slice(0,-1)),{value:e,name:e}))}if(this.participation1.typeEvent!=null){const s=this.participation1.typeEvent.split(",");this.participationSc.typeEvent=s.map((e,c)=>(e=e.trim(),e.endsWith(".")&&(e=e.slice(0,-1)),{value:e,name:e}))}if(this.participation1.typeOfParticipation!=null){const s=this.participation1.typeOfParticipation.split(",");this.participationSc.typeOfParticipation=s.map((e,c)=>(e=e.trim(),e.endsWith(".")&&(e=e.slice(0,-1)),{value:e,name:e}))}},methods:{getUsuarios2(){g.get("api/usuarios").then(s=>{this.usuarios=s.data.sort((e,c)=>e.name.localeCompare(c.name))}).catch(s=>console.log(s))},handleFormSubmit1(s){this.participationSc.progressReport=s},descargarExtracto(s,e){g({url:`api/participationDownload/${s}`,method:"GET",responseType:"arraybuffer"}).then(c=>{let h=new Blob([c.data],{type:c.headers["content-type"]}),o=document.createElement("a");if(o.href=window.URL.createObjectURL(h),h.type.includes("pdf"))o.download=`Participation-${e}.pdf`;else if(h.type.includes("image"))o.download=`Participation-${e}.png`;else{console.error("Tipo de archivo no compatible");return}o.click()})},getUsuarios(){g.get("api/researchers").then(s=>{this.researchers=s.data}).catch(s=>console.log(s))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(s){this.participationSc.file=s.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Edit draft",message:"¿Are you sure you want to edit this Participation as a draft? this action cannot be undone.",okButton:"Edit",cancelButton:"Return"})){var e="";this.participationSc.typeEvent!==null&&this.participationSc.typeEvent.length!==0&&this.participationSc.typeEvent.forEach((r,d)=>{e+=r.name,d===this.participationSc.typeEvent.length-1?e+=".":e+=", "});var c="";this.participationSc.typeOfParticipation!==null&&this.participationSc.typeOfParticipation.length!==0&&this.participationSc.typeOfParticipation.forEach((r,d)=>{c+=r.name,d===this.participationSc.typeOfParticipation.length-1?c+=".":c+=", "});var h="";this.participationSc.researcherInvolved!==null&&this.participationSc.researcherInvolved.length!==0&&this.participationSc.researcherInvolved.forEach((r,d)=>{h+=r.name,d===this.participationSc.researcherInvolved.length-1?h+=".":h+=", "});var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID;let a={idUsuario:o,status:"Draft",researcherInvolved:h,typeEvent:e,presentationTitle:this.participationSc.presentationTitle,typeOfParticipation:c,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,comments:this.participationSc.comments};await g.put(`api/participationScEvents/${this.id}`,a).then(r=>{if(this.toast.success("Draft edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.participationSc.file!=null){const d=new FormData;d.append("id",this.id),d.append("file",this.participationSc.file),g.post("api/participationScEvents/addFile",d,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{console.log(n.data),this.toast.success("File added successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)})}}).catch(r=>{r.response?r.response.status===422?this.toast.warning(`Validation error: ${r.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):r.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${r.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):r.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${r.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const s=this.$refs.closeBtn;this.$emit("recarga"),s.click()},capitalizeFirstLetter(s){return s.charAt(0).toUpperCase()+s.slice(1)},async editParticipation(){this.errors=[];const s=["comments","file"];for(const n in this.participationSc)!s.includes(n)&&(this.participationSc[n]===""||this.participationSc[n]===0||this.participationSc[n]==null)&&this.errors.push(n);var e="";this.idResearcher!=""?e=this.idResearcher:e=this.userID;var c="";this.participationSc.researcherInvolved!==null&&this.participationSc.researcherInvolved.length!==0&&this.participationSc.researcherInvolved.forEach((n,O)=>{c+=n.name,O===this.participationSc.researcherInvolved.length-1?c+=".":c+=", "});let h={idUsuario:e,id:this.id,researcherInvolved:c,presentationTitle:this.participationSc.presentationTitle,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,comments:this.participationSc.comments};var o=await g.post("../api/verifyParticipation",h).then((function(n){return n.data}).bind(this)).catch(function(n){console.log(n)});o>0&&this.errors.push("duplicated");var a="";if(this.errors.length!=0&&(this.errors.forEach(n=>{n=="typeEvent"?a=a+`The field Type Event is required
`:n=="eventName"?a=a+`The field Event Name is required
`:n=="startDate"?a=a+`The field Start Date is required
`:n=="endingDate"?a=a+`The field Ending Date is required
`:n=="nameOfParticipants"?a=a+`The field Name of Participants is required
`:n=="progressReport"?a=a+`The field Progress Report line is required
`:n=="duplicated"?a=a+`There is already a post with the same data, please try again.
`:a=a+"The field "+this.capitalizeFirstLetter(n)+` is required
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Participation",message:"¿Are you sure you want to edit this Participation of sc event?.",okButton:"Edit",cancelButton:"Return"})){var r="";this.participationSc.typeEvent!==null&&this.participationSc.typeEvent.length!==0&&this.participationSc.typeEvent.forEach((f,$)=>{r+=f.name,$===this.participationSc.typeEvent.length-1?r+=".":r+=", "});var d="";this.participationSc.typeOfParticipation!==null&&this.participationSc.typeOfParticipation.length!==0&&this.participationSc.typeOfParticipation.forEach((f,$)=>{d+=f.name,$===this.participationSc.typeOfParticipation.length-1?d+=".":d+=", "});var c="";this.participationSc.researcherInvolved!==null&&this.participationSc.researcherInvolved.length!==0&&this.participationSc.researcherInvolved.forEach((f,$)=>{c+=f.name,$===this.participationSc.researcherInvolved.length-1?c+=".":c+=", "});var e="";this.idResearcher!=""?e=this.idResearcher:e=this.userID;let l={idUsuario:e,status:"Finished",researcherInvolved:c,typeEvent:r,presentationTitle:this.participationSc.presentationTitle,typeOfParticipation:d,eventName:this.participationSc.eventName,country:this.participationSc.country,city:this.participationSc.city,startDate:this.participationSc.startDate,endingDate:this.participationSc.endingDate,progressReport:this.participationSc.progressReport,nameOfParticipants:this.participationSc.nameOfParticipants,comments:this.participationSc.comments};await g.put(`api/participationScEvents/${this.id}`,l).then(f=>{if(this.toast.success("Participation edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.participationSc.file!=null){const $=new FormData;$.append("id",this.id),$.append("file",this.participationSc.file),g.post("api/participationScEvents/addFile",$,{headers:{"Content-Type":"multipart/form-data"}}).then(M=>{console.log(M.data),this.toast.success("File added successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)})}}).catch(f=>{f.response?f.response.status===422?this.toast.warning(`Validation error: ${f.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):f.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${f.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):f.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${f.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},me={name:"modal"},ge={class:"modal-mask"},be={class:"modal-wrapper"},ve={class:"modal-container"},_e={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},ye={for:""},Se=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),Pe=[Se],Oe={key:0,class:"col-5 m-0"},$e={class:"fw-normal",style:{"font-size":"14px"}},we=t("option",{disabled:"",value:""},"Select a researcher",-1),ke=["value"],Ce={class:"modal-body"},Be={class:"row"},Te={class:"col-md-6"},De=t("label",{for:""},"AC3E researcher involved:",-1),Ee=t("label",{for:"",style:{color:"orange"}},"*",-1),Fe=t("br",null,null,-1),Re={class:"row"},He={class:"col-md-6"},Ie=t("label",{for:""},"Type of Event:",-1),Ne=t("label",{for:"",style:{color:"orange"}},"*",-1),Ue={class:"col-md-6"},Ve=t("label",{for:""},"Type of Participation:",-1),Le=t("label",{for:"",style:{color:"orange"}},"*",-1),Me=t("br",null,null,-1),Ae={class:"row"},qe={class:"col-md-6"},je=t("label",{for:""},"Event Name:",-1),Ye=t("label",{for:"",style:{color:"orange"}},"*",-1),Ge=t("br",null,null,-1),ze={class:"col-md-6"},We=t("label",{for:""},"Presentation Title:",-1),Je=t("label",{for:"",style:{color:"orange"}},"*",-1),Ke=t("br",null,null,-1),Xe=t("br",null,null,-1),Qe={class:"row"},Ze={class:"col-md-3"},xe=t("label",{for:""},"Country:",-1),ts=t("label",{for:"",style:{color:"orange"}},"*",-1),es=t("br",null,null,-1),ss={class:"col-md-3"},is=t("label",{for:""},"City:",-1),os=t("label",{for:"",style:{color:"orange"}},"*",-1),as=t("br",null,null,-1),rs={class:"col-md-3"},ns=t("label",{for:""},"Start Date:",-1),ls=t("label",{for:"",style:{color:"orange"}},"*",-1),cs=t("br",null,null,-1),ps={class:"col-md-3"},ds=t("label",{for:""},"Ending Date:",-1),us=t("label",{for:"",style:{color:"orange"}},"*",-1),hs=t("br",null,null,-1),fs=t("br",null,null,-1),ms={class:"row"},gs={class:"col-md-6"},bs=t("label",{for:""},"Name of participants:",-1),vs=t("label",{for:"",style:{color:"orange"}},"*",-1),_s={class:"col-md-4"},ys={class:"form-group"},Ss=t("label",{for:"archivo"},"File:",-1),Ps=t("label",{for:"",style:{color:"orange"}},"*",-1),Os={key:0,title:"This record already has a file, if you want to change add a new one, otherwise leave this field empty.",style:{color:"#0A95FF"}},$s=t("i",{class:"fa-solid fa-circle-info"},null,-1),ws=[$s],ks={class:"col-md-2 pt-2"},Cs=t("br",null,null,-1),Bs=t("i",{class:"fa-solid fa-ban"},null,-1),Ts=[Bs],Ds=t("i",{class:"fa-solid fa-download"},null,-1),Es=[Ds],Fs=t("br",null,null,-1),Rs={class:"row"},Hs={class:"col-md-6"},Is=t("label",{for:""},"Comments:",-1),Ns=t("br",null,null,-1),Us=t("br",null,null,-1),Vs={class:"modal-footer"},Ls={class:"form-check-label"},Ms=["disabled"],As=["disabled"];function qs(s,e,c,h,o,a){const r=_("Multiselect"),d=_("modalconfirmacion"),n=_("modalalerta"),O=_("modalProgressYear");return p(),w(L,{name:"modalcrear"},{default:N(()=>[t("div",me,[t("div",ge,[t("div",be,[t("div",ve,[t("div",_e,[k(s.$slots,"header",{},()=>[y(" Edit Participation Sc Event "+v(s.participationSc.file),1)]),t("label",ye,[y("Progress year: "+v(s.participationSc.progressReport)+"    ",1),t("a",{class:"btn",onClick:e[0]||(e[0]=i=>s.showModalProgress=!0)},Pe)]),s.is("Administrator")?(p(),u("label",Oe,[y(" Researcher: "),t("label",$e,[m(t("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=i=>s.idResearcher=i)},[we,(p(!0),u(D,null,E(s.usuarios,i=>(p(),u("option",{key:i.id,value:i.id},v(i.name),9,ke))),128))],512),[[U,s.idResearcher]])])])):P("",!0),t("a",{class:"btn btn-closed",onClick:e[2]||(e[2]=i=>s.$emit("close")),ref:"closeBtn"},"X",512)]),t("div",Ce,[k(s.$slots,"body",{},()=>[t("div",Be,[t("div",Te,[De,Ee,S(r,{placeholder:"Select the participants",modelValue:s.participationSc.researcherInvolved,"onUpdate:modelValue":e[3]||(e[3]=i=>s.participationSc.researcherInvolved=i),searchable:!0,"close-on-select":!1,createTag:!0,options:s.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])])]),Fe,t("div",Re,[t("div",He,[Ie,Ne,S(r,{placeholder:"Select the options",modelValue:s.participationSc.typeEvent,"onUpdate:modelValue":e[4]||(e[4]=i=>s.participationSc.typeEvent=i),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:s.optionsTypeEvent,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),t("div",Ue,[Ve,Le,S(r,{placeholder:"Select the options",modelValue:s.participationSc.typeOfParticipation,"onUpdate:modelValue":e[5]||(e[5]=i=>s.participationSc.typeOfParticipation=i),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:s.optionsTypeParticipation,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])])]),Me,t("div",Ae,[t("div",qe,[je,Ye,Ge,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=i=>s.participationSc.eventName=i)},null,512),[[b,s.participationSc.eventName]])]),t("div",ze,[We,Je,Ke,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=i=>s.participationSc.presentationTitle=i)},null,512),[[b,s.participationSc.presentationTitle]])])]),Xe,t("div",Qe,[t("div",Ze,[xe,ts,es,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=i=>s.participationSc.country=i)},null,512),[[b,s.participationSc.country]])]),t("div",ss,[is,os,as,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=i=>s.participationSc.city=i)},null,512),[[b,s.participationSc.city]])]),t("div",rs,[ns,ls,cs,m(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=i=>s.participationSc.startDate=i)},null,512),[[b,s.participationSc.startDate]])]),t("div",ps,[ds,us,hs,m(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=i=>s.participationSc.endingDate=i)},null,512),[[b,s.participationSc.endingDate]])])]),fs,t("div",ms,[t("div",gs,[bs,vs,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=i=>s.participationSc.nameOfParticipants=i)},null,512),[[b,s.participationSc.nameOfParticipants]])]),t("div",_s,[t("div",ys,[Ss,Ps,c.participation1.file!=null?(p(),u("label",Os,ws)):P("",!0),t("input",{type:"file",ref:"fileInput",accept:".pdf, .jpg, .jpeg, .png,",class:"form-control",onChange:e[13]||(e[13]=(...i)=>a.getFile&&a.getFile(...i))},null,544)])]),t("div",ks,[Cs,t("a",{class:"btn btn-closed",title:"Clear Input",onClick:e[14]||(e[14]=(...i)=>a.clearFileInput&&a.clearFileInput(...i))},Ts),y("   "),c.participation1.file!=null?(p(),u("a",{key:0,class:"btn btn-search-blue",title:"Download",onClick:e[15]||(e[15]=i=>a.descargarExtracto(s.id,s.user))},Es)):P("",!0)])]),Fs,t("div",Rs,[t("div",Hs,[Is,Ns,m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=i=>s.participationSc.comments=i)},null,512),[[b,s.participationSc.comments]])])]),Us])]),t("div",Vs,[k(s.$slots,"footer",{},()=>[t("label",Ls,[m(t("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":e[17]||(e[17]=i=>s.draft=i)},null,512),[[V,s.draft]]),y(" Edit as a draft")]),s.draft==!1?(p(),u("a",{key:0,class:"btn btn-continue float-end",onClick:e[18]||(e[18]=i=>a.editParticipation()),disabled:s.buttonDisable},v(s.buttonText),9,Ms)):(p(),u("a",{key:1,class:"btn btn-continue float-end",onClick:e[19]||(e[19]=i=>a.guardarBorrador()),disabled:s.buttonDisable}," Edit draft ",8,As))])]),S(d,{ref:"confirmation"},null,512),S(n,{ref:"alert"},null,512),s.showModalProgress?(p(),w(O,{key:0,progressYear:s.participationSc.progressReport,onClose:e[20]||(e[20]=i=>s.showModalProgress=!1),onSubmit:a.handleFormSubmit1},null,8,["progressYear","onSubmit"])):P("",!0)])])])])]),_:3})}const js=F(fe,[["render",qs]]),Ys={components:{modalver:A,modalcrear:he,modaleditar:js,modalconfirmacion:B,modalalerta:T},mixins:[C],data(){return{participationScEvents:null,participationScEvent:null,showDetailsParticipation:!1,showNewParticipation:!1,showEditParticipation:!1,participationEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getParticipations(this.userID)},methods:{verParticipation(s){this.participationScEvent=s,this.showDetailsParticipation=!0},descargarExtracto(s,e){g({url:`api/participationDownload/${s}`,method:"GET",responseType:"arraybuffer"}).then(c=>{let h=new Blob([c.data],{type:c.headers["content-type"]}),o=document.createElement("a");if(o.href=window.URL.createObjectURL(h),h.type.includes("pdf"))o.download=`Participation-${e}.pdf`;else if(h.type.includes("image"))o.download=`Participation-${e}.png`;else{console.error("Tipo de archivo no compatible");return}o.click()})},getParticipations(s){g.get(`api/participationScEvents/${s}`).then(e=>{this.participationScEvents=e.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#myTableParticipations")}).catch(e=>console.log(e))},recargarTabla(s){this.mostrarCarga=!0,s=="General"?(this.participationScEvents=null,this.getParticipations(this.userID)):this.crearTabla("#myTableParticipations")},editParticipation(s){this.participationEdit=s,this.showEditParticipation=!0},async deleteParticipation(s){await this.$refs.confirmation.show({title:"Delete Participation",message:"¿Are you sure you want to delete this Participation?.",okButton:"Delete",cancelButton:"Return"})&&g.delete(`api/participationScEvents/${s}`).then(c=>{this.toast.success("Participation successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))}}},Gs={class:"row mt-4 mx-4"},zs={class:"col-12"},Ws={class:"card mb-4"},Js={class:"row pb-0 p-4"},Ks={class:"col-12"},Xs={class:"d-flex justify-content-end"},Qs=t("i",{class:"fa-solid fa-rotate"},null,-1),Zs=[Qs],xs={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},ti={class:"container"},ei={class:"table-responsive p-0"},si={class:"loader-sm"},ii={class:"table align-items-center mb-0",id:"myTableParticipations"},oi=t("thead",null,[t("tr",{style:{color:"black"}},[t("th",{style:{"min-width":"16px"}}),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Event Name"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Start Date"),t("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ending Date")])],-1),ai=t("td",null,null,-1),ri={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ni={class:"align-middle text-end"},li={class:"d-flex px-3 py-1 justify-content-center align-items-center"},ci=["onClick"],pi=t("i",{class:"fa-solid fa-download"},null,-1),di=[pi],ui={key:1,class:"btn btn-grey btn-xs"},hi=t("i",{class:"fa-solid fa-download"},null,-1),fi=[hi],mi=["onClick"],gi=t("i",{class:"fa fa-fw fa-edit"},null,-1),bi=[gi],vi=["onClick"],_i=t("i",{class:"fa-regular fa-eye"},null,-1),yi=[_i],Si=["onClick"],Pi=t("i",{class:"fa fa-fw fa-trash"},null,-1),Oi=[Pi],$i={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#878686"}},wi={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},ki={class:"text-sm mb-0"},Ci={key:0,class:"text-sm mb-0"},Bi={key:1,class:"text-sm mb-0 truncate-text"},Ti={key:0,class:"text-sm mb-0"},Di={key:1,class:"text-sm mb-0"},Ei={key:0,class:"text-sm mb-0"},Fi={key:1,class:"text-sm mb-0"},Ri=q('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Hi(s,e,c,h,o,a){const r=_("modalconfirmacion"),d=_("modalalerta"),n=_("modalver"),O=_("modaleditar"),i=_("modalcrear");return p(),u("div",Gs,[t("div",zs,[t("div",Ws,[t("div",Js,[t("div",Ks,[t("div",Xs,[t("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:e[0]||(e[0]=l=>o.showNewParticipation=!0)},"New Participation"),y("   "),t("a",{class:"btn btn-spacing btn-search-blue",onClick:e[1]||(e[1]=l=>a.recargarTabla("General"))},Zs)])])]),t("div",xs,[t("div",ti,[t("div",ei,[m(t("div",si,null,512),[[R,o.mostrarCarga]]),m(t("table",ii,[oi,t("tbody",null,[(p(!0),u(D,null,E(o.participationScEvents,l=>(p(),u("tr",{key:l.id},[ai,t("td",null,[t("p",ri,v(l.id),1)]),t("td",ni,[t("div",li,[l.file!=null?(p(),u("a",{key:0,class:"btn btn-search-blue btn-xs",title:"Download File",onClick:f=>a.descargarExtracto(l.id,l.usuario.name)},di,8,ci)):(p(),u("a",ui,fi)),y("   "),t("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:f=>a.editParticipation(l)},bi,8,mi),y("   "),t("a",{class:"btn btn-success btn-xs",title:"Details",onClick:f=>a.verParticipation(l)},yi,8,vi),y("   "),t("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:f=>a.deleteParticipation(l.id)},Oi,8,Si)])]),t("td",null,[l.status=="Draft"?(p(),u("p",$i,v(l.status),1)):P("",!0),l.status=="Finished"?(p(),u("p",wi,v(l.status),1)):P("",!0)]),t("td",null,[t("p",ki,v(l.usuario.name),1)]),t("td",null,[l.eventName==null?(p(),u("p",Ci,"---")):(p(),u("p",Bi,v(l.eventName),1))]),t("td",null,[l.startDate==null?(p(),u("p",Ti,"---")):(p(),u("p",Di,v(l.startDate),1))]),t("td",null,[l.endingDate==null?(p(),u("p",Ei,"---")):(p(),u("p",Fi,v(l.endingDate),1))])]))),128))])],512),[[R,o.mostrarTabla]]),Ri])])])]),S(r,{ref:"confirmation"},null,512),S(d,{ref:"alert"},null,512),o.showDetailsParticipation?(p(),w(n,{key:0,participation1:o.participationScEvent,onClose:e[2]||(e[2]=l=>o.showDetailsParticipation=!1)},null,8,["participation1"])):P("",!0),o.showEditParticipation?(p(),w(O,{key:1,participation1:o.participationEdit,onClose:e[3]||(e[3]=l=>o.showEditParticipation=!1),onRecarga:e[4]||(e[4]=l=>a.recargarTabla("General"))},null,8,["participation1"])):P("",!0),o.showNewParticipation?(p(),w(i,{key:2,onClose:e[5]||(e[5]=l=>o.showNewParticipation=!1),onRecarga:e[6]||(e[6]=l=>a.recargarTabla("General"))})):P("",!0)])])}const ji=F(Ys,[["render",Hi]]);export{ji as default};
