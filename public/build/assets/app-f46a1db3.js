import{o as l,c as r,a as e,b as m,m as It,w as Gt,n as de,F as P,r as E,d as C,e as Cs,f as p,t as i,g as Ee,h as ct,i as _e,j as te,k as Me,l as Ct,p as Hs,q as y,s as x,u as T,v as ve,x as I,T as G,y as V,z as ot,A as f,B as k,C as A,D as ne,E as H,G as we,H as pe,I as Ro,J as Ao}from"./mixins-c0b9ec59.js";const Fo={install:(t,s)=>{t.config.globalProperties.can=function(a){if(window.Laravel.jsPermissions==0)return!1;let c=window.Laravel.jsPermissions.permissions,n=!1;return Array.isArray(c)?(a.includes("|")?a.split("|").forEach(function(d){c.includes(d.trim())&&(n=!0)}):a.includes("&")?(n=!0,a.split("&").forEach(function(d){c.includes(d.trim())||(n=!1)})):n=c.includes(a.trim()),n):!1},t.config.globalProperties.is=function(a){if(window.Laravel.jsPermissions==0)return!1;let c=window.Laravel.jsPermissions.roles,n=!1;return Array.isArray(c)?(a.includes("|")?a.split("|").forEach(function(d){c.includes(d.trim())&&(n=!0)}):a.includes("&")?(n=!0,a.split("&").forEach(function(d){c.includes(d.trim())||(n=!1)})):n=c.includes(a.trim()),n):!1}}};function Is(t,s){return function(){return t.apply(s,arguments)}}const{toString:zo}=Object.prototype,{getPrototypeOf:as}=Object,Bt=(t=>s=>{const a=zo.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ze=t=>(t=t.toLowerCase(),s=>Bt(s)===t),Ot=t=>s=>typeof s===t,{isArray:at}=Array,dt=Ot("undefined");function Uo(t){return t!==null&&!dt(t)&&t.constructor!==null&&!dt(t.constructor)&&Oe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gs=ze("ArrayBuffer");function Vo(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Gs(t.buffer),s}const Lo=Ot("string"),Oe=Ot("function"),qs=Ot("number"),Mt=t=>t!==null&&typeof t=="object",jo=t=>t===!0||t===!1,wt=t=>{if(Bt(t)!=="object")return!1;const s=as(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},No=ze("Date"),Ho=ze("File"),Io=ze("Blob"),Go=ze("FileList"),qo=t=>Mt(t)&&Oe(t.pipe),Ko=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Oe(t.append)&&((s=Bt(t))==="formdata"||s==="object"&&Oe(t.toString)&&t.toString()==="[object FormData]"))},Xo=ze("URLSearchParams"),Jo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ut(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let c,n;if(typeof t!="object"&&(t=[t]),at(t))for(c=0,n=t.length;c<n;c++)s.call(null,t[c],c,t);else{const d=a?Object.getOwnPropertyNames(t):Object.keys(t),u=d.length;let g;for(c=0;c<u;c++)g=d[c],s.call(null,t[g],g,t)}}function Ks(t,s){s=s.toLowerCase();const a=Object.keys(t);let c=a.length,n;for(;c-- >0;)if(n=a[c],s===n.toLowerCase())return n;return null}const Xs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Js=t=>!dt(t)&&t!==Xs;function Qt(){const{caseless:t}=Js(this)&&this||{},s={},a=(c,n)=>{const d=t&&Ks(s,n)||n;wt(s[d])&&wt(c)?s[d]=Qt(s[d],c):wt(c)?s[d]=Qt({},c):at(c)?s[d]=c.slice():s[d]=c};for(let c=0,n=arguments.length;c<n;c++)arguments[c]&&ut(arguments[c],a);return s}const Zo=(t,s,a,{allOwnKeys:c}={})=>(ut(s,(n,d)=>{a&&Oe(n)?t[d]=Is(n,a):t[d]=n},{allOwnKeys:c}),t),Wo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yo=(t,s,a,c)=>{t.prototype=Object.create(s.prototype,c),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Qo=(t,s,a,c)=>{let n,d,u;const g={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),d=n.length;d-- >0;)u=n[d],(!c||c(u,t,s))&&!g[u]&&(s[u]=t[u],g[u]=!0);t=a!==!1&&as(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},ea=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const c=t.indexOf(s,a);return c!==-1&&c===a},ta=t=>{if(!t)return null;if(at(t))return t;let s=t.length;if(!qs(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},sa=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&as(Uint8Array)),oa=(t,s)=>{const c=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=c.next())&&!n.done;){const d=n.value;s.call(t,d[0],d[1])}},aa=(t,s)=>{let a;const c=[];for(;(a=t.exec(s))!==null;)c.push(a);return c},la=ze("HTMLFormElement"),ia=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,c,n){return c.toUpperCase()+n}),ws=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),ra=ze("RegExp"),Zs=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),c={};ut(a,(n,d)=>{s(n,d,t)!==!1&&(c[d]=n)}),Object.defineProperties(t,c)},na=t=>{Zs(t,(s,a)=>{if(Oe(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const c=t[a];if(Oe(c)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},da=(t,s)=>{const a={},c=n=>{n.forEach(d=>{a[d]=!0})};return at(t)?c(t):c(String(t).split(s)),a},ca=()=>{},ua=(t,s)=>(t=+t,Number.isFinite(t)?t:s),qt="abcdefghijklmnopqrstuvwxyz",ks="0123456789",Ws={DIGIT:ks,ALPHA:qt,ALPHA_DIGIT:qt+qt.toUpperCase()+ks},ha=(t=16,s=Ws.ALPHA_DIGIT)=>{let a="";const{length:c}=s;for(;t--;)a+=s[Math.random()*c|0];return a};function ma(t){return!!(t&&Oe(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const pa=t=>{const s=new Array(10),a=(c,n)=>{if(Mt(c)){if(s.indexOf(c)>=0)return;if(!("toJSON"in c)){s[n]=c;const d=at(c)?[]:{};return ut(c,(u,g)=>{const o=a(u,n+1);!dt(o)&&(d[g]=o)}),s[n]=void 0,d}}return c};return a(t,0)},fa=ze("AsyncFunction"),ba=t=>t&&(Mt(t)||Oe(t))&&Oe(t.then)&&Oe(t.catch),L={isArray:at,isArrayBuffer:Gs,isBuffer:Uo,isFormData:Ko,isArrayBufferView:Vo,isString:Lo,isNumber:qs,isBoolean:jo,isObject:Mt,isPlainObject:wt,isUndefined:dt,isDate:No,isFile:Ho,isBlob:Io,isRegExp:ra,isFunction:Oe,isStream:qo,isURLSearchParams:Xo,isTypedArray:sa,isFileList:Go,forEach:ut,merge:Qt,extend:Zo,trim:Jo,stripBOM:Wo,inherits:Yo,toFlatObject:Qo,kindOf:Bt,kindOfTest:ze,endsWith:ea,toArray:ta,forEachEntry:oa,matchAll:aa,isHTMLForm:la,hasOwnProperty:ws,hasOwnProp:ws,reduceDescriptors:Zs,freezeMethods:na,toObjectSet:da,toCamelCase:ia,noop:ca,toFiniteNumber:ua,findKey:Ks,global:Xs,isContextDefined:Js,ALPHABET:Ws,generateString:ha,isSpecCompliantForm:ma,toJSONObject:pa,isAsyncFn:fa,isThenable:ba};function ie(t,s,a,c,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),c&&(this.request=c),n&&(this.response=n)}L.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ys=ie.prototype,Qs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qs[t]={value:t}});Object.defineProperties(ie,Qs);Object.defineProperty(Ys,"isAxiosError",{value:!0});ie.from=(t,s,a,c,n,d)=>{const u=Object.create(Ys);return L.toFlatObject(t,u,function(o){return o!==Error.prototype},g=>g!=="isAxiosError"),ie.call(u,t.message,s,a,c,n),u.cause=t,u.name=t.name,d&&Object.assign(u,d),u};const ga=null;function es(t){return L.isPlainObject(t)||L.isArray(t)}function eo(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function xs(t,s,a){return t?t.concat(s).map(function(n,d){return n=eo(n),!a&&d?"["+n+"]":n}).join(a?".":""):s}function _a(t){return L.isArray(t)&&!t.some(es)}const va=L.toFlatObject(L,{},null,function(s){return/^is[A-Z]/.test(s)});function St(t,s,a){if(!L.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=L.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,J){return!L.isUndefined(J[R])});const c=a.metaTokens,n=a.visitor||b,d=a.dots,u=a.indexes,o=(a.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(s);if(!L.isFunction(n))throw new TypeError("visitor must be a function");function h(F){if(F===null)return"";if(L.isDate(F))return F.toISOString();if(!o&&L.isBlob(F))throw new ie("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(F)||L.isTypedArray(F)?o&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function b(F,R,J){let X=F;if(F&&!J&&typeof F=="object"){if(L.endsWith(R,"{}"))R=c?R:R.slice(0,-2),F=JSON.stringify(F);else if(L.isArray(F)&&_a(F)||(L.isFileList(F)||L.endsWith(R,"[]"))&&(X=L.toArray(F)))return R=eo(R),X.forEach(function(w,Y){!(L.isUndefined(w)||w===null)&&s.append(u===!0?xs([R],Y,d):u===null?R:R+"[]",h(w))}),!1}return es(F)?!0:(s.append(xs(J,R,d),h(F)),!1)}const v=[],z=Object.assign(va,{defaultVisitor:b,convertValue:h,isVisitable:es});function S(F,R){if(!L.isUndefined(F)){if(v.indexOf(F)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(F),L.forEach(F,function(X,B){(!(L.isUndefined(X)||X===null)&&n.call(s,X,L.isString(B)?B.trim():B,R,z))===!0&&S(X,R?R.concat(B):[B])}),v.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return S(t),s}function Ps(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(c){return s[c]})}function ls(t,s){this._pairs=[],t&&St(t,this,s)}const to=ls.prototype;to.append=function(s,a){this._pairs.push([s,a])};to.toString=function(s){const a=s?function(c){return s.call(this,c,Ps)}:Ps;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function $a(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function so(t,s,a){if(!s)return t;const c=a&&a.encode||$a,n=a&&a.serialize;let d;if(n?d=n(s,a):d=L.isURLSearchParams(s)?s.toString():new ls(s,a).toString(c),d){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class ya{constructor(){this.handlers=[]}use(s,a,c){return this.handlers.push({fulfilled:s,rejected:a,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){L.forEach(this.handlers,function(c){c!==null&&s(c)})}}const Es=ya,oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ca=typeof URLSearchParams<"u"?URLSearchParams:ls,wa=typeof FormData<"u"?FormData:null,ka=typeof Blob<"u"?Blob:null,xa=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Pa=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fe={isBrowser:!0,classes:{URLSearchParams:Ca,FormData:wa,Blob:ka},isStandardBrowserEnv:xa,isStandardBrowserWebWorkerEnv:Pa,protocols:["http","https","file","blob","url","data"]};function Ea(t,s){return St(t,new Fe.classes.URLSearchParams,Object.assign({visitor:function(a,c,n,d){return Fe.isNode&&L.isBuffer(a)?(this.append(c,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},s))}function Ta(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Da(t){const s={},a=Object.keys(t);let c;const n=a.length;let d;for(c=0;c<n;c++)d=a[c],s[d]=t[d];return s}function ao(t){function s(a,c,n,d){let u=a[d++];const g=Number.isFinite(+u),o=d>=a.length;return u=!u&&L.isArray(n)?n.length:u,o?(L.hasOwnProp(n,u)?n[u]=[n[u],c]:n[u]=c,!g):((!n[u]||!L.isObject(n[u]))&&(n[u]=[]),s(a,c,n[u],d)&&L.isArray(n[u])&&(n[u]=Da(n[u])),!g)}if(L.isFormData(t)&&L.isFunction(t.entries)){const a={};return L.forEachEntry(t,(c,n)=>{s(Ta(c),n,a,0)}),a}return null}const Ba={"Content-Type":void 0};function Oa(t,s,a){if(L.isString(t))try{return(s||JSON.parse)(t),L.trim(t)}catch(c){if(c.name!=="SyntaxError")throw c}return(a||JSON.stringify)(t)}const Rt={transitional:oo,adapter:["xhr","http"],transformRequest:[function(s,a){const c=a.getContentType()||"",n=c.indexOf("application/json")>-1,d=L.isObject(s);if(d&&L.isHTMLForm(s)&&(s=new FormData(s)),L.isFormData(s))return n&&n?JSON.stringify(ao(s)):s;if(L.isArrayBuffer(s)||L.isBuffer(s)||L.isStream(s)||L.isFile(s)||L.isBlob(s))return s;if(L.isArrayBufferView(s))return s.buffer;if(L.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let g;if(d){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Ea(s,this.formSerializer).toString();if((g=L.isFileList(s))||c.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return St(g?{"files[]":s}:s,o&&new o,this.formSerializer)}}return d||n?(a.setContentType("application/json",!1),Oa(s)):s}],transformResponse:[function(s){const a=this.transitional||Rt.transitional,c=a&&a.forcedJSONParsing,n=this.responseType==="json";if(s&&L.isString(s)&&(c&&!this.responseType||n)){const u=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(g){if(u)throw g.name==="SyntaxError"?ie.from(g,ie.ERR_BAD_RESPONSE,this,null,this.response):g}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(s){Rt.headers[s]={}});L.forEach(["post","put","patch"],function(s){Rt.headers[s]=L.merge(Ba)});const is=Rt,Ma=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sa=t=>{const s={};let a,c,n;return t&&t.split(`
`).forEach(function(u){n=u.indexOf(":"),a=u.substring(0,n).trim().toLowerCase(),c=u.substring(n+1).trim(),!(!a||s[a]&&Ma[a])&&(a==="set-cookie"?s[a]?s[a].push(c):s[a]=[c]:s[a]=s[a]?s[a]+", "+c:c)}),s},Ts=Symbol("internals");function rt(t){return t&&String(t).trim().toLowerCase()}function kt(t){return t===!1||t==null?t:L.isArray(t)?t.map(kt):String(t)}function Ra(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=a.exec(t);)s[c[1]]=c[2];return s}const Aa=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kt(t,s,a,c,n){if(L.isFunction(c))return c.call(this,s,a);if(n&&(s=a),!!L.isString(s)){if(L.isString(c))return s.indexOf(c)!==-1;if(L.isRegExp(c))return c.test(s)}}function Fa(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,c)=>a.toUpperCase()+c)}function za(t,s){const a=L.toCamelCase(" "+s);["get","set","has"].forEach(c=>{Object.defineProperty(t,c+a,{value:function(n,d,u){return this[c].call(this,s,n,d,u)},configurable:!0})})}class At{constructor(s){s&&this.set(s)}set(s,a,c){const n=this;function d(g,o,h){const b=rt(o);if(!b)throw new Error("header name must be a non-empty string");const v=L.findKey(n,b);(!v||n[v]===void 0||h===!0||h===void 0&&n[v]!==!1)&&(n[v||o]=kt(g))}const u=(g,o)=>L.forEach(g,(h,b)=>d(h,b,o));return L.isPlainObject(s)||s instanceof this.constructor?u(s,a):L.isString(s)&&(s=s.trim())&&!Aa(s)?u(Sa(s),a):s!=null&&d(a,s,c),this}get(s,a){if(s=rt(s),s){const c=L.findKey(this,s);if(c){const n=this[c];if(!a)return n;if(a===!0)return Ra(n);if(L.isFunction(a))return a.call(this,n,c);if(L.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=rt(s),s){const c=L.findKey(this,s);return!!(c&&this[c]!==void 0&&(!a||Kt(this,this[c],c,a)))}return!1}delete(s,a){const c=this;let n=!1;function d(u){if(u=rt(u),u){const g=L.findKey(c,u);g&&(!a||Kt(c,c[g],g,a))&&(delete c[g],n=!0)}}return L.isArray(s)?s.forEach(d):d(s),n}clear(s){const a=Object.keys(this);let c=a.length,n=!1;for(;c--;){const d=a[c];(!s||Kt(this,this[d],d,s,!0))&&(delete this[d],n=!0)}return n}normalize(s){const a=this,c={};return L.forEach(this,(n,d)=>{const u=L.findKey(c,d);if(u){a[u]=kt(n),delete a[d];return}const g=s?Fa(d):String(d).trim();g!==d&&delete a[d],a[g]=kt(n),c[g]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return L.forEach(this,(c,n)=>{c!=null&&c!==!1&&(a[n]=s&&L.isArray(c)?c.join(", "):c)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const c=new this(s);return a.forEach(n=>c.set(n)),c}static accessor(s){const c=(this[Ts]=this[Ts]={accessors:{}}).accessors,n=this.prototype;function d(u){const g=rt(u);c[g]||(za(n,u),c[g]=!0)}return L.isArray(s)?s.forEach(d):d(s),this}}At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(At.prototype);L.freezeMethods(At);const Ie=At;function Xt(t,s){const a=this||is,c=s||a,n=Ie.from(c.headers);let d=c.data;return L.forEach(t,function(g){d=g.call(a,d,n.normalize(),s?s.status:void 0)}),n.normalize(),d}function lo(t){return!!(t&&t.__CANCEL__)}function ht(t,s,a){ie.call(this,t??"canceled",ie.ERR_CANCELED,s,a),this.name="CanceledError"}L.inherits(ht,ie,{__CANCEL__:!0});function Ua(t,s,a){const c=a.config.validateStatus;!a.status||!c||c(a.status)?t(a):s(new ie("Request failed with status code "+a.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const Va=Fe.isStandardBrowserEnv?function(){return{write:function(a,c,n,d,u,g){const o=[];o.push(a+"="+encodeURIComponent(c)),L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(d)&&o.push("path="+d),L.isString(u)&&o.push("domain="+u),g===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(a){const c=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function La(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ja(t,s){return s?t.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):t}function io(t,s){return t&&!La(s)?ja(t,s):s}const Na=Fe.isStandardBrowserEnv?function(){const s=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let c;function n(d){let u=d;return s&&(a.setAttribute("href",u),u=a.href),a.setAttribute("href",u),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return c=n(window.location.href),function(u){const g=L.isString(u)?n(u):u;return g.protocol===c.protocol&&g.host===c.host}}():function(){return function(){return!0}}();function Ha(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Ia(t,s){t=t||10;const a=new Array(t),c=new Array(t);let n=0,d=0,u;return s=s!==void 0?s:1e3,function(o){const h=Date.now(),b=c[d];u||(u=h),a[n]=o,c[n]=h;let v=d,z=0;for(;v!==n;)z+=a[v++],v=v%t;if(n=(n+1)%t,n===d&&(d=(d+1)%t),h-u<s)return;const S=b&&h-b;return S?Math.round(z*1e3/S):void 0}}function Ds(t,s){let a=0;const c=Ia(50,250);return n=>{const d=n.loaded,u=n.lengthComputable?n.total:void 0,g=d-a,o=c(g),h=d<=u;a=d;const b={loaded:d,total:u,progress:u?d/u:void 0,bytes:g,rate:o||void 0,estimated:o&&u&&h?(u-d)/o:void 0,event:n};b[s?"download":"upload"]=!0,t(b)}}const Ga=typeof XMLHttpRequest<"u",qa=Ga&&function(t){return new Promise(function(a,c){let n=t.data;const d=Ie.from(t.headers).normalize(),u=t.responseType;let g;function o(){t.cancelToken&&t.cancelToken.unsubscribe(g),t.signal&&t.signal.removeEventListener("abort",g)}L.isFormData(n)&&(Fe.isStandardBrowserEnv||Fe.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.setContentType("multipart/form-data;",!1));let h=new XMLHttpRequest;if(t.auth){const S=t.auth.username||"",F=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.set("Authorization","Basic "+btoa(S+":"+F))}const b=io(t.baseURL,t.url);h.open(t.method.toUpperCase(),so(b,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function v(){if(!h)return;const S=Ie.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:t,request:h};Ua(function(X){a(X),o()},function(X){c(X),o()},R),h=null}if("onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){h&&(c(new ie("Request aborted",ie.ECONNABORTED,t,h)),h=null)},h.onerror=function(){c(new ie("Network Error",ie.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let F=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||oo;t.timeoutErrorMessage&&(F=t.timeoutErrorMessage),c(new ie(F,R.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,t,h)),h=null},Fe.isStandardBrowserEnv){const S=(t.withCredentials||Na(b))&&t.xsrfCookieName&&Va.read(t.xsrfCookieName);S&&d.set(t.xsrfHeaderName,S)}n===void 0&&d.setContentType(null),"setRequestHeader"in h&&L.forEach(d.toJSON(),function(F,R){h.setRequestHeader(R,F)}),L.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),u&&u!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Ds(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ds(t.onUploadProgress)),(t.cancelToken||t.signal)&&(g=S=>{h&&(c(!S||S.type?new ht(null,t,h):S),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(g),t.signal&&(t.signal.aborted?g():t.signal.addEventListener("abort",g)));const z=Ha(b);if(z&&Fe.protocols.indexOf(z)===-1){c(new ie("Unsupported protocol "+z+":",ie.ERR_BAD_REQUEST,t));return}h.send(n||null)})},xt={http:ga,xhr:qa};L.forEach(xt,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Ka={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:s}=t;let a,c;for(let n=0;n<s&&(a=t[n],!(c=L.isString(a)?xt[a.toLowerCase()]:a));n++);if(!c)throw c===!1?new ie(`Adapter ${a} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(xt,a)?`Adapter '${a}' is not available in the build`:`Unknown adapter '${a}'`);if(!L.isFunction(c))throw new TypeError("adapter is not a function");return c},adapters:xt};function Jt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ht(null,t)}function Bs(t){return Jt(t),t.headers=Ie.from(t.headers),t.data=Xt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ka.getAdapter(t.adapter||is.adapter)(t).then(function(c){return Jt(t),c.data=Xt.call(t,t.transformResponse,c),c.headers=Ie.from(c.headers),c},function(c){return lo(c)||(Jt(t),c&&c.response&&(c.response.data=Xt.call(t,t.transformResponse,c.response),c.response.headers=Ie.from(c.response.headers))),Promise.reject(c)})}const Os=t=>t instanceof Ie?t.toJSON():t;function st(t,s){s=s||{};const a={};function c(h,b,v){return L.isPlainObject(h)&&L.isPlainObject(b)?L.merge.call({caseless:v},h,b):L.isPlainObject(b)?L.merge({},b):L.isArray(b)?b.slice():b}function n(h,b,v){if(L.isUndefined(b)){if(!L.isUndefined(h))return c(void 0,h,v)}else return c(h,b,v)}function d(h,b){if(!L.isUndefined(b))return c(void 0,b)}function u(h,b){if(L.isUndefined(b)){if(!L.isUndefined(h))return c(void 0,h)}else return c(void 0,b)}function g(h,b,v){if(v in s)return c(h,b);if(v in t)return c(void 0,h)}const o={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:g,headers:(h,b)=>n(Os(h),Os(b),!0)};return L.forEach(Object.keys(Object.assign({},t,s)),function(b){const v=o[b]||n,z=v(t[b],s[b],b);L.isUndefined(z)&&v!==g||(a[b]=z)}),a}const ro="1.4.0",rs={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{rs[t]=function(c){return typeof c===t||"a"+(s<1?"n ":" ")+t}});const Ms={};rs.transitional=function(s,a,c){function n(d,u){return"[Axios v"+ro+"] Transitional option '"+d+"'"+u+(c?". "+c:"")}return(d,u,g)=>{if(s===!1)throw new ie(n(u," has been removed"+(a?" in "+a:"")),ie.ERR_DEPRECATED);return a&&!Ms[u]&&(Ms[u]=!0,console.warn(n(u," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(d,u,g):!0}};function Xa(t,s,a){if(typeof t!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const c=Object.keys(t);let n=c.length;for(;n-- >0;){const d=c[n],u=s[d];if(u){const g=t[d],o=g===void 0||u(g,d,t);if(o!==!0)throw new ie("option "+d+" must be "+o,ie.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ie("Unknown option "+d,ie.ERR_BAD_OPTION)}}const ts={assertOptions:Xa,validators:rs},Xe=ts.validators;class Et{constructor(s){this.defaults=s,this.interceptors={request:new Es,response:new Es}}request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=st(this.defaults,a);const{transitional:c,paramsSerializer:n,headers:d}=a;c!==void 0&&ts.assertOptions(c,{silentJSONParsing:Xe.transitional(Xe.boolean),forcedJSONParsing:Xe.transitional(Xe.boolean),clarifyTimeoutError:Xe.transitional(Xe.boolean)},!1),n!=null&&(L.isFunction(n)?a.paramsSerializer={serialize:n}:ts.assertOptions(n,{encode:Xe.function,serialize:Xe.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u;u=d&&L.merge(d.common,d[a.method]),u&&L.forEach(["delete","get","head","post","put","patch","common"],F=>{delete d[F]}),a.headers=Ie.concat(u,d);const g=[];let o=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(a)===!1||(o=o&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let b,v=0,z;if(!o){const F=[Bs.bind(this),void 0];for(F.unshift.apply(F,g),F.push.apply(F,h),z=F.length,b=Promise.resolve(a);v<z;)b=b.then(F[v++],F[v++]);return b}z=g.length;let S=a;for(v=0;v<z;){const F=g[v++],R=g[v++];try{S=F(S)}catch(J){R.call(this,J);break}}try{b=Bs.call(this,S)}catch(F){return Promise.reject(F)}for(v=0,z=h.length;v<z;)b=b.then(h[v++],h[v++]);return b}getUri(s){s=st(this.defaults,s);const a=io(s.baseURL,s.url);return so(a,s.params,s.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(s){Et.prototype[s]=function(a,c){return this.request(st(c||{},{method:s,url:a,data:(c||{}).data}))}});L.forEach(["post","put","patch"],function(s){function a(c){return function(d,u,g){return this.request(st(g||{},{method:s,headers:c?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}Et.prototype[s]=a(),Et.prototype[s+"Form"]=a(!0)});const Pt=Et;class ns{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const c=this;this.promise.then(n=>{if(!c._listeners)return;let d=c._listeners.length;for(;d-- >0;)c._listeners[d](n);c._listeners=null}),this.promise.then=n=>{let d;const u=new Promise(g=>{c.subscribe(g),d=g}).then(n);return u.cancel=function(){c.unsubscribe(d)},u},s(function(d,u,g){c.reason||(c.reason=new ht(d,u,g),a(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}static source(){let s;return{token:new ns(function(n){s=n}),cancel:s}}}const Ja=ns;function Za(t){return function(a){return t.apply(null,a)}}function Wa(t){return L.isObject(t)&&t.isAxiosError===!0}const ss={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ss).forEach(([t,s])=>{ss[s]=t});const Ya=ss;function no(t){const s=new Pt(t),a=Is(Pt.prototype.request,s);return L.extend(a,Pt.prototype,s,{allOwnKeys:!0}),L.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return no(st(t,n))},a}const ge=no(is);ge.Axios=Pt;ge.CanceledError=ht;ge.CancelToken=Ja;ge.isCancel=lo;ge.VERSION=ro;ge.toFormData=St;ge.AxiosError=ie;ge.Cancel=ge.CanceledError;ge.all=function(s){return Promise.all(s)};ge.spread=Za;ge.isAxiosError=Wa;ge.mergeConfig=st;ge.AxiosHeaders=Ie;ge.formToJSON=t=>ao(L.isHTMLForm(t)?new FormData(t):t);ge.HttpStatusCode=Ya;ge.default=ge;const _=ge;function Ae(t){return[null,void 0].indexOf(t)!==-1}function Qa(t,s,a){const{object:c,valueProp:n,mode:d}=Ee(t),u=ct().proxy,g=a.iv,o=(v,z=!0)=>{g.value=b(v);const S=h(v);s.emit("change",S,u),z&&(s.emit("input",S),s.emit("update:modelValue",S))},h=v=>c.value||Ae(v)?v:Array.isArray(v)?v.map(z=>z[n.value]):v[n.value],b=v=>Ae(v)?d.value==="single"?{}:[]:v;return{update:o}}function el(t,s){const{value:a,modelValue:c,mode:n,valueProp:d}=Ee(t),u=_e(n.value!=="single"?[]:{}),g=c&&c.value!==void 0?c:a,o=te(()=>n.value==="single"?u.value[d.value]:u.value.map(b=>b[d.value])),h=te(()=>n.value!=="single"?u.value.map(b=>b[d.value]).join(","):u.value[d.value]);return{iv:u,internalValue:u,ev:g,externalValue:g,textValue:h,plainValue:o}}function tl(t,s,a){const{regex:c}=Ee(t),n=ct().proxy,d=a.isOpen,u=a.open,g=_e(null),o=_e(null),h=()=>{g.value=""},b=S=>{g.value=S.target.value},v=S=>{if(c&&c.value){let F=c.value;typeof F=="string"&&(F=new RegExp(F)),S.key.match(F)||S.preventDefault()}},z=S=>{if(c&&c.value){let R=(S.clipboardData||window.clipboardData).getData("Text"),J=c.value;typeof J=="string"&&(J=new RegExp(J)),R.split("").every(X=>!!X.match(J))||S.preventDefault()}s.emit("paste",S,n)};return Me(g,S=>{!d.value&&S&&u(),s.emit("search-change",S,n)}),{search:g,input:o,clearSearch:h,handleSearchInput:b,handleKeypress:v,handlePaste:z}}function sl(t,s,a){const{groupSelect:c,mode:n,groups:d,disabledProp:u}=Ee(t),g=_e(null),o=b=>{b===void 0||b!==null&&b[u.value]||d.value&&b&&b.group&&(n.value==="single"||!c.value)||(g.value=b)};return{pointer:g,setPointer:o,clearPointer:()=>{o(null)}}}function Zt(t,s=!0){return s?String(t).toLowerCase().trim():String(t).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function ol(t){return Object.prototype.toString.call(t)==="[object Object]"}function al(t,s){const a=s.slice().sort();return t.length===s.length&&t.slice().sort().every(function(c,n){return c===a[n]})}function ll(t,s,a){const{options:c,mode:n,trackBy:d,limit:u,hideSelected:g,createTag:o,createOption:h,label:b,appendNewTag:v,appendNewOption:z,multipleLabel:S,object:F,loading:R,delay:J,resolveOnLoad:X,minChars:B,filterResults:w,clearOnSearch:Y,clearOnSelect:ce,valueProp:M,allowAbsent:se,groupLabel:O,canDeselect:W,max:$e,strict:ke,closeOnSelect:Q,closeOnDeselect:ae,groups:xe,reverse:Te,infinite:Ge,groupOptions:fe,groupHideEmpty:Ze,groupSelect:re,onCreate:ue,disabledProp:he,searchStart:Se,searchFilter:Ve}=Ee(t),be=ct().proxy,le=a.iv,q=a.ev,ee=a.search,ye=a.clearSearch,De=a.update,pt=a.pointer,Le=a.clearPointer,ft=a.focus,hs=a.deactivate,Be=a.close,bt=a.localize,qe=_e([]),Ce=_e([]),Pe=_e(!1),je=_e(null),Ft=_e(Ge.value&&u.value===-1?10:u.value),ms=te(()=>o.value||h.value||!1),bo=te(()=>v.value!==void 0?v.value:z.value!==void 0?z.value:!0),Ke=te(()=>{if(xe.value){let D=gt.value||[],K=[];return D.forEach(oe=>{Nt(oe[fe.value]).forEach(me=>{K.push(Object.assign({},me,oe[he.value]?{[he.value]:!0}:{}))})}),K}else{let D=Nt(Ce.value||[]);return qe.value.length&&(D=D.concat(qe.value)),D}}),ps=te(()=>{let D=Ke.value;return Te.value&&(D=D.reverse()),Qe.value.length&&(D=Qe.value.concat(D)),jt(D)}),lt=te(()=>{let D=ps.value;return Ft.value>0&&(D=D.slice(0,Ft.value)),D}),gt=te(()=>{if(!xe.value)return[];let D=[],K=Ce.value||[];return qe.value.length&&D.push({[O.value]:" ",[fe.value]:[...qe.value],__CREATE__:!0}),D.concat(K)}),go=te(()=>{let D=[...gt.value].map(K=>({...K}));return Qe.value.length&&(D[0]&&D[0].__CREATE__?D[0][fe.value]=[...Qe.value,...D[0][fe.value]]:D=[{[O.value]:" ",[fe.value]:[...Qe.value],__CREATE__:!0}].concat(D)),D}),fs=te(()=>{if(!xe.value)return[];let D=go.value;return Mo((D||[]).map((K,oe)=>{const me=Nt(K[fe.value]);return{...K,index:oe,group:!0,[fe.value]:jt(me,!1).map(it=>Object.assign({},it,K[he.value]?{[he.value]:!0}:{})),__VISIBLE__:jt(me).map(it=>Object.assign({},it,K[he.value]?{[he.value]:!0}:{}))}}))}),zt=te(()=>{switch(n.value){case"single":return!Ae(le.value[M.value]);case"multiple":case"tags":return!Ae(le.value)&&le.value.length>0}}),_o=te(()=>S!==void 0&&S.value!==void 0?S.value(le.value,be):le.value&&le.value.length>1?`${le.value.length} options selected`:"1 option selected"),vo=te(()=>!Ke.value.length&&!Pe.value&&!Qe.value.length),$o=te(()=>Ke.value.length>0&&lt.value.length==0&&(ee.value&&xe.value||!xe.value)),Qe=te(()=>ms.value===!1||!ee.value?[]:Do(ee.value)!==-1?[]:[{[M.value]:ee.value,[Re.value]:ee.value,[b.value]:ee.value,__CREATE__:!0}]),Re=te(()=>d.value||b.value),yo=te(()=>{switch(n.value){case"single":return null;case"multiple":case"tags":return[]}}),Co=te(()=>R.value||Pe.value),et=D=>{switch(typeof D!="object"&&(D=He(D)),n.value){case"single":De(D);break;case"multiple":case"tags":De(le.value.concat(D));break}s.emit("select",bs(D),D,be)},tt=D=>{switch(typeof D!="object"&&(D=He(D)),n.value){case"single":_s();break;case"tags":case"multiple":De(Array.isArray(D)?le.value.filter(K=>D.map(oe=>oe[M.value]).indexOf(K[M.value])===-1):le.value.filter(K=>K[M.value]!=D[M.value]));break}s.emit("deselect",bs(D),D,be)},bs=D=>F.value?D:D[M.value],gs=D=>{tt(D)},wo=(D,K)=>{if(K.button!==0){K.preventDefault();return}gs(D)},_s=()=>{s.emit("clear",be),De(yo.value)},Ne=D=>{if(D.group!==void 0)return n.value==="single"?!1:To(D[fe.value])&&D[fe.value].length;switch(n.value){case"single":return!Ae(le.value)&&le.value[M.value]==D[M.value];case"tags":case"multiple":return!Ae(le.value)&&le.value.map(K=>K[M.value]).indexOf(D[M.value])!==-1}},Ut=D=>D[he.value]===!0,Vt=()=>$e===void 0||$e.value===-1||!zt.value&&$e.value>0?!1:le.value.length>=$e.value,ko=D=>{if(!Ut(D)){if(ue&&ue.value&&!Ne(D)&&D.__CREATE__&&(D={...D},delete D.__CREATE__,D=ue.value(D,be),D instanceof Promise)){Pe.value=!0,D.then(K=>{Pe.value=!1,vs(K)});return}vs(D)}},vs=D=>{switch(D.__CREATE__&&(D={...D},delete D.__CREATE__),n.value){case"single":if(D&&Ne(D)){W.value&&tt(D),ae.value&&(Le(),Be());return}D&&Lt(D),ce.value&&ye(),Q.value&&(Le(),Be()),D&&et(D);break;case"multiple":if(D&&Ne(D)){tt(D),ae.value&&(Le(),Be());return}if(Vt()){s.emit("max",be);return}D&&(Lt(D),et(D)),ce.value&&ye(),g.value&&Le(),Q.value&&Be();break;case"tags":if(D&&Ne(D)){tt(D),ae.value&&(Le(),Be());return}if(Vt()){s.emit("max",be);return}D&&Lt(D),ce.value&&ye(),D&&et(D),g.value&&Le(),Q.value&&Be();break}Q.value||ft()},xo=D=>{if(!(Ut(D)||n.value==="single"||!re.value)){switch(n.value){case"multiple":case"tags":Eo(D[fe.value])?tt(D[fe.value]):et(D[fe.value].filter(K=>le.value.map(oe=>oe[M.value]).indexOf(K[M.value])===-1).filter(K=>!K[he.value]).filter((K,oe)=>le.value.length+1+oe<=$e.value||$e.value===-1));break}Q.value&&hs()}},Lt=D=>{He(D[M.value])===void 0&&ms.value&&(s.emit("tag",D[M.value],be),s.emit("option",D[M.value],be),s.emit("create",D[M.value],be),bo.value&&Oo(D),ye())},Po=()=>{n.value!=="single"&&et(lt.value.filter(D=>!D.disabled&&!Ne(D)))},Eo=D=>D.find(K=>!Ne(K)&&!K[he.value])===void 0,To=D=>D.find(K=>!Ne(K))===void 0,He=D=>Ke.value[Ke.value.map(K=>String(K[M.value])).indexOf(String(D))],Do=(D,K=!0)=>Ke.value.map(oe=>parseInt(oe[Re.value])==oe[Re.value]?parseInt(oe[Re.value]):oe[Re.value]).indexOf(parseInt(D)==D?parseInt(D):D),Bo=D=>["tags","multiple"].indexOf(n.value)!==-1&&g.value&&Ne(D),Oo=D=>{qe.value.push(D)},Mo=D=>Ze.value?D.filter(K=>ee.value?K.__VISIBLE__.length:K[fe.value].length):D.filter(K=>ee.value?K.__VISIBLE__.length:!0),jt=(D,K=!0)=>{let oe=D;if(ee.value&&w.value){let me=Ve.value;me||(me=(it,zWe)=>{let ys=Zt(bt(it[Re.value]),ke.value);return Se.value?ys.startsWith(Zt(ee.value,ke.value)):ys.indexOf(Zt(ee.value,ke.value))!==-1}),oe=oe.filter(me)}return g.value&&K&&(oe=oe.filter(me=>!Bo(me))),oe},Nt=D=>{let K=D;return ol(K)&&(K=Object.keys(K).map(oe=>{let me=K[oe];return{[M.value]:oe,[Re.value]:me,[b.value]:me}})),K=K.map(oe=>typeof oe=="object"?oe:{[M.value]:oe,[Re.value]:oe,[b.value]:oe}),K},_t=()=>{Ae(q.value)||(le.value=$t(q.value))},vt=D=>(Pe.value=!0,new Promise((K,oe)=>{c.value(ee.value,be).then(me=>{Ce.value=me||[],typeof D=="function"&&D(me),Pe.value=!1}).catch(me=>{console.error(me),Ce.value=[],Pe.value=!1}).finally(()=>{K()})})),Ht=()=>{if(zt.value)if(n.value==="single"){let D=He(le.value[M.value]);if(D!==void 0){let K=D[b.value];le.value[b.value]=K,F.value&&(q.value[b.value]=K)}}else le.value.forEach((D,K)=>{let oe=He(le.value[K][M.value]);if(oe!==void 0){let me=oe[b.value];le.value[K][b.value]=me,F.value&&(q.value[K][b.value]=me)}})},So=D=>{vt(D)},$t=D=>Ae(D)?n.value==="single"?{}:[]:F.value?D:n.value==="single"?He(D)||(se.value?{[b.value]:D,[M.value]:D,[Re.value]:D}:{}):D.filter(K=>!!He(K)||se.value).map(K=>He(K)||{[b.value]:K,[M.value]:K,[Re.value]:K}),$s=()=>{je.value=Me(ee,D=>{D.length<B.value||!D&&B.value!==0||(Pe.value=!0,Y.value&&(Ce.value=[]),setTimeout(()=>{D==ee.value&&c.value(ee.value,be).then(K=>{(D==ee.value||!ee.value)&&(Ce.value=K,pt.value=lt.value.filter(oe=>oe[he.value]!==!0)[0]||null,Pe.value=!1)}).catch(K=>{console.error(K)})},J.value))},{flush:"sync"})};if(n.value!=="single"&&!Ae(q.value)&&!Array.isArray(q.value))throw new Error(`v-model must be an array when using "${n.value}" mode`);return c&&typeof c.value=="function"?X.value?vt(_t):F.value==!0&&_t():(Ce.value=c.value,_t()),J.value>-1&&$s(),Me(J,(D,K)=>{je.value&&je.value(),D>=0&&$s()}),Me(q,D=>{if(Ae(D)){De($t(D),!1);return}switch(n.value){case"single":(F.value?D[M.value]!=le.value[M.value]:D!=le.value[M.value])&&De($t(D),!1);break;case"multiple":case"tags":al(F.value?D.map(K=>K[M.value]):D,le.value.map(K=>K[M.value]))||De($t(D),!1);break}},{deep:!0}),Me(c,(D,K)=>{typeof t.options=="function"?X.value&&(!K||D&&D.toString()!==K.toString())&&vt():(Ce.value=t.options,Object.keys(le.value).length||_t(),Ht())}),Me(b,Ht),{pfo:ps,fo:lt,filteredOptions:lt,hasSelected:zt,multipleLabelText:_o,eo:Ke,extendedOptions:Ke,eg:gt,extendedGroups:gt,fg:fs,filteredGroups:fs,noOptions:vo,noResults:$o,resolving:Pe,busy:Co,offset:Ft,select:et,deselect:tt,remove:gs,selectAll:Po,clear:_s,isSelected:Ne,isDisabled:Ut,isMax:Vt,getOption:He,handleOptionClick:ko,handleGroupClick:xo,handleTagRemove:wo,refreshOptions:So,resolveOptions:vt,refreshLabels:Ht}}function il(t,s,a){const{valueProp:c,showOptions:n,searchable:d,groupLabel:u,groups:g,mode:o,groupSelect:h,disabledProp:b,groupOptions:v}=Ee(t),z=a.fo,S=a.fg,F=a.handleOptionClick,R=a.handleGroupClick,J=a.search,X=a.pointer,B=a.setPointer,w=a.clearPointer,Y=a.multiselect,ce=a.isOpen,M=te(()=>z.value.filter(q=>!q[b.value])),se=te(()=>S.value.filter(q=>!q[b.value])),O=te(()=>o.value!=="single"&&h.value),W=te(()=>X.value&&X.value.group),$e=te(()=>be(X.value)),ke=te(()=>{const q=W.value?X.value:be(X.value),ee=se.value.map(De=>De[u.value]).indexOf(q[u.value]);let ye=se.value[ee-1];return ye===void 0&&(ye=ae.value),ye}),Q=te(()=>{let q=se.value.map(ee=>ee.label).indexOf(W.value?X.value[u.value]:be(X.value)[u.value])+1;return se.value.length<=q&&(q=0),se.value[q]}),ae=te(()=>[...se.value].slice(-1)[0]),xe=te(()=>X.value.__VISIBLE__.filter(q=>!q[b.value])[0]),Te=te(()=>{const q=$e.value.__VISIBLE__.filter(ee=>!ee[b.value]);return q[q.map(ee=>ee[c.value]).indexOf(X.value[c.value])-1]}),Ge=te(()=>{const q=be(X.value).__VISIBLE__.filter(ee=>!ee[b.value]);return q[q.map(ee=>ee[c.value]).indexOf(X.value[c.value])+1]}),fe=te(()=>[...ke.value.__VISIBLE__.filter(q=>!q[b.value])].slice(-1)[0]),Ze=te(()=>[...ae.value.__VISIBLE__.filter(q=>!q[b.value])].slice(-1)[0]),re=q=>X.value&&(!q.group&&X.value[c.value]===q[c.value]||q.group!==void 0&&X.value[u.value]===q[u.value])?!0:void 0,ue=()=>{B(M.value[0]||null)},he=()=>{!X.value||X.value[b.value]===!0||(W.value?R(X.value):F(X.value))},Se=()=>{if(X.value===null)B((g.value&&O.value?se.value[0].__CREATE__?M.value[0]:se.value[0]:M.value[0])||null);else if(g.value&&O.value){let q=W.value?xe.value:Ge.value;q===void 0&&(q=Q.value,q.__CREATE__&&(q=q[v.value][0])),B(q||null)}else{let q=M.value.map(ee=>ee[c.value]).indexOf(X.value[c.value])+1;M.value.length<=q&&(q=0),B(M.value[q]||null)}Ct(()=>{le()})},Ve=()=>{if(X.value===null){let q=M.value[M.value.length-1];g.value&&O.value&&(q=Ze.value,q===void 0&&(q=ae.value)),B(q||null)}else if(g.value&&O.value){let q=W.value?fe.value:Te.value;q===void 0&&(q=W.value?ke.value:$e.value,q.__CREATE__&&(q=fe.value,q===void 0&&(q=ke.value))),B(q||null)}else{let q=M.value.map(ee=>ee[c.value]).indexOf(X.value[c.value])-1;q<0&&(q=M.value.length-1),B(M.value[q]||null)}Ct(()=>{le()})},be=q=>se.value.find(ee=>ee.__VISIBLE__.map(ye=>ye[c.value]).indexOf(q[c.value])!==-1),le=()=>{let q=Y.value.querySelector("[data-pointed]");if(!q)return;let ee=q.parentElement.parentElement;g.value&&(ee=W.value?q.parentElement.parentElement.parentElement:q.parentElement.parentElement.parentElement.parentElement),q.offsetTop+q.offsetHeight>ee.clientHeight+ee.scrollTop&&(ee.scrollTop=q.offsetTop+q.offsetHeight-ee.clientHeight),q.offsetTop<ee.scrollTop&&(ee.scrollTop=q.offsetTop)};return Me(J,q=>{d.value&&(q.length&&n.value?ue():w())}),Me(ce,q=>{if(q){let ee=Y.value.querySelectorAll("[data-selected]")[0];if(!ee)return;let ye=ee.parentElement.parentElement;Ct(()=>{ye.scrollTop>0||(ye.scrollTop=ee.offsetTop)})}}),{pointer:X,canPointGroups:O,isPointed:re,setPointerFirst:ue,selectPointer:he,forwardPointer:Se,backwardPointer:Ve}}function rl(t,s,a){const{disabled:c}=Ee(t),n=ct().proxy,d=_e(!1);return{isOpen:d,open:()=>{d.value||c.value||(d.value=!0,s.emit("open",n))},close:()=>{d.value&&(d.value=!1,s.emit("close",n))}}}function nl(t,s,a){const{searchable:c,disabled:n,clearOnBlur:d}=Ee(t),u=a.input,g=a.open,o=a.close,h=a.clearSearch,b=a.isOpen,v=_e(null),z=_e(null),S=_e(null),F=_e(!1),R=_e(!1),J=te(()=>c.value||n.value?-1:0),X=()=>{c.value&&u.value.blur(),z.value.blur()},B=()=>{c.value&&!n.value&&u.value.focus()},w=(W=!0)=>{n.value||(F.value=!0,W&&g())},Y=()=>{F.value=!1,setTimeout(()=>{F.value||(o(),d.value&&h())},1)};return{multiselect:v,wrapper:z,tags:S,tabindex:J,isActive:F,mouseClicked:R,blur:X,focus:B,activate:w,deactivate:Y,handleFocusIn:W=>{W.target.closest("[data-tags]")&&W.target.nodeName!=="INPUT"||W.target.closest("[data-clear]")||w(R.value)},handleFocusOut:()=>{Y()},handleCaretClick:()=>{Y(),X()},handleMousedown:W=>{R.value=!0,b.value&&(W.target.isEqualNode(z.value)||W.target.isEqualNode(S.value))?setTimeout(()=>{Y()},0):document.activeElement.isEqualNode(z.value)&&!b.value&&w(),setTimeout(()=>{R.value=!1},0)}}}function dl(t,s,a){const{mode:c,addTagOn:n,openDirection:d,searchable:u,showOptions:g,valueProp:o,groups:h,addOptionOn:b,createTag:v,createOption:z,reverse:S}=Ee(t),F=ct().proxy,R=a.iv,J=a.update,X=a.search,B=a.setPointer,w=a.selectPointer,Y=a.backwardPointer,ce=a.forwardPointer,M=a.multiselect,se=a.wrapper,O=a.tags,W=a.isOpen,$e=a.open,ke=a.blur,Q=a.fo,ae=te(()=>v.value||z.value||!1),xe=te(()=>n.value!==void 0?n.value:b.value!==void 0?b.value:["enter"]),Te=()=>{c.value==="tags"&&!g.value&&ae.value&&u.value&&!h.value&&B(Q.value[Q.value.map(re=>re[o.value]).indexOf(X.value)])},Ge=re=>{let ue=re.length-1;for(;ue>=0&&(re[ue].remove===!1||re[ue].disabled);)ue--;return ue<0||re.splice(ue,1),re};return{handleKeydown:re=>{s.emit("keydown",re,F);let ue,he;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(re.key)!==-1&&c.value==="tags"&&(ue=[...M.value.querySelectorAll("[data-tags] > *")].filter(Se=>Se!==O.value),he=ue.findIndex(Se=>Se===document.activeElement)),re.key){case"Backspace":if(c.value==="single"||u.value&&[null,""].indexOf(X.value)===-1||R.value.length===0)return;J(Ge([...R.value]));break;case"Enter":if(re.preventDefault(),re.keyCode===229)return;if(he!==-1&&he!==void 0){J([...R.value].filter((Se,Ve)=>Ve!==he)),he===ue.length-1&&(ue.length-1?ue[ue.length-2].focus():u.value?O.value.querySelector("input").focus():se.value.focus());return}if(xe.value.indexOf("enter")===-1&&ae.value)return;Te(),w();break;case" ":if(!ae.value&&!u.value){re.preventDefault(),Te(),w();return}if(!ae.value)return!1;if(xe.value.indexOf("space")===-1&&ae.value)return;re.preventDefault(),Te(),w();break;case"Tab":case";":case",":if(xe.value.indexOf(re.key.toLowerCase())===-1||!ae.value)return;Te(),w(),re.preventDefault();break;case"Escape":ke();break;case"ArrowUp":if(re.preventDefault(),!g.value)return;W.value||$e(),Y();break;case"ArrowDown":if(re.preventDefault(),!g.value)return;W.value||$e(),ce();break;case"ArrowLeft":if(u.value&&O.value&&O.value.querySelector("input").selectionStart||re.shiftKey||c.value!=="tags"||!R.value||!R.value.length)return;re.preventDefault(),he===-1?ue[ue.length-1].focus():he>0&&ue[he-1].focus();break;case"ArrowRight":if(he===-1||re.shiftKey||c.value!=="tags"||!R.value||!R.value.length)return;re.preventDefault(),ue.length>he+1?ue[he+1].focus():u.value?O.value.querySelector("input").focus():u.value||se.value.focus();break}},handleKeyup:re=>{s.emit("keyup",re,F)},preparePointer:Te}}function cl(t,s,a){const{classes:c,disabled:n,openDirection:d,showOptions:u}=Ee(t),g=a.isOpen,o=a.isPointed,h=a.isSelected,b=a.isDisabled,v=a.isActive,z=a.canPointGroups,S=a.resolving,F=a.fo,R=te(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...c.value})),J=te(()=>!!(g.value&&u.value&&(!S.value||S.value&&F.value.length)));return{classList:te(()=>{const B=R.value;return{container:[B.container].concat(n.value?B.containerDisabled:[]).concat(J.value&&d.value==="top"?B.containerOpenTop:[]).concat(J.value&&d.value!=="top"?B.containerOpen:[]).concat(v.value?B.containerActive:[]),wrapper:B.wrapper,spacer:B.spacer,singleLabel:B.singleLabel,singleLabelText:B.singleLabelText,multipleLabel:B.multipleLabel,search:B.search,tags:B.tags,tag:[B.tag].concat(n.value?B.tagDisabled:[]),tagDisabled:B.tagDisabled,tagRemove:B.tagRemove,tagRemoveIcon:B.tagRemoveIcon,tagsSearchWrapper:B.tagsSearchWrapper,tagsSearch:B.tagsSearch,tagsSearchCopy:B.tagsSearchCopy,placeholder:B.placeholder,caret:[B.caret].concat(g.value?B.caretOpen:[]),clear:B.clear,clearIcon:B.clearIcon,spinner:B.spinner,inifinite:B.inifinite,inifiniteSpinner:B.inifiniteSpinner,dropdown:[B.dropdown].concat(d.value==="top"?B.dropdownTop:[]).concat(!g.value||!u.value||!J.value?B.dropdownHidden:[]),options:[B.options].concat(d.value==="top"?B.optionsTop:[]),group:B.group,groupLabel:w=>{let Y=[B.groupLabel];return o(w)?Y.push(h(w)?B.groupLabelSelectedPointed:B.groupLabelPointed):h(w)&&z.value?Y.push(b(w)?B.groupLabelSelectedDisabled:B.groupLabelSelected):b(w)&&Y.push(B.groupLabelDisabled),z.value&&Y.push(B.groupLabelPointable),Y},groupOptions:B.groupOptions,option:(w,Y)=>{let ce=[B.option];return o(w)?ce.push(h(w)?B.optionSelectedPointed:B.optionPointed):h(w)?ce.push(b(w)?B.optionSelectedDisabled:B.optionSelected):(b(w)||Y&&b(Y))&&ce.push(B.optionDisabled),ce},noOptions:B.noOptions,noResults:B.noResults,assist:B.assist,fakeInput:B.fakeInput}}),showDropdown:J}}function ul(t,s,a){const{limit:c,infinite:n}=Ee(t),d=a.isOpen,u=a.offset,g=a.search,o=a.pfo,h=a.eo,b=_e(null),v=_e(null),z=te(()=>u.value<o.value.length),S=R=>{const{isIntersecting:J,target:X}=R[0];if(J){const B=X.offsetParent,w=B.scrollTop;u.value+=c.value==-1?10:c.value,Ct(()=>{B.scrollTop=w})}},F=()=>{d.value&&u.value<o.value.length?b.value.observe(v.value):!d.value&&b.value&&b.value.disconnect()};return Me(d,()=>{n.value&&F()}),Me(g,()=>{n.value&&(u.value=c.value,F())},{flush:"post"}),Me(h,()=>{n.value&&F()},{immediate:!1,flush:"post"}),Hs(()=>{window&&window.IntersectionObserver&&(b.value=new IntersectionObserver(S))}),{hasMore:z,infiniteLoader:v}}function hl(t,s,a){const{placeholder:c,id:n,valueProp:d,label:u,mode:g,groupLabel:o,aria:h,searchable:b}=Ee(t),v=a.pointer,z=a.iv,S=a.hasSelected,F=a.multipleLabelText,R=_e(null),J=te(()=>{let Q=[];return n&&n.value&&Q.push(n.value),Q.push("assist"),Q.join("-")}),X=te(()=>{let Q=[];return n&&n.value&&Q.push(n.value),Q.push("multiselect-options"),Q.join("-")}),B=te(()=>{let Q=[];if(n&&n.value&&Q.push(n.value),v.value)return Q.push(v.value.group?"multiselect-group":"multiselect-option"),Q.push(v.value.group?v.value.index:v.value[d.value]),Q.join("-")}),w=te(()=>c.value),Y=te(()=>g.value!=="single"),ce=te(()=>{let Q="";return g.value==="single"&&S.value&&(Q+=z.value[u.value]),g.value==="multiple"&&S.value&&(Q+=F.value),g.value==="tags"&&S.value&&(Q+=z.value.map(ae=>ae[u.value]).join(", ")),Q}),M=te(()=>{let Q={...h.value};return b.value&&(Q["aria-labelledby"]=Q["aria-labelledby"]?`${J.value} ${Q["aria-labelledby"]}`:J.value,ce.value&&Q["aria-label"]&&(Q["aria-label"]=`${ce.value}, ${Q["aria-label"]}`)),Q}),se=Q=>{let ae=[];return n&&n.value&&ae.push(n.value),ae.push("multiselect-option"),ae.push(Q[d.value]),ae.join("-")},O=Q=>{let ae=[];return n&&n.value&&ae.push(n.value),ae.push("multiselect-group"),ae.push(Q.index),ae.join("-")},W=Q=>{let ae=[];return ae.push(Q),ae.join(" ")},$e=Q=>{let ae=[];return ae.push(Q),ae.join(" ")},ke=Q=>`${Q} ❎`;return Hs(()=>{if(n&&n.value&&document&&document.querySelector){let Q=document.querySelector(`[for="${n.value}"]`);R.value=Q?Q.innerText:null}}),{arias:M,ariaLabel:ce,ariaAssist:J,ariaControls:X,ariaPlaceholder:w,ariaMultiselectable:Y,ariaActiveDescendant:B,ariaOptionId:se,ariaOptionLabel:W,ariaGroupId:O,ariaGroupLabel:$e,ariaTagLabel:ke}}function ml(t,s,a){const{locale:c,fallbackLocale:n}=Ee(t);return{localize:u=>!u||typeof u!="object"?u:u&&u[c.value]?u[c.value]:u&&c.value&&u[c.value.toUpperCase()]?u[c.value.toUpperCase()]:u&&u[n.value]?u[n.value]:u&&n.value&&u[n.value.toUpperCase()]?u[n.value.toUpperCase()]:u&&Object.keys(u)[0]?u[Object.keys(u)[0]]:""}}function pl(t,s,a,c={}){return a.forEach(n=>{n&&(c={...c,...n(t,s,c)})}),c}var Ye={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(t,s){return pl(t,s,[ml,el,sl,rl,tl,Qa,nl,ll,ul,il,dl,cl,hl])}};const fl=["id","dir"],bl=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],gl=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],_l=["onKeyup","aria-label"],vl=["onClick"],$l=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],yl=["innerHTML"],Cl=["id"],wl=["id","aria-label","aria-selected"],kl=["data-pointed","onMouseenter","onClick"],xl=["innerHTML"],Pl=["aria-label"],El=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Tl=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Dl=["innerHTML"],Bl=["innerHTML"],Ol=["value"],Ml=["name","value"],Sl=["name","value"],Rl=["id"];function Al(t,s,a,c,n,d){return l(),r("div",{ref:"multiselect",class:de(t.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:s[10]||(s[10]=(...u)=>t.handleFocusIn&&t.handleFocusIn(...u)),onFocusout:s[11]||(s[11]=(...u)=>t.handleFocusOut&&t.handleFocusOut(...u)),onKeyup:s[12]||(s[12]=(...u)=>t.handleKeyup&&t.handleKeyup(...u)),onKeydown:s[13]||(s[13]=(...u)=>t.handleKeydown&&t.handleKeydown(...u))},[e("div",It({class:t.classList.wrapper,onMousedown:s[9]||(s[9]=(...u)=>t.handleMousedown&&t.handleMousedown(...u)),ref:"wrapper",tabindex:t.tabindex,"aria-controls":a.searchable?void 0:t.ariaControls,"aria-placeholder":a.searchable?void 0:t.ariaPlaceholder,"aria-expanded":a.searchable?void 0:t.isOpen,"aria-activedescendant":a.searchable?void 0:t.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:t.ariaMultiselectable,role:a.searchable?void 0:"combobox"},a.searchable?{}:t.arias),[m(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(l(),r("input",It({key:0,type:a.inputType,modelValue:t.search,value:t.search,class:t.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:s[0]||(s[0]=(...u)=>t.handleSearchInput&&t.handleSearchInput(...u)),onKeypress:s[1]||(s[1]=(...u)=>t.handleKeypress&&t.handleKeypress(...u)),onPaste:s[2]||(s[2]=Gt((...u)=>t.handlePaste&&t.handlePaste(...u),["stop"])),ref:"input","aria-controls":t.ariaControls,"aria-placeholder":t.ariaPlaceholder,"aria-expanded":t.isOpen,"aria-activedescendant":t.ariaActiveDescendant,"aria-multiselectable":t.ariaMultiselectable,role:"combobox"},{...a.attrs,...t.arias}),null,16,gl)):m("v-if",!0),m(" Tags (with search) "),a.mode=="tags"?(l(),r("div",{key:1,class:de(t.classList.tags),"data-tags":""},[(l(!0),r(P,null,E(t.iv,(u,g,o)=>C(t.$slots,"tag",{option:u,handleTagRemove:t.handleTagRemove,disabled:a.disabled},()=>[(l(),r("span",{class:de([t.classList.tag,u.disabled?t.classList.tagDisabled:null]),tabindex:"-1",onKeyup:Cs(h=>t.handleTagRemove(u,h),["enter"]),key:o,"aria-label":t.ariaTagLabel(t.localize(u[a.label]))},[p(i(t.localize(u[a.label]))+" ",1),!a.disabled&&!u.disabled?(l(),r("span",{key:0,class:de(t.classList.tagRemove),onClick:Gt(h=>t.handleTagRemove(u,h),["stop"])},[e("span",{class:de(t.classList.tagRemoveIcon)},null,2)],10,vl)):m("v-if",!0)],42,_l))])),256)),e("div",{class:de(t.classList.tagsSearchWrapper),ref:"tags"},[m(" Used for measuring search width "),e("span",{class:de(t.classList.tagsSearchCopy)},i(t.search),3),m(" Actual search input "),a.searchable&&!a.disabled?(l(),r("input",It({key:0,type:a.inputType,modelValue:t.search,value:t.search,class:t.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:s[3]||(s[3]=(...u)=>t.handleSearchInput&&t.handleSearchInput(...u)),onKeypress:s[4]||(s[4]=(...u)=>t.handleKeypress&&t.handleKeypress(...u)),onPaste:s[5]||(s[5]=Gt((...u)=>t.handlePaste&&t.handlePaste(...u),["stop"])),ref:"input","aria-controls":t.ariaControls,"aria-placeholder":t.ariaPlaceholder,"aria-expanded":t.isOpen,"aria-activedescendant":t.ariaActiveDescendant,"aria-multiselectable":t.ariaMultiselectable,role:"combobox"},{...a.attrs,...t.arias}),null,16,$l)):m("v-if",!0)],2)],2)):m("v-if",!0),m(" Single label "),a.mode=="single"&&t.hasSelected&&!t.search&&t.iv?C(t.$slots,"singlelabel",{key:2,value:t.iv},()=>[e("div",{class:de(t.classList.singleLabel)},[e("span",{class:de(t.classList.singleLabelText)},i(t.localize(t.iv[a.label])),3)],2)]):m("v-if",!0),m(" Multiple label "),a.mode=="multiple"&&t.hasSelected&&!t.search?C(t.$slots,"multiplelabel",{key:3,values:t.iv},()=>[e("div",{class:de(t.classList.multipleLabel),innerHTML:t.multipleLabelText},null,10,yl)]):m("v-if",!0),m(" Placeholder "),a.placeholder&&!t.hasSelected&&!t.search?C(t.$slots,"placeholder",{key:4},()=>[e("div",{class:de(t.classList.placeholder),"aria-hidden":"true"},i(a.placeholder),3)]):m("v-if",!0),m(" Spinner "),a.loading||t.resolving?C(t.$slots,"spinner",{key:5},()=>[e("span",{class:de(t.classList.spinner),"aria-hidden":"true"},null,2)]):m("v-if",!0),m(" Clear "),t.hasSelected&&!a.disabled&&a.canClear&&!t.busy?C(t.$slots,"clear",{key:6,clear:t.clear},()=>[e("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:de(t.classList.clear),onClick:s[6]||(s[6]=(...u)=>t.clear&&t.clear(...u)),onKeyup:s[7]||(s[7]=Cs((...u)=>t.clear&&t.clear(...u),["enter"]))},[e("span",{class:de(t.classList.clearIcon)},null,2)],34)]):m("v-if",!0),m(" Caret "),a.caret&&a.showOptions?C(t.$slots,"caret",{key:7},()=>[e("span",{class:de(t.classList.caret),onClick:s[8]||(s[8]=(...u)=>t.handleCaretClick&&t.handleCaretClick(...u)),"aria-hidden":"true"},null,2)]):m("v-if",!0)],16,bl),m(" Options "),e("div",{class:de(t.classList.dropdown),tabindex:"-1"},[C(t.$slots,"beforelist",{options:t.fo}),e("ul",{class:de(t.classList.options),id:t.ariaControls,role:"listbox"},[a.groups?(l(!0),r(P,{key:0},E(t.fg,(u,g,o)=>(l(),r("li",{class:de(t.classList.group),key:o,id:t.ariaGroupId(u),"aria-label":t.ariaGroupLabel(t.localize(u[a.groupLabel])),"aria-selected":t.isSelected(u),role:"option"},[u.__CREATE__?m("v-if",!0):(l(),r("div",{key:0,class:de(t.classList.groupLabel(u)),"data-pointed":t.isPointed(u),onMouseenter:h=>t.setPointer(u,g),onClick:h=>t.handleGroupClick(u)},[C(t.$slots,"grouplabel",{group:u,isSelected:t.isSelected,isPointed:t.isPointed},()=>[e("span",{innerHTML:t.localize(u[a.groupLabel])},null,8,xl)])],42,kl)),e("ul",{class:de(t.classList.groupOptions),"aria-label":t.ariaGroupLabel(t.localize(u[a.groupLabel])),role:"group"},[(l(!0),r(P,null,E(u.__VISIBLE__,(h,b,v)=>(l(),r("li",{class:de(t.classList.option(h,u)),"data-pointed":t.isPointed(h),"data-selected":t.isSelected(h)||void 0,key:v,onMouseenter:z=>t.setPointer(h),onClick:z=>t.handleOptionClick(h),id:t.ariaOptionId(h),"aria-selected":t.isSelected(h),"aria-label":t.ariaOptionLabel(t.localize(h[a.label])),role:"option"},[C(t.$slots,"option",{option:h,isSelected:t.isSelected,isPointed:t.isPointed,search:t.search},()=>[e("span",null,i(t.localize(h[a.label])),1)])],42,El))),128))],10,Pl)],10,wl))),128)):(l(!0),r(P,{key:1},E(t.fo,(u,g,o)=>(l(),r("li",{class:de(t.classList.option(u)),"data-pointed":t.isPointed(u),"data-selected":t.isSelected(u)||void 0,key:o,onMouseenter:h=>t.setPointer(u),onClick:h=>t.handleOptionClick(u),id:t.ariaOptionId(u),"aria-selected":t.isSelected(u),"aria-label":t.ariaOptionLabel(t.localize(u[a.label])),role:"option"},[C(t.$slots,"option",{option:u,isSelected:t.isSelected,isPointed:t.isPointed,search:t.search},()=>[e("span",null,i(t.localize(u[a.label])),1)])],42,Tl))),128))],10,Cl),t.noOptions?C(t.$slots,"nooptions",{key:0},()=>[e("div",{class:de(t.classList.noOptions),innerHTML:t.localize(a.noOptionsText)},null,10,Dl)]):m("v-if",!0),t.noResults?C(t.$slots,"noresults",{key:1},()=>[e("div",{class:de(t.classList.noResults),innerHTML:t.localize(a.noResultsText)},null,10,Bl)]):m("v-if",!0),a.infinite&&t.hasMore?(l(),r("div",{key:2,class:de(t.classList.inifinite),ref:"infiniteLoader"},[C(t.$slots,"infinite",{},()=>[e("span",{class:de(t.classList.inifiniteSpinner)},null,2)])],2)):m("v-if",!0),C(t.$slots,"afterlist",{options:t.fo})],2),m(" Hacky input element to show HTML5 required warning "),a.required?(l(),r("input",{key:0,class:de(t.classList.fakeInput),tabindex:"-1",value:t.textValue,required:""},null,10,Ol)):m("v-if",!0),m(" Native input support "),a.nativeSupport?(l(),r(P,{key:1},[a.mode=="single"?(l(),r("input",{key:0,type:"hidden",name:a.name,value:t.plainValue!==void 0?t.plainValue:""},null,8,Ml)):(l(!0),r(P,{key:1},E(t.plainValue,(u,g)=>(l(),r("input",{type:"hidden",name:`${a.name}[]`,value:u,key:g},null,8,Sl))),128))],64)):m("v-if",!0),m(" Screen reader assistive text "),a.searchable&&t.hasSelected?(l(),r("div",{key:2,class:de(t.classList.assist),id:t.ariaAssist,"aria-hidden":"true"},i(t.ariaLabel),11,Rl)):m("v-if",!0),m(" Create height for empty input "),e("div",{class:de(t.classList.spacer)},null,2)],42,fl)}Ye.render=Al;Ye.__file="src/Multiselect.vue";const U=(t,s)=>{const a=t.__vccOpts||t;for(const[c,n]of s)a[c]=n;return a},Fl={components:{Multiselect:Ye},data(){return{loading:!0,selectedRoles:[],roles:[],rolesdefinitivos:[],value1:null,options1:["Batman","Robin","Joker","Harley Queen","Poison Ivy","Scarecrow","Arrow"],value2:[],options2:[{id:"1",value:"captainamerica",name:"Captain America"},{id:"2",value:"spiderman",name:"Spiderman"},{id:"3",value:"ironman",name:"Iron Man"},{id:"4",value:"wanda",name:"Wanda"},{id:"5",value:"loki",name:"Loki"},{id:"6",value:"thorodinson",name:"Thor Odinson"},{id:"7",value:"hawkeye",name:"Hawkeye"},{id:"8",value:"natasharomanov",name:"Natasha Romanov"}],value3:[],options3:[{id:"1",value:"captainamerica",name:"Captain America"},{id:"2",value:"spiderman",name:"Spiderman"},{id:"3",value:"ironman",name:"Iron Man"},{id:"4",value:"wanda",name:"Wanda"},{id:"5",value:"loki",name:"Loki"},{id:"6",value:"thorodinson",name:"Thor Odinson"},{id:"7",value:"hawkeye",name:"Hawkeye"},{id:"8",value:"natasharomanov",name:"Natasha Romanov"}]}},created(){this.getRoles()},methods:{getRoles(){_.get("api/roles").then(t=>{this.roles=t.data.map(s=>({id:s.id.toString(),name:s.name})),console.log("OPTIONS",this.options2),console.log("ROLES",this.roles),this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}}},zl={class:"row mt-4 mx-4"},Ul={class:"col-12"},Vl={class:"card mb-4"},Ll={class:"row"},jl={class:"col-12",style:{"text-align":"center"}},Nl=e("br",null,null,-1),Hl=e("div",{class:"text-center align-middle m-center"},[e("label",{style:{"font-size":"32px"}},[e("i",{class:"fa-solid fa-triangle-exclamation fa-2x",style:{"margin-right":"30px"}}),p("EN MANTENCIÓN"),e("i",{class:"fa-solid fa-person-digging fa-2x",style:{"margin-left":"30px"}})])],-1),Il=e("br",null,null,-1),Gl={key:0},ql=e("h1",null,"Todos",-1),Kl={key:1},Xl=e("h1",null,"Ver Rol",-1),Jl={key:2},Zl=e("h1",null,"Crear Rol",-1),Wl={key:3},Yl=e("h1",null,"Editar Rol",-1),Ql={key:4},ei=e("h1",null,"Borrar Rol",-1),ti={key:5},si=e("h1",null,"Es Admin",-1),oi=e("br",null,null,-1),ai={class:"col-6"},li=e("br",null,null,-1),ii=e("br",null,null,-1),ri=e("br",null,null,-1),ni=e("br",null,null,-1);function di(t,s,a,c,n,d){const u=y("Multiselect");return l(),r("div",zl,[e("div",Ul,[e("div",Vl,[e("div",Ll,[e("div",jl,[p(" . "),Nl,Hl,Il,p(" . "),(l(),r("div",Gl,[ql,p(" Puede ver este DIV. ")])),t.can("ver-rol")?(l(),r("div",Kl,[Xl,p(" Puede ver este DIV. ")])):m("",!0),t.can("crear-rol")?(l(),r("div",Jl,[Zl,p(" Puede ver este DIV. ")])):m("",!0),t.can("editar-rol")?(l(),r("div",Wl,[Yl,p(" Puede ver este DIV. ")])):m("",!0),t.can("borrar-rol")?(l(),r("div",Ql,[ei,p(" Puede ver este DIV. ")])):m("",!0),t.is("Administrador")?(l(),r("div",ti,[si,p(" Puede ver este DIV. ")])):m("",!0),p(" . "),oi,e("div",ai,[x(u,{placeholder:"Seleccione una opción:",limit:"4",modelValue:n.value1,"onUpdate:modelValue":s[0]||(s[0]=g=>n.value1=g),searchable:!0,options:n.options1},null,8,["modelValue","options"]),e("p",null,i(n.value1),1),li,x(u,{placeholder:"Seleccione una o más opciones:",modelValue:n.value2,"onUpdate:modelValue":s[1]||(s[1]=g=>n.value2=g),limit:"4",searchable:!0,"close-on-select":!1,createTag:!0,options:n.options2,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"]),e("p",null,i(n.value2),1),x(u,{placeholder:"Seleccione una opción:",limit:"4",modelValue:n.value3,"onUpdate:modelValue":s[2]||(s[2]=g=>n.value3=g),searchable:!0,options:n.options3,label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"]),e("p",null,i(n.value3),1),ii,n.loading?m("",!0):(l(),T(u,{key:0,placeholder:"Seleccione una o más opciones:",modelValue:n.selectedRoles,"onUpdate:modelValue":s[3]||(s[3]=g=>n.selectedRoles=g),searchable:!0,"close-on-select":!1,createTag:!0,options:n.roles,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])),e("p",null,i(n.selectedRoles),1)]),ri,ni])])])])])}const ci=U(Fl,[["render",di]]),ui={},hi={class:"row mt-4 mx-4"},mi=ve('<div class="col-12"><div class="card mb-4"><div class="row"><div class="col-12 text-center"><br><br><br><br><br><br><br> . <div><h1>Hello</h1> <h2>Hello</h2> <h3>Hello</h3> <h4>Hello</h4> <h5>Hello</h5> <h6>Hello</h6> Hello... </div> . <br><br><br><br><br><br><br></div></div></div></div>',1),pi=[mi];function fi(t,s){return l(),r("div",hi,pi)}const bi=U(ui,[["render",fi]]),gi={name:"reusableModal",data:()=>({isVisible:!1}),methods:{open(){this.isVisible=!0},close(){this.isVisible=!1}}},_i={key:0,class:"reusable-modal"},vi={class:"window"};function $i(t,s,a,c,n,d){return l(),T(G,{name:"fade"},{default:I(()=>[t.isVisible?(l(),r("div",_i,[e("div",vi,[C(t.$slots,"default")])])):m("",!0)]),_:3})}const co=U(gi,[["render",$i]]),yi={name:"ConfirmDialogue",components:{reusableModal:co},data:()=>({title:void 0,message:void 0,okButton:void 0,cancelButton:void 0,resolvePromise:void 0,rejectPromise:void 0}),methods:{show(t={}){return this.title=t.title,this.message=t.message,this.okButton=t.okButton,t.cancelButton&&(this.cancelButton=t.cancelButton),this.$refs.reusable.open(),new Promise((s,a)=>{this.resolvePromise=s,this.rejectPromise=a})},_confirm(){this.$refs.reusable.close(),this.resolvePromise(!0)},_cancel(){this.$refs.reusable.close(),this.resolvePromise(!1)}}},Ci={style:{"margin-top":"0"}},wi={class:"btns"},ki={class:"row"},xi={class:"col-4"},Pi=e("div",{class:"col-4"},null,-1),Ei={class:"col-4"};function Ti(t,s,a,c,n,d){const u=y("reusable-modal");return l(),T(u,{ref:"reusable"},{default:I(()=>[e("h2",Ci,i(t.title),1),e("p",null,i(t.message),1),e("div",wi,[e("div",ki,[e("div",xi,[e("a",{class:"btn btn-alert btn-sm",onClick:s[0]||(s[0]=(...g)=>d._cancel&&d._cancel(...g))},i(t.cancelButton),1)]),Pi,e("div",Ei,[e("a",{class:"btn btn-success btn-sm",onClick:s[1]||(s[1]=(...g)=>d._confirm&&d._confirm(...g))},i(t.okButton),1)])])])]),_:1},512)}const j=U(yi,[["render",Ti]]),Di={name:"ConfirmDialogue",components:{reusableModal:co},data:()=>({title:void 0,message:void 0,okButton:void 0,cancelButton:void 0,resolvePromise:void 0,rejectPromise:void 0}),methods:{show(t={}){return this.title=t.title,this.message=t.message,this.okButton=t.okButton,t.cancelButton&&(this.cancelButton=t.cancelButton),this.$refs.reusable.open(),new Promise((s,a)=>{this.resolvePromise=s,this.rejectPromise=a})},_confirm(){this.$refs.reusable.close(),this.resolvePromise(!0)},_cancel(){this.$refs.reusable.close(),this.resolvePromise(!1)}}},Bi={class:"mt-0"},Oi={class:"btns"};function Mi(t,s,a,c,n,d){const u=y("reusable-modal");return l(),T(u,{ref:"reusable"},{default:I(()=>[e("h2",Bi,i(t.title),1),e("p",null,i(t.message),1),e("div",Oi,[e("span",{class:"btn-ok",onClick:s[0]||(s[0]=(...g)=>d._confirm&&d._confirm(...g))},i(t.okButton),1)])]),_:1},512)}const N=U(Di,[["render",Mi]]);/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Ss(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);s&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,c)}return a}function yt(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Ss(Object(a),!0).forEach(function(c){Ai(t,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ss(Object(a)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))})}return t}function Si(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Rs(t,s){for(var a=0;a<s.length;a++){var c=s[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,uo(c.key),c)}}function Ri(t,s,a){return s&&Rs(t.prototype,s),a&&Rs(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ai(t,s,a){return s=uo(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},Tt.apply(this,arguments)}function Fi(t,s){if(typeof t!="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,s||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function uo(t){var s=Fi(t,"string");return typeof s=="symbol"?s:String(s)}var ho={exports:{}};(function(t){typeof window>"u"||function(s){var a=s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype,c=s.Blob&&function(){try{return!!new Blob}catch{return!1}}(),n=c&&s.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),d=s.BlobBuilder||s.WebKitBlobBuilder||s.MozBlobBuilder||s.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,g=(c||d)&&s.atob&&s.ArrayBuffer&&s.Uint8Array&&function(o){var h,b,v,z,S,F,R,J,X;if(h=o.match(u),!h)throw new Error("invalid data URI");for(b=h[2]?h[1]:"text/plain"+(h[3]||";charset=US-ASCII"),v=!!h[4],z=o.slice(h[0].length),v?S=atob(z):S=decodeURIComponent(z),F=new ArrayBuffer(S.length),R=new Uint8Array(F),J=0;J<S.length;J+=1)R[J]=S.charCodeAt(J);return c?new Blob([n?R:F],{type:b}):(X=new d,X.append(F),X.getBlob(b))};s.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(o,h,b){var v=this;setTimeout(function(){b&&a.toDataURL&&g?o(g(v.toDataURL(h,b))):o(v.mozGetAsFile("blob",h))})}:a.toDataURL&&g&&(a.msToBlob?a.toBlob=function(o,h,b){var v=this;setTimeout(function(){(h&&h!=="image/png"||b)&&a.toDataURL&&g?o(g(v.toDataURL(h,b))):o(v.msToBlob(h))})}:a.toBlob=function(o,h,b){var v=this;setTimeout(function(){o(g(v.toDataURL(h,b)))})})),t.exports?t.exports=g:s.dataURLtoBlob=g}(window)})(ho);var As=ho.exports,zi=function(s){return typeof Blob>"u"?!1:s instanceof Blob||Object.prototype.toString.call(s)==="[object Blob]"},Fs={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Ui=typeof window<"u"&&typeof window.document<"u",Je=Ui?window:{},Dt=function(s){return s>0&&s<1/0},Vi=Array.prototype.slice;function ds(t){return Array.from?Array.from(t):Vi.call(t)}var Li=/^image\/.+$/;function os(t){return Li.test(t)}function ji(t){var s=os(t)?t.substr(6):"";return s==="jpeg"&&(s="jpg"),".".concat(s)}var mo=String.fromCharCode;function Ni(t,s,a){var c="",n;for(a+=s,n=s;n<a;n+=1)c+=mo(t.getUint8(n));return c}var Hi=Je.btoa;function zs(t,s){for(var a=[],c=8192,n=new Uint8Array(t);n.length>0;)a.push(mo.apply(null,ds(n.subarray(0,c)))),n=n.subarray(c);return"data:".concat(s,";base64,").concat(Hi(a.join("")))}function Ii(t){var s=new DataView(t),a;try{var c,n,d;if(s.getUint8(0)===255&&s.getUint8(1)===216)for(var u=s.byteLength,g=2;g+1<u;){if(s.getUint8(g)===255&&s.getUint8(g+1)===225){n=g;break}g+=1}if(n){var o=n+4,h=n+10;if(Ni(s,o,4)==="Exif"){var b=s.getUint16(h);if(c=b===18761,(c||b===19789)&&s.getUint16(h+2,c)===42){var v=s.getUint32(h+4,c);v>=8&&(d=h+v)}}}if(d){var z=s.getUint16(d,c),S,F;for(F=0;F<z;F+=1)if(S=d+F*12+2,s.getUint16(S,c)===274){S+=8,a=s.getUint16(S,c),s.setUint16(S,1,c);break}}}catch{a=1}return a}function Gi(t){var s=0,a=1,c=1;switch(t){case 2:a=-1;break;case 3:s=-180;break;case 4:c=-1;break;case 5:s=90,c=-1;break;case 6:s=90;break;case 7:s=90,a=-1;break;case 8:s=-90;break}return{rotate:s,scaleX:a,scaleY:c}}var qi=/\.\d*(?:0|9){12}\d*$/;function Us(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return qi.test(t)?Math.round(t*s)/s:t}function nt(t){var s=t.aspectRatio,a=t.height,c=t.width,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",d=Dt(c),u=Dt(a);if(d&&u){var g=a*s;(n==="contain"||n==="none")&&g>c||n==="cover"&&g<c?a=c/s:c=a*s}else d?a=c/s:u&&(c=a*s);return{width:c,height:a}}function Ki(t){for(var s=ds(new Uint8Array(t)),a=s.length,c=[],n=0;n+3<a;){var d=s[n],u=s[n+1];if(d===255&&u===218)break;if(d===255&&u===216)n+=2;else{var g=s[n+2]*256+s[n+3],o=n+g+2,h=s.slice(n,o);c.push(h),n=o}}return c.reduce(function(b,v){return v[0]===255&&v[1]===225?b.concat(v):b},[])}function Xi(t,s){var a=ds(new Uint8Array(t));if(a[2]!==255||a[3]!==224)return t;var c=a[4]*256+a[5],n=[255,216].concat(s,a.slice(4+c));return new Uint8Array(n)}var Ji=Je.ArrayBuffer,Wt=Je.FileReader,We=Je.URL||Je.webkitURL,Zi=/\.\w+$/,Wi=Je.Compressor,Ue=function(){function t(s,a){Si(this,t),this.file=s,this.exif=[],this.image=new Image,this.options=yt(yt({},Fs),a),this.aborted=!1,this.result=null,this.init()}return Ri(t,[{key:"init",value:function(){var a=this,c=this.file,n=this.options;if(!zi(c)){this.fail(new Error("The first argument must be a File or Blob object."));return}var d=c.type;if(!os(d)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!We||!Wt){this.fail(new Error("The current browser does not support image compression."));return}Ji||(n.checkOrientation=!1,n.retainExif=!1);var u=d==="image/jpeg",g=u&&n.checkOrientation,o=u&&n.retainExif;if(We&&!g&&!o)this.load({url:We.createObjectURL(c)});else{var h=new Wt;this.reader=h,h.onload=function(b){var v=b.target,z=v.result,S={},F=1;g&&(F=Ii(z),F>1&&Tt(S,Gi(F))),o&&(a.exif=Ki(z)),g||o?!We||F>1?S.url=zs(z,d):S.url=We.createObjectURL(c):S.url=z,a.load(S)},h.onabort=function(){a.fail(new Error("Aborted to read the image with FileReader."))},h.onerror=function(){a.fail(new Error("Failed to read the image with FileReader."))},h.onloadend=function(){a.reader=null},g||o?h.readAsArrayBuffer(c):h.readAsDataURL(c)}}},{key:"load",value:function(a){var c=this,n=this.file,d=this.image;d.onload=function(){c.draw(yt(yt({},a),{},{naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight}))},d.onabort=function(){c.fail(new Error("Aborted to load the image."))},d.onerror=function(){c.fail(new Error("Failed to load the image."))},Je.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Je.navigator.userAgent)&&(d.crossOrigin="anonymous"),d.alt=n.name,d.src=a.url}},{key:"draw",value:function(a){var c=this,n=a.naturalWidth,d=a.naturalHeight,u=a.rotate,g=u===void 0?0:u,o=a.scaleX,h=o===void 0?1:o,b=a.scaleY,v=b===void 0?1:b,z=this.file,S=this.image,F=this.options,R=document.createElement("canvas"),J=R.getContext("2d"),X=Math.abs(g)%180===90,B=(F.resize==="contain"||F.resize==="cover")&&Dt(F.width)&&Dt(F.height),w=Math.max(F.maxWidth,0)||1/0,Y=Math.max(F.maxHeight,0)||1/0,ce=Math.max(F.minWidth,0)||0,M=Math.max(F.minHeight,0)||0,se=n/d,O=F.width,W=F.height;if(X){var $e=[Y,w];w=$e[0],Y=$e[1];var ke=[M,ce];ce=ke[0],M=ke[1];var Q=[W,O];O=Q[0],W=Q[1]}B&&(se=O/W);var ae=nt({aspectRatio:se,width:w,height:Y},"contain");w=ae.width,Y=ae.height;var xe=nt({aspectRatio:se,width:ce,height:M},"cover");if(ce=xe.width,M=xe.height,B){var Te=nt({aspectRatio:se,width:O,height:W},F.resize);O=Te.width,W=Te.height}else{var Ge=nt({aspectRatio:se,width:O,height:W}),fe=Ge.width;O=fe===void 0?n:fe;var Ze=Ge.height;W=Ze===void 0?d:Ze}O=Math.floor(Us(Math.min(Math.max(O,ce),w))),W=Math.floor(Us(Math.min(Math.max(W,M),Y)));var re=-O/2,ue=-W/2,he=O,Se=W,Ve=[];if(B){var be=0,le=0,q=n,ee=d,ye=nt({aspectRatio:se,width:n,height:d},{contain:"cover",cover:"contain"}[F.resize]);q=ye.width,ee=ye.height,be=(n-q)/2,le=(d-ee)/2,Ve.push(be,le,q,ee)}if(Ve.push(re,ue,he,Se),X){var De=[W,O];O=De[0],W=De[1]}R.width=O,R.height=W,os(F.mimeType)||(F.mimeType=z.type);var pt="transparent";z.size>F.convertSize&&F.convertTypes.indexOf(F.mimeType)>=0&&(F.mimeType="image/jpeg");var Le=F.mimeType==="image/jpeg";if(Le&&(pt="#fff"),J.fillStyle=pt,J.fillRect(0,0,O,W),F.beforeDraw&&F.beforeDraw.call(this,J,R),!this.aborted&&(J.save(),J.translate(O/2,W/2),J.rotate(g*Math.PI/180),J.scale(h,v),J.drawImage.apply(J,[S].concat(Ve)),J.restore(),F.drew&&F.drew.call(this,J,R),!this.aborted)){var ft=function(Be){if(!c.aborted){var bt=function(je){return c.done({naturalWidth:n,naturalHeight:d,result:je})};if(Be&&Le&&F.retainExif&&c.exif&&c.exif.length>0){var qe=function(je){return bt(As(zs(Xi(je,c.exif),F.mimeType)))};if(Be.arrayBuffer)Be.arrayBuffer().then(qe).catch(function(){c.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Ce=new Wt;c.reader=Ce,Ce.onload=function(Pe){var je=Pe.target;qe(je.result)},Ce.onabort=function(){c.fail(new Error("Aborted to read the compressed image with FileReader."))},Ce.onerror=function(){c.fail(new Error("Failed to read the compressed image with FileReader."))},Ce.onloadend=function(){c.reader=null},Ce.readAsArrayBuffer(Be)}}else bt(Be)}};R.toBlob?R.toBlob(ft,F.mimeType,F.quality):ft(As(R.toDataURL(F.mimeType,F.quality)))}}},{key:"done",value:function(a){var c=a.naturalWidth,n=a.naturalHeight,d=a.result,u=this.file,g=this.image,o=this.options;if(We&&g.src.indexOf("blob:")===0&&We.revokeObjectURL(g.src),d)if(o.strict&&!o.retainExif&&d.size>u.size&&o.mimeType===u.type&&!(o.width>c||o.height>n||o.minWidth>c||o.minHeight>n||o.maxWidth<c||o.maxHeight<n))d=u;else{var h=new Date;d.lastModified=h.getTime(),d.lastModifiedDate=h,d.name=u.name,d.name&&d.type!==u.type&&(d.name=d.name.replace(Zi,ji(d.type)))}else d=u;this.result=d,o.success&&o.success.call(this,d)}},{key:"fail",value:function(a){var c=this.options;if(c.error)c.error.call(this,a);else throw a}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=Wi,t}},{key:"setDefaults",value:function(a){Tt(Fs,a)}}]),t}();const Yi={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({fotoAceptada:null,profilePicChange:null,fotoMiniatura:null}),methods:{async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.profilePicChange=t.target.files[0];let s=[];await this.compressImages(this.profilePicChange,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.profilePicChange=a,this.chargeImage(this.profilePicChange)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},Qi={name:"modal"},er={class:"modal-mask"},tr={class:"modal-wrapper"},sr={class:"modal-container-xs"},or={class:"modal-header pb-2",style:{"font-weight":"bold",color:"#444444"}},ar={class:"modal-body"},lr={class:"row"},ir={class:"col-12"},rr={class:"form-group"},nr={key:0,class:"col-auto"},dr={class:"img-not-draggable",style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},cr={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},ur=["src"],hr={key:1},mr=e("div",{class:"img-not-draggable",style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},[e("div",{style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"https://icon-library.com/images/default-user-icon/default-user-icon-13.jpg",alt:"profile_image"})])],-1),pr=[mr],fr={class:"modal-footer"},br=["disabled"];function gr(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Qi,[e("div",er,[e("div",tr,[e("div",sr,[e("div",or,[C(t.$slots,"header",{},()=>[p(" Foto de Perfil ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>{t.$emit("close"),t.fotoMiniatura=null,t.profilePicChange=null}),ref:"closeBtn"},"X",512)]),e("div",ar,[C(t.$slots,"body",{},()=>[e("div",lr,[e("div",ir,[e("div",rr,[e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"foto",class:"form-control",onChange:s[1]||(s[1]=(...o)=>d.getImage&&d.getImage(...o))},null,32)])]),t.fotoMiniatura!=null?(l(),r("div",nr,[e("div",dr,[e("div",cr,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:d.imagen,alt:"profile_image"},null,8,ur)])])])):(l(),r("div",hr,pr))])])]),e("div",fr,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[2]||(s[2]=o=>{t.$emit("close"),t.fotoAceptada=!0}),disabled:t.buttonDisable},"Aceptar",8,br)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const po=U(Yi,[["render",gr]]),_r={components:{modalconfirmacion:j,modalalerta:N,modalfotoperfil:po,Multiselect:Ye},mixins:[V],data:()=>({profilePic:null,profilePicChange:null,fotoMiniatura:null,fotoAceptada:!1,showFotoPerfil:null,buttonText:"Guardar Usuario",selectedRoles:[],selectedPermissions:[],buttonDisable:!1,name:"",email:"",password:"",confirmpassword:"",fofiAsignado:0,colaborador:null,idTipoUsuario:null,rut:"",selected:[],selected2:[],marcados:!1,marcados2:!1,errors:[],roles:null,permisos:null,colaboradores:null,colaboradoresSelect:[],asignarFofi:!1,tiposUsuario:null}),created(){this.getRoles(),this.getPermisos(),this.getTiposUsuario(),this.getColaboradores()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRoles(){_.get("api/roles").then(t=>{this.roles=t.data}).catch(t=>console.log(t))},marcarTodos(){this.marcados==!1?(this.roles.forEach(t=>{this.selected.push(t.id)}),this.marcados=!0):(this.selected=[],this.marcados=!1)},getPermisos(){_.get("api/permisos").then(t=>{this.permisos=t.data}).catch(t=>console.log(t))},marcarTodos2(){this.marcados2==!1?(this.permisos.forEach(t=>{this.selected2.push(t.id)}),this.marcados2=!0):(this.selected2=[],this.marcados2=!1)},getTiposUsuario(){_.get("../api/tiposUsuario").then(t=>{this.tiposUsuario=t.data}).catch(t=>console.log(t))},checkRut(){if(this.rut!=""){this.rut.replace(".","");var t=this.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.rut=s+"-"+a}},getColaboradores(){_.get("api/colaboradores").then(t=>{this.colaboradores=t.data,this.colaboradores.forEach(s=>{s.user==null&&this.colaboradoresSelect.push(s)})}).catch(t=>console.log(t))},async crearUsuario(){if(this.errors=[],this.rut!=""){var t=this.validarRut(this.rut);t==!1&&(this.errors.push("rut"),this.toast.warning("El rut ingresado es invalido",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))}if(this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Usuario",message:`¿Está seguro/a que desea crear al usuario '${this.name}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let a={idColaborador:this.colaborador,name:this.name,email:this.email,password:this.password,confirmpassword:this.confirmpassword,roles:this.selected,permisos:this.selected2,fofiAsignado:this.fofiAsignado,idTipoUsuario:this.idTipoUsuario,rut:this.formatoRut(this.rut),profilePicChange:this.profilePicChange};_.post("api/usuarios",a,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Usuario guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Compressor(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.profilePicChange=t.target.files[0];let s=[];await this.compressImages(this.profilePicChange,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.profilePicChange=a,this.chargeImage(this.profilePicChange)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},vr={name:"modal"},$r={class:"modal-mask"},yr={class:"modal-wrapper"},Cr={class:"modal-container-s"},wr={class:"modal-header fw-bold",style:{color:"#444444"}},kr={class:"modal-body"},xr={class:"row"},Pr={class:"col-3 d-flex align-items-center"},Er={key:0},Tr={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},Dr=["src"],Br={style:{display:"flex","justify-content":"center"}},Or={key:1},Mr=e("div",{style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},[e("img",{class:"w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"https://icon-library.com/images/default-user-icon/default-user-icon-13.jpg",alt:"profile_image"})],-1),Sr=[Mr],Rr={style:{display:"flex","justify-content":"center"}},Ar={class:"col-9"},Fr={class:"row"},zr={class:"col-12"},Ur=e("label",{for:"name"},"Nombre: ",-1),Vr=e("br",null,null,-1),Lr={key:0,class:"error"},jr={class:"col-9"},Nr=e("label",{for:"email"},"Correo Electrónico (Empresa): ",-1),Hr=e("br",null,null,-1),Ir={key:0,class:"error"},Gr={class:"col-3"},qr=e("label",{for:"rut"},"Rut:",-1),Kr=e("br",null,null,-1),Xr={key:0,class:"error"},Jr={class:"col-6"},Zr=e("label",{for:"password"},"Contraseña: ",-1),Wr=e("br",null,null,-1),Yr={key:0,class:"error"},Qr={class:"col-6"},en=e("label",{for:"confirm-password"}," Confirmar contraseña: ",-1),tn=e("br",null,null,-1),sn=e("br",null,null,-1),on=e("hr",{size:"4",class:"separador"},null,-1),an={class:"row"},ln={class:"col-8"},rn=e("label",{for:"colaborador"}," Colaborador: ",-1),nn=e("option",{value:null},"Seleccione un colaborador",-1),dn=["value"],cn={key:0,class:"error"},un=e("br",null,null,-1),hn={class:"col-4"},mn={class:"form-group"},pn=e("label",{for:""},"Tipo de Usuario: ",-1),fn=e("br",null,null,-1),bn=e("option",{value:null},"Seleccione un tipo de usuario",-1),gn=["value"],_n={key:0,class:"error"},vn={class:"col-6"},$n={key:0,class:"form-group",style:{"margin-bottom":"0px"}},yn=e("label",{class:"form-label",for:"typeNumber"},"Fondo fijo asignado: ",-1),Cn={class:"form-check"},wn={class:"form-check-label"},kn=e("br",null,null,-1),xn={class:"row"},Pn={class:"col-6"},En=e("label",{for:""},"Roles:",-1),Tn={key:0,class:"form-check"},Dn={class:"form-check-label fw-bold"},Bn={key:1,class:"form-check"},On={class:"form-check-label fw-bold"},Mn={class:"form-check-label"},Sn=["id","value"],Rn={class:"col-6"},An=e("label",{for:""},"Permisos:",-1),Fn={key:0,class:"form-check"},zn={class:"form-check-label fw-bold"},Un={key:1,class:"form-check"},Vn={class:"form-check-label fw-bold"},Ln={class:"form-check-label"},jn=["id","value"],Nn={class:"modal-footer"},Hn=["disabled"];function In(t,s,a,c,n,d){const u=y("modalfotoperfil"),g=y("modalconfirmacion"),o=y("modalalerta"),h=ot("has-error");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",vr,[e("div",$r,[e("div",yr,[e("div",Cr,[e("div",wr,[C(t.$slots,"header",{},()=>[p(" Nuevo Usuario ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=b=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",kr,[C(t.$slots,"body",{},()=>[e("div",xr,[e("div",Pr,[t.fotoMiniatura!=null&&t.fotoAceptada==!0?(l(),r("div",Er,[e("a",{class:"btn",onClick:s[1]||(s[1]=b=>{t.showFotoPerfil=!0,t.fotoAceptada=!1})},[e("div",Tr,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:d.imagen,alt:"profile_image"},null,8,Dr)])]),e("div",Br,[e("button",{class:"btn btn-closed",onClick:s[2]||(s[2]=b=>{t.profilePicChange=null,t.profilePic=null,d.imagen=null,t.fotoAceptada=null,t.fotoMiniatura=null})},"Eliminar")])])):(l(),r("div",Or,[e("a",{class:"btn",onClick:s[3]||(s[3]=b=>{t.showFotoPerfil=!0,t.fotoAceptada=!1})},Sr),e("div",Rr,[e("button",{class:"btn btn-closed",onClick:s[4]||(s[4]=b=>{t.profilePicChange=null,t.profilePic=null,d.imagen=null,t.fotoAceptada=null,t.fotoMiniatura=null})},"Eliminar")])]))]),e("div",Ar,[e("div",Fr,[e("div",zr,[Ur,Vr,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=b=>t.name=b)},null,512),[[h,t.errors.name],[k,t.name]]),t.errors&&t.errors.name?(l(),r("div",Lr,i(t.errors.name[0]),1)):m("",!0)]),e("div",jr,[Nr,Hr,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=b=>t.email=b)},null,512),[[k,t.email]]),t.errors&&t.errors.email?(l(),r("div",Ir,i(t.errors.email[0]),1)):m("",!0)]),e("div",Gr,[qr,Kr,f(e("input",{type:"text",onKeyup:s[7]||(s[7]=b=>d.checkRut()),class:"form-control","onUpdate:modelValue":s[8]||(s[8]=b=>t.rut=b)},null,544),[[k,t.rut]]),t.errors&&t.errors.rut?(l(),r("div",Xr,i(t.errors.rut[0]),1)):m("",!0)]),e("div",Jr,[Zr,Wr,f(e("input",{type:"password",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=b=>t.password=b)},null,512),[[k,t.password]]),t.errors&&t.errors.password?(l(),r("div",Yr,i(t.errors.password[0]),1)):m("",!0)]),e("div",Qr,[en,tn,f(e("input",{type:"password",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=b=>t.confirmpassword=b)},null,512),[[k,t.confirmpassword]]),sn])])])]),on,e("div",an,[e("div",ln,[rn,f(e("select",{class:"form-select","onUpdate:modelValue":s[11]||(s[11]=b=>t.colaborador=b)},[nn,(l(!0),r(P,null,E(t.colaboradoresSelect,b=>(l(),r("option",{key:b.id,value:b.id},i(b.nombre1)+" "+i(b.nombre2)+" "+i(b.apellido1)+" "+i(b.apellido2),9,dn))),128))],512),[[A,t.colaborador]]),t.errors&&t.errors.colaborador?(l(),r("div",cn,i(t.errors.colaborador[0]),1)):m("",!0)]),un,e("div",hn,[e("div",mn,[pn,fn,f(e("select",{class:"form-select","onUpdate:modelValue":s[12]||(s[12]=b=>t.idTipoUsuario=b)},[bn,(l(!0),r(P,null,E(t.tiposUsuario,b=>(l(),r("option",{key:b.id,value:b.id},i(b.nombre),9,gn))),128))],512),[[A,t.idTipoUsuario]]),t.errors&&t.errors.tipo?(l(),r("div",_n,i(t.errors.tipo[0]),1)):m("",!0)])]),e("div",vn,[t.asignarFofi==!0?(l(),r("div",$n,[yn,f(e("input",{type:"number",class:"form-control-small","onUpdate:modelValue":s[13]||(s[13]=b=>t.fofiAsignado=b)},null,512),[[k,t.fofiAsignado]])])):m("",!0),e("div",Cn,[e("label",wn,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[14]||(s[14]=b=>t.asignarFofi=b)},null,512),[[ne,t.asignarFofi]]),p("Asignar fondo fijo ")])])])]),kn,e("div",xn,[e("div",Pn,[En,t.marcados==!1?(l(),r("div",Tn,[e("label",Dn,[f(e("input",{type:"checkbox",value:0,onChange:s[15]||(s[15]=b=>d.marcarTodos()),class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=b=>t.selected=b)},null,544),[[ne,t.selected]]),p(" Marcar Todos ")])])):(l(),r("div",Bn,[e("label",On,[f(e("input",{type:"checkbox",value:0,onChange:s[17]||(s[17]=b=>d.marcarTodos()),class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=b=>t.selected=b)},null,544),[[ne,t.selected]]),p(" Desmarcar Todos ")])])),(l(!0),r(P,null,E(t.roles,b=>(l(),r("div",{key:b.id,class:"form-check"},[e("label",Mn,[f(e("input",{type:"checkbox",class:"form-check-input",id:b.id,value:b.id,"onUpdate:modelValue":s[19]||(s[19]=v=>t.selected=v)},null,8,Sn),[[ne,t.selected]]),p(" "+i(b.name),1)])]))),128))]),e("div",Rn,[An,t.marcados2==!1?(l(),r("div",Fn,[e("label",zn,[f(e("input",{type:"checkbox",value:0,onChange:s[20]||(s[20]=b=>d.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":s[21]||(s[21]=b=>t.selected2=b)},null,544),[[ne,t.selected2]]),p(" Marcar Todos ")])])):(l(),r("div",Un,[e("label",Vn,[f(e("input",{type:"checkbox",value:0,onChange:s[22]||(s[22]=b=>d.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":s[23]||(s[23]=b=>t.selected2=b)},null,544),[[ne,t.selected2]]),p(" Desmarcar Todos ")])])),(l(!0),r(P,null,E(t.permisos,b=>(l(),r("div",{key:b.id,class:"form-check"},[e("label",Ln,[f(e("input",{type:"checkbox",class:"form-check-input",id:b.id,value:b.id,"onUpdate:modelValue":s[24]||(s[24]=v=>t.selected2=v)},null,8,jn),[[ne,t.selected2]]),p(" "+i(b.name),1)])]))),128))])])])]),e("div",Nn,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[25]||(s[25]=b=>d.crearUsuario()),disabled:t.buttonDisable},i(t.buttonText),9,Hn)])]),t.showFotoPerfil?(l(),T(u,{key:0,onClose:s[26]||(s[26]=b=>t.showFotoPerfil=!1)})):m("",!0),x(g,{ref:"confirmation"},null,512),x(o,{ref:"alert"},null,512)])])])])]),_:3})}const cs=U(_r,[["render",In]]);document.head.querySelector('meta[name="roles"]');const Gn={components:{modalconfirmacion:j,modalalerta:N,modalfotoperfil:po,Multiselect:Ye},mixins:[V],data:()=>({profilePic:null,profilePicChange:null,fotoMiniatura:null,fotoAceptada:!1,showFotoPerfil:null,buttonText:"Editar Usuario",buttonDisable:!1,name:"",email:"",password:"",confirmpassword:"",fofiAsignado:0,idTipoUsuario:null,colaborador:null,rut:"",selected:[],marcados:!1,selected2:[],marcados2:!1,editarFofi:!1,id:"",errors:[],roles:"",permisos:"",colaboradores:null,colaboradoresSelect:[],rolesUsuario:null,permisosUsuario:null,revision:!1,revision2:!1,cambiarContraseña:!0,tiposUsuario:null}),props:{usuario:Object},created(){this.profilePic=this.usuario.profilePicture,this.name=this.usuario.name,this.email=this.usuario.email,this.id=this.usuario.id,this.fofiAsignado=this.usuario.fofiAsignado,this.tipo=this.usuario.idTipoUsuario,this.rut=this.usuario.rut,this.colaborador=this.usuario.idColaborador,this.getRoles(),this.getPermisos(),this.getTiposUsuario(),this.getRolesUsuario(this.id),this.getPermisosUsuario(this.id),this.compararPermisos(),this.getColaboradores()},methods:{async deleteProfilePic(){await this.$refs.confirmation.show({title:"Eliminar Foto de Perfil",message:"¿Está seguro/a que desea eliminar la foto de perfil?",okButton:"Eliminar",cancelButton:"Volver"})&&_.post(`api/usuarios/deleteProfilePic/${this.id}`).then(s=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Foto de perfil eliminada con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.profilePicChange=null,this.profilePic=null,this.imagen=null,this.fotoAceptada=null,this.fotoMiniatura=null,setTimeout(()=>{location.reload()},1e3)}).catch(s=>{console.log(s),s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Error.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async getRoles(){await _.get("api/roles").then(t=>{this.roles=t.data}).catch(t=>console.log(t)),this.getRolesUsuario()},async getRolesUsuario(t){await _.get(`api/roles/${t}`).then(s=>{this.rolesUsuario=s.data}).catch(s=>console.log(s)),this.compararRoles()},compararRoles(){this.revision==!1&&this.roles.forEach(t=>{this.rolesUsuario.forEach(s=>{t.name==s.name&&this.selected.push(t.id)})}),this.revision=!0},marcarTodos(){this.marcados==!1?(this.roles.forEach(t=>{this.selected.push(t.id)}),this.marcados=!0):(this.selected=[],this.marcados=!1)},getPermisos(){_.get("api/permisos").then(t=>{this.permisos=t.data}).catch(t=>console.log(t))},getPermisosUsuario(t){_.get(`api/permisos/${t}`).then(s=>{this.permisosUsuario=s.data}).catch(s=>console.log(s))},compararPermisos(){this.permisos!=null&&this.permisosUsuario!=null&&(this.revision2==!1&&this.permisos.forEach(t=>{this.permisosUsuario.forEach(s=>{t.name==s&&this.selected2.push(t.id)})}),this.revision2=!0)},marcarTodos2(){this.marcados2==!1?(this.permisos.forEach(t=>{this.selected2.push(t.id)}),this.marcados2=!0):(this.selected2=[],this.marcados2=!1)},getTiposUsuario(){_.get("../api/tiposUsuario").then(t=>{this.tiposUsuario=t.data}).catch(t=>console.log(t))},checkRut(){if(this.rut!=""){this.rut.replace(".","");var t=this.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.rut=s+"-"+a}},getColaboradores(){_.get("api/colaboradores").then(t=>{this.colaboradores=t.data,this.colaboradores.forEach(s=>{s.user==null&&this.colaboradoresSelect.push(s)}),this.usuario.colaborador!=null&&this.colaboradoresSelect.push(this.usuario.colaborador)}).catch(t=>console.log(t))},async editarUsuario(){if(this.errors=[],this.rut!=null&this.rut!=""){var t=this.validarRut(this.rut);t==!1&&(this.errors.push("rut"),this.toast.warning("El rut ingresado es invalido",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))}if(this.errors.length===0&&await this.$refs.confirmation.show({title:"Editar Usuario",message:`¿Está seguro/a que desea editar al usuario '${this.usuario.name}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let c={idColaborador:this.colaborador,name:this.name,email:this.email,password:this.password,confirmpassword:this.confirmpassword,roles:this.selected,permisos:this.selected2,fofiAsignado:this.fofiAsignado,idTipoUsuario:this.idTipoUsuario,rut:this.formatoRut(this.rut),profilePicChange:this.profilePicChange};var s=this.id;_.post(`api/usuarios/updateUser/${s}`,c,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{console.log(n),this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Usuario editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Compressor(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.profilePicChange=t.target.files[0];let s=[];await this.compressImages(this.profilePicChange,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.profilePicChange=a,this.chargeImage(this.profilePicChange)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},qn={name:"modal"},Kn={class:"modal-mask"},Xn={class:"modal-wrapper"},Jn={class:"modal-container-s"},Zn={class:"modal-header fw-bold",style:{color:"#444444"}},Wn={class:"modal-body"},Yn={class:"row"},Qn={class:"col-3 d-flex align-items-center"},ed={key:0},td={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},sd=["src"],od={style:{display:"flex","justify-content":"center"}},ad={key:1},ld=e("div",{style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},[e("img",{class:"w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"https://icon-library.com/images/default-user-icon/default-user-icon-13.jpg",alt:"profile_image"})],-1),id=[ld],rd={style:{display:"flex","justify-content":"center"}},nd={key:2},dd={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},cd=["src"],ud={style:{display:"flex","justify-content":"center"}},hd={class:"col-9"},md={class:"row"},pd={class:"col-12"},fd=e("label",{for:"name"},"Nombre: ",-1),bd=e("br",null,null,-1),gd={key:0,class:"error"},_d={class:"col-9"},vd=e("label",{for:"email"},"Correo Electrónico (Empresa): ",-1),$d=e("br",null,null,-1),yd={key:0,class:"error"},Cd={class:"col-3"},wd=e("label",{for:"rut"},"Rut:",-1),kd=e("br",null,null,-1),xd={key:0,class:"error"},Pd={class:"col-6"},Ed=e("label",{for:"password"},"Contraseña: ",-1),Td=e("br",null,null,-1),Dd=["disabled"],Bd={key:0,class:"error"},Od={class:"col-6"},Md=e("label",{for:"confirm-password"}," Confirmar contraseña: ",-1),Sd=e("br",null,null,-1),Rd=["disabled"],Ad=e("br",null,null,-1),Fd={class:"form-check"},zd={class:"form-check-label"},Ud=e("hr",{size:"4",class:"separador"},null,-1),Vd={class:"row"},Ld={class:"col-8"},jd=e("label",{for:"colaborador"}," Colaborador: ",-1),Nd=e("option",{value:null},"Seleccione un colaborador",-1),Hd=["value"],Id={key:0,class:"error"},Gd=e("br",null,null,-1),qd={class:"col-4"},Kd={class:"form-group"},Xd=e("label",{for:"tipo"},"Tipo de Usuario: ",-1),Jd=e("br",null,null,-1),Zd=e("option",{value:null},"Seleccione un tipo",-1),Wd=["value"],Yd={key:0,class:"error"},Qd={class:"col-6"},ec={key:0,class:"form-group",style:{"margin-bottom":"0px"}},tc=e("label",{class:"form-label",for:"typeNumber"},"Fondo fijo asignado: ",-1),sc={class:"form-check"},oc={class:"form-check-label"},ac=e("br",null,null,-1),lc={class:"row"},ic={class:"col-6"},rc=e("label",{for:""},"Roles:",-1),nc={key:0,class:"form-check"},dc={class:"form-check-label fw-bold"},cc={key:1,class:"form-check"},uc={class:"form-check-label fw-bold"},hc={class:"form-check-label"},mc=["id","value"],pc={class:"col-6"},fc=e("label",{for:""},"Permisos:",-1),bc={key:0,class:"form-check"},gc={class:"form-check-label fw-bold"},_c={key:1,class:"form-check"},vc={class:"form-check-label fw-bold"},$c={class:"form-check-label"},yc=["id","value"],Cc={class:"modal-footer"},wc=["disabled"];function kc(t,s,a,c,n,d){const u=y("modalfotoperfil"),g=y("modalconfirmacion"),o=y("modalalerta"),h=ot("has-error");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",qn,[e("div",Kn,[e("div",Xn,[e("div",Jn,[e("div",Zn,[C(t.$slots,"header",{},()=>[p(" Editar Usuario ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=b=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Wn,[C(t.$slots,"body",{},()=>[e("div",Yn,[e("div",Qn,[t.fotoMiniatura!=null&&t.fotoAceptada==!0?(l(),r("div",ed,[e("a",{class:"btn",onClick:s[1]||(s[1]=b=>{t.showFotoPerfil=!0,t.fotoAceptada=!1})},[e("div",td,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:d.imagen,alt:"profile_image"},null,8,sd)])]),e("div",od,[e("button",{class:"btn btn-closed",onClick:s[2]||(s[2]=b=>{d.deleteProfilePic()})},"Eliminar")])])):t.fotoMiniatura==null&&t.profilePic==null?(l(),r("div",ad,[e("a",{class:"btn",onClick:s[3]||(s[3]=b=>{t.showFotoPerfil=!0,t.fotoAceptada=!1})},id),e("div",rd,[e("button",{class:"btn btn-closed",onClick:s[4]||(s[4]=b=>{d.deleteProfilePic()})},"Eliminar")])])):(l(),r("div",nd,[e("a",{class:"btn",onClick:s[5]||(s[5]=b=>{t.showFotoPerfil=!0,t.fotoAceptada=!1})},[e("div",dd,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"data:image/jpeg;base64,"+t.profilePic,alt:"profile_image"},null,8,cd)])]),e("div",ud,[e("button",{class:"btn btn-closed",onClick:s[6]||(s[6]=b=>{d.deleteProfilePic()})},"Eliminar")])]))]),e("div",hd,[e("div",md,[e("div",pd,[fd,bd,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=b=>t.name=b)},null,512),[[h,t.errors.name],[k,t.name]]),t.errors&&t.errors.name?(l(),r("div",gd,i(t.errors.name[0]),1)):m("",!0)]),e("div",_d,[vd,$d,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=b=>t.email=b)},null,512),[[k,t.email]]),t.errors&&t.errors.email?(l(),r("div",yd,i(t.errors.email[0]),1)):m("",!0)]),e("div",Cd,[wd,kd,f(e("input",{type:"text",onKeyup:s[9]||(s[9]=b=>d.checkRut()),class:"form-control","onUpdate:modelValue":s[10]||(s[10]=b=>t.rut=b)},null,544),[[k,t.rut]]),t.errors&&t.errors.rut?(l(),r("div",xd,i(t.errors.rut[0]),1)):m("",!0)]),e("div",Pd,[Ed,Td,f(e("input",{type:"password",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=b=>t.password=b),disabled:t.cambiarContraseña},null,8,Dd),[[k,t.password]]),t.errors&&t.errors.password?(l(),r("div",Bd,i(t.errors.password[0]),1)):m("",!0)]),e("div",Od,[Md,Sd,f(e("input",{type:"password",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=b=>t.confirmpassword=b),disabled:t.cambiarContraseña},null,8,Rd),[[k,t.confirmpassword]]),Ad]),e("div",Fd,[e("label",zd,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[13]||(s[13]=b=>t.cambiarContraseña=b),onChange:s[14]||(s[14]=b=>(this.password="",this.confirmpassword=""))},null,544),[[ne,t.cambiarContraseña]]),p(" Actualizar Contraseña ")])])])])]),Ud,e("div",Vd,[e("div",Ld,[jd,f(e("select",{class:"form-select","onUpdate:modelValue":s[15]||(s[15]=b=>t.colaborador=b)},[Nd,(l(!0),r(P,null,E(t.colaboradoresSelect,b=>(l(),r("option",{key:b.id,value:b.id},i(b.nombre1)+" "+i(b.nombre2)+" "+i(b.apellido1)+" "+i(b.apellido2),9,Hd))),128))],512),[[A,t.colaborador]]),t.errors&&t.errors.colaborador?(l(),r("div",Id,i(t.errors.colaborador[0]),1)):m("",!0)]),Gd,e("div",qd,[e("div",Kd,[Xd,Jd,f(e("select",{class:"form-select","onUpdate:modelValue":s[16]||(s[16]=b=>t.idTipoUsuario=b)},[Zd,(l(!0),r(P,null,E(t.tiposUsuario,b=>(l(),r("option",{key:b.id,value:b.id},i(b.nombre),9,Wd))),128))],512),[[A,t.idTipoUsuario]]),t.errors&&t.errors.tipo?(l(),r("div",Yd,i(t.errors.tipo[0]),1)):m("",!0)])]),e("div",Qd,[t.editarFofi==!0?(l(),r("div",ec,[tc,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=b=>t.fofiAsignado=b)},null,512),[[k,t.fofiAsignado]])])):m("",!0),e("div",sc,[e("label",oc,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=b=>t.editarFofi=b)},null,512),[[ne,t.editarFofi]]),p("Editar fondo fijo ")])])])]),ac,e("div",lc,[e("div",ic,[rc,t.marcados==!1?(l(),r("div",nc,[e("label",dc,[f(e("input",{type:"checkbox",value:0,onChange:s[19]||(s[19]=b=>d.marcarTodos()),class:"form-check-input","onUpdate:modelValue":s[20]||(s[20]=b=>t.selected=b)},null,544),[[ne,t.selected]]),p(" Marcar Todos ")])])):(l(),r("div",cc,[e("label",uc,[f(e("input",{type:"checkbox",value:0,onChange:s[21]||(s[21]=b=>d.marcarTodos()),class:"form-check-input","onUpdate:modelValue":s[22]||(s[22]=b=>t.selected=b)},null,544),[[ne,t.selected]]),p(" Desmarcar Todos ")])])),(l(!0),r(P,null,E(t.roles,b=>(l(),r("div",{key:b.id,class:"form-check"},[e("label",hc,[f(e("input",{type:"checkbox",class:"form-check-input",id:b.id,value:b.id,"onUpdate:modelValue":s[23]||(s[23]=v=>t.selected=v)},null,8,mc),[[ne,t.selected]]),p(" "+i(b.name),1)])]))),128))]),e("div",pc,[fc,t.marcados2==!1?(l(),r("div",bc,[e("label",gc,[f(e("input",{type:"checkbox",value:0,onChange:s[24]||(s[24]=b=>d.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":s[25]||(s[25]=b=>t.selected2=b)},null,544),[[ne,t.selected2]]),p(" Marcar Todos ")])])):(l(),r("div",_c,[e("label",vc,[f(e("input",{type:"checkbox",value:0,onChange:s[26]||(s[26]=b=>d.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":s[27]||(s[27]=b=>t.selected2=b)},null,544),[[ne,t.selected2]]),p(" Desmarcar Todos ")])])),(l(!0),r(P,null,E(t.permisos,b=>(l(),r("div",{key:b.id,class:"form-check"},[e("label",$c,[f(e("input",{type:"checkbox",class:"form-check-input",id:b.id,value:b.id,"onUpdate:modelValue":s[28]||(s[28]=v=>t.selected2=v)},null,8,yc),[[ne,t.selected2]]),p(" "+i(b.name),1)])]))),128))])])])]),e("div",Cc,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[29]||(s[29]=b=>d.editarUsuario()),disabled:t.buttonDisable},i(t.buttonText),9,wc)])])])]),t.showFotoPerfil?(l(),T(u,{key:0,onClose:s[30]||(s[30]=b=>t.showFotoPerfil=!1)})):m("",!0),x(g,{ref:"confirmation"},null,512),x(o,{ref:"alert"},null,512)])])]),_:3})}const mt=U(Gn,[["render",kc]]),xc={components:{modalcrear:cs,modaleditar:mt,modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{usuarios:null,showModal1:!1,showModal2:!1,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0}},created(){this.getUsuarios()},methods:{getUsuarios(){_.get("api/usuarios").then(t=>{this.usuarios=t.data,setTimeout(function(){var s=$("#MyTableRemuneraciones").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]});this.mostrarCarga=!1,this.mostrarTabla=!0,$("a.toggle-vis").on("click",function(a){a.preventDefault();var c=s.column($(this).attr("data-column"));c.visible(!c.visible())}),s.on("click","th.select-checkbox",function(){$("th.select-checkbox").hasClass("selected")?(s.rows().deselect(),$("th.select-checkbox").removeClass("selected")):(s.rows().select(),$("th.select-checkbox").addClass("selected"))}).on("select deselect",function(){s.rows({selected:!0}).count()!==s.rows().count()?$("th.select-checkbox").removeClass("selected"):$("th.select-checkbox").addClass("selected")})}.bind(this),100)}).catch(t=>console.log(t))},usuarioEditar(t){this.usuarioeditar=t,this.showModal2=!0},async deleteUsuario(t,s){await this.$refs.confirmation.show({title:"Borrar Usuario",message:`¿Está seguro/a que desea eliminar al usuario '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/usuarios/${t}`).then(c=>{this.toast.success("Usuario eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))}}},Pc={class:"row mt-4 mx-4"},Ec={class:"col-12"},Tc={class:"card mb-4"},Dc={class:"row"},Bc=ve('<div class="col-9"><div class="card-header pb-0"><h6>Sistema de Remuneraciones</h6></div></div><div class="dropdown col-auto"><div class="card-header pb-0"><a class="btn btn-primary" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> Mostrar/Ocultar Columnas: </a><ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"><li><a class="dropdown-item toggle-vis" data-column="1" href="#">Nombre</a></li><li><a class="dropdown-item toggle-vis" data-column="2" href="#">Correo Electrónico</a></li><li><a class="dropdown-item toggle-vis" data-column="3" href="#">Rol</a></li><li><a class="dropdown-item toggle-vis" data-column="4" href="#">Acciones</a></li></ul></div><p></p></div>',2),Oc={class:"col-auto",style:{"margin-left":"auto","margin-right":"60px"}},Mc={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Sc={class:"table-responsive p-0"},Rc={class:"loader-sm"},Ac={class:"table align-items-center mb-0",id:"MyTableRendiciones"},Fc=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Correo Electrónico "),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rol"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),zc=e("td",null,null,-1),Uc={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Vc={class:"text-sm mb-0"},Lc={class:"text-sm mb-0"},jc={class:"align-middle text-end"},Nc={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Hc=["onClick"],Ic=e("i",{class:"fa fa-fw fa-edit"},null,-1),Gc=["onClick"],qc=e("i",{class:"fa fa-fw fa-trash"},null,-1),Kc=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),Xc=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function Jc(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modalcrear");return l(),r("div",Pc,[e("div",Ec,[e("div",Tc,[e("div",Dc,[Bc,e("div",Oc,[e("div",null,[e("a",{class:"btn btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=b=>n.showModal1=!0)},"Nuevo")])])]),e("div",Mc,[e("div",Sc,[f(e("div",Rc,null,512),[[H,n.mostrarCarga]]),f(e("table",Ac,[Fc,e("tbody",null,[(l(!0),r(P,null,E(n.usuarios,b=>(l(),r("tr",{key:b.id},[zc,e("td",null,[e("p",Uc,i(b.name),1)]),e("td",null,[e("p",Vc,i(b.email),1)]),e("td",null,[e("p",Lc,i(b.id),1)]),e("td",jc,[e("div",Nc,[e("a",{class:"btn btn-success btn-sm",title:"Editar",onClick:v=>d.usuarioEditar(b)},[Ic,p(" Editar")],8,Hc),p("   "),e("a",{class:"btn btn-closed btn-sm",title:"Eliminar",onClick:v=>d.deleteUsuario(b.id,b.name)},[qc,p("Eliminar")],8,Gc)])])]))),128))])],512),[[H,n.mostrarTabla]]),Kc])])]),Xc,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showModal2?(l(),T(o,{key:0,usuario:n.usuarioeditar,onClose:s[1]||(s[1]=b=>n.showModal2=!1)},null,8,["usuario"])):m("",!0),n.showModal1?(l(),T(h,{key:1,onClose:s[2]||(s[2]=b=>n.showModal1=!1)})):m("",!0)])])}const Zc=U(xc,[["render",Jc]]),Wc={components:{modalcrear:cs,modaleditar:mt,modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{pokemons:null,showModal1:!1,showModal2:!1,pokemoneditar:null,mostrarTabla:!1,mostrarCarga:!0}},created(){this.getPokemons()},methods:{getPokemons(){_.get("api/pokemons").then(t=>{this.pokemons=t.data,setTimeout(function(){var s=$("#MyTableGestorOC").DataTable({});this.mostrarCarga=!1,this.mostrarTabla=!0,$("a.toggle-vis").on("click",function(a){a.preventDefault();var c=s.column($(this).attr("data-column"));c.visible(!c.visible())}),s.on("click","th.select-checkbox",function(){$("th.select-checkbox").hasClass("selected")?(s.rows().deselect(),$("th.select-checkbox").removeClass("selected")):(s.rows().select(),$("th.select-checkbox").addClass("selected"))}).on("select deselect",function(){s.rows({selected:!0}).count()!==s.rows().count()?$("th.select-checkbox").removeClass("selected"):$("th.select-checkbox").addClass("selected")})}.bind(this),100)}).catch(t=>console.log(t))},pokemonEditar(t){this.pokemoneditar=t,this.showModal2=!0},async deletePokemon(t,s){await this.$refs.confirmation.show({title:"Borrar Pokemon",message:`¿Está seguro/a que desea eliminar al pokemon '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/pokemons/${t}`).then(c=>{this.toast.success("Pokemon eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))}}},Yc={class:"row mt-4 mx-4"},Qc={class:"col-12"},eu={class:"card mb-4"},tu={class:"row"},su=ve('<div class="col-9"><div class="card-header pb-0"><h6>Pokemons</h6></div></div><div class="dropdown col-auto"><div class="card-header pb-0"><a class="btn btn-primary" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> Mostrar/Ocultar Columnas: </a><ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"><li><a class="dropdown-item toggle-vis" data-column="2" href="#">PokedexID</a></li><li><a class="dropdown-item toggle-vis" data-column="3" href="#">Nombre</a></li><li><a class="dropdown-item toggle-vis" data-column="4" href="#">Tipo 1</a></li><li><a class="dropdown-item toggle-vis" data-column="5" href="#">Tipo 2</a></li><li><a class="dropdown-item toggle-vis" data-column="6" href="#">Estadísticas</a></li><li><a class="dropdown-item toggle-vis" data-column="7" href="#">Vida</a></li><li><a class="dropdown-item toggle-vis" data-column="8" href="#">Ataque</a></li><li><a class="dropdown-item toggle-vis" data-column="9" href="#">Defensa</a></li><li><a class="dropdown-item toggle-vis" data-column="10" href="#">Ataque Especial</a></li><li><a class="dropdown-item toggle-vis" data-column="11" href="#">Defensa Especial</a></li><li><a class="dropdown-item toggle-vis" data-column="12" href="#">Velocidad</a></li><li><a class="dropdown-item toggle-vis" data-column="13" href="#">Generación</a></li><li><a class="dropdown-item toggle-vis" data-column="14" href="#">¿Legendario?</a></li></ul></div><p></p></div>',2),ou={class:"col-auto",style:{"margin-left":"auto","margin-right":"60px"}},au={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},lu={class:"table-responsive p-0"},iu={class:"loader-sm"},ru={class:"table align-items-center mb-0",id:"MyTableGestorOC"},nu=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"PokedexID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo 1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo 2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estadísticas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Vida"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ataque"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Defensa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ataque Especial"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Defensa Especial"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Velocidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Generación"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"¿Legendario?"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),du=e("td",null,null,-1),cu={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},uu={class:"text-sm mb-0"},hu={class:"text-sm mb-0"},mu={class:"text-sm mb-0"},pu={class:"text-sm mb-0"},fu={class:"text-sm mb-0"},bu={class:"text-sm mb-0"},gu={class:"text-sm mb-0"},_u={class:"text-sm mb-0"},vu={class:"text-sm mb-0"},$u={class:"text-sm mb-0"},yu={class:"text-sm mb-0"},Cu={class:"text-sm mb-0"},wu={class:"text-sm mb-0"},ku={class:"align-middle text-end"},xu={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Pu=["onClick"],Eu=e("i",{class:"fa fa-fw fa-edit"},null,-1),Tu=["onClick"],Du=e("i",{class:"fa fa-fw fa-trash"},null,-1),Bu=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),Ou=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function Mu(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modalcrear");return l(),r("div",Yc,[e("div",Qc,[e("div",eu,[e("div",tu,[su,e("div",ou,[e("div",null,[e("a",{class:"btn btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=b=>n.showModal1=!0)},"Nuevo")])])]),e("div",au,[e("div",lu,[f(e("div",iu,null,512),[[H,n.mostrarCarga]]),f(e("table",ru,[nu,e("tbody",null,[(l(!0),r(P,null,E(n.pokemons,b=>(l(),r("tr",{key:b.id},[du,e("td",null,[e("p",cu,i(b.id),1)]),e("td",null,[e("p",uu,i(b.pokedexID),1)]),e("td",null,[e("p",hu,i(b.name),1)]),e("td",null,[e("p",mu,i(b.type1),1)]),e("td",null,[e("p",pu,i(b.type2),1)]),e("td",null,[e("p",fu,i(b.total_stats),1)]),e("td",null,[e("p",bu,i(b.health),1)]),e("td",null,[e("p",gu,i(b.attack),1)]),e("td",null,[e("p",_u,i(b.defense),1)]),e("td",null,[e("p",vu,i(b.sp_attack),1)]),e("td",null,[e("p",$u,i(b.sp_defense),1)]),e("td",null,[e("p",yu,i(b.speed),1)]),e("td",null,[e("p",Cu,i(b.generation),1)]),e("td",null,[e("p",wu,i(b.legendary),1)]),e("td",ku,[e("div",xu,[e("a",{class:"btn btn-success btn-sm",onClick:v=>d.pokemonEditar(b)},[Eu,p(" Editar")],8,Pu),p("   "),e("a",{class:"btn btn-closed btn-sm",onClick:v=>d.deletePokemon(b.id,b.name)},[Du,p("Eliminar")],8,Tu)])])]))),128))])],512),[[H,n.mostrarTabla]]),Bu])])]),Ou,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showModal2?(l(),T(o,{key:0,pokemon:n.pokemoneditar,onClose:s[1]||(s[1]=b=>n.showModal2=!1)},null,8,["pokemon"])):m("",!0),n.showModal1?(l(),T(h,{key:1,onClose:s[2]||(s[2]=b=>n.showModal1=!1)})):m("",!0)])])}const Su=U(Wc,[["render",Mu]]),Ru={},Au=ve('<div class="row"><div class="col-12"><div class="card mb-4"><div class="card-header pb-0"><h6>Authors table</h6></div><div class="card-body px-0 pt-0 pb-2" style="min-height:400px;"><div class="table-responsive p-0"><table class="table align-items-center mb-0"><thead><tr><th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"> Author</th><th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"> Function</th><th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"> Status</th><th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"> Employed</th><th class="text-secondary opacity-7"></th></tr></thead><tbody><tr><td><div class="d-flex px-2 py-1"><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">John Michael</h6><p class="text-xs text-secondary mb-0">john@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Manager</p><p class="text-xs text-secondary mb-0">Organization</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-success">Online</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">23/04/18</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr><tr><td><div class="d-flex px-2 py-1"><div><img src="/img/team-3.jpg" class="avatar avatar-sm me-3" alt="user2"></div><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">Alexa Liras</h6><p class="text-xs text-secondary mb-0">alexa@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Programator</p><p class="text-xs text-secondary mb-0">Developer</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-secondary">Offline</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">11/01/19</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr><tr><td><div class="d-flex px-2 py-1"><div><img src="/img/team-4.jpg" class="avatar avatar-sm me-3" alt="user3"></div><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">Laurent Perrier</h6><p class="text-xs text-secondary mb-0">laurent@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Executive</p><p class="text-xs text-secondary mb-0">Projects</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-success">Online</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">19/09/17</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr><tr><td><div class="d-flex px-2 py-1"><div><img src="/img/team-3.jpg" class="avatar avatar-sm me-3" alt="user4"></div><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">Michael Levi</h6><p class="text-xs text-secondary mb-0">michael@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Programator</p><p class="text-xs text-secondary mb-0">Developer</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-success">Online</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">24/12/08</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr><tr><td><div class="d-flex px-2 py-1"><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">Richard Gran</h6><p class="text-xs text-secondary mb-0">richard@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Manager</p><p class="text-xs text-secondary mb-0">Executive</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-secondary">Offline</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">04/10/21</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr><tr><td><div class="d-flex px-2 py-1"><div><img src="/img/team-4.jpg" class="avatar avatar-sm me-3" alt="user6"></div><div class="d-flex flex-column justify-content-center"><h6 class="mb-0 text-sm">Miriam Eric</h6><p class="text-xs text-secondary mb-0">miriam@creative-tim.com</p></div></div></td><td><p class="text-xs font-weight-bold mb-0">Programtor</p><p class="text-xs text-secondary mb-0">Developer</p></td><td class="align-middle text-center text-sm"><span class="badge badge-sm bg-gradient-secondary">Offline</span></td><td class="align-middle text-center"><span class="text-secondary text-xs font-weight-bold">14/09/20</span></td><td class="align-middle"><a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user"> Edit </a></td></tr></tbody></table></div></div></div></div></div>',1),Fu=e("div",{class:"row"},[e("div",{class:"col-12"},[e("div",{class:"card mb-4"},[e("div",{class:"card-header pb-0"},[e("h6",null,"Projects table")]),e("div",{class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},[e("div",{class:"table-responsive p-0"},[e("table",{class:"table align-items-center justify-content-center mb-0"},[e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Project"),e("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Budget"),e("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Status"),e("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7 ps-2"}," Completion"),e("th")])]),e("tbody",null,[e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-spotify.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"spotify"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Spotify")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$2,500")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"working")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"60%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-info",role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100",style:{width:"60%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])]),e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-invision.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"invision"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Invision")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$5,000")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"done")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"100%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-success",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])]),e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-jira.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"jira"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Jira")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$3,400")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"canceled")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"30%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-danger",role:"progressbar","aria-valuenow":"30","aria-valuemin":"0","aria-valuemax":"30",style:{width:"30%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])]),e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-slack.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"slack"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Slack")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$1,000")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"canceled")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"0%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-success",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"0",style:{width:"0%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])]),e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-webdev.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"webdev"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Webdev")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$14,000")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"working")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"80%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-info",role:"progressbar","aria-valuenow":"80","aria-valuemin":"0","aria-valuemax":"80",style:{width:"80%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])]),e("tr",null,[e("td",null,[e("div",{class:"d-flex px-2"},[e("div",null,[e("img",{src:"/img/small-logos/logo-xd.svg",class:"avatar avatar-sm rounded-circle me-2",alt:"xd"})]),e("div",{class:"my-auto"},[e("h6",{class:"mb-0 text-sm"},"Adobe XD")])])]),e("td",null,[e("p",{class:"text-sm font-weight-bold mb-0"},"$2,300")]),e("td",null,[e("span",{class:"text-xs font-weight-bold"},"done")]),e("td",{class:"align-middle text-center"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("span",{class:"me-2 text-xs font-weight-bold"},"100%"),e("div",null,[e("div",{class:"progress"},[e("div",{class:"progress-bar bg-gradient-success",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})])])])]),e("td",{class:"align-middle"},[e("a",{class:"btn btn-link text-secondary mb-0","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-ellipsis-v text-xs"})])])])])])])])])])],-1);function zu(t,s){return l(),r(P,null,[Au,Fu],64)}const Uu=U(Ru,[["render",zu]]),Vu={},Lu=ve('<div class="row"><div class="col-lg-8"><div class="row"><div class="col-xl-6 mb-xl-0 mb-4"><div class="card bg-transparent shadow-xl"><div class="overflow-hidden position-relative border-radius-xl" style="background-image:url(&#39;https://raw.githubusercontent.com/creativetimofficial/public-assets/master/argon-dashboard-pro/assets/img/card-visa.jpg&#39;);"><span class="mask bg-gradient-dark"></span><div class="card-body position-relative z-index-1 p-3"><i class="fas fa-wifi text-white p-2"></i><h5 class="text-white mt-4 mb-5 pb-2"> 4562   1122   4594   7852</h5><div class="d-flex"><div class="d-flex"><div class="me-4"><p class="text-white text-sm opacity-8 mb-0">Card Holder</p><h6 class="text-white mb-0">Jack Peterson</h6></div>s <div><p class="text-white text-sm opacity-8 mb-0">Expires</p><h6 class="text-white mb-0">11/22</h6></div></div><div class="ms-auto w-20 d-flex align-items-end justify-content-end"><img class="w-60 mt-2" src="/img/logos/mastercard.png" alt="logo"></div></div></div></div></div></div><div class="col-xl-6"><div class="row"><div class="col-md-6"><div class="card"><div class="card-header mx-4 p-3 text-center"><div class="icon icon-shape icon-lg bg-gradient-primary shadow text-center border-radius-lg"><i class="fas fa-landmark opacity-10"></i></div></div><div class="card-body pt-0 p-3 text-center"><h6 class="text-center mb-0">Salary</h6><span class="text-xs">Belong Interactive</span><hr class="horizontal dark my-3"><h5 class="mb-0">+$2000</h5></div></div></div><div class="col-md-6 mt-md-0 mt-4"><div class="card"><div class="card-header mx-4 p-3 text-center"><div class="icon icon-shape icon-lg bg-gradient-primary shadow text-center border-radius-lg"><i class="fab fa-paypal opacity-10"></i></div></div><div class="card-body pt-0 p-3 text-center"><h6 class="text-center mb-0">Paypal</h6><span class="text-xs">Freelance Payment</span><hr class="horizontal dark my-3"><h5 class="mb-0">$455.00</h5></div></div></div></div></div><div class="col-md-12 mb-lg-0 mb-4"><div class="card mt-4"><div class="card-header pb-0 p-3"><div class="row"><div class="col-6 d-flex align-items-center"><h6 class="mb-0">Payment Method</h6></div><div class="col-6 text-end"><a class="btn bg-gradient-dark mb-0" href="javascript:;"><i class="fas fa-plus"></i>  Add New Card</a></div></div></div><div class="card-body p-3"><div class="row"><div class="col-md-6 mb-md-0 mb-4"><div class="card card-body border card-plain border-radius-lg d-flex align-items-center flex-row"><img class="w-10 me-3 mb-0" src="/img/logos/mastercard.png" alt="logo"><h6 class="mb-0"> ****   ****   ****   7852</h6><i class="fas fa-pencil-alt ms-auto text-dark cursor-pointer" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit Card"></i></div></div><div class="col-md-6"><div class="card card-body border card-plain border-radius-lg d-flex align-items-center flex-row"><img class="w-10 me-3 mb-0" src="/img/logos/visa.png" alt="logo"><h6 class="mb-0"> ****   ****   ****   5248</h6><i class="fas fa-pencil-alt ms-auto text-dark cursor-pointer" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit Card"></i></div></div></div></div></div></div></div></div><div class="col-lg-4"><div class="card h-100"><div class="card-header pb-0 p-3"><div class="row"><div class="col-6 d-flex align-items-center"><h6 class="mb-0">Facturas</h6></div><div class="col-6 text-end"><a class="btn btn-outline-primary btn-sm mb-0">View All</a></div></div></div><div class="card-body p-3 pb-0"><ul class="list-group"><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-1 text-dark font-weight-bold text-sm">March, 01, 2020</h6><span class="text-xs">#MS-415646</span></div><div class="d-flex align-items-center text-sm"> $180 <a class="btn btn-link text-dark text-sm mb-0 px-0 ms-4"><i class="fas fa-file-pdf text-lg me-1"></i> PDF</a></div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex flex-column"><h6 class="text-dark mb-1 font-weight-bold text-sm">February, 10, 2021</h6><span class="text-xs">#RV-126749</span></div><div class="d-flex align-items-center text-sm"> $250 <a class="btn btn-link text-dark text-sm mb-0 px-0 ms-4"><i class="fas fa-file-pdf text-lg me-1"></i> PDF</a></div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex flex-column"><h6 class="text-dark mb-1 font-weight-bold text-sm">April, 05, 2020</h6><span class="text-xs">#FB-212562</span></div><div class="d-flex align-items-center text-sm"> $560 <a class="btn btn-link text-dark text-sm mb-0 px-0 ms-4"><i class="fas fa-file-pdf text-lg me-1"></i> PDF</a></div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex flex-column"><h6 class="text-dark mb-1 font-weight-bold text-sm">June, 25, 2019</h6><span class="text-xs">#QW-103578</span></div><div class="d-flex align-items-center text-sm"> $120 <a class="btn btn-link text-dark text-sm mb-0 px-0 ms-4"><i class="fas fa-file-pdf text-lg me-1"></i> PDF</a></div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 border-radius-lg"><div class="d-flex flex-column"><h6 class="text-dark mb-1 font-weight-bold text-sm">March, 01, 2019</h6><span class="text-xs">#AR-803481</span></div><div class="d-flex align-items-center text-sm"> $300 <a class="btn btn-link text-dark text-sm mb-0 px-0 ms-4"><i class="fas fa-file-pdf text-lg me-1"></i> PDF</a></div></li></ul></div></div></div></div><div class="row"><div class="col-md-7 mt-4"><div class="card"><div class="card-header pb-0 px-3"><h6 class="mb-0">Información de Facturación: </h6></div><div class="card-body pt-4 p-3"><ul class="list-group"><li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Oliver Liam</h6><span class="mb-2 text-xs">Company Name: <span class="text-dark font-weight-bold ms-sm-2">Viking Burrito</span></span><span class="mb-2 text-xs">Email Address: <span class="text-dark ms-sm-2 font-weight-bold">oliver@burrito.com</span></span><span class="text-xs">VAT Number: <span class="text-dark ms-sm-2 font-weight-bold">FRB1235476</span></span></div><div class="ms-auto text-end"><a class="btn btn-link text-danger text-gradient px-3 mb-0" href="javascript:;"><i class="far fa-trash-alt me-2"></i>Delete</a><a class="btn btn-link text-dark px-3 mb-0" href="javascript:;"><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Edit</a></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 mt-3 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Lucas Harper</h6><span class="mb-2 text-xs">Company Name: <span class="text-dark font-weight-bold ms-sm-2">Stone Tech Zone</span></span><span class="mb-2 text-xs">Email Address: <span class="text-dark ms-sm-2 font-weight-bold">lucas@stone-tech.com</span></span><span class="text-xs">VAT Number: <span class="text-dark ms-sm-2 font-weight-bold">FRB1235476</span></span></div><div class="ms-auto text-end"><a class="btn btn-link text-danger text-gradient px-3 mb-0" href="javascript:;"><i class="far fa-trash-alt me-2"></i>Delete</a><a class="btn btn-link text-dark px-3 mb-0" href="javascript:;"><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Edit</a></div></li><li class="list-group-item border-0 d-flex p-4 mb-2 mt-3 bg-gray-100 border-radius-lg"><div class="d-flex flex-column"><h6 class="mb-3 text-sm">Ethan James</h6><span class="mb-2 text-xs">Company Name: <span class="text-dark font-weight-bold ms-sm-2">Fiber Notion</span></span><span class="mb-2 text-xs">Email Address: <span class="text-dark ms-sm-2 font-weight-bold">ethan@fiber.com</span></span><span class="text-xs">VAT Number: <span class="text-dark ms-sm-2 font-weight-bold">FRB1235476</span></span></div><div class="ms-auto text-end"><a class="btn btn-link text-danger text-gradient px-3 mb-0" href="javascript:;"><i class="far fa-trash-alt me-2"></i>Delete</a><a class="btn btn-link text-dark px-3 mb-0" href="javascript:;"><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Edit</a></div></li></ul></div></div></div><div class="col-md-5 mt-4"><div class="card h-100 mb-4"><div class="card-header pb-0 px-3"><div class="row"><div class="col-md-6"><h6 class="mb-0">Your Transaction&#39;s</h6></div><div class="col-md-6 d-flex justify-content-end align-items-center"><i class="far fa-calendar-alt me-2"></i><small>23 - 30 March 2020</small></div></div></div><div class="card-body pt-4 p-3"><h6 class="text-uppercase text-body text-xs font-weight-bolder mb-3">Newest</h6><ul class="list-group"><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-danger mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-down"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">Netflix</h6><span class="text-xs">27 March 2020, at 12:30 PM</span></div></div><div class="d-flex align-items-center text-danger text-gradient text-sm font-weight-bold"> - $ 2,500 </div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-success mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-up"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">Apple</h6><span class="text-xs">27 March 2020, at 04:30 AM</span></div></div><div class="d-flex align-items-center text-success text-gradient text-sm font-weight-bold"> + $ 2,000 </div></li></ul><h6 class="text-uppercase text-body text-xs font-weight-bolder my-3">Yesterday</h6><ul class="list-group"><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-success mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-up"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">Stripe</h6><span class="text-xs">26 March 2020, at 13:45 PM</span></div></div><div class="d-flex align-items-center text-success text-gradient text-sm font-weight-bold"> + $ 750 </div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-success mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-up"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">HubSpot</h6><span class="text-xs">26 March 2020, at 12:30 PM</span></div></div><div class="d-flex align-items-center text-success text-gradient text-sm font-weight-bold"> + $ 1,000 </div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-success mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-arrow-up"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">Creative Tim</h6><span class="text-xs">26 March 2020, at 08:30 AM</span></div></div><div class="d-flex align-items-center text-success text-gradient text-sm font-weight-bold"> + $ 2,500 </div></li><li class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"><div class="d-flex align-items-center"><a class="btn btn-icon-only btn-rounded btn-outline-dark mb-0 me-3 btn-sm d-flex align-items-center justify-content-center"><i class="fas fa-exclamation"></i></a><div class="d-flex flex-column"><h6 class="mb-1 text-dark text-sm">Webflow</h6><span class="text-xs">26 March 2020, at 05:00 AM</span></div></div><div class="d-flex align-items-center text-dark text-sm font-weight-bold"> Pendiente </div></li></ul></div></div></div></div>',2);function ju(t,s){return Lu}const Nu=U(Vu,[["render",ju]]),Hu={},Iu={class:"page-header min-vh-100"},Gu=e("div",{class:"container"},[e("div",{class:"row"},[e("div",{class:"col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0 mx-auto"},[e("div",{class:"card card-plain"},[e("div",{class:"card-header pb-0 text-start"},[e("h4",{class:"font-weight-bolder"},"Sign In"),e("p",{class:"mb-0"},"Enter your email and password to sign in")]),e("div",{class:"card-body"},[e("form",{role:"form"},[e("div",{class:"mb-3"},[e("input",{type:"email",class:"form-control form-control-lg",placeholder:"Email","aria-label":"Email"})]),e("div",{class:"mb-3"},[e("input",{type:"email",class:"form-control form-control-lg",placeholder:"Password","aria-label":"Password"})]),e("div",{class:"form-check form-switch"},[e("input",{class:"form-check-input",type:"checkbox",id:"rememberMe"}),e("label",{class:"form-check-label",for:"rememberMe"},"Remember me")]),e("div",{class:"text-center"},[e("a",{type:"button",class:"btn btn-lg btn-primary btn-lg w-100 mt-4 mb-0"},"Sign in")])])])])]),e("div",{class:"col-6 d-lg-flex d-none h-100 my-auto pe-0 position-absolute top-0 end-0 text-center justify-content-center flex-column"},[e("div",{class:"background-size-cover position-relative bg-gradient-primary h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center overflow-hidden",style:{"background-image":"url('https://raw.githubusercontent.com/creativetimofficial/public-assets/master/argon-dashboard-pro/assets/img/signin-ill.jpg')"}},[e("span",{class:"mask bg-gradient-primary opacity-6"}),e("h4",{class:"mt-5 text-white font-weight-bolder position-relative"},'"Attention is the new currency"'),e("p",{class:"text-white position-relative"},"The more effortless the writing looks, the more effort the writer actually put into the process.")])])])],-1),qu=[Gu];function Ku(t,s){return l(),r("div",Iu,qu)}const Xu=U(Hu,[["render",Ku]]),Ju={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({manual:{modulo:null,titulo:null,fecha:null,archivo:null,url:null},buttonText:"Crear Manual",buttonDisable:!1,errors:[]}),created(){this.manual.fecha=this.printDate(),this.getRoles()},methods:{getRoles(){_.get("api/roles").then(t=>{this.roles=t.data}).catch(t=>console.log(t))},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},printDate(){return new Date().toLocaleDateString()},async crearManual(){if(await this.$refs.confirmation.show({title:"Crear Manual",message:"¿Está seguro/a que desea crear esta Manual ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let s={modulo:this.manual.modulo,titulo:this.manual.titulo,fecha:this.manual.fecha,archivo:this.manual.archivo,url:this.manual.url};_.post("../api/manuales",s,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Manual guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async getFile(t){this.manual.archivo=t.target.files[0]}}},Zu={name:"modal"},Wu={class:"modal-mask"},Yu={class:"modal-wrapper"},Qu={class:"modal-container-xs"},eh={class:"modal-header fw-bold",style:{color:"#444444"}},th={class:"modal-body"},sh={class:"row"},oh={class:"col-12"},ah={class:"form-group"},lh=e("label",{for:"titulo"},"Titulo del Manual: ",-1),ih={key:0,class:"error"},rh={class:"col-12"},nh={class:"form-group"},dh=e("label",{for:"",style:{display:"flex","justify-content":"space-between"}},[p("Módulo: "),e("label",{title:"Solo las personas con un rol igual al módulo del manual podrán acceder a él."},[e("span",{class:"badge bg-dark-grey fs-10"},"?")])],-1),ch=e("option",{disabled:"",value:""},"Seleccione el módulo al que pertenece el manual:",-1),uh=["value"],hh={key:0,class:"error"},mh=e("hr",{size:"4",class:"separador"},null,-1),ph={class:"col-12"},fh={class:"form-group"},bh=e("label",{for:"archivo"},"Archivo: ",-1),gh={key:0,class:"error"},_h={class:"col-12"},vh={class:"form-group"},$h=e("label",{for:"url"},"URL: ",-1),yh={key:0,class:"error"},Ch={class:"modal-footer"},wh=["disabled"];function kh(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Zu,[e("div",Wu,[e("div",Yu,[e("div",Qu,[e("div",eh,[C(t.$slots,"header",{},()=>[p(" Nueva Manual ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",th,[C(t.$slots,"body",{},()=>[e("div",sh,[e("div",oh,[e("div",ah,[lh,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.manual.titulo=o)},null,512),[[k,t.manual.titulo]])]),t.errors&&t.errors.titulo?(l(),r("div",ih,i(t.errors.titulo[0]),1)):m("",!0)]),e("div",rh,[e("div",nh,[dh,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.manual.modulo=o)},[ch,(l(!0),r(P,null,E(t.roles,o=>(l(),r("option",{key:o.id,value:o.name},i(o.name),9,uh))),128))],512),[[A,t.manual.modulo]])]),t.errors&&t.errors.modulo?(l(),r("div",hh,i(t.errors.modulo[0]),1)):m("",!0)]),mh,e("div",ph,[e("div",fh,[bh,e("input",{type:"file",accept:".pdf",class:"form-control",onChange:s[3]||(s[3]=(...o)=>d.getFile&&d.getFile(...o))},null,32)]),t.errors&&t.errors.archivo?(l(),r("div",gh,i(t.errors.archivo[0]),1)):m("",!0)]),e("div",_h,[e("div",vh,[$h,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.manual.url=o)},null,512),[[k,t.manual.url]])]),t.errors&&t.errors.url?(l(),r("div",yh,i(t.errors.url[0]),1)):m("",!0)])])])]),e("div",Ch,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.crearManual()),disabled:t.buttonDisable},i(t.buttonText),9,wh)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const xh=U(Ju,[["render",kh]]),Ph={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,robosAutorizar:null,errors:[]}),props:{robo:Object},created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async saveAuth(){await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a los datos ingresados son correctos? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})&&_.post("api/robos/autorizar",this.robo).then(s=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Descuento de Stock Autorizado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{console.log(s),s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}},Eh={name:"modal"},Th={class:"modal-mask"},Dh={class:"modal-wrapper"},Bh={class:"modal-container-xs"},Oh={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},Mh={class:"modal-body"},Sh=e("label",{for:""},"Autorizar: ",-1),Rh=e("br",null,null,-1),Ah=e("label",{style:{"margin-right":"15px"}},"Si",-1),Fh=e("label",null,"No",-1),zh=e("label",null,"Pendiente",-1),Uh=e("br",null,null,-1),Vh={class:"form-group"},Lh=e("label",{for:""},"Observación: ",-1),jh={class:"modal-footer"},Nh=["disabled"];function Hh(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Eh,[e("div",Th,[e("div",Dh,[e("div",Bh,[e("div",Oh,[C(t.$slots,"header",{},()=>[p(" Autorizar Robo ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Mh,[C(t.$slots,"body",{},()=>[Sh,Rh,e("label",null,[f(e("input",{style:{"-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"true","onUpdate:modelValue":s[1]||(s[1]=o=>a.robo.autorizado=o)},null,512),[[we,a.robo.autorizado]]),Ah,f(e("input",{style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"false","onUpdate:modelValue":s[2]||(s[2]=o=>a.robo.autorizado=o)},null,512),[[we,a.robo.autorizado]]),Fh,f(e("input",{selected:"",checked:"",style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"null","onUpdate:modelValue":s[3]||(s[3]=o=>a.robo.autorizado=o)},null,512),[[we,a.robo.autorizado]]),zh]),Uh,e("div",Vh,[Lh,f(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>a.robo.observacionAutorizador=o)}," ",512),[[k,a.robo.observacionAutorizador]])])])]),e("div",jh,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[5]||(s[5]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,Nh)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Ih=U(Ph,[["render",Hh]]),Gh={components:{modalconfirmacion:j,modalalerta:N,modalautorizar:Ih},mixins:[V],data:()=>({detalles:null,roboDetalles:null,showAutorizarRobos:!1}),props:{robo:Object},created(){this.roboDetalles=this.robo.detalles_robo},methods:{roboAutorizar(t){this.detalles=t,this.showAutorizarRobos=!0}}},qh={name:"modal"},Kh={class:"modal-mask"},Xh={class:"modal-wrapper"},Jh={class:"modal-container"},Zh={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},Wh=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle del Robo:",-1),Yh={class:"col-3 m-0",style:{"font-size":"15px","text-align":"right"}},Qh={key:0,class:"fs-7 fw-bold",style:{color:"#28A745"}},em={key:1,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},tm={key:2,class:"fs-7 fw-bold",style:{color:"#FFC107"}},sm={class:"modal-body"},om={class:"form-group"},am={class:"row"},lm=e("div",{class:"text-uppercase"},"Información Esencial:",-1),im={class:"col-6 m-0 fs-8"},rm={class:"fw-normal",style:{"font-size":"14px"}},nm={class:"col-6 m-0 fs-8"},dm={class:"fw-normal",style:{"font-size":"14px"}},cm=e("hr",{size:"4",class:"separador"},null,-1),um=e("div",{class:"text-uppercase"},"Lugar:",-1),hm={class:"col-12 m-0 fs-8"},mm={class:"fw-normal",style:{"font-size":"14px"}},pm={class:"col-12 m-0 fs-8"},fm={class:"fw-normal",style:{"font-size":"14px"}},bm={class:"col-3 m-0 fs-8"},gm={class:"fw-normal",style:{"font-size":"14px"}},_m={class:"col-3 m-0 fs-8"},vm={class:"fw-normal",style:{"font-size":"14px"}},$m={class:"col-3 m-0 fs-8"},ym={class:"fw-normal",style:{"font-size":"14px"}},Cm={class:"col-3 m-0 fs-8"},wm={class:"fw-normal",style:{"font-size":"14px"}},km=e("hr",{size:"4",class:"separador"},null,-1),xm=e("div",{class:"text-uppercase"},"Tiempo:",-1),Pm={class:"col-6 m-0 fs-8"},Em={class:"fw-normal",style:{"font-size":"14px"}},Tm={class:"col-6 m-0 fs-8"},Dm={class:"fw-normal",style:{"font-size":"14px"}},Bm=e("hr",{size:"4",class:"separador"},null,-1),Om=e("div",{class:"text-uppercase"},"Resposables:",-1),Mm={class:"col-6 m-0 fs-8"},Sm={class:"fw-normal",style:{"font-size":"14px"}},Rm={key:0,class:"col-6 m-0 fs-8"},Am=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Si",-1),Fm={key:1,class:"col-6 m-0 fs-8"},zm=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"No",-1),Um={key:2,class:"col-6 m-0 fs-8"},Vm=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Pendiente",-1),Lm={key:3,class:"col-12 m-0 fs-8"},jm=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),Nm={key:4,class:"col-12 m-0 fs-8"},Hm={class:"fw-normal",style:{"font-size":"14px"}},Im=e("hr",{size:"4",class:"separador"},null,-1),Gm=e("div",{class:"text-uppercase"},"Daños:",-1),qm={class:"col-6 m-0 fs-8"},Km={class:"fw-normal",style:{"font-size":"14px"}},Xm={class:"col-6 m-0 fs-8"},Jm={class:"fw-normal",style:{"font-size":"14px"}},Zm=e("hr",{size:"4",class:"separador"},null,-1),Wm=e("p",{style:{"font-size":"16px","font-weight":"bold",color:"black",margin:"0"}}," Detalles del Robo: ",-1),Ym=e("br",null,null,-1),Qm={class:"table-responsive p-0"},ep={class:"table align-items-center mb-0",id:"tableDesign"},tp=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Item"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Descripción"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto")])],-1),sp={key:0},op=e("td",{colspan:"10"}," No hay información disponible. ",-1),ap=[op],lp={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ip={class:"text-sm mb-0"},rp={class:"text-sm mb-0"},np=["onUpdate:modelValue"],dp={class:"text-sm mb-0"},cp={class:"text-sm mb-0"},up=e("br",null,null,-1),hp=e("br",null,null,-1),mp={class:"modal-footer"},pp=e("i",{class:"fa-solid fa-file-signature"},null,-1);function fp(t,s,a,c,n,d){const u=y("modalautorizar"),g=y("modalconfirmacion"),o=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",qh,[e("div",Kh,[e("div",Xh,[e("div",Jh,[e("div",Zh,[C(t.$slots,"header",{},()=>[Wh,e("label",Yh,[p(" Estado: "),a.robo.estado=="Aprobado"?(l(),r("label",Qh,i(a.robo.estado),1)):m("",!0),a.robo.estado=="Rechazado"?(l(),r("label",em,i(a.robo.estado),1)):m("",!0),a.robo.estado=="Pendiente"?(l(),r("label",tm,i(a.robo.estado),1)):m("",!0)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",sm,[C(t.$slots,"body",{},()=>[e("div",om,[e("div",am,[lm,e("label",im,[p(" Tipo: "),e("label",rm,i(a.robo.tipo_robo.nombre),1)]),e("label",nm,[p(" Usuario Informante: "),e("label",dm,i(a.robo.usuario.name),1)]),cm,um,e("label",hm,[p(" Tienda: "),e("label",mm,i(a.robo.tienda.nombre),1)]),e("label",pm,[p(" Dirección: "),e("label",fm,i(a.robo.tienda.direccion),1)]),e("label",bm,[p(" País: "),e("label",gm,i(a.robo.tienda.pais.pais),1)]),e("label",_m,[p(" Zona: "),e("label",vm,i(a.robo.tienda.zona.nombre),1)]),e("label",$m,[p(" Región: "),e("label",ym,i(a.robo.tienda.region.region),1)]),e("label",Cm,[p(" Comúna: "),e("label",wm,i(a.robo.tienda.comuna.comuna),1)]),km,xm,e("label",Pm,[p(" Fecha: "),e("label",Em,i(a.robo.fecha),1)]),e("label",Tm,[p(" Hora: "),e("label",Dm,i(a.robo.hora),1)]),Bm,Om,e("label",Mm,[p(" Supervisor: "),e("label",Sm,i(a.robo.supervisor.name),1)]),a.robo.autorizado==!0?(l(),r("label",Rm,[p(" ¿Autorizado?: "),Am])):m("",!0),a.robo.autorizado==!1?(l(),r("label",Fm,[p(" ¿Autorizado?: "),zm])):(l(),r("label",Um,[p(" ¿Autorizado?: "),Vm])),a.robo.observacionAutorizador==null?(l(),r("label",Lm,[p(" Observación Autorización: "),jm])):(l(),r("label",Nm,[p(" Observación Autorización: "),e("label",Hm,i(a.robo.observacionAutorizador),1)])),Im,Gm,e("label",qm,[p(" Monto Robado: "),e("label",Km,i(a.robo.montoRobado),1)]),e("label",Xm,[p(" Observacion: "),e("label",Jm,i(a.robo.observacion),1)])])]),Zm,Wm,Ym,e("div",Qm,[e("table",ep,[tp,e("tbody",null,[t.roboDetalles==0?(l(),r("tr",sp,ap)):(l(!0),r(P,{key:1},E(t.roboDetalles,h=>(l(),r("tr",{key:h.id},[e("td",null,[e("p",lp,i(h.id),1)]),e("td",null,[e("p",ip,i(h.item),1)]),e("td",null,[e("p",rp,[f(e("textarea",{disabled:"",class:"form-control","onUpdate:modelValue":b=>h.descripcion=b,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,np),[[k,h.descripcion]])])]),e("td",null,[e("p",dp,i(h.cantidad),1)]),e("td",null,[e("p",cp,i(h.monto),1)])]))),128))])]),up,hp]),e("div",mp,[C(t.$slots,"footer",{},()=>[t.is("Tiendas_Jefatura")&&a.robo.estado=="Pendiente"?(l(),r("a",{key:0,class:"btn btn-spacing btn-closed",style:{float:"right"},id:"show-autorizarModal",onClick:s[1]||(s[1]=h=>d.roboAutorizar(a.robo))},[pp,p(" Autorizar")])):m("",!0)])])])]),t.showAutorizarRobos?(l(),T(u,{key:0,robo:t.detalles,onClose:s[2]||(s[2]=h=>t.showAutorizarRobos=!1)},null,8,["robo"])):m("",!0),x(g,{ref:"confirmation"},null,512),x(o,{ref:"alert"},null,512)])])])])]),_:3})}const fo=U(Gh,[["render",fp]]),bp={components:{modalcrear:xh,modaleditar:mt,modalconfirmacion:j,modaldetalle:fo,modalalerta:N},mixins:[V],data(){return{manuales:null,showCrearManual:!1,showEditarUsuario:!1,showDetallesRobo:!1,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0,detalles:null,roles:null,table:null,fechaInicio:null,fechaTermino:null}},created(){this.getManuales()},methods:{getManuales(){_.get(`api/manuales/${this.userID}`).then(t=>{console.log(t),this.manuales=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableManuales")}).catch(t=>console.log(t))},filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.robos=this.robos.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},descargarManual(t,s){_({url:`api/manualDownload/${t}`,method:"GET",responseType:"arraybuffer"}).then(a=>{let c=new Blob([a.data],{type:"application/pdf"}),n=document.createElement("a");n.href=window.URL.createObjectURL(c),n.download=`${s}.pdf`,n.click()})},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.manuales=null,this.getManuales()):(this.table.destroy(),this.crearTabla("#MyTableManuales"))},usuarioEditar(t){this.usuarioeditar=t,this.showEditarUsuario=!0},async deleteRobo(t){await this.$refs.confirmation.show({title:"Borrar Manual",message:"¿Está seguro/a que desea eliminar esta Manual? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/manuales/${t}`).then(a=>{this.toast.success("Manual eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},gp={class:"row mt-4 mx-4"},_p={class:"col-12"},vp={class:"card mb-4"},$p={class:"row pb-0 p-4"},yp={class:"col-12"},Cp={class:"d-flex justify-content-end"},wp=e("i",{class:"fa-solid fa-rotate"},null,-1),kp=[wp],xp={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Pp={class:"container"},Ep={class:"table-responsive p-0"},Tp={class:"loader-sm"},Dp={class:"table align-items-center mb-0",id:"MyTableManuales"},Bp=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Modulo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Titulo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Op=e("td",null,null,-1),Mp={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Sp={class:"text-sm mb-0"},Rp={class:"text-sm mb-0"},Ap={class:"text-sm mb-0"},Fp={class:"align-middle text-end"},zp={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Up=["href"],Vp=e("i",{class:"fa-solid fa-play"},null,-1),Lp=[Vp],jp={key:1,class:"btn btn-grey btn-xs"},Np=e("i",{class:"fa-solid fa-play"},null,-1),Hp=[Np],Ip=["onClick"],Gp=e("i",{class:"fa-solid fa-download"},null,-1),qp=[Gp],Kp={key:3,class:"btn btn-grey btn-xs"},Xp=e("i",{class:"fa-solid fa-download"},null,-1),Jp=[Xp],Zp={key:4},Wp=["onClick"],Yp=e("i",{class:"fa fa-fw fa-trash"},null,-1),Qp=[Yp];function ef(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modalcrear"),b=y("modaldetalle");return l(),r("div",gp,[e("div",_p,[e("div",vp,[e("div",$p,[e("div",yp,[e("div",Cp,[t.can("Manuales_Crear")?(l(),r("a",{key:0,class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=v=>n.showCrearManual=!0)},"Nuevo")):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[1]||(s[1]=v=>d.recargarTabla("General"))},kp)])])]),e("div",xp,[e("div",Pp,[e("div",Ep,[f(e("div",Tp,null,512),[[H,n.mostrarCarga]]),f(e("table",Dp,[Bp,e("tbody",null,[(l(!0),r(P,null,E(n.manuales,v=>(l(),r("tr",{key:v.id},[Op,e("td",null,[e("p",Mp,i(v.id),1)]),e("td",null,[e("p",Sp,i(v.modulo),1)]),e("td",null,[e("p",Rp,i(v.titulo),1)]),e("td",null,[e("p",Ap,i(t.thisDate(v.fecha)),1)]),e("td",Fp,[e("div",zp,[v.url!=null?(l(),r("a",{key:0,href:v.url,target:"_blank",class:"btn btn-purple btn-xs"},Lp,8,Up)):(l(),r("a",jp,Hp)),p("   "),v.archivo!=null?(l(),r("a",{key:2,class:"btn btn-success btn-xs",title:"Descargar",onClick:z=>d.descargarManual(v.id,v.titulo)},qp,8,Ip)):(l(),r("a",Kp,Jp)),p("   "),t.can("Manuales_Modificar")?(l(),r("div",Zp,[e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteRobo(v.id)},Qp,8,Wp)])):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showEditarUsuario?(l(),T(o,{key:0,usuario:n.usuarioeditar,onClose:s[2]||(s[2]=v=>n.showEditarUsuario=!1),onRecarga:s[3]||(s[3]=v=>d.recargarTabla("General"))},null,8,["usuario"])):m("",!0),n.showCrearManual?(l(),T(h,{key:1,onClose:s[4]||(s[4]=v=>n.showCrearManual=!1),onRecarga:s[5]||(s[5]=v=>d.recargarTabla("General"))})):m("",!0),n.showDetallesRobo?(l(),T(b,{key:2,robo:n.detalles,onClose:s[6]||(s[6]=v=>n.showDetallesRobo=!1)},null,8,["robo"])):m("",!0)])])}const tf=U(bp,[["render",ef]]),sf={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,facturasGastos:null,facturasAutorizar:null,autorizadores:null,errors:[],tablaFacturaAutorizar:null,facturaDetalleIsVisible:!1,facturaDetalles:[],checkAll1:!1,empresas:null,selectedCompany:null}),created(){this.getEmpresas(),this.getTipoDocFacturas(),this.getAutorizadores(),this.getFacturasAutorizables()},methods:{manipularFacturas(){this.selectedCompany=="Todas"?this.facturasAutorizar=this.facturasGastos:this.facturasAutorizar=this.facturasGastos.filter(t=>t.idEmpresa==this.selectedCompany)},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},facturaDetalle(t,s){s=="open"&&(this.facturaDetalleIsVisible=!0,this.facturaDetalles=t,document.getElementById("espaciadoTablaGastos").style.maxHeight="300px"),s=="close"&&(this.facturaDetalleIsVisible=!1,this.facturaDetalles=[],document.getElementById("espaciadoTablaGastos").style.maxHeight="500px")},checkAll(){this.checkAll1==!1?(this.facturasAutorizar.forEach(t=>{t.autorizadoAuth1==!0&&(t.autorizadoAuth2=!0),t.autorizadoAuth1==null&&(t.autorizadoAuth1=!0)}),this.checkAll1=!0):(this.facturasAutorizar.forEach(t=>{t.autorizadoAuth1==!0&&t.autorizadoAuth2==!0&&(t.autorizadoAuth2=null),t.autorizadoAuth1==!0&&t.autorizadoAuth2==null&&(t.autorizadoAuth1=null)}),this.checkAll1=!1)},nullifyCheckbox(t){return t||null},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("api/autorizadores").then(t=>{this.autorizadores=t.data.filter(s=>s.levelName=="facturas")}).catch(t=>console.log(t))},getFacturasAutorizables(){let t={userID:this.userID,tipoAuth:"GASTOS"};_.post("api/facturas/autorizables",t).then(s=>{this.facturasGastos=s.data,this.facturasAutorizar=s.data,this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(s=>console.log(s))},async saveAuth(){await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})&&_.post("api/facturas/autorizar",this.facturasAutorizar).then(s=>{console.log(s),this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.autorizadores.forEach(a=>{var c=[],n=[];this.facturasAutorizar.forEach(d=>{d.tipoDocNombre=d.tipoDocumento+" - "+this.buscarTipoDoc(this.tiposDocFactura,d.tipoDocumento),a.id==d.idAutorizador2&&d.autorizadoAuth1==="true"&&n.push(d)}),n.length!=0&&(c.push(n),c.push("idAutorizador2"),_.post("api/facturas/sendEmailAutorizador2",c).then(d=>{this.toast.success("Correo enviado a autorizador!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(d=>{console.log(d)}))}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},getTipoDocFacturas(){_.get("api/tipoDocFactura").then(t=>{this.tiposDocFactura=t.data}).catch(t=>console.log(t))},buscarTipoDoc(t,s){var a=null;return t.forEach(c=>{s==c.id&&(a=c.name)}),a==null&&(a="No encontrado."),a}}},of={name:"modal"},af={class:"modal-mask"},lf={class:"modal-wrapper"},rf={class:"modal-container-2xl"},nf={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},df={style:{"margin-left":"auto"}},cf=e("label",null," Filtro por Empresa: ",-1),uf=e("option",{selected:"",disabled:"",value:null},"Seleccione la empresa:",-1),hf=["value"],mf=e("option",{value:"Todas"},"Todas.",-1),pf={class:"modal-body"},ff={class:"table-responsive p-0",id:"espaciadoTablaGastos",style:{"min-height":"300px","max-height":"500px"}},bf={class:"loader"},gf={class:"table align-items-center mb-0",id:"tableDesign"},_f=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Observaciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar Si/No"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Objeciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),vf={key:0},$f=e("td",{colspan:"9"},null,-1),yf={key:0},Cf=e("label",null,"Marcar Todo:",-1),wf=[Cf],kf={key:1},xf=e("label",null,"Desmarcar Todo:",-1),Pf=[xf],Ef={class:"form-check"},Tf={class:"form-check-label"},Df=e("td",{colspan:"2"},null,-1),Bf={key:1},Of=e("td",{colspan:"13"}," No hay información disponible. ",-1),Mf=[Of],Sf={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Rf=["title"],Af={key:1,class:"text-sm mb-0"},Ff=["title"],zf={key:1,class:"text-sm mb-0"},Uf={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Vf=["title"],Lf={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},jf=["title"],Nf={class:"text-sm mb-0"},Hf=["onUpdate:modelValue"],If={class:"form-check"},Gf={key:0,class:"form-check-label"},qf=["name","onChange","onUpdate:modelValue"],Kf={key:0},Xf={key:1},Jf={key:1,class:"form-check-label"},Zf=["name","onChange","onUpdate:modelValue"],Wf={key:0},Yf={key:1},Qf={class:"text-sm mb-0"},eb=["onUpdate:modelValue"],tb={class:"align-middle text-end"},sb={class:"d-flex px-3 py-1 justify-content-center align-items-center"},ob=["onClick"],ab=e("i",{class:"fa-regular fa-eye"},null,-1),lb=[ab],ib=["href"],rb=e("i",{class:"fa-solid fa-file-invoice"},null,-1),nb=[rb],db={key:1,class:"btn btn-grey btn-xs m-1"},cb=e("i",{class:"fa-solid fa-file-invoice"},null,-1),ub=[cb],hb={key:0},mb=e("hr",{size:"4",class:"separador"},null,-1),pb={class:"row"},fb={style:{"font-weight":"bold",color:"#444444"}},bb=e("div",{class:"text-uppercase"},"Información Esencial:",-1),gb={class:"col-auto m-0 fs-8"},_b={class:"fw-normal",style:{"font-size":"14px"}},vb={class:"col-auto m-0 fs-8"},$b={class:"fw-normal",style:{"font-size":"14px"}},yb={class:"col-auto m-0 fs-8"},Cb={class:"fw-normal",style:{"font-size":"14px"}},wb={class:"col-auto m-0 fs-8"},kb={class:"fw-normal",style:{"font-size":"14px"}},xb={class:"col-auto m-0 fs-8"},Pb={class:"fw-normal",style:{"font-size":"14px"}},Eb={class:"col-auto m-0 fs-8"},Tb={class:"fw-normal",style:{"font-size":"14px"}},Db={class:"col-auto m-0 fs-8"},Bb={class:"fw-normal",style:{"font-size":"14px"}},Ob=e("div",{class:"text-uppercase"},"Montos:",-1),Mb={class:"col-auto m-0 fs-8"},Sb={class:"fw-normal",style:{"font-size":"14px"}},Rb={class:"col-auto m-0 fs-8"},Ab={class:"fw-normal",style:{"font-size":"14px"}},Fb={class:"col-auto m-0 fs-8"},zb={class:"fw-normal",style:{"font-size":"14px"}},Ub={class:"col-auto m-0 fs-8"},Vb={class:"fw-normal",style:{"font-size":"14px"}},Lb={class:"col-auto m-0 fs-8"},jb={class:"fw-normal",style:{"font-size":"14px"}},Nb={class:"col-auto m-0 fs-8"},Hb={class:"fw-normal",style:{"font-size":"14px"}},Ib={class:"col-auto m-0 fs-8"},Gb={class:"fw-normal",style:{"font-size":"14px"}},qb={class:"col-auto m-0 fs-8"},Kb={class:"fw-normal",style:{"font-size":"14px"}},Xb={class:"col-auto m-0 fs-8"},Jb={class:"fw-normal",style:{"font-size":"14px"}},Zb={class:"col-auto m-0 fs-8"},Wb={class:"fw-normal",style:{"font-size":"14px"}},Yb=e("div",{class:"text-uppercase"},"Fechas:",-1),Qb={class:"col-auto m-0 fs-8"},e1={class:"fw-normal",style:{"font-size":"14px"}},t1={class:"col-auto m-0 fs-8"},s1={class:"fw-normal",style:{"font-size":"14px"}},o1={class:"col-auto m-0 fs-8"},a1={class:"fw-normal",style:{"font-size":"14px"}},l1={class:"col-auto m-0 fs-8"},i1={class:"fw-normal",style:{"font-size":"14px"}},r1={class:"col-auto m-0 fs-8"},n1={class:"fw-normal",style:{"font-size":"14px"}},d1={class:"col-auto m-0 fs-8"},c1={class:"fw-normal",style:{"font-size":"14px"}},u1={class:"modal-footer"},h1=["disabled"];function m1(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",of,[e("div",af,[e("div",lf,[e("div",rf,[e("div",nf,[C(t.$slots,"header",{},()=>[p(" Autorizar Gastos: "),e("div",df,[cf,f(e("select",{class:"form-select-fit",onChange:s[0]||(s[0]=o=>d.manipularFacturas()),style:{margin:"10px"},"onUpdate:modelValue":s[1]||(s[1]=o=>t.selectedCompany=o)},[uf,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.razonSocial),1)],8,hf))),128)),mf],544),[[A,t.selectedCompany]])])]),e("a",{class:"btn btn-closed",onClick:s[2]||(s[2]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",pf,[C(t.$slots,"body",{},()=>[e("div",ff,[f(e("div",bf,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",gf,[_f,e("tbody",null,[t.facturasAutorizar!=0?(l(),r("tr",vf,[$f,t.checkAll1==!1?(l(),r("td",yf,wf)):(l(),r("td",kf,Pf)),e("td",null,[e("div",Ef,[e("label",Tf,[e("input",{class:"form-check-input",onClick:s[3]||(s[3]=o=>d.checkAll()),type:"checkbox"})])])]),Df])):m("",!0),t.facturasAutorizar==0?(l(),r("tr",Bf,Mf)):(l(!0),r(P,{key:2},E(t.facturasAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",Sf,i(o.id),1)]),e("td",null,[o.autorizador1!=null?(l(),r("p",{key:0,title:o.autorizador1.usuario.name,class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.autorizador1.usuario.name),9,Rf)):(l(),r("p",Af,"-----"))]),e("td",null,[o.autorizador2!=null?(l(),r("p",{key:0,title:o.autorizador2.usuario.name,class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.autorizador2.usuario.name),9,Ff)):(l(),r("p",zf,"-----"))]),e("td",null,[e("p",Uf,i(t.formatoRut(o.rutProveedor)),1)]),e("td",null,[e("p",{title:o.razonSocial,class:"text-sm mb-0",style:{width:"130px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.razonSocial),9,Vf)]),e("td",null,[e("p",Lf,i(o.folio),1)]),e("td",null,[e("p",{title:d.buscarTipoDoc(t.tiposDocFactura,o.tipoDocumento),class:"text-sm mb-0",style:{width:"150px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.tipoDocumento)+" - "+i(d.buscarTipoDoc(t.tiposDocFactura,o.tipoDocumento)),9,jf)]),e("td",null,[e("p",Nf,i(t.formatMoneyCLP(o.montoTotal)),1)]),e("td",null,[f(e("textarea",{readonly:"",class:"form-control",style:{"text-align":"justify","min-width":"150px",height:"40px","word-wrap":"break-word",overflow:"hidden"},"onUpdate:modelValue":h=>o.observaciones=h},null,8,Hf),[[k,o.observaciones]])]),e("td",null,[e("div",If,[o.autorizador1.usuario.id==this.userID||t.is("Contabilidad_Jefatura")?(l(),r("label",Gf,[f(e("input",{class:"form-check-input",name:"autorizador"+o.id,type:"checkbox",onChange:h=>o.autorizadoAuth1=d.nullifyCheckbox(o.autorizadoAuth1),"onUpdate:modelValue":h=>o.autorizadoAuth1=h},null,40,qf),[[ne,o.autorizadoAuth1]]),o.autorizadoAuth1==!0?(l(),r("span",Kf," Aprobado ")):m("",!0),o.autorizadoAuth1==null?(l(),r("span",Xf," Pendiente ")):m("",!0)])):(l(),r("label",Jf,[f(e("input",{class:"form-check-input",name:"autorizador"+o.id,type:"checkbox",onChange:h=>o.autorizadoAuth2=d.nullifyCheckbox(o.autorizadoAuth2),"onUpdate:modelValue":h=>o.autorizadoAuth2=h},null,40,Zf),[[ne,o.autorizadoAuth2]]),o.autorizadoAuth2==!0?(l(),r("span",Wf," Aprobado ")):m("",!0),o.autorizadoAuth2==null?(l(),r("span",Yf," Pendiente ")):m("",!0)]))])]),e("td",null,[e("p",Qf,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.objeciones=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,eb),[[k,o.objeciones]])])]),e("td",tb,[e("div",sb,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:h=>d.facturaDetalle(o,"open")},lb,8,ob),t.facturaDetalles.url!=null?(l(),r("a",{key:0,href:t.facturaDetalles.url,target:"_blank",class:"btn btn-purple btn-xs m-1"},nb,8,ib)):(l(),r("a",db,ub))])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),t.facturaDetalleIsVisible==!0?(l(),r("div",hb,[mb,e("a",{class:"btn btn-closed btn-xs",style:{float:"right"},onClick:s[4]||(s[4]=o=>d.facturaDetalle(t.facturaDetalles,"close")),ref:"closeBtn"},"X",512),e("div",pb,[e("div",fb," Detalles de la Factura '"+i(t.facturaDetalles.id)+"': ",1),bb,e("label",gb,[p(" Rut: "),e("label",_b,i(t.formatoRut(t.facturaDetalles.rutProveedor)),1)]),e("label",vb,[p(" Razón Social: "),e("label",$b,i(t.facturaDetalles.razonSocial),1)]),e("label",yb,[p(" Folio: "),e("label",Cb,i(t.facturaDetalles.folio),1)]),e("label",wb,[p(" Empresa: "),e("label",kb,i(t.facturaDetalles.empresa.razonSocial),1)]),e("label",xb,[p(" Usuario Solicitante: "),e("label",Pb,i(t.facturaDetalles.user.name),1)]),e("label",Eb,[p(" Tipo Documento: "),e("label",Tb,i(t.facturaDetalles.tipoDocumento)+" - "+i(d.buscarTipoDoc(t.tiposDocFactura,t.facturaDetalles.tipoDocumento)),1)]),e("label",Db,[p(" Tipo Compra: "),e("label",Bb,i(t.facturaDetalles.tipoCompra),1)]),Ob,e("label",Mb,[p(" Monto IVA Recup.: "),e("label",Sb,i(t.formatMoneyCLP(t.facturaDetalles.montoIVARec)),1)]),e("label",Rb,[p(" Monto IVA no Recup.: "),e("label",Ab,i(t.formatMoneyCLP(t.facturaDetalles.montoIVANoRec)),1)]),e("label",Fb,[p(" Monto IVA no Retenido: "),e("label",zb,i(t.formatMoneyCLP(t.facturaDetalles.IVANoRetenido)),1)]),e("label",Ub,[p(" Monto Exento: "),e("label",Vb,i(t.formatMoneyCLP(t.facturaDetalles.montoExento)),1)]),e("label",Lb,[p(" Monto Neto: "),e("label",jb,i(t.formatMoneyCLP(t.facturaDetalles.montoNeto)),1)]),e("label",Nb,[p(" Monto Total: "),e("label",Hb,i(t.formatMoneyCLP(t.facturaDetalles.montoTotal)),1)]),e("label",Ib,[p(" NCE o NDE: "),e("label",Gb,i(t.formatMoneyCLP(t.facturaDetalles.NCEoNDE)),1)]),e("label",qb,[p(" Código Otro Imp.: "),e("label",Kb,i(t.facturaDetalles.otroImpuesto),1)]),e("label",Xb,[p(" Valor Otro Imp.: "),e("label",Jb,i(t.formatMoneyCLP(t.facturaDetalles.valorOtroImpuesto)),1)]),e("label",Zb,[p(" Tasa Otro Imp.: "),e("label",Wb,i(t.formatMoneyCLP(t.facturaDetalles.tasaOtroImpuesto)),1)]),Yb,e("label",Qb,[p(" Fecha Documento: "),e("label",e1,i(t.thisDate(t.facturaDetalles.fechaDcto)),1)]),e("label",t1,[p(" Fecha Recepción: "),e("label",s1,i(t.thisDate(t.facturaDetalles.fechaRecepcion)),1)]),e("label",o1,[p(" Fecha Acuse: "),e("label",a1,i(t.thisDate(t.facturaDetalles.fechaAcuse)),1)]),e("label",l1,[p(" Fecha Requerimiento: "),e("label",i1,i(t.thisDate(t.facturaDetalles.fechaReq)),1)]),e("label",r1,[p(" Fecha Autorización Gasto: "),e("label",n1,i(t.thisDate(t.facturaDetalles.fechaAuthGasto)),1)]),e("label",d1,[p(" Fecha Autorización Pago: "),e("label",c1,i(t.thisDate(t.facturaDetalles.fechaAuthPago)),1)])])])):m("",!0),e("div",u1,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[5]||(s[5]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,h1)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const p1=U(sf,[["render",m1]]),f1={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,facturasPagos:null,facturasAutorizar:null,autorizadores:null,errors:[],tablaFacturaAutorizar:null,facturaDetalleIsVisible:!1,facturaDetalles:[],checkAll1:!1,empresas:null,selectedCompany:null}),created(){this.getEmpresas(),this.getTipoDocFacturas(),this.getAutorizadores(),this.getFacturasAutorizables(this.userID)},methods:{manipularFacturas(){this.selectedCompany=="Todas"?this.facturasAutorizar=this.facturasPagos:this.facturasAutorizar=this.facturasPagos.filter(t=>t.idEmpresa==this.selectedCompany)},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},facturaDetalle(t,s){s=="open"&&(this.facturaDetalleIsVisible=!0,this.facturaDetalles=t,document.getElementById("espaciadoTablaPagos").style.maxHeight="300px"),s=="close"&&(this.facturaDetalleIsVisible=!1,this.facturaDetalles=[],document.getElementById("espaciadoTablaPagos").style.maxHeight="500px")},checkAll(){this.checkAll1==!1?(this.facturasAutorizar.forEach(t=>{t.autorizadoAuth1==!0&&(t.autorizadoAuth2=!0),t.autorizadoAuth1==null&&(t.autorizadoAuth1=!0)}),this.checkAll1=!0):(this.facturasAutorizar.forEach(t=>{t.autorizadoAuth1==!0&&t.autorizadoAuth2==!0&&(t.autorizadoAuth2=null),t.autorizadoAuth1==!0&&t.autorizadoAuth2==null&&(t.autorizadoAuth1=null)}),this.checkAll1=!1)},nullifyCheckbox(t){return t||null},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("api/autorizadores").then(t=>{this.autorizadores=t.data.filter(s=>s.levelName=="facturas")}).catch(t=>console.log(t))},getFacturasAutorizables(t){let s={userID:t,tipoAuth:"PAGOS"};_.post("api/facturas/autorizables",s).then(a=>{this.facturasPagos=a.data,this.facturasAutorizar=a.data,this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(a=>console.log(a))},async saveAuth(){await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})&&_.post("api/facturas/autorizar",this.facturasAutorizar).then(s=>{console.log(s),this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.autorizadores.forEach(a=>{var c=[],n=[];this.facturasAutorizar.forEach(d=>{d.tipoDocNombre=d.tipoDocumento+" - "+this.buscarTipoDoc(this.tiposDocFactura,d.tipoDocumento),a.id==d.idAutorizador2&&d.autorizadoAuth1==="true"&&n.push(d)}),n.length!=0&&(c.push(n),c.push("idAutorizador2"),_.post("api/facturas/sendEmailAutorizador2",c).then(d=>{this.toast.success("Correo enviado a autorizador!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(d=>{console.log(d)}))}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},getTipoDocFacturas(){_.get("api/tipoDocFactura").then(t=>{this.tiposDocFactura=t.data}).catch(t=>console.log(t))},buscarTipoDoc(t,s){var a=null;return t.forEach(c=>{s==c.id&&(a=c.name)}),a==null&&(a="No encontrado."),a}}},b1={name:"modal"},g1={class:"modal-mask"},_1={class:"modal-wrapper"},v1={class:"modal-container-2xl"},$1={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},y1={style:{"margin-left":"auto"}},C1=e("label",null," Filtro por Empresa: ",-1),w1=e("option",{selected:"",disabled:"",value:null},"Seleccione la empresa:",-1),k1=["value"],x1=e("option",{value:"Todas"},"Todas.",-1),P1={class:"modal-body"},E1={class:"table-responsive p-0",id:"espaciadoTablaPagos",style:{"min-height":"300px","max-height":"500px"}},T1={class:"loader"},D1={class:"table align-items-center mb-0",id:"tableDesign"},B1=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Observaciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar Si/No"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Objeciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),O1={key:0},M1=e("td",{colspan:"9"},null,-1),S1={key:0},R1=e("label",null,"Marcar Todo:",-1),A1=[R1],F1={key:1},z1=e("label",null,"Desmarcar Todo:",-1),U1=[z1],V1={class:"form-check"},L1={class:"form-check-label"},j1=e("td",{colspan:"2"},null,-1),N1={key:1},H1=e("td",{colspan:"13"}," No hay información disponible. ",-1),I1=[H1],G1={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},q1=["title"],K1={key:1,class:"text-sm mb-0"},X1=["title"],J1={key:1,class:"text-sm mb-0"},Z1={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},W1=["title"],Y1={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Q1=["title"],eg={class:"text-sm mb-0"},tg=["onUpdate:modelValue"],sg={class:"form-check"},og={key:0,class:"form-check-label"},ag=["name","onChange","onUpdate:modelValue"],lg={key:0},ig={key:1},rg={key:1,class:"form-check-label"},ng=["name","onChange","onUpdate:modelValue"],dg={key:0},cg={key:1},ug={class:"text-sm mb-0"},hg=["onUpdate:modelValue"],mg={class:"align-middle text-end"},pg={class:"d-flex px-3 py-1 justify-content-center align-items-center"},fg=["onClick"],bg=e("i",{class:"fa-regular fa-eye"},null,-1),gg=[bg],_g=["href"],vg=e("i",{class:"fa-solid fa-file-invoice"},null,-1),$g=[vg],yg={key:1,class:"btn btn-grey btn-xs m-1"},Cg=e("i",{class:"fa-solid fa-file-invoice"},null,-1),wg=[Cg],kg={key:0},xg=e("hr",{size:"4",class:"separador"},null,-1),Pg={class:"row"},Eg={style:{"font-weight":"bold",color:"#444444"}},Tg=e("div",{class:"text-uppercase"},"Información Esencial:",-1),Dg={class:"col-auto m-0 fs-8"},Bg={class:"fw-normal",style:{"font-size":"14px"}},Og={class:"col-auto m-0 fs-8"},Mg={class:"fw-normal",style:{"font-size":"14px"}},Sg={class:"col-auto m-0 fs-8"},Rg={class:"fw-normal",style:{"font-size":"14px"}},Ag={class:"col-auto m-0 fs-8"},Fg={class:"fw-normal",style:{"font-size":"14px"}},zg={class:"col-auto m-0 fs-8"},Ug={class:"fw-normal",style:{"font-size":"14px"}},Vg={class:"col-auto m-0 fs-8"},Lg={class:"fw-normal",style:{"font-size":"14px"}},jg={class:"col-auto m-0 fs-8"},Ng={class:"fw-normal",style:{"font-size":"14px"}},Hg=e("div",{class:"text-uppercase"},"Montos:",-1),Ig={class:"col-auto m-0 fs-8"},Gg={class:"fw-normal",style:{"font-size":"14px"}},qg={class:"col-auto m-0 fs-8"},Kg={class:"fw-normal",style:{"font-size":"14px"}},Xg={class:"col-auto m-0 fs-8"},Jg={class:"fw-normal",style:{"font-size":"14px"}},Zg={class:"col-auto m-0 fs-8"},Wg={class:"fw-normal",style:{"font-size":"14px"}},Yg={class:"col-auto m-0 fs-8"},Qg={class:"fw-normal",style:{"font-size":"14px"}},e_={class:"col-auto m-0 fs-8"},t_={class:"fw-normal",style:{"font-size":"14px"}},s_={class:"col-auto m-0 fs-8"},o_={class:"fw-normal",style:{"font-size":"14px"}},a_={class:"col-auto m-0 fs-8"},l_={class:"fw-normal",style:{"font-size":"14px"}},i_={class:"col-auto m-0 fs-8"},r_={class:"fw-normal",style:{"font-size":"14px"}},n_={class:"col-auto m-0 fs-8"},d_={class:"fw-normal",style:{"font-size":"14px"}},c_=e("div",{class:"text-uppercase"},"Fechas:",-1),u_={class:"col-auto m-0 fs-8"},h_={class:"fw-normal",style:{"font-size":"14px"}},m_={class:"col-auto m-0 fs-8"},p_={class:"fw-normal",style:{"font-size":"14px"}},f_={class:"col-auto m-0 fs-8"},b_={class:"fw-normal",style:{"font-size":"14px"}},g_={class:"col-auto m-0 fs-8"},__={class:"fw-normal",style:{"font-size":"14px"}},v_={class:"col-auto m-0 fs-8"},$_={class:"fw-normal",style:{"font-size":"14px"}},y_={class:"col-auto m-0 fs-8"},C_={class:"fw-normal",style:{"font-size":"14px"}},w_={class:"modal-footer"},k_=["disabled"];function x_(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",b1,[e("div",g1,[e("div",_1,[e("div",v1,[e("div",$1,[C(t.$slots,"header",{},()=>[p(" Autorizar Pagos: "),e("div",y1,[C1,f(e("select",{class:"form-select-fit",onChange:s[0]||(s[0]=o=>d.manipularFacturas()),style:{margin:"10px"},"onUpdate:modelValue":s[1]||(s[1]=o=>t.selectedCompany=o)},[w1,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.razonSocial),1)],8,k1))),128)),x1],544),[[A,t.selectedCompany]])])]),e("a",{class:"btn btn-closed",onClick:s[2]||(s[2]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",P1,[C(t.$slots,"body",{},()=>[e("div",E1,[f(e("div",T1,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",D1,[B1,e("tbody",null,[t.facturasAutorizar!=0?(l(),r("tr",O1,[M1,t.checkAll1==!1?(l(),r("td",S1,A1)):(l(),r("td",F1,U1)),e("td",null,[e("div",V1,[e("label",L1,[e("input",{class:"form-check-input",onClick:s[3]||(s[3]=o=>d.checkAll()),type:"checkbox"})])])]),j1])):m("",!0),t.facturasAutorizar==0?(l(),r("tr",N1,I1)):(l(!0),r(P,{key:2},E(t.facturasAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",G1,i(o.id),1)]),e("td",null,[o.autorizador1!=null?(l(),r("p",{key:0,title:o.autorizador1.usuario.name,class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.autorizador1.usuario.name),9,q1)):(l(),r("p",K1,"-----"))]),e("td",null,[o.autorizador2!=null?(l(),r("p",{key:0,title:o.autorizador2.usuario.name,class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.autorizador2.usuario.name),9,X1)):(l(),r("p",J1,"-----"))]),e("td",null,[e("p",Z1,i(t.formatoRut(o.rutProveedor)),1)]),e("td",null,[e("p",{title:o.razonSocial,class:"text-sm mb-0",style:{width:"130px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.razonSocial),9,W1)]),e("td",null,[e("p",Y1,i(o.folio),1)]),e("td",null,[e("p",{title:d.buscarTipoDoc(t.tiposDocFactura,o.tipoDocumento),class:"text-sm mb-0",style:{width:"150px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o.tipoDocumento)+" - "+i(d.buscarTipoDoc(t.tiposDocFactura,o.tipoDocumento)),9,Q1)]),e("td",null,[e("p",eg,i(t.formatMoneyCLP(o.montoTotal)),1)]),e("td",null,[f(e("textarea",{readonly:"",class:"form-control",style:{"text-align":"justify","min-width":"150px",height:"40px","word-wrap":"break-word",overflow:"hidden"},"onUpdate:modelValue":h=>o.observaciones=h},null,8,tg),[[k,o.observaciones]])]),e("td",null,[e("div",sg,[o.autorizador1.usuario.id==this.userID||t.is("Contabilidad_Jefatura")?(l(),r("label",og,[f(e("input",{class:"form-check-input",name:"autorizador"+o.id,type:"checkbox",onChange:h=>o.autorizadoAuth1=d.nullifyCheckbox(o.autorizadoAuth1),"onUpdate:modelValue":h=>o.autorizadoAuth1=h},null,40,ag),[[ne,o.autorizadoAuth1]]),o.autorizadoAuth1==!0?(l(),r("span",lg," Aprobado ")):m("",!0),o.autorizadoAuth1==null?(l(),r("span",ig," Pendiente ")):m("",!0)])):(l(),r("label",rg,[f(e("input",{class:"form-check-input",name:"autorizador"+o.id,type:"checkbox",onChange:h=>o.autorizadoAuth2=d.nullifyCheckbox(o.autorizadoAuth2),"onUpdate:modelValue":h=>o.autorizadoAuth2=h},null,40,ng),[[ne,o.autorizadoAuth2]]),o.autorizadoAuth2==!0?(l(),r("span",dg," Aprobado ")):m("",!0),o.autorizadoAuth2==null?(l(),r("span",cg," Pendiente ")):m("",!0)]))])]),e("td",null,[e("p",ug,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.objeciones=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,hg),[[k,o.objeciones]])])]),e("td",mg,[e("div",pg,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:h=>{d.facturaDetalle(o,"open")}},gg,8,fg),t.facturaDetalles.url!=null?(l(),r("a",{key:0,href:t.facturaDetalles.url,target:"_blank",class:"btn btn-purple btn-xs m-1"},$g,8,_g)):(l(),r("a",yg,wg))])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),t.facturaDetalleIsVisible==!0?(l(),r("div",kg,[xg,e("a",{class:"btn btn-closed btn-xs",style:{float:"right"},onClick:s[4]||(s[4]=o=>d.facturaDetalle(t.facturaDetalles,"close")),ref:"closeBtn"},"X",512),e("div",Pg,[e("div",Eg," Detalles de la Factura '"+i(t.facturaDetalles.id)+"': ",1),Tg,e("label",Dg,[p(" Rut: "),e("label",Bg,i(t.formatoRut(t.facturaDetalles.rutProveedor)),1)]),e("label",Og,[p(" Razón Social: "),e("label",Mg,i(t.facturaDetalles.razonSocial),1)]),e("label",Sg,[p(" Folio: "),e("label",Rg,i(t.facturaDetalles.folio),1)]),e("label",Ag,[p(" Empresa: "),e("label",Fg,i(t.facturaDetalles.empresa.razonSocial),1)]),e("label",zg,[p(" Usuario Solicitante: "),e("label",Ug,i(t.facturaDetalles.user.name),1)]),e("label",Vg,[p(" Tipo Documento: "),e("label",Lg,i(t.facturaDetalles.tipoDocumento)+" - "+i(d.buscarTipoDoc(t.tiposDocFactura,t.facturaDetalles.tipoDocumento)),1)]),e("label",jg,[p(" Tipo Compra: "),e("label",Ng,i(t.facturaDetalles.tipoCompra),1)]),Hg,e("label",Ig,[p(" Monto IVA Recup.: "),e("label",Gg,i(t.formatMoneyCLP(t.facturaDetalles.montoIVARec)),1)]),e("label",qg,[p(" Monto IVA no Recup.: "),e("label",Kg,i(t.formatMoneyCLP(t.facturaDetalles.montoIVANoRec)),1)]),e("label",Xg,[p(" Monto IVA no Retenido: "),e("label",Jg,i(t.formatMoneyCLP(t.facturaDetalles.IVANoRetenido)),1)]),e("label",Zg,[p(" Monto Exento: "),e("label",Wg,i(t.formatMoneyCLP(t.facturaDetalles.montoExento)),1)]),e("label",Yg,[p(" Monto Neto: "),e("label",Qg,i(t.formatMoneyCLP(t.facturaDetalles.montoNeto)),1)]),e("label",e_,[p(" Monto Total: "),e("label",t_,i(t.formatMoneyCLP(t.facturaDetalles.montoTotal)),1)]),e("label",s_,[p(" NCE o NDE: "),e("label",o_,i(t.formatMoneyCLP(t.facturaDetalles.NCEoNDE)),1)]),e("label",a_,[p(" Código Otro Imp.: "),e("label",l_,i(t.facturaDetalles.otroImpuesto),1)]),e("label",i_,[p(" Valor Otro Imp.: "),e("label",r_,i(t.formatMoneyCLP(t.facturaDetalles.valorOtroImpuesto)),1)]),e("label",n_,[p(" Tasa Otro Imp.: "),e("label",d_,i(t.formatMoneyCLP(t.facturaDetalles.tasaOtroImpuesto)),1)]),c_,e("label",u_,[p(" Fecha Documento: "),e("label",h_,i(t.thisDate(t.facturaDetalles.fechaDcto)),1)]),e("label",m_,[p(" Fecha Recepción: "),e("label",p_,i(t.thisDate(t.facturaDetalles.fechaRecepcion)),1)]),e("label",f_,[p(" Fecha Acuse: "),e("label",b_,i(t.thisDate(t.facturaDetalles.fechaAcuse)),1)]),e("label",g_,[p(" Fecha Requerimiento: "),e("label",__,i(t.thisDate(t.facturaDetalles.fechaReq)),1)]),e("label",v_,[p(" Fecha Autorización Gasto: "),e("label",$_,i(t.thisDate(t.facturaDetalles.fechaAuthGasto)),1)]),e("label",y_,[p(" Fecha Autorización Pago: "),e("label",C_,i(t.thisDate(t.facturaDetalles.fechaAuthPago)),1)])])])):m("",!0),e("div",w_,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[5]||(s[5]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,k_)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const P_=U(f1,[["render",x_]]),E_={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar",idAutorizador1:null,nameAutorizador1:null,idAutorizador2:null,nameAutorizador2:null,autorizadores:null,idFactura:null,montoTotal:null,timer:null,id:null}),props:{factura:Object},created(){this.id=this.factura.id,this.idFactura=this.factura.idFactura,this.idAutorizador1=this.factura.idAutorizador1,this.idAutorizador2=this.factura.idAutorizador2,this.montoTotal=this.factura.montoTotal,this.getAutorizadores(),this.getTimers()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getTimers(){let t={identificadorEspecifico:this.idFactura,timerName:"insistenciaFactura",sistema:"Facturas",userID:this.userID};_.post("api/usuarios/checkTimer",t).then(s=>{this.timer=s.data}).catch(s=>console.log(s))},getAutorizadores(){_.get("api/autorizadores").then(t=>{this.autorizadores=t.data.filter(s=>s.levelName=="facturas")}).catch(t=>console.log(t))},searchAuth(t,s,a){var c=t;return a!=null&&c.filter(n=>n.id==a.id),s>=1e5?c=c.filter(n=>n.level==!0):c=c,c},async editarFactura(){if(this.nameAutorizador1=null,this.nameAutorizador2=null,this.autorizadores.forEach(a=>{this.idAutorizador1==a.id&&(this.nameAutorizador1=a.usuario.name),this.idAutorizador2==a.id&&(this.nameAutorizador2=a.usuario.name)}),this.nameAutorizador2==null&&(this.nameAutorizador2="---"),await this.$refs.confirmation.show({title:"Editar Factura",message:`¿Está seguro/a que desea editar el Autorizador 1 a '${this.nameAutorizador1}' y el Autorizador 2 a '${this.nameAutorizador2}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={idFactura:this.idFactura,idAutorizador1:this.idAutorizador1,idAutorizador2:this.idAutorizador2};var s=this.id;_.put(`api/facturas/${s}`,a).then(c=>{if(this.buttonText="Guardando...",this.toast.success("Factura editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.timer!=[]){var n=this.timer.id;_.delete(`api/timers/${n}`).then(d=>{}).catch(d=>{console.log(d)})}this.showInsistencia=!0,setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},T_={name:"modal"},D_={class:"modal-mask"},B_={class:"modal-wrapper"},O_={class:"modal-container-xs"},M_={class:"modal-header fw-bold",style:{color:"#444444"}},S_={class:"modal-body"},R_={class:"row"},A_={class:"col-6"},F_=e("label",null,"Autorizador 1:",-1),z_=e("option",{disabled:"",value:null},"Seleccione autorizador:",-1),U_=["value"],V_={class:"col-6"},L_=e("label",null,"Autorizador 2:",-1),j_=e("option",{selected:"",value:null},"Seleccione autorizador:",-1),N_=["value"],H_={class:"modal-footer"},I_=e("label",{class:"font-xs"},"Este proceso no envía correo, por favor utilizar el botón de insistencia.",-1);function G_(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",T_,[e("div",D_,[e("div",B_,[e("div",O_,[e("div",M_,[C(t.$slots,"header",{},()=>[p(" Editar Autorizadores ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",S_,[C(t.$slots,"body",{},()=>[e("div",R_,[e("div",A_,[F_,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.idAutorizador1=o)},[z_,(l(!0),r(P,null,E(d.searchAuth(t.autorizadores,a.factura.montoTotal),o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.usuario.name),1)],8,U_))),128))],512),[[A,t.idAutorizador1]])]),e("div",V_,[L_,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idAutorizador2=o)},[j_,(l(!0),r(P,null,E(d.searchAuth(t.autorizadores,a.factura.montoTotal,a.factura.idAutorizador2),o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.usuario.name),1)],8,N_))),128))],512),[[A,t.idAutorizador2]])])])])]),e("div",H_,[C(t.$slots,"footer",{},()=>[I_,e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarFactura())},i(t.buttonText),1)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const q_=U(E_,[["render",G_]]),K_={components:{modalconfirmacion:j,modalalerta:N,modaleditar:q_},mixins:[V],data:()=>({pagos:[],autorizadores:null,idFactura:null,rutProveedor:null,showEditarFactura:!1,buttonDisableInsistencia:!1,facturaeditar:null,timer:null,tiempo_actual:null,folio:null,nombre:null,tiposDocFactura:null}),props:{factura:Object},created(){this.getTipoDocFacturas(),this.idFactura=this.factura.idFactura,this.rutProveedor=this.factura.rutProveedor,this.folio=this.factura.folio,this.getTimers(),this.getPagos()},methods:{getTimers(){let t={identificadorEspecifico:this.idFactura,timerName:"insistenciaFactura",sistema:"Facturas",userID:this.userID};_.post("api/usuarios/checkTimer",t).then(s=>{this.timer=s.data}).catch(s=>console.log(s))},getPagos(){this.factura.pagos.forEach(t=>{this.pagos.push(t)})},sendEmailInsistencia(){this.tiempo_actual=new Date;var t=[];if(t.push(this.factura),this.factura.autorizadoAuth1!=="true"?t.push("idAutorizador1"):t.push("idAutorizador2"),t.push(this.factura.tipoDocumento+" - "+this.nombre),this.timer!=[])if(new Date(this.agregarMinutos(new Date(this.timer.updated_at),this.timer.timeToWait)).getTime()<new Date(this.tiempo_actual).getTime()){_.post("api/facturas/sendEmailInsistencia",t).then(n=>{this.buttonDisableInsistencia=!0,this.toast.success("Correo de insistencia enviado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(n=>{console.log(n)});let c={browser:navigator.userAgent};var s=this.timer.id;_.put(`api/timers/${s}`,c).then(n=>{this.buttonText="Guardando..."}).catch(n=>{console.log(n)})}else{var a=new Date(this.agregarMinutos(new Date(this.timer.updated_at),this.timer.timeToWait)).getTime()-new Date(this.tiempo_actual).getTime();a=new Date(a).getMinutes(),this.toast.warning(`No puede enviar otro correo hasta dentro de '${a}' minutos.`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}else{_.post("api/facturas/sendEmailInsistencia",t).then(n=>{this.buttonDisableInsistencia=!0,this.toast.success("Correo de insistencia enviado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(n=>{console.log(n)});let c={sistema:"Facturas",identificadorEspecifico:this.idFactura,idUsuario:this.userID,timerName:"insistenciaFactura",timeToWait:60,browser:navigator.userAgent};_.post("api/timers",c).then(n=>{this.buttonText="Guardando..."}).catch(n=>{console.log(n)})}},getTipoDocFacturas(){_.get("api/tipoDocFactura").then(t=>{this.tiposDocFactura=t.data,this.buscarTipoDoc(this.tiposDocFactura,this.factura.tipoDocumento)}).catch(t=>console.log(t))},buscarTipoDoc(t,s){var a=null;t.forEach(c=>{s==c.id&&(a=c.name)}),a==null&&(a="No encontrado."),this.nombre=a},editAutorizadorFactura(t){this.facturaeditar=t,this.showEditarFactura=!0}}},X_={name:"modal"},J_={class:"modal-mask"},Z_={class:"modal-wrapper"},W_={class:"modal-container"},Y_={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},Q_=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle de la Factura:",-1),ev={class:"col-3 m-0",style:{"font-size":"15px","text-align":"right"}},tv={key:0,class:"fs-7 fw-bold",style:{color:"#28A745"}},sv={key:1,class:"fs-7 fw-bold",style:{color:"#28A745"}},ov={key:2,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},av={key:3,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},lv={key:4,class:"fs-7 fw-bold",style:{color:"#FFC107"}},iv={key:5,class:"fs-7 fw-bold",style:{color:"#1520A6"}},rv={key:6,class:"fs-7 fw-bold",style:{color:"#8392AB"}},nv={class:"modal-body"},dv={class:"form-group"},cv={class:"row"},uv=e("div",{class:"text-uppercase"},"Información Esencial:",-1),hv={class:"col-5 m-0 fs-8"},mv={class:"fw-normal",style:{"font-size":"14px"}},pv={class:"col-7 m-0 fs-8"},fv={class:"fw-normal",style:{"font-size":"14px"}},bv={class:"col-5 m-0 fs-8"},gv={class:"fw-normal",style:{"font-size":"14px"}},_v={class:"col-7 m-0 fs-8"},vv={class:"fw-normal",style:{"font-size":"14px"}},$v=e("hr",{size:"4",class:"separador"},null,-1),yv=e("div",{class:"text-uppercase"},"Documento y Compra:",-1),Cv={class:"col-8 m-0 fs-8"},wv={class:"fw-normal",style:{"font-size":"14px"}},kv={class:"col-4 m-0 fs-8"},xv={class:"fw-normal",style:{"font-size":"14px"}},Pv=e("hr",{size:"4",class:"separador"},null,-1),Ev=e("div",{class:"text-uppercase"},"Montos:",-1),Tv={class:"col-4 m-0 fs-8"},Dv={class:"fw-normal",style:{"font-size":"14px"}},Bv={class:"col-4 m-0 fs-8"},Ov={class:"fw-normal",style:{"font-size":"14px"}},Mv={class:"col-4 m-0 fs-8"},Sv={class:"fw-normal",style:{"font-size":"14px"}},Rv={class:"col-4 m-0 fs-8"},Av={class:"fw-normal",style:{"font-size":"14px"}},Fv={class:"col-4 m-0 fs-8"},zv={class:"fw-normal",style:{"font-size":"14px"}},Uv={class:"col-4 m-0 fs-8"},Vv={class:"fw-normal",style:{"font-size":"14px"}},Lv=e("hr",{size:"4",class:"separador"},null,-1),jv=e("div",{class:"text-uppercase"},"Fechas:",-1),Nv={class:"col-4 m-0 fs-8"},Hv={class:"fw-normal",style:{"font-size":"14px"}},Iv={class:"col-4 m-0 fs-8"},Gv={class:"fw-normal",style:{"font-size":"14px"}},qv={class:"col-4 m-0 fs-8"},Kv={class:"fw-normal",style:{"font-size":"14px"}},Xv={class:"col-6 m-0 fs-8"},Jv={class:"fw-normal",style:{"font-size":"14px"}},Zv={class:"col-6 m-0 fs-8"},Wv={class:"fw-normal",style:{"font-size":"14px"}},Yv={class:"col-6 m-0 fs-8"},Qv={class:"fw-normal",style:{"font-size":"14px"}},e$=e("hr",{size:"4",class:"separador"},null,-1),t$=e("div",{class:"text-uppercase"},"Otros Montos:",-1),s$={class:"col-2 m-0 fs-8"},o$={class:"fw-normal",style:{"font-size":"14px"}},a$={class:"col-4 m-0 fs-8"},l$={class:"fw-normal",style:{"font-size":"14px"}},i$={class:"col-3 m-0 fs-8"},r$={class:"fw-normal",style:{"font-size":"14px"}},n$={class:"col-3 m-0 fs-8"},d$={class:"fw-normal",style:{"font-size":"14px"}},c$=e("hr",{size:"4",class:"separador"},null,-1),u$=e("div",{class:"text-uppercase"},"Información Solicitante:",-1),h$={class:"col-12 m-0 fs-8"},m$={class:"fw-normal",style:{"font-size":"14px"}},p$={class:"col-12 m-0 fs-8"},f$={key:0,class:"fw-normal",style:{"font-size":"14px"}},b$={key:1,class:"fw-normal",style:{"font-size":"14px"}},g$=e("hr",{size:"4",class:"separador"},null,-1),_$=e("div",{class:"text-uppercase"},"Información Autorización:",-1),v$={class:"col-6 m-0 fs-8"},$$={key:0,class:"fw-normal",style:{"font-size":"14px"}},y$={key:1,class:"fw-normal",style:{"font-size":"14px"}},C$={class:"col-6 m-0 fs-8"},w$={class:"fw-normal",style:{"font-size":"14px"}},k$={key:0},x$={class:"col-6 m-0 fs-8"},P$={key:0,class:"fw-normal",style:{"font-size":"14px"}},E$={key:1,class:"fw-normal",style:{"font-size":"14px"}},T$={key:2,class:"fw-normal",style:{"font-size":"14px"}},D$={class:"col-6 m-0 fs-8"},B$={key:0,class:"fw-normal",style:{"font-size":"14px"}},O$={key:1,class:"fw-normal",style:{"font-size":"14px"}},M$=e("br",null,null,-1),S$=e("br",null,null,-1),R$=["disabled"],A$=e("i",{class:"fa fa-fw fa-triangle-exclamation"},null,-1),F$=e("i",{class:"fa fa-fw fa-edit"},null,-1);function z$(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",X_,[e("div",J_,[e("div",Z_,[e("div",W_,[e("div",Y_,[C(t.$slots,"header",{},()=>[Q_,e("label",ev,[p(" Estado: "),a.factura.estado=="Gasto Autorizado"?(l(),r("label",tv,i(a.factura.estado),1)):m("",!0),a.factura.estado=="Pago Autorizado"?(l(),r("label",sv,i(a.factura.estado),1)):m("",!0),a.factura.estado=="Gasto Rechazado"?(l(),r("label",ov,i(a.factura.estado),1)):m("",!0),a.factura.estado=="Pago Rechazado"?(l(),r("label",av,i(a.factura.estado),1)):m("",!0),a.factura.estado=="Pendiente"?(l(),r("label",lv,i(a.factura.estado),1)):m("",!0),a.factura.estado=="No Autorizable"?(l(),r("label",iv,i(a.factura.estado),1)):m("",!0),a.factura.estado=="Pagado"?(l(),r("label",rv,i(a.factura.estado),1)):m("",!0)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",nv,[C(t.$slots,"body",{},()=>[e("div",dv,[e("div",cv,[uv,e("label",hv,[p(" Rut: "),e("label",mv,i(t.formatoRut(a.factura.rutProveedor)),1)]),e("label",pv,[p(" Razón Social: "),e("label",fv,i(a.factura.razonSocial),1)]),e("label",bv,[p(" Folio: "),e("label",gv,i(a.factura.folio),1)]),e("label",_v,[p(" Empresa: "),e("label",vv,i(a.factura.empresa.razonSocial),1)]),$v,yv,e("label",Cv,[p(" Tipo Documento: "),e("label",wv,i(a.factura.tipoDocumento)+" - "+i(t.nombre),1)]),e("label",kv,[p(" Tipo Compra: "),e("label",xv,i(a.factura.tipoCompra),1)]),Pv,Ev,e("label",Tv,[p(" Monto IVA Recup.: "),e("label",Dv,i(t.formatMoneyCLP(a.factura.montoIVARec)),1)]),e("label",Bv,[p(" Monto IVA no Recup.: "),e("label",Ov,i(t.formatMoneyCLP(a.factura.montoIVANoRec)),1)]),e("label",Mv,[p(" Monto IVA no Retenido: "),e("label",Sv,i(t.formatMoneyCLP(a.factura.IVANoRetenido)),1)]),e("label",Rv,[p(" Monto Exento: "),e("label",Av,i(t.formatMoneyCLP(a.factura.montoExento)),1)]),e("label",Fv,[p(" Monto Neto: "),e("label",zv,i(t.formatMoneyCLP(a.factura.montoNeto)),1)]),e("label",Uv,[p(" Monto Total: "),e("label",Vv,i(t.formatMoneyCLP(a.factura.montoTotal)),1)]),Lv,jv,e("label",Nv,[p(" Fecha Documento: "),e("label",Hv,i(t.thisDate(a.factura.fechaDcto)),1)]),e("label",Iv,[p(" Fecha Recepción: "),e("label",Gv,i(t.thisDate(a.factura.fechaRecepcion)),1)]),e("label",qv,[p(" Fecha Acuse: "),e("label",Kv,i(t.thisDate(a.factura.fechaAcuse)),1)]),e("label",Xv,[p(" Fecha Requerimiento: "),e("label",Jv,i(t.thisDate(a.factura.fechaReq)),1)]),e("label",Zv,[p(" Fecha Autorización Gasto: "),e("label",Wv,i(t.thisDate(a.factura.fechaAuthGasto)),1)]),e("label",Yv,[p(" Fecha Autorización Pago: "),e("label",Qv,i(t.thisDate(a.factura.fechaAuthPago)),1)]),e$,t$,e("label",s$,[p(" NCE o NDE: "),e("label",o$,i(t.formatMoneyCLP(a.factura.NCEoNDE)),1)]),e("label",a$,[p(" Código Otro Imp.: "),e("label",l$,i(a.factura.otroImpuesto),1)]),e("label",i$,[p(" Valor Otro Imp.: "),e("label",r$,i(t.formatMoneyCLP(a.factura.valorOtroImpuesto)),1)]),e("label",n$,[p(" Tasa Otro Imp.: "),e("label",d$,i(t.formatMoneyCLP(a.factura.tasaOtroImpuesto)),1)]),c$,u$,e("label",h$,[p(" Usuario Solicitante: "),e("label",m$,i(a.factura.user.name),1)]),e("label",p$,[p(" Observación: "),a.factura.observaciones!=null?(l(),r("label",f$,i(a.factura.observaciones),1)):(l(),r("label",b$,"---"))]),g$,_$,e("label",v$,[p(" Autorizable: "),a.factura.autorizable==!0?(l(),r("label",$$,"Si")):a.factura.autorizable==!1?(l(),r("label",y$,"No")):m("",!0)]),e("label",C$,[p(" Identificador: "),e("label",w$,i(a.factura.identificador),1)]),a.factura.autorizable==!0?(l(),r("div",k$,[e("label",x$,[p(" Autorizador/es: "),a.factura.autorizador1!=null?(l(),r("label",P$,i(a.factura.autorizador1.usuario.name),1)):m("",!0),a.factura.autorizador2!=null?(l(),r("label",E$,"- "+i(a.factura.autorizador2.usuario.name),1)):m("",!0),a.factura.autorizable==!1?(l(),r("label",T$,"---")):m("",!0)]),e("label",D$,[p(" Objeción: "),a.factura.objeciones!=null?(l(),r("label",B$,i(a.factura.objeciones),1)):(l(),r("label",O$,"---"))])])):m("",!0),M$,S$,t.is("Contabilidad_Jefatura")&&t.can("Facturas_Crear")&&a.factura.estado=="Pendiente"&&a.factura.autorizable==!0?(l(),r("button",{key:1,class:"col-auto btn btn-insist fw-semibold",disabled:t.buttonDisableInsistencia,onClick:s[1]||(s[1]=h=>d.sendEmailInsistencia()),style:{margin:"0 auto"}},[A$,p("Insistencia")],8,R$)):m("",!0),t.is("Contabilidad_Jefatura")&&t.can("Facturas_Crear")&&a.factura.estado=="Pendiente"&&a.factura.autorizable==!0?(l(),r("a",{key:2,class:"col-auto btn btn-alert fw-semibold",title:"Editar",onClick:s[2]||(s[2]=h=>d.editAutorizadorFactura(a.factura)),style:{margin:"0 auto"}},[F$,p("Editar Autorizadores")])):m("",!0)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showEditarFactura?(l(),T(o,{key:0,factura:t.facturaeditar,onClose:s[3]||(s[3]=h=>t.showEditarFactura=!1)},null,8,["factura"])):m("",!0)])])])])]),_:3})}const U$=U(K_,[["render",z$]]),V$={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,facturasUpload:null,autorizadores:null,empresaSeleccionada:null,empresas:null,proveedores:null,autorizables:[],showNullAutorizables:!0,showTablaAutorizables:!1,isVisibleUpload:!0,firstButton:!1,secondButton:!1,thirdButton:!1,isVisibleData:!1,ingresarEmpresa:!1,isVisibleAuth:!1,documentCSV:null,subidaExistosa:!1,facturasPorSubir:[],condicional:null,errors:[],facturaDetalleIsVisible:!1,facturaDetalles:[],checkAllUpload:!1}),created(){this.getAutorizadores(),this.getEmpresas(),this.getProveedores(),this.getFacturas(),this.getTipoDocFacturas()},methods:{facturaDetalle(t,s){s=="open"&&(this.facturaDetalleIsVisible=!0,this.facturaDetalles=t,document.getElementById("espaciadoTablaUpload").style.maxHeight="300px"),s=="close"&&(this.facturaDetalleIsVisible=!1,this.facturaDetalles=[],document.getElementById("espaciadoTablaUpload").style.maxHeight="500px")},checkAll(){this.checkAllUpload==!1?(this.facturasPorSubir.forEach(t=>{t.Autorizable=!0}),this.checkAllUpload=!0):(this.facturasPorSubir.forEach(t=>{t.Autorizable=!1}),this.checkAllUpload=!1)},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},buscarTipoDoc(t,s){var a=null;return t.forEach(c=>{s==c.id&&(a=c.name)}),a==null&&(a="No encontrado."),a},searchAuth(t,s,a){var c=t;return a!=null&&c.filter(n=>n.id==a.id),s>=1e5?c=c.filter(n=>n.level==!0):c=c,c},getProveedores(){_.get("api/proveedores").then(t=>{this.proveedores=t.data}).catch(t=>console.log(t))},getAutorizadores(){_.get("api/autorizadores").then(t=>{this.autorizadores=t.data.filter(s=>s.levelName=="facturas")}).catch(t=>console.log(t))},getEmpresas(){_.get("api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},getFacturas(){_.get("api/facturas").then(t=>{this.facturasUpload=t.data}).catch(t=>console.log(t))},getTipoDocFacturas(){_.get("api/tipoDocFactura").then(t=>{this.tiposDocFactura=t.data}).catch(t=>console.log(t))},manipulateCSV(t){if(this.subidaExistosa=!1,t!=null)if(document.querySelector("#csv_file").files.item(0)!=null){this.empresaSeleccionada=t,this.facturasPorSubir=[];var s=new FormData;this.documentCSV=document.getElementById("csv_file").files.item(0).name;var a=document.querySelector("#csv_file");s.append("csv_file",a.files[0]),_.post("api/facturas/manipularCSV",s).then(c=>{this.temporal=c.data,this.temporal.forEach(n=>{this.condicional=!1,this.facturasUpload.forEach(d=>{n.idFactura==d.idFactura&&(this.condicional=!0)}),this.condicional==!1&&this.facturasPorSubir.push(n)}),this.firstButton=!0,this.subidaExistosa=!0,this.facturasPorSubir.length==0?this.toast("No se han encontrado nuevos registros!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.success("Se ha subido con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(c=>console.log(c),this.subidaExistosa=!1)}else this.toast.warning("Seleccione un archivo.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else this.toast.warning("Seleccione una empresa.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},setAutorizables(){this.buttonText="Guardando...",this.autorizables=[],this.showNullAutorizables=!0,this.showTablaAutorizables=!1,this.facturasPorSubir.forEach(t=>{t.tipoDocNombre=t["Tipo Doc"]+" - "+this.buscarTipoDoc(this.tiposDocFactura,t["Tipo Doc"]),t.Autorizable==!0&&(this.autorizables.push(t),this.showNullAutorizables=!1,this.showTablaAutorizables=!0),this.proveedores.forEach(s=>{t["RUT Proveedor"]==s.rut&&(s.idAuthAso1!=null&&(t.Autorizador1=s.idAuthAso1),s.idAuthAso2!=null&&(t.Autorizador2=s.idAuthAso2))})})},async saveFacturas(){if(await this.$refs.confirmation.show({title:"Subir datos",message:"¿Está seguro/a? Esta acción no puede ser desecha.",okButton:"Subir",cancelButton:"Volver"})){const s=[];s.push(this.facturasPorSubir),s.push(this.userID),s.push(this.empresaSeleccionada),_.post("api/facturas",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.errors=[],this.toast.success("Información subida con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/facturas/sendEmailAdministrador",this.autorizables).then(c=>{this.toast.success("Correo enviado a administración!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(c=>{console.log(c)}),this.autorizadores.forEach(c=>{var n=[],d=[];this.autorizables.forEach(u=>{u.tipoDocNombre=u["Tipo Doc"]+" - "+this.buscarTipoDoc(this.tiposDocFactura,u["Tipo Doc"]),c.id==u.Autorizador1&&d.push(u)}),d.length!=0&&(n.push(d),n.push("Autorizador1"),_.post("api/facturas/sendEmailAutorizadorCSV",n).then(u=>{this.toast.success("Correo enviado a autorizador!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(u=>{console.log(u)}))}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},L$={name:"modal"},j$={class:"modal-mask"},N$={class:"modal-wrapper"},H$={class:"modal-container-xl"},I$={class:"modal-header fw-bold",style:{color:"#444444"}},G$={class:"modal-body"},q$={class:"text-center",style:{position:"relative",top:"10%","min-height":"500px"}},K$=e("label",{style:{"font-size":"16px"},for:"csv_file"},"Documento (.CSV) con Facturas:",-1),X$=e("br",null,null,-1),J$=e("label",{style:{color:"#b80f0a","font-size":"11px","font-weight":"normal"},for:"csv_file"},[p("El sistema está diseñado para aceptar"),e("label",{style:{color:"#b80f0a"}},"SOLAMENTE"),p(" el archivo del SII.")],-1),Z$=e("br",null,null,-1),W$=e("option",{selected:"",disabled:"",value:null},"Seleccione empresa:",-1),Y$=["value"],Q$=e("br",null,null,-1),e0=e("br",null,null,-1),t0={enctype:"multipart/form-data"},s0=e("input",{style:{width:"500px","margin-bottom":"15px","font-size":"12px"},type:"file",name:"csv_file",id:"csv_file",accept:".csv",class:"form-control"},null,-1),o0=e("br",null,null,-1),a0={key:0},l0={style:{"font-size":"12px","font-weight":"normal"}},i0=e("br",null,null,-1),r0={class:"table-responsive p-0",id:"espaciadoTablaUpload",style:{"max-height":"500px"}},n0={class:"table align-items-center mb-0",id:"tableDesign"},d0=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Neto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto IVA Recup."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto IVA no Recup."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"¿Autorizable?"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),c0={key:0},u0=e("td",{colspan:"9"},null,-1),h0={key:0},m0=e("label",null,"Marcar Todo:",-1),p0=[m0],f0={key:1},b0=e("label",null,"Desmarcar Todo:",-1),g0=[b0],_0={class:"form-check"},v0={class:"form-check-label"},$0={key:1},y0=e("td",{colspan:"11"}," No hay información disponible. ",-1),C0=[y0],w0={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},k0={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},x0=["title"],P0={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},E0=["title"],T0={class:"text-sm mb-0"},D0={key:0,class:"text-sm mb-0"},B0={key:1,class:"text-sm mb-0"},O0={key:0,class:"text-sm mb-0"},M0={key:1,class:"text-sm mb-0"},S0={key:0,class:"text-sm mb-0"},R0={key:1,class:"text-sm mb-0"},A0={key:0,class:"text-sm mb-0"},F0={key:1,class:"text-sm mb-0"},z0={class:"form-check"},U0={class:"form-check-label"},V0=["onUpdate:modelValue"],L0={class:"align-middle text-end"},j0={class:"d-flex px-3 py-1 justify-content-center align-items-center"},N0=["onClick"],H0=e("i",{class:"fa-regular fa-eye"},null,-1),I0=[H0],G0={class:"table-responsive p-0",id:"espaciadoTablaUpload",style:{"max-height":"500px"}},q0={class:"p-7",style:{"min-height":"500px"}},K0=e("label",{class:"fs-4"},"No hay facturas autorizables, puede continuar.",-1),X0=[K0],J0={class:"table align-items-center mb-0",id:"tableDesign"},Z0=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Observaciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),W0={key:0},Y0=e("td",{colspan:"8"}," No hay información disponible. ",-1),Q0=[Y0],e2={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},t2={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},s2=["title"],o2={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},a2={class:"text-sm mb-0"},l2=["onUpdate:modelValue"],i2=e("option",{selected:"",value:null},"Seleccione autorizador:",-1),r2=["value"],n2={key:0,class:"error"},d2=["onUpdate:modelValue"],c2=e("option",{selected:"",value:null},"Seleccione autorizador:",-1),u2=["value"],h2={class:"text-sm mb-0"},m2=["onUpdate:modelValue"],p2={class:"align-middle text-end"},f2={class:"d-flex px-3 py-1 justify-content-center align-items-center"},b2=["onClick"],g2=e("i",{class:"fa-regular fa-eye"},null,-1),_2=[g2],v2={key:0},$2=e("hr",{size:"4",class:"separador"},null,-1),y2={class:"row"},C2={style:{"font-weight":"bold",color:"#444444"}},w2=e("div",{class:"text-uppercase"},"Información Esencial:",-1),k2={class:"col-auto m-0 fs-8"},x2={class:"fw-normal",style:{"font-size":"14px"}},P2={class:"col-auto m-0 fs-8"},E2={class:"fw-normal",style:{"font-size":"14px"}},T2={class:"col-auto m-0 fs-8"},D2={class:"fw-normal",style:{"font-size":"14px"}},B2={class:"col-auto m-0 fs-8"},O2={class:"fw-normal",style:{"font-size":"14px"}},M2={class:"col-auto m-0 fs-8"},S2={class:"fw-normal",style:{"font-size":"14px"}},R2={class:"col-auto m-0 fs-8"},A2={class:"fw-normal",style:{"font-size":"14px"}},F2=e("div",{class:"text-uppercase"},"Montos:",-1),z2={class:"col-auto m-0 fs-8"},U2={class:"fw-normal",style:{"font-size":"14px"}},V2={class:"col-auto m-0 fs-8"},L2={class:"fw-normal",style:{"font-size":"14px"}},j2={class:"col-auto m-0 fs-8"},N2={class:"fw-normal",style:{"font-size":"14px"}},H2={class:"col-auto m-0 fs-8"},I2={class:"fw-normal",style:{"font-size":"14px"}},G2={class:"col-auto m-0 fs-8"},q2={class:"fw-normal",style:{"font-size":"14px"}},K2={class:"col-auto m-0 fs-8"},X2={class:"fw-normal",style:{"font-size":"14px"}},J2={class:"col-auto m-0 fs-8"},Z2={class:"fw-normal",style:{"font-size":"14px"}},W2={class:"col-auto m-0 fs-8"},Y2={class:"fw-normal",style:{"font-size":"14px"}},Q2={class:"col-auto m-0 fs-8"},ey={class:"fw-normal",style:{"font-size":"14px"}},ty={class:"col-auto m-0 fs-8"},sy={class:"fw-normal",style:{"font-size":"14px"}},oy=e("div",{class:"text-uppercase"},"Fechas:",-1),ay={class:"col-auto m-0 fs-8"},ly={class:"fw-normal",style:{"font-size":"14px"}},iy={class:"col-auto m-0 fs-8"},ry={class:"fw-normal",style:{"font-size":"14px"}},ny={class:"col-auto m-0 fs-8"},dy={class:"fw-normal",style:{"font-size":"14px"}},cy={class:"modal-footer"},uy=["disabled"];function hy(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",L$,[e("div",j$,[e("div",N$,[e("div",H$,[e("div",I$,[t.isVisibleUpload?C(t.$slots,"header",{key:0},()=>[p("Subir Archivo:")]):m("",!0),t.isVisibleData?C(t.$slots,"header",{key:1},()=>[p("Detalle de Información a Subir:")]):m("",!0),t.isVisibleAuth?C(t.$slots,"header",{key:2},()=>[p("Seleccionar Autorizadores:")]):m("",!0),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",G$,[t.isVisibleUpload?C(t.$slots,"body",{key:0},()=>[e("div",q$,[K$,X$,J$,Z$,f(e("select",{class:"form-select-fit",style:{top:"15%"},"onUpdate:modelValue":s[1]||(s[1]=o=>t.selectedCompany=o)},[W$,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.razonSocial),1)],8,Y$))),128))],512),[[A,t.selectedCompany]]),p(),Q$,e0,e("form",t0,[s0,o0,e("a",{class:"btn btn-danger btn-sm",onClick:s[2]||(s[2]=o=>d.manipulateCSV(t.selectedCompany))},"Subir archivo")]),t.subidaExistosa&&t.facturasPorSubir.length!=0&&t.firstButton==!0?(l(),r("label",a0,[p("Archivo subido:"),e("label",l0,i(t.documentCSV),1),p(),i0])):m("",!0)])]):m("",!0),t.isVisibleData?C(t.$slots,"body",{key:1},()=>[e("div",r0,[e("table",n0,[d0,e("tbody",null,[t.facturasUpload!=0?(l(),r("tr",c0,[u0,t.checkAllUpload==!1?(l(),r("td",h0,p0)):(l(),r("td",f0,g0)),e("td",null,[e("div",_0,[e("label",v0,[e("input",{class:"form-check-input",onClick:s[3]||(s[3]=o=>d.checkAll()),type:"checkbox"})])])])])):m("",!0),t.facturasUpload==null?(l(),r("tr",$0,C0)):(l(!0),r(P,{key:2},E(t.facturasPorSubir,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",w0,i(o.Nro),1)]),e("td",null,[e("p",k0,i(t.formatoRut(o["RUT Proveedor"])),1)]),e("td",null,[e("p",{title:o["Razon Social"],class:"text-sm mb-0",style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o["Razon Social"]),9,x0)]),e("td",null,[e("p",P0,i(o.Folio),1)]),e("td",null,[e("p",{title:d.buscarTipoDoc(t.tiposDocFactura,o["Tipo Doc"]),class:"text-sm mb-0",style:{width:"150px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(d.buscarTipoDoc(t.tiposDocFactura,o["Tipo Doc"])),9,E0)]),e("td",null,[e("p",T0,i(o["Fecha Docto"]),1)]),e("td",null,[o["Monto Neto"]!=""?(l(),r("p",D0,i(t.formatMoneyCLP(o["Monto Neto"])),1)):(l(),r("p",B0,i(t.formatMoneyCLP(o["Monto Neto"]=0)),1))]),e("td",null,[o["Monto IVA Recuperable"]!=""?(l(),r("p",O0,i(t.formatMoneyCLP(o["Monto IVA Recuperable"])),1)):(l(),r("p",M0,i(t.formatMoneyCLP(o["Monto IVA Recuperable"]=0)),1))]),e("td",null,[o["Monto Iva No Recuperable"]!=""?(l(),r("p",S0,i(t.formatMoneyCLP(o["Monto Iva No Recuperable"])),1)):(l(),r("p",R0,i(t.formatMoneyCLP(o["Monto Iva No Recuperable"]=0)),1))]),e("td",null,[o["Monto Total"]!=""?(l(),r("p",A0,i(t.formatMoneyCLP(o["Monto Total"])),1)):(l(),r("p",F0,i(t.formatMoneyCLP(o["Monto Total"]=0)),1))]),e("td",null,[e("div",z0,[e("label",U0,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":h=>o.Autorizable=h},null,8,V0),[[ne,o.Autorizable]])])])]),e("td",L0,[e("div",j0,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:h=>d.facturaDetalle(o,"open")},I0,8,N0)])])]))),128))])])])]):m("",!0),t.isVisibleAuth?C(t.$slots,"body",{key:2},()=>[e("div",G0,[f(e("div",q0,X0,512),[[H,t.showNullAutorizables]]),f(e("table",J0,[Z0,e("tbody",null,[t.autorizables==[]?(l(),r("tr",W0,Q0)):(l(!0),r(P,{key:1},E(t.autorizables,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",e2,i(o.Nro),1)]),e("td",null,[e("p",t2,i(t.formatoRut(o["RUT Proveedor"])),1)]),e("td",null,[e("p",{title:o["Razon Social"],class:"text-sm mb-0",style:{width:"250px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(o["Razon Social"]),9,s2)]),e("td",null,[e("p",o2,i(o.Folio),1)]),e("td",null,[e("p",a2,i(t.formatMoneyCLP(o["Monto Total"])),1)]),e("td",null,[f(e("select",{class:"form-select","onUpdate:modelValue":h=>o.Autorizador1=h},[i2,(l(!0),r(P,null,E(d.searchAuth(t.autorizadores,o["Monto Total"]),h=>(l(),r("option",{key:h.id,value:h.id},[e("label",null,i(h.usuario.name),1)],8,r2))),128))],8,l2),[[A,o.Autorizador1]]),t.errors&&t.errors.Autorizador1&&o.Autorizador1==null?(l(),r("div",n2,i(t.errors.Autorizador1[0]),1)):m("",!0)]),e("td",null,[f(e("select",{class:"form-select","onUpdate:modelValue":h=>o.Autorizador2=h},[c2,(l(!0),r(P,null,E(d.searchAuth(t.autorizadores,o["Monto Total"],o.Autorizador1),h=>(l(),r("option",{key:h.id,value:h.id},[e("label",null,i(h.usuario.name),1)],8,u2))),128))],8,d2),[[H,o.Autorizador1!=null],[A,o.Autorizador2]])]),e("td",null,[e("p",h2,[f(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":h=>o.Observaciones=h,style:{"min-width":"200px",height:"40px","text-align":"justify"}},null,8,m2),[[k,o.Observaciones]])])]),e("td",p2,[e("div",f2,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:h=>d.facturaDetalle(o,"open")},_2,8,b2)])])]))),128))])],512),[[H,t.showTablaAutorizables]])])]):m("",!0)]),t.facturaDetalleIsVisible==!0?(l(),r("div",v2,[$2,e("a",{class:"btn btn-closed btn-xs",style:{float:"right"},onClick:s[4]||(s[4]=o=>d.facturaDetalle(t.facturaDetalles,"close")),ref:"closeBtn"},"X",512),e("div",y2,[e("div",C2,"Detalles de la Factura '"+i(t.facturaDetalles.Nro)+"':",1),w2,e("label",k2,[p(" Rut: "),e("label",x2,i(t.facturaDetalles["RUT Proveedor"]),1)]),e("label",P2,[p(" Razón Social: "),e("label",E2,i(t.facturaDetalles["Razon Social"]),1)]),e("label",T2,[p(" Folio: "),e("label",D2,i(t.facturaDetalles.Folio),1)]),e("label",B2,[p(" Empresa: "),e("label",O2,i(t.empresaSeleccionada),1)]),e("label",M2,[p(" Tipo Documento: "),e("label",S2,i(t.facturaDetalles["Tipo Doc"])+" - "+i(d.buscarTipoDoc(t.tiposDocFactura,t.facturaDetalles["Tipo Doc"])),1)]),e("label",R2,[p(" Tipo Compra: "),e("label",A2,i(t.facturaDetalles["Tipo Compra"]),1)]),F2,e("label",z2,[p(" Monto IVA Recup.: "),e("label",U2,i(t.formatMoneyCLP(t.facturaDetalles["Monto IVA Recuperable"])),1)]),e("label",V2,[p(" Monto IVA no Recup.: "),e("label",L2,i(t.formatMoneyCLP(t.facturaDetalles["Monto Iva No Recuperable"])),1)]),e("label",j2,[p(" Monto IVA no Retenido: "),e("label",N2,i(t.formatMoneyCLP(t.facturaDetalles["IVA No Retenido"])),1)]),e("label",H2,[p(" Monto Exento: "),e("label",I2,i(t.formatMoneyCLP(t.facturaDetalles["Monto Exento"])),1)]),e("label",G2,[p(" Monto Neto: "),e("label",q2,i(t.formatMoneyCLP(t.facturaDetalles["Monto Neto"])),1)]),e("label",K2,[p(" Monto Total: "),e("label",X2,i(t.formatMoneyCLP(t.facturaDetalles["Monto Total"])),1)]),e("label",J2,[p(" NCE o NDE: "),e("label",Z2,i(t.formatMoneyCLP(t.facturaDetalles["NCE o NDE sobre Fact. de Compra"])),1)]),e("label",W2,[p(" Código Otro Imp.: "),e("label",Y2,i(t.facturaDetalles["Codigo Otro Impuesto"]),1)]),e("label",Q2,[p(" Valor Otro Imp.: "),e("label",ey,i(t.formatMoneyCLP(t.facturaDetalles["Valor Otro Impuesto"])),1)]),e("label",ty,[p(" Tasa Otro Imp.: "),e("label",sy,i(t.formatMoneyCLP(t.facturaDetalles["Tasa Otro Impuesto"])),1)]),oy,e("label",ay,[p(" Fecha Documento: "),e("label",ly,i(t.facturaDetalles["Fecha Docto"]),1)]),e("label",iy,[p(" Fecha Recepción: "),e("label",ry,i(t.facturaDetalles["Fecha Recepcion"]),1)]),e("label",ny,[p(" Fecha Acuse: "),e("label",dy,i(t.facturaDetalles["Fecha Acuse"]),1)])])])):m("",!0),e("div",cy,[C(t.$slots,"footer",{},()=>[t.isVisibleUpload&&t.firstButton&&t.facturasPorSubir.length!=0?(l(),r("a",{key:0,class:"btn btn-alert float-end",onClick:s[5]||(s[5]=o=>{t.facturaDetalleIsVisible=!1,t.isVisibleUpload=!1,t.isVisibleData=!0,t.isVisibleAuth=!1})},"Continuar")):m("",!0),t.isVisibleData?(l(),r("a",{key:1,class:"btn btn-alert float-end",onClick:s[6]||(s[6]=o=>{t.facturaDetalleIsVisible=!1,t.isVisibleUpload=!1,t.isVisibleData=!1,t.isVisibleAuth=!0,d.setAutorizables()})},"Continuar")):m("",!0),t.isVisibleAuth?(l(),r("button",{key:2,class:"btn btn-alert float-end",onClick:s[7]||(s[7]=o=>{t.facturaDetalleIsVisible=!1,d.saveFacturas()}),disabled:t.buttonDisable},"Guardar",8,uy)):m("",!0),t.isVisibleData?(l(),r("a",{key:3,class:"btn btn-alert float-start",onClick:s[8]||(s[8]=o=>{t.facturaDetalleIsVisible=!1,t.isVisibleUpload=!0,t.isVisibleData=!1,t.isVisibleAuth=!1,t.firstButton=!1})},"Volver")):m("",!0),t.isVisibleAuth?(l(),r("a",{key:4,class:"btn btn-alert float-start",onClick:s[9]||(s[9]=o=>{t.facturaDetalleIsVisible=!1,t.isVisibleUpload=!1,t.isVisibleData=!0,t.isVisibleAuth=!1})},"Volver")):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const my=U(V$,[["render",hy]]),py={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({subidaExistosa:!1}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},referencesImport(){if(this.subidaExistosa=!1,document.querySelector("#xls_file").files.item(0)!=null){this.documentXLS=document.getElementById("xls_file").files.item(0).name;var t=function(){var c={};this.parseExcel=function(n){var d={},u=new FileReader;u.onload=function(g){var o=g.target.result,h=XLSX.read(o,{type:"binary"}),b={};h.SheetNames.forEach(function(v){var z=XLSX.utils.sheet_to_row_object_array(h.Sheets[v]),S=JSON.stringify(z);S.length&&(b=JSON.parse(S))}),d=b},u.onerror=function(g){console.log(g)},u.readAsBinaryString(n),setTimeout(()=>{c=d},100)},setTimeout(()=>{this.data=c},200)},s=document.querySelector("#xls_file"),a=new t;a.parseExcel(s.files[0]),setTimeout(()=>{this.subidaExistosa=!0,_.post("api/referencesImport",a.data).then(c=>{this.toast.success("Referencias subidas con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Ocurrió un error!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},300)}else this.toast.warning("Seleccione un archivo.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}}},fy={name:"modal"},by={class:"modal-mask"},gy={class:"modal-wrapper"},_y={class:"modal-container-xl"},vy={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},$y={class:"modal-body",style:{height:"600px"}},yy={class:"text-center",style:{position:"relative",top:"10%"}},Cy=e("label",{style:{"font-size":"16px"},for:"xls_file"},"Documento (.XLS o . XLSX) con las Referencias:",-1),wy=e("br",null,null,-1),ky=e("label",{style:{color:"#b80f0a","font-size":"11px","font-weight":"normal"},for:"xls_file"},[p("El sistema está diseñado para aceptar"),e("label",{style:{color:"#b80f0a"}},"SOLAMENTE"),p(" el archivo de Facele.")],-1),xy=e("br",null,null,-1),Py={enctype:"multipart/form-data"},Ey=e("input",{style:{width:"500px","margin-bottom":"15px","font-size":"12px"},type:"file",name:"xls_file",id:"xls_file",accept:".xls, .xlsx",class:"form-control"},null,-1),Ty=e("br",null,null,-1),Dy={key:0},By={style:{"font-size":"12px","font-weight":"normal"}},Oy=e("br",null,null,-1),My=e("div",{class:"modal-footer"},null,-1);function Sy(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",fy,[e("div",by,[e("div",gy,[e("div",_y,[e("div",vy,[C(t.$slots,"header",{},()=>[p("Subir Archivo:")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",$y,[C(t.$slots,"body",{},()=>[e("div",yy,[Cy,wy,ky,xy,e("form",Py,[Ey,Ty,e("a",{class:"btn btn-danger btn-sm",onClick:s[1]||(s[1]=o=>d.referencesImport())},"Subir referencias")]),t.subidaExistosa==!0?(l(),r("label",Dy,[p("Archivo subido:"),e("label",By,i(t.documentXLS),1),p(),Oy])):m("",!0)])])]),My,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Ry=U(py,[["render",Sy]]),Ay={components:{},mixins:[V],data(){return{empresas:null,selectedCompany:null,accionSeleccionada:null}},props:{accion:Object},created(){this.accionSeleccionada=this.accion,this.getEmpresas()},methods:{getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},facturasExportPropuesta(){var t={userID:this.userID,selectedCompany:this.selectedCompany};_({url:"api/facturasExportPropuesta",data:t,method:"POST",responseType:"arraybuffer"}).then(s=>{let a=new Blob([s.data],{type:"application/xlsx"}),c=document.createElement("a");c.href=window.URL.createObjectURL(a),c.download="Propuesta.xlsx",c.click()})},facturasExportGastoAutorizado(){var t={userID:this.userID,selectedCompany:this.selectedCompany};_({url:"api/facturasExportGastoAutorizado",data:t,method:"POST",responseType:"arraybuffer"}).then(s=>{let a=new Blob([s.data],{type:"application/xlsx"}),c=document.createElement("a");c.href=window.URL.createObjectURL(a),c.download="Facturas Gasto Autorizado.xlsx",c.click()})},facturasExport(){var t={userID:this.userID,selectedCompany:this.selectedCompany};_({url:"api/facturasExport",data:t,method:"POST",responseType:"arraybuffer"}).then(s=>{let a=new Blob([s.data],{type:"application/xlsx"}),c=document.createElement("a");c.href=window.URL.createObjectURL(a),c.download="Detalle de todas las Facturas.xlsx",c.click()})}}},Fy={name:"modal"},zy={class:"modal-mask"},Uy={class:"modal-wrapper"},Vy={class:"modal-container-xs"},Ly={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},jy={class:"modal-body",style:{"min-height":"150px"}},Ny={class:"text-center",style:{position:"relative",top:"10%"}},Hy=e("option",{selected:"",disabled:"",value:null},"Seleccione la empresa de la que desea exportar datos:",-1),Iy=["value"],Gy=e("option",{value:"Todas"},"Todas.",-1),qy={class:"modal-footer"},Ky={key:0};function Xy(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),r("div",Fy,[e("div",zy,[e("div",Uy,[e("div",Vy,[e("div",Ly,[C(t.$slots,"header",{},()=>[p("Seleccionar Empresa:")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",jy,[C(t.$slots,"body",{},()=>[e("div",Ny,[f(e("select",{class:"form-select-fit",style:{top:"15%"},"onUpdate:modelValue":s[1]||(s[1]=o=>n.selectedCompany=o)},[Hy,(l(!0),r(P,null,E(n.empresas,o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,i(o.razonSocial),1)],8,Iy))),128)),Gy],512),[[A,n.selectedCompany]])])])]),e("div",qy,[C(t.$slots,"footer",{},()=>[n.selectedCompany!=null?(l(),r("div",Ky,[n.accionSeleccionada=="facturasExportPropuesta"?(l(),r("a",{key:0,class:"btn btn-alert float-end",onClick:s[2]||(s[2]=o=>{d.facturasExportPropuesta(n.selectedCompany)})},"Continuar")):m("",!0),n.accionSeleccionada=="facturasExportGastoAutorizado"?(l(),r("a",{key:1,class:"btn btn-alert float-end",onClick:s[3]||(s[3]=o=>{d.facturasExportGastoAutorizado(n.selectedCompany)})},"Continuar")):m("",!0),n.accionSeleccionada=="facturasExport"?(l(),r("a",{key:2,class:"btn btn-alert float-end",onClick:s[4]||(s[4]=o=>{d.facturasExport(n.selectedCompany)})},"Continuar")):m("",!0)])):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])}const Jy=U(Ay,[["render",Xy]]),Zy={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({subidaExistosa:!1}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},pagosImport(){if(this.subidaExistosa=!1,document.querySelector("#xls_file").files.item(0)!=null){this.documentXLS=document.getElementById("xls_file").files.item(0).name;var t=function(){var c={};this.parseExcel=function(n){var d={},u=new FileReader;u.onload=function(g){var o=g.target.result,h=XLSX.read(o,{type:"binary"}),b={};h.SheetNames.forEach(function(v){var z=XLSX.utils.sheet_to_row_object_array(h.Sheets[v]),S=JSON.stringify(z);S.length&&(b=JSON.parse(S))}),d=b},u.onerror=function(g){console.log(g)},u.readAsBinaryString(n),setTimeout(()=>{c=d},100)},setTimeout(()=>{this.data=c},200)},s=document.querySelector("#xls_file"),a=new t;a.parseExcel(s.files[0]),setTimeout(()=>{this.subidaExistosa=!0,_.post("api/referencesImport",a.data).then(c=>{this.toast.success("Pagos subidos con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Ocurrió un error!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},300)}else this.toast.warning("Seleccione un archivo.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}}},Wy={name:"modal"},Yy={class:"modal-mask"},Qy={class:"modal-wrapper"},eC={class:"modal-container-xl"},tC={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},sC={class:"modal-body",style:{height:"600px"}},oC={class:"text-center",style:{position:"relative",top:"10%"}},aC=e("label",{style:{"font-size":"16px"},for:"xls_file"},"Documento (.XLS o . XLSX) con los Pagos de las Facturas:",-1),lC=e("br",null,null,-1),iC=e("label",{style:{color:"#b80f0a","font-size":"11px","font-weight":"normal"},for:"xls_file"},[p("El sistema está diseñado para aceptar"),e("label",{style:{color:"#b80f0a"}},"SOLAMENTE"),p(" el archivo de SAP destinado a este propósito.")],-1),rC=e("br",null,null,-1),nC={enctype:"multipart/form-data"},dC=e("input",{style:{width:"500px","margin-bottom":"15px","font-size":"12px"},type:"file",name:"xls_file",id:"xls_file",accept:".xls, .xlsx",class:"form-control"},null,-1),cC=e("br",null,null,-1),uC={key:0},hC={style:{"font-size":"12px","font-weight":"normal"}},mC=e("br",null,null,-1),pC=e("div",{class:"modal-footer"},null,-1);function fC(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Wy,[e("div",Yy,[e("div",Qy,[e("div",eC,[e("div",tC,[C(t.$slots,"header",{},()=>[p("Subir Archivo:")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",sC,[C(t.$slots,"body",{},()=>[e("div",oC,[aC,lC,iC,rC,e("form",nC,[dC,cC,e("a",{class:"btn btn-danger btn-sm",onClick:s[1]||(s[1]=o=>d.pagosImport())},"Subir pagos")]),t.subidaExistosa==!0?(l(),r("label",uC,[p("Archivo subido:"),e("label",hC,i(t.documentXLS),1),p(),mC])):m("",!0)])])]),pC,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const bC=U(Zy,[["render",fC]]),gC={components:{modalpagar:bC,modalconfirmacion:j,modalalerta:N,modalselectcompany:Jy,modalautorizargastos:p1,modalautorizarpagos:P_,modaldetalle:U$,modaluploaddata:my,modaluploadreferences:Ry},mixins:[V],data(){return{facturas:null,facturasAux:null,tiposDocFactura:null,estadoTipoDoc:null,showSelectCompany:!1,showAutorizarGastosFacturas:!1,showAutorizarPagosFacturas:!1,showDetallesFactura:!1,showUploadDataFacturas:!1,showUploadReferencesFacturas:!1,showPagarFacturas:!1,showCrearFactura:!1,showEditarFactura:!1,facturasEditar:null,facturaPagos:null,mostrarTabla:!1,table:null,mostrarCarga:!0,fechaInicio:null,accionTipoEmpresa:null,fechaTermino:null,buttonDisableInsistenciaGlobal:!1,timer:null,tiempo_actual:null}},created(){this.getTipoDocFacturas(),this.getFacturas(this.userID),this.getTimers()},methods:{handleAccionTipoEmpresa(t){this.accionTipoEmpresa=t,this.showSelectCompany=!0},getTimers(){let t={identificadorEspecifico:null,timerName:"insistenciaFacturaGlobal",sistema:"Facturas",userID:this.userID};_.post("api/usuarios/checkTimer",t).then(s=>{this.timer=s.data}).catch(s=>console.log(s))},async sendEmailsInsistenciaGlobal(){if(this.tiempo_actual=new Date,this.timer!=[])if(new Date(this.agregarMinutos(new Date(this.timer.updated_at),this.timer.timeToWait)).getTime()<new Date(this.tiempo_actual).getTime()){if(await this.$refs.confirmation.show({title:"Enviar Correos",message:"¿Está seguro/a que desea enviar un correo a cada uno de los autorizadores con un resumen de sus respectivas facturas pendientes de autorización? Esta acción no puede ser desecha.",okButton:"Enviar",cancelButton:"Volver"})){this.buttonDisableInsistenciaGlobal=!0,_.post("api/facturas/sendEmailsInsistenciaMasivo",this.facturas).then(n=>{this.toast.success("Correos de insistencia enviados!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(n=>{console.log(n)});let c={browser:navigator.userAgent};var t=this.timer.id;_.put(`api/timers/${t}`,c).then(n=>{this.buttonText="Guardando..."}).catch(n=>{console.log(n)})}}else{var s=new Date(this.agregarMinutos(new Date(this.timer.updated_at),this.timer.timeToWait)).getTime()-new Date(this.tiempo_actual).getTime();s=new Date(s).getHours()+" horas y "+new Date(s).getMinutes()+" minutos",this.toast.warning(`No puede enviar la insistencia masiva hasta dentro de ${s} más.`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}else if(await this.$refs.confirmation.show({title:"Enviar Correos",message:"¿Está seguro/a que desea enviar un correo a cada uno de los autorizadores con un resumen de sus respectivas facturas pendientes de autorización? Esta acción no puede ser desecha.",okButton:"Enviar",cancelButton:"Volver"})){this.buttonDisableInsistenciaGlobal=!0,_.post("api/facturas/sendEmailsInsistenciaMasivo",this.facturas).then(n=>{this.toast.success("Correos de insistencia enviados!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(n=>{console.log(n)});let c={sistema:"Facturas",identificadorEspecifico:null,idUsuario:this.userID,timerName:"insistenciaFacturaGlobal",timeToWait:1620,browser:navigator.userAgent};_.post("api/timers",c).then(n=>{this.buttonText="Guardando..."}).catch(n=>{console.log(n)})}},filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.facturas=this.facturasAux.filter(a=>{let c=new Date(a.fechaDcto);return c>=t&&c<=s}),this.recargarTabla()}},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.facturas=null,this.getFacturas(this.userID),this.fechaInicio=null,this.fechaTermino=null):(this.table.destroy(),this.crearTabla("#MyTableFacturas"))},buscarTipoDoc(t,s){var a=null;return t.forEach(c=>{s==c.id&&(a=c.name)}),a==null&&(a="No encontrado."),a},getTipoDocFacturas(){_.get("api/tipoDocFactura").then(t=>{this.tiposDocFactura=t.data}).catch(t=>console.log(t))},getFacturas(t){_.get(`api/facturas/${t}`).then(s=>{this.facturas=s.data,this.facturasAux=s.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableFacturas")}).catch(s=>console.log(s))},facturaDetalle(t){this.facturaPagos=t,this.showDetallesFactura=!0},checkTipoDocumento(t){this.tiposDocFactura.forEach(s=>{t==s.id&&(this.estadoTipoDoc=s.name)})},async deleteFactura(t){await this.$refs.confirmation.show({title:"Borrar Factura",message:`¿Está seguro/a que desea eliminar la factura con Rut '${t.rutProveedor}' y Folio '${t.folio}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/facturas/${t.id}`).then(a=>{this.toast.success("Factura eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},_C={class:"row mt-4 mx-4"},vC={class:"col-12"},$C={class:"card mb-4"},yC={class:"row pb-0 p-4"},CC={class:"col-4"},wC={class:"row"},kC={class:"col-5"},xC={class:"col-5"},PC={class:"col-auto pt-3"},EC=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),TC=[EC],DC={class:"col-8"},BC={class:"d-flex justify-content-end"},OC=["disabled"],MC=e("i",{class:"fa-solid fa-triangle-exclamation"},null,-1),SC=[MC],RC=e("i",{class:"fa-solid fa-file-invoice-dollar"},null,-1),AC=e("i",{class:"fa-solid fa-file-signature"},null,-1),FC=e("i",{class:"fa-solid fa-file-signature"},null,-1),zC=e("i",{class:"fa-solid fa-upload"},null,-1),UC=e("i",{class:"fa-solid fa-file-import"},null,-1),VC=e("i",{class:"fa-solid fa-rotate"},null,-1),LC=[VC],jC={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},NC={class:"container"},HC={class:"table-responsive p-0"},IC={class:"loader-sm"},GC={class:"table align-items-center mb-0",id:"MyTableFacturas"},qC=e("thead",null,[e("tr",{style:{color:"black"}},[e("th"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Empresa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Identificador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Neto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto IVA Recup."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto IVA no Recup."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Autorización Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Autorización Pago"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),KC=e("td",null,null,-1),XC={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},JC={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#1520A6"}},ZC={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},WC={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},YC={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},QC={key:4,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},ew={key:5,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},tw={key:6,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},sw={class:"text-sm mb-0"},ow={class:"text-sm mb-0"},aw={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},lw=["title"],iw={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},rw=["title"],nw={class:"text-sm mb-0"},dw={class:"text-sm mb-0"},cw={class:"text-sm mb-0"},uw={class:"text-sm mb-0"},hw={class:"text-sm mb-0"},mw={class:"text-sm mb-0"},pw={class:"text-sm mb-0"},fw={class:"align-middle text-end"},bw={class:"d-flex px-3 py-1 justify-content-center align-items-center"},gw=["onClick"],_w=e("i",{class:"fa-regular fa-eye"},null,-1),vw=[_w],$w=["href"],yw=e("i",{class:"fa-solid fa-file-invoice"},null,-1),Cw=[yw],ww={key:1,class:"btn btn-grey btn-xs"},kw=e("i",{class:"fa-solid fa-file-invoice"},null,-1),xw=[kw],Pw=["onClick"],Ew=e("i",{class:"fa fa-fw fa-trash"},null,-1),Tw=[Ew],Dw=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),Bw={class:"row"},Ow={key:0,class:"col-4 align-left text-center float-end"},Mw=e("i",{class:"fa fa-fw fa-lg fa-solid fa-download"},null,-1),Sw={key:1,class:"col-4 align-left text-center float-end"},Rw=e("i",{class:"fa fa-fw fa-lg fa-solid fa-download"},null,-1),Aw={key:2,class:"col-4 align-left text-center float-end"},Fw=e("i",{class:"fa fa-fw fa-lg fa-solid fa-download"},null,-1);function zw(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalselectcompany"),h=y("modaluploaddata"),b=y("modaluploadreferences"),v=y("modalpagar"),z=y("modalautorizargastos"),S=y("modalautorizarpagos"),F=y("modaldetalle");return l(),r("div",_C,[e("div",vC,[e("div",$C,[e("div",yC,[e("div",CC,[e("div",wC,[e("div",kC,[e("label",null,[p("Fecha Inicio Doc.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=R=>n.fechaInicio=R)},null,512),[[k,n.fechaInicio]])])]),e("div",xC,[e("label",null,[p("Fecha Término Doc.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=R=>n.fechaTermino=R)},null,512),[[k,n.fechaTermino]])])]),e("div",PC,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=R=>d.filtrarFecha())},TC)])])]),e("div",DC,[e("div",BC,[t.is("Contabilidad_Jefatura")&&t.can("Facturas_Crear")?(l(),r("button",{key:0,class:"btn btn-spacing btn-insist",title:"Enviar Recordatorio/Insistencia Masiva",disabled:n.buttonDisableInsistenciaGlobal,onClick:s[3]||(s[3]=R=>d.sendEmailsInsistenciaGlobal())},SC,8,OC)):m("",!0),p("   "),t.can("Facturas_Pagar")?(l(),r("a",{key:1,class:"btn btn-spacing btn-dark",id:"show-pagarModal",onClick:s[4]||(s[4]=R=>n.showPagarFacturas=!0)},[RC,p(" Pagar ")])):m("",!0),p("   "),t.can("Facturas_Autorizar_Pagos")?(l(),r("a",{key:2,class:"btn btn-spacing btn-closed",id:"show-autorizarPagosModal",onClick:s[5]||(s[5]=R=>n.showAutorizarPagosFacturas=!0)},[AC,p(" Autorizar Pagos")])):m("",!0),p("   "),t.can("Facturas_Autorizar_Gastos")?(l(),r("a",{key:3,class:"btn btn-spacing btn-closed",id:"show-autorizarGastosModal",onClick:s[6]||(s[6]=R=>n.showAutorizarGastosFacturas=!0)},[FC,p(" Autorizar Gastos")])):m("",!0),p("   "),t.is("Contabilidad_Jefatura")&&t.can("Facturas_Crear")?(l(),r("a",{key:4,class:"btn btn-spacing btn-alert",id:"show-uploadDataModal",onClick:s[7]||(s[7]=R=>n.showUploadDataFacturas=!0)},[zC,p(" Subir Datos")])):m("",!0),p("   "),t.is("Contabilidad_Jefatura")&&t.can("Facturas_Crear")?(l(),r("a",{key:5,class:"btn btn-spacing btn-alert",id:"show-uploadDataModal",onClick:s[8]||(s[8]=R=>n.showUploadReferencesFacturas=!0)},[UC,p(" Subir Referencias")])):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[9]||(s[9]=R=>d.recargarTabla("General"))},LC)])])]),e("div",jC,[e("div",NC,[e("div",HC,[f(e("div",IC,null,512),[[H,n.mostrarCarga]]),f(e("table",GC,[qC,e("tbody",null,[(l(!0),r(P,null,E(n.facturas,R=>(l(),r("tr",{key:R.id},[KC,e("td",null,[e("p",XC,i(R.id),1)]),e("td",null,[R.estado=="No Autorizable"?(l(),r("p",JC,i(R.estado),1)):m("",!0),R.estado=="Pendiente"?(l(),r("p",ZC,i(R.estado),1)):m("",!0),R.estado=="Gasto Rechazado"?(l(),r("p",WC,i(R.estado),1)):m("",!0),R.estado=="Pago Rechazado"?(l(),r("p",YC,i(R.estado),1)):m("",!0),R.estado=="Gasto Autorizado"?(l(),r("p",QC,i(R.estado),1)):m("",!0),R.estado=="Pago Autorizado"?(l(),r("p",ew,i(R.estado),1)):m("",!0),R.estado=="Pagado"?(l(),r("p",tw,i(R.estado),1)):m("",!0)]),e("td",null,[e("p",sw,i(R.empresa.razonSocial),1)]),e("td",null,[e("p",ow,i(R.identificador),1)]),e("td",null,[e("p",aw,i(t.formatoRut(R.rutProveedor)),1)]),e("td",null,[e("p",{title:R.razonSocial,class:"text-sm mb-0",style:{width:"250px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(R.razonSocial),9,lw)]),e("td",null,[e("p",iw,i(R.folio),1)]),e("td",null,[e("p",{title:d.buscarTipoDoc(n.tiposDocFactura,R.tipoDocumento),class:"text-sm mb-0",style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(R.tipoDocumento)+" - "+i(d.buscarTipoDoc(n.tiposDocFactura,R.tipoDocumento)),9,rw)]),e("td",null,[e("p",nw,i(t.thisDate(R.fechaDcto)),1)]),e("td",null,[e("p",dw,i(t.formatMoneyCLP(R.montoNeto)),1)]),e("td",null,[e("p",cw,i(t.formatMoneyCLP(R.montoIVARec)),1)]),e("td",null,[e("p",uw,i(t.formatMoneyCLP(R.montoIVANoRec)),1)]),e("td",null,[e("p",hw,i(t.formatMoneyCLP(R.montoTotal)),1)]),e("td",null,[e("p",mw,i(t.thisDate(R.fechaAuthGasto)),1)]),e("td",null,[e("p",pw,i(t.thisDate(R.fechaAuthPago)),1)]),e("td",fw,[e("div",bw,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:J=>d.facturaDetalle(R)},vw,8,gw),p("   "),R.url!=null?(l(),r("a",{key:0,href:R.url,target:"_blank",class:"btn btn-purple btn-xs"},Cw,8,$w)):(l(),r("a",ww,xw)),p("   "),t.is("Contabilidad_Jefatura")&&t.can("Facturas_Modificar")?(l(),r("a",{key:2,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:J=>d.deleteFactura(R)},Tw,8,Pw)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]]),Dw])])])]),e("div",Bw,[t.is("Contabilidad_Jefatura")?(l(),r("div",Ow,[e("a",{class:"btn btn-primary",onClick:s[10]||(s[10]=R=>d.handleAccionTipoEmpresa("facturasExportPropuesta"))},[Mw,p(" Exportar Propuesta")])])):m("",!0),t.is("Contabilidad_Jefatura")?(l(),r("div",Sw,[e("a",{class:"btn btn-primary",onClick:s[11]||(s[11]=R=>d.handleAccionTipoEmpresa("facturasExportGastoAutorizado"))},[Rw,p(" Exportar con Autorización de Pago Pendiente")])])):m("",!0),t.is("Contabilidad_Jefatura")?(l(),r("div",Aw,[e("a",{class:"btn btn-primary",onClick:s[12]||(s[12]=R=>d.handleAccionTipoEmpresa("facturasExport"))},[Fw,p(" Exportar TODO")])])):m("",!0)]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showSelectCompany?(l(),T(o,{key:0,accion:n.accionTipoEmpresa,onClose:s[13]||(s[13]=R=>n.showSelectCompany=!1)},null,8,["accion"])):m("",!0),n.showUploadDataFacturas?(l(),T(h,{key:1,onClose:s[14]||(s[14]=R=>n.showUploadDataFacturas=!1),onRecarga:s[15]||(s[15]=R=>d.recargarTabla("General"))})):m("",!0),n.showUploadReferencesFacturas?(l(),T(b,{key:2,onClose:s[16]||(s[16]=R=>n.showUploadReferencesFacturas=!1),onRecarga:s[17]||(s[17]=R=>d.recargarTabla("General"))})):m("",!0),n.showPagarFacturas?(l(),T(v,{key:3,onClose:s[18]||(s[18]=R=>n.showPagarFacturas=!1),onRecarga:s[19]||(s[19]=R=>d.recargarTabla("General"))})):m("",!0),n.showAutorizarGastosFacturas?(l(),T(z,{key:4,onClose:s[20]||(s[20]=R=>n.showAutorizarGastosFacturas=!1),onRecarga:s[21]||(s[21]=R=>d.recargarTabla("General"))})):m("",!0),n.showAutorizarPagosFacturas?(l(),T(S,{key:5,onClose:s[22]||(s[22]=R=>n.showAutorizarPagosFacturas=!1),onRecarga:s[23]||(s[23]=R=>d.recargarTabla("General"))})):m("",!0),n.showDetallesFactura?(l(),T(F,{key:6,factura:n.facturaPagos,onClose:s[24]||(s[24]=R=>n.showDetallesFactura=!1)},null,8,["factura"])):m("",!0)])])}const Uw=U(gC,[["render",zw]]),Vw="/build/assets/AmphoraLogo(Dark)-41a35a4a.png",Lw="/build/assets/ZiolLogo(Dark)-e6a8280a.png",jw="/build/assets/ScalpersLogo(Dark)-33ffe49e.png",Nw="/build/assets/TrinusLogo(Dark)-ce739550.png",Hw={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{mostrarCargaMoneda:!0,mostrarCargaClima:!0,mostrarClima:!1,CLPRates:null,interval:null,time:null,weather:null,coords:null,usuariosActivos:[]}},beforeDestroy(){clearInterval(this.interval)},created(){this.getUsuariosActivos(),this.interval=setInterval(()=>{options={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},this.time=Intl.DateTimeFormat(navigator.language,options).format()},1e3),this.getCLPRates()},mounted(){this.getWeather(),this.carouselInterval()},methods:{carouselInterval(){$(".carousel").carousel({interval:3e3})},getUsuariosActivos(){_.get("api/usuarios").then(t=>{this.usuariosActivos=t.data}).catch(t=>console.log(t))},getCLPRates(){setTimeout(()=>{_.get("api/currency").then(t=>{this.CLPRates=t.data,this.mostrarCargaMoneda=!1}).catch(t=>console.log(t))},100)},getWeather(){navigator.geolocation?(navigator.geolocation.getCurrentPosition(s),this.geo=!0):this.geo=!1;var t=[];function s(a){t=[a.coords.latitude,a.coords.longitude]}setTimeout(()=>{_.post("api/search",t).then(a=>{this.weather=a.data,this.mostrarCargaClima=!1}).catch(a=>console.log(a))},100)}}},Iw={class:"row"},Gw={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},qw={class:"card overflow-hidden",style:{height:"160px"}},Kw={class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://fondosmil.com/fondo/10790.jpg')","min-height":"160px"}},Xw={class:"row"},Jw={class:"col-12"},Zw={class:"numbers",style:{"min-height":"80px","text-align":"center","margin-top":"40px"}},Ww=e("p",{class:"text-sm mb-0 text-uppercase text-white fw-bold"},"Bienvenido",-1),Yw={style:{color:"#ffff"},class:"fw-bolder"},Qw={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},ek={class:"card overflow-hidden",style:{height:"160px"}},tk={class:"loader"},sk={class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://e0.pxfuel.com/wallpapers/453/87/desktop-wallpaper-financial-graph-on-technology-abstract-background-stock-market.jpg')"}},ok={class:"row"},ak=e("h6",{class:"fw-bolder text-white"},"Conversión desde $1.000 (CLP)",-1),lk={class:"col-3"},ik=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"USD",-1),rk={key:0},nk={key:1},dk=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"EURO",-1),ck={key:2},uk={key:3},hk={class:"col-3"},mk=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"JPY",-1),pk={key:0},fk={key:1},bk=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"CNY",-1),gk={key:2},_k={key:3},vk={class:"col-3"},$k=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"PEN",-1),yk={key:0},Ck={key:1},wk=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"ARS",-1),kk={key:2},xk={key:3},Pk={class:"col-3"},Ek=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"BTC",-1),Tk={key:0},Dk={key:1},Bk=e("p",{class:"text-sm mb-0 text-uppercase fw-bold"},"ETH",-1),Ok={key:2},Mk={key:3},Sk={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},Rk={class:"card overflow-hidden",style:{height:"160px"}},Ak={class:"loader"},Fk={id:"clima",class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://i0.wp.com/asiescancun.mx/wp-content/uploads/2021/08/como-estara-el-clima-hoy.jpg')"}},zk={key:0},Uk=e("h5",{class:"text-white",style:{"min-height":"80px","text-align":"center","margin-top":"35px"}},"No se pudo obtener la ubicación.",-1),Vk=[Uk],Lk={key:1,class:"row"},jk={class:"fw-bolder text-white"},Nk={class:"col-auto"},Hk={class:"text-sm mb-0 text-uppercase fw-bold",style:{"text-transform":"capitalize"}},Ik=e("br",null,null,-1),Gk={class:"text-sm mb-0 text-uppercase fw-bold"},qk={class:"text-sm mb-0 text-uppercase fw-bold"},Kk={class:"col-auto"},Xk={class:"text-sm mb-0 text-uppercase fw-bold"},Jk=e("br",null,null,-1),Zk={class:"text-sm mb-0 text-uppercase fw-bold"},Wk={class:"text-sm mb-0 text-uppercase fw-bold"},Yk={class:"col-auto"},Qk=e("br",null,null,-1),e4=e("p",null,null,-1),t4={class:"text-sm mb-0 text-uppercase fw-bold"},s4={class:"text-sm mb-0 text-uppercase fw-bold"},o4={key:2},a4=e("h5",{class:"text-white",style:{"min-height":"80px","text-align":"center","margin-top":"35px"}},"No se pudo obtener la ubicación.",-1),l4=[a4],i4={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},r4={class:"card overflow-hidden",style:{height:"160px"}},n4={class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://fondosmil.com/fondo/10790.jpg')","min-height":"160px"}},d4={class:"row"},c4={class:"col-12"},u4={class:"numbers",style:{"min-height":"80px","text-align":"center","margin-top":"40px"}},h4=e("p",{class:"text-sm mb-0 text-uppercase text-white fw-bold"},"Fecha y hora actual",-1),m4={style:{color:"#629ad1"},class:"fw-bolder"},p4=ve('<div class="row mt-4"><div class="col-lg-8"><div class="card z-index-2 p-0" style="min-height:200px;max-height:650px;"><div class="p-3 mt-3" style="overflow-y:auto;"><h5><span class="p-2 bg-warning shadow" style="background-color:#16151f !important;border-radius:8px;color:#57ca5e;"> Version Beta 0.3.0</span> - 12 de Junio, 2023</h5><ul class="mt-3"><li class="list-title-items">¡Lanzamiento Inicial!</li><ol style="list-style:inside;list-style-type:circle;"><li class="list-subtitle-items">Autorización de Facturas:</li><ol class="list-content-items"><li><a class="list-content-description-items">Se implementó el sistema de &#39;autorización de facturas&#39; a través del cual se podrá hacer seguimiento de las facturas, subir facturas, subir sus referencias y/o autorizar.</a></li></ol><li class="list-subtitle-items">Gestión de Fondos Fijos:</li><ol class="list-content-items"><li><a class="list-content-description-items">Se implementó el sistema de &#39;gestión de fondos fijos&#39; donde el usuario podrá registrar, ver y eliminar sus gastos asociados a fondos fijos.</a></li></ol><li class="list-subtitle-items">Gestión de Rendiciones:</li><ol class="list-content-items"><li><a class="list-content-description-items">Se implementó el sistema de &#39;gestión de rendiciones&#39; en el cual se pueden solicitar, ver y rendir sus rendiciones.</a></li></ol><li class="list-subtitle-items">Gestión de Robos:</li><ol class="list-content-items"><li><a class="list-content-description-items">Se implementó el sistema de &#39;gestión de robos&#39; en el cual se pueden informar y gestionar robos a las tiendas.</a></li></ol><li class="list-subtitle-items">Gestión Tienda:</li><ol class="list-content-items"><li><a class="list-content-description-items">Se implementó el sistema de &#39;gestión tienda&#39; a través del cual cada tienda podrá hacer una gran diversidad de acciones:</a></li><ol class="list-content-items"><li class="pb-2 fw-semibold">Solicitar Precios: <a class="list-content-description-items">Se permite solicitar un indicador de precios con su respectiva etiqueta (normal, especial y liquidación). </a></li><li class="pb-2 fw-semibold">Crear Vendedor: <a class="list-content-description-items">Se pueden ingresar los datos de nuevos vendedores para que puedan ingresar al sistema.</a></li><li class="pb-2 fw-semibold">Cierre de Cajas: <a class="list-content-description-items">Se pueden ingresar cierres de caja. Además se muestra una tabla con el listado de los cierres de cajas, donde se pueden eliminar o ver sus detalles. </a></li><li class="pb-2 fw-semibold">Notas de Crédito: <a class="list-content-description-items">Se permitira principalmente administrar notas de crédito, ya sea creando, eliminando o simplemente viendo su detalle.</a></li></ol></ol><li class="list-subtitle-items">Muchas más herramientas!</li><ol class="list-content-items"><li class="pb-2 fw-semibold">Dashboard: <a class="list-content-description-items">El Dashboard, o página de inicio, permite a los usuarios visualizar elementos importantes del sistema y de la vida cotidiana, así como los cambios que se van realizando en el sistema.</a></li><li class="pb-2 fw-semibold">Manuales de Sistema: <a class="list-content-description-items">Se agregó un apartado mediante el cual los usuarios podrán acceder a los manuales de los sistemas antes mencionados, en los cuales se detalla su funcionamiento y funcionalidades.</a></li><li class="pb-2 fw-semibold">Configuración de Perfil: <a class="list-content-description-items">Permite a los usuarios visualizar, almacenar y correguir su información relevante personal en la plataforma, así como visualizar su información empresarial.</a></li></ol><li class="list-subtitle-items">Otros cambios:</li><ol class="list-content-items"><li class="pb-2 fw-semibold">Administración: <a class="list-content-description-items">Se agregaron nuevas opciones sobre el manejo general del sistema.</a></li><li class="pb-2 fw-semibold">Mejoras visuales y de rendimiento en &#39;Administración General&#39;.</li></ol><li class="list-subtitle-items">Sistemas en Producción:</li><ol style="list-style:inside;list-style-type:circle;"><li class="list-content-description-items fw-bold">Gestión de Inventario Concesiones.</li><li class="list-content-description-items fw-bold">Gestión Tiendas: <a class="list-content-description-items">Conversión de Ventas.</a></li><li class="list-content-description-items fw-bold">Autorización de Facturas: <a class="list-content-description-items">Sistema de Pagos.</a></li><li class="list-content-description-items">Interconexión entre sistemas de Facturas y Fondos Fijos.</li></ol></ol></ul><br><hr size="4" class="separador"><h5><span class="p-2 bg-warning shadow" style="background-color:#16151f !important;border-radius:8px;color:#629ad1;"> Version Beta 0.2.0</span> - 27 de Marzo, 2023</h5><ul class="mt-3"><li class="list-title-items">Primeras Pruebas</li><ol style="list-style:inside;list-style-type:circle;"><a class="list-content-description-items">En esta primera etapa se logró avanzar en la construcción inicial de nuevos sistemas, además se pudieron sentar las bases de la rigurosidad, diseño y futuros sistemas a implementar.</a><li class="list-subtitle-items">Sistemas en Producción:</li><ol style="list-style:inside;list-style-type:circle;"><li class="list-content-description-items">Autorización de Facturas.</li><li class="list-content-description-items">Gestión de Fondos Fijos.</li><li class="list-content-description-items">Gestión de Rendiciones.</li><li class="list-content-description-items">Gestión de Robos.</li><li class="list-content-description-items">Gestión de Tiendas.</li><li class="list-content-description-items">Entre otras herramientas!</li></ol></ol></ul><br><hr size="4" class="separador"><h5><span class="p-2 bg-warning shadow" style="background-color:#16151f !important;border-radius:8px;color:#629ad1;"> Version Beta 0.1.0</span> - 20 de Febrero, 2023</h5><ul class="mt-3"><li class="list-title-items">Sistema Base</li><ol style="list-style:inside;list-style-type:circle;"><li class="list-subtitle-items">Creación del Proyecto.</li><li class="list-subtitle-items">Herramientas de Funcionamiento General:</li><ol class="list-content-items"><a class="list-content-description-items">Se implementaron herramientas que permiten sentar las bases del sistema, entre ellas:</a><li class="pb-2 fw-semibold">Dashboard: <a class="list-content-description-items">El Dashboard, o página de inicio, conforma la página principal del sistema, ya que será aquella que se mostrará al entrar al sistema. Se añadirán más funcionalidades más adelante.</a></li><li class="pb-2 fw-semibold">Administración: <a class="list-content-description-items">Tomando en cuenta a la administración del sistema se agregaron herramientas de manejo general y contacto, lo que además servirá para futuro testeo de funcionalidades.</a></li></ol></ol></ul></div></div></div><div class="col-lg-4"><div class="card card-carousel p-0" style="background-color:grey;min-height:200px;max-height:1000px;"><div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel"><div class="carousel-inner border-radius-lg"><div class="carousel-item active"><img class="img-not-draggable" style="height:auto;width:100%;" src="'+Vw+'"><div class="carousel-caption d-md-block bottom-0 text-start start-0 ms-5" style="right:5%;"><h5 class="text-white mb-1">AMPHORA</h5><p>There’s nothing I really wanted to do in life that I wasn’t able to get good at.</p></div></div><div class="carousel-item"><img class="img-not-draggable" style="height:auto;width:100%;" src="'+Lw+'"><div class="carousel-caption d-md-block bottom-0 text-start start-0 ms-5" style="right:5%;"><h5 class="text-white mb-1">ZIOL</h5><p>That’s my skill. I’m not really specifically talented at anything except for the ability to learn.</p></div></div><div class="carousel-item"><img class="img-not-draggable" style="height:auto;width:100%;" src="'+jw+'"><div class="carousel-caption d-md-block bottom-0 text-start start-0 ms-5" style="right:5%;"><h5 class="text-white mb-1">SCALPERS</h5><p>Don’t be afraid to be wrong because you can’t learn anything from a compliment.</p></div></div><div class="carousel-item"><img class="img-not-draggable" style="height:auto;width:100%;" src="'+Nw+'"><div class="carousel-caption d-md-block bottom-0 text-start start-0 ms-5" style="right:5%;"><h5 class="text-white mb-1">TRINUS</h5><p>There’s nothing I really wanted to do in life that I wasn’t able to get good at.</p></div></div></div><a class="btn carousel-control-prev w-5 me-3" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></a><a class="btn carousel-control-next w-5 me-3" data-bs-target="#carouselExampleCaptions" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></a></div></div></div></div><div class="row mt-4"></div>',2);function f4(t,s,a,c,n,d){return l(),r(P,null,[e("div",Iw,[e("div",Gw,[e("div",qw,[e("div",Kw,[e("div",Xw,[e("div",Jw,[e("div",Zw,[Ww,e("h5",Yw,i(t.userName),1)])])])])])]),e("div",Qw,[e("div",ek,[f(e("div",tk,null,512),[[H,n.mostrarCargaMoneda]]),e("div",sk,[e("div",ok,[ak,e("div",lk,[ik,n.CLPRates[0].USD!=null?(l(),r("div",rk,i(n.CLPRates[0].USD),1)):m("",!0),n.CLPRates[0].USD==null?(l(),r("div",nk,"---")):m("",!0),dk,n.CLPRates[0].EUR!=null?(l(),r("div",ck,i(n.CLPRates[0].EUR),1)):m("",!0),n.CLPRates[0].EUR==null?(l(),r("div",uk,"---")):m("",!0)]),e("div",hk,[mk,n.CLPRates[0].JPY!=null?(l(),r("div",pk,i(n.CLPRates[0].JPY),1)):m("",!0),n.CLPRates[0].JPY==null?(l(),r("div",fk,"---")):m("",!0),bk,n.CLPRates[0].CNY!=null?(l(),r("div",gk,i(n.CLPRates[0].CNY),1)):m("",!0),n.CLPRates[0].CNY==null?(l(),r("div",_k,"---")):m("",!0)]),e("div",vk,[$k,n.CLPRates[0].PEN!=null?(l(),r("div",yk,i(n.CLPRates[0].PEN),1)):m("",!0),n.CLPRates[0].PEN==null?(l(),r("div",Ck,"---")):m("",!0),wk,n.CLPRates[0].ARS!=null?(l(),r("div",kk,i(n.CLPRates[0].ARS),1)):m("",!0),n.CLPRates[0].ARS==null?(l(),r("div",xk,"---")):m("",!0)]),e("div",Pk,[Ek,n.CLPRates[1].BTC!=null?(l(),r("div",Tk,i(n.CLPRates[1].BTC),1)):m("",!0),n.CLPRates[1].BTC==null?(l(),r("div",Dk,"---")):m("",!0),Bk,n.CLPRates[1].ETH!=null?(l(),r("div",Ok,i(n.CLPRates[1].ETH),1)):m("",!0),n.CLPRates[1].ETH==null?(l(),r("div",Mk,"---")):m("",!0)])])])])]),e("div",Sk,[e("div",Rk,[f(e("div",Ak,null,512),[[H,n.mostrarCargaClima]]),e("div",Fk,[n.weather=="No encontrado"?(l(),r("div",zk,Vk)):t.geo?(l(),r("div",Lk,[e("h6",jk,i(n.weather[3])+", "+i(n.weather[4]),1),e("div",Nk,[e("p",Hk,i(n.weather[0]),1),Ik,e("p",Gk,"Temperatura: "+i(Math.round(n.weather[2]))+"°C",1),e("p",qk,"Sensación: "+i(Math.round(n.weather[5]))+"°C",1)]),e("div",Kk,[e("p",Xk,"Viento: "+i(n.weather[7])+" m/s",1),Jk,e("p",Zk,"Humedad: "+i(n.weather[6])+"%",1),e("p",Wk,"Nubosidad: "+i(n.weather[10])+"%",1)]),e("div",Yk,[Qk,e4,e("p",t4,"Lluvia: "+i(n.weather[8])+" mm/h",1),e("p",s4,"Nieve: "+i(n.weather[9])+" mm/h",1)])])):(l(),r("div",o4,l4))])])]),e("div",i4,[e("div",r4,[e("div",n4,[e("div",d4,[e("div",c4,[e("div",u4,[h4,e("h5",m4,i(n.time),1)])])])])])])]),p4],64)}const b4=U(Hw,[["render",f4]]),g4={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({vendedor:{rut:"",nombre:"",apellido1:"",apellido2:"",idEmpresa:"",enviarTPV:""},empresas:[],buttonText:"Crear Vendedor",buttonDisable:!1,errors:[]}),created(){this.getEmpresas()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},validateInput(){this.vendedor.rut=this.vendedor.rut.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&this.vendedor.rut.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},checkRut(){if(this.vendedor.rut!=""){this.vendedor.rut.replace(".","");var t=this.vendedor.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.vendedor.rut=s+"-"+a}},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},async crearVendedor(){this.errors=[];for(const c in this.vendedor)(this.vendedor[c]===""||this.vendedor[c]===0)&&this.errors.push(c);if(this.vendedor.rut!=""){var t=this.validarRut(this.vendedor.rut);t==!1&&this.errors.push("rut invalido")}var s=await _.post("api/verificarVendedor",this.vendedor).then(function(c){return c.data}.bind(this)).catch(function(c){console.log(c)});s>0&&this.errors.push("rutExistente");var a="";if(this.errors.length!=0&&(this.errors.forEach(c=>{c=="rut invalido"?a=a+`El rut ingresado es invalido
`:c=="idEmpresa"?a=a+`El campo Empresa es requerido
`:c=="enviarTPV"?a=a+`El campo Enviar a TPV es requerido
`:c=="rutExistente"?a=a+`El vendedor ingresado ya existe
`:c=="apellido1"?a=a+`El Apellido Paterno ya existe
`:c=="apellido2"?a=a+`El Apellido Materno ya existe
`:a=a+"El campo "+this.capitalizeFirstLetter(c)+` es requerido
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Vendedor",message:"¿Está seguro/a que desea crear un vendedor? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let n={rut:this.vendedor.rut,nombre:this.vendedor.nombre,apellido1:this.vendedor.apellido1,apellido2:this.vendedor.apellido2,idEmpresa:this.vendedor.idEmpresa,enviarTPV:this.vendedor.enviarTPV};_.post("api/vendedor",n).then(d=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Vendedor Creado con éxito!",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(d=>{d.response.status==422&&(this.errors=d.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},_4={name:"modal"},v4={class:"modal-mask"},$4={class:"modal-wrapper"},y4={class:"modal-container-xs"},C4={class:"modal-header fw-bold",style:{color:"#444444"}},w4={class:"modal-body"},k4={class:"form-group"},x4=e("label",{for:"name"},"Rut: ",-1),P4=e("br",null,null,-1),E4={class:"form-group"},T4=e("label",{for:"name"},"Nombres: ",-1),D4=e("br",null,null,-1),B4={class:"form-group"},O4=e("label",{for:"name"},"Apellido Paterno: ",-1),M4=e("br",null,null,-1),S4={class:"form-group"},R4=e("label",{for:"name"},"Apellido Materno: ",-1),A4=e("br",null,null,-1),F4={class:"form-group"},z4=e("label",{for:""},"Empresa: ",-1),U4=e("br",null,null,-1),V4=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),L4=["value"],j4={class:"form-group"},N4=e("label",{for:"name"},"Enviar a TPV: ",-1),H4=e("br",null,null,-1),I4=e("option",{disabled:"",value:""},"Seleccione una opcion",-1),G4=e("option",{value:!0},"Si",-1),q4=e("option",{value:!1},"No",-1),K4=[I4,G4,q4],X4={class:"modal-footer"},J4=["disabled"];function Z4(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",_4,[e("div",v4,[e("div",$4,[e("div",y4,[e("div",C4,[C(t.$slots,"header",{},()=>[p(" Nuevo Vendedor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",w4,[C(t.$slots,"body",{},()=>[e("div",k4,[x4,P4,f(e("input",{type:"text",class:"form-control",onKeyup:s[1]||(s[1]=o=>d.checkRut()),onInput:s[2]||(s[2]=(...o)=>d.validateInput&&d.validateInput(...o)),onKeypress:s[3]||(s[3]=(...o)=>d.isNumberOrDash&&d.isNumberOrDash(...o)),"onUpdate:modelValue":s[4]||(s[4]=o=>t.vendedor.rut=o)},null,544),[[k,t.vendedor.rut]])]),e("div",E4,[T4,D4,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.vendedor.nombre=o)},null,512),[[k,t.vendedor.nombre]])]),e("div",B4,[O4,M4,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.vendedor.apellido1=o)},null,512),[[k,t.vendedor.apellido1]])]),e("div",S4,[R4,A4,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.vendedor.apellido2=o)},null,512),[[k,t.vendedor.apellido2]])]),e("div",F4,[z4,U4,f(e("select",{class:"form-select","onUpdate:modelValue":s[8]||(s[8]=o=>t.vendedor.idEmpresa=o)},[V4,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.razonSocial),9,L4))),128))],512),[[A,t.vendedor.idEmpresa]])]),e("div",j4,[N4,H4,f(e("select",{class:"form-select","onUpdate:modelValue":s[9]||(s[9]=o=>t.vendedor.enviarTPV=o)},K4,512),[[A,t.vendedor.enviarTPV]])])])]),e("div",X4,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue float-end",onClick:s[10]||(s[10]=o=>d.crearVendedor()),disabled:t.buttonDisable},i(t.buttonText),9,J4)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const W4=U(g4,[["render",Z4]]),Y4={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({subidaExistosa:!1,selectedTipoMeta:null,tiposMetas:[{id:1,nombre:"Mensual Tienda"},{id:2,nombre:"Diarias Tienda"},{id:3,nombre:"Colaborador"}],plantilla:{url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},saveMetas(){if(this.subidaExistosa=!1,this.selectedTipoMeta!=null)if(document.querySelector("#xls_file").files.item(0)!=null){this.documentXLS=document.getElementById("xls_file").files.item(0).name;var t=function(){var c={};this.parseExcel=function(n){var d={},u=new FileReader;u.onload=function(g){var o=g.target.result,h=XLSX.read(o,{type:"binary"}),b={};h.SheetNames.forEach(function(v){var z=XLSX.utils.sheet_to_row_object_array(h.Sheets[v]),S=JSON.stringify(z);S.length&&(b=JSON.parse(S))}),d=b},u.onerror=function(g){console.log(g)},u.readAsBinaryString(n),setTimeout(()=>{c=d},100)},setTimeout(()=>{this.data=c},200)},s=document.querySelector("#xls_file"),a=new t;a.parseExcel(s.files[0]),setTimeout(()=>{this.selectedTipoMeta.nombre=="Mensual Tienda"&&(this.subidaExistosa=!0,_.post("api/metasMensualesImport",a.data).then(c=>{c.data.tiendasInexistentes!=null&&this.toast.warning(`Las siguientes tiendas ingresadas en el documento no existen: ${c.data.tiendasInexistentes}`,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.toast.success("Referencias subidas con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Ocurrió un error!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})),this.selectedTipoMeta.nombre=="Diarias Tienda"&&(this.subidaExistosa=!0,_.post("api/metasDiariasImport",a.data).then(c=>{c.data.tiendasInexistentes!=null&&this.toast.warning(`Las siguientes tiendas ingresadas en el documento no existen: ${c.data.tiendasInexistentes}`,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.toast.success("Referencias subidas con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Ocurrió un error!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})),this.selectedTipoMeta.nombre=="Colaborador"&&(this.subidaExistosa=!0,_.post("api/metasColaboradorImport",a.data).then(c=>{c.data.tiendasInexistentes!=null&&this.toast.warning(`Las siguientes tiendas ingresadas en el documento no existen: ${c.data.tiendasInexistentes}`,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),c.data.colaboradoresInexistentes!=null&&this.toast.warning(`Los siguientes colaboradores ingresados en el documento no existen: ${c.data.colaboradoresInexistentes}`,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.toast.success("Referencias subidas con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Ocurrió un error!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))}))},300)}else this.toast.warning("Seleccione un archivo.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else this.toast.warning("Seleccione un tipo de meta.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}}},Q4={name:"modal"},ex={class:"modal-mask"},tx={class:"modal-wrapper"},sx={class:"modal-container-xl"},ox={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},ax={class:"modal-body",style:{height:"600px"}},lx={class:"text-center",style:{position:"relative",top:"10%"}},ix=e("label",{style:{"font-size":"16px"},for:"xls_file"},"Documento (.XLS o . XLSX) con las Metas correspondientes:",-1),rx=e("br",null,null,-1),nx={style:{color:"#b80f0a","font-size":"11px","font-weight":"normal"},for:"xls_file"},dx=e("label",{style:{color:"#b80f0a"}},"SOLAMENTE",-1),cx=["href"],ux=e("br",null,null,-1),hx=e("option",{selected:"",disabled:"",value:null},"Seleccione tipo de meta:",-1),mx=["value"],px=e("br",null,null,-1),fx=e("br",null,null,-1),bx={enctype:"multipart/form-data"},gx=e("input",{style:{width:"500px","margin-bottom":"15px","font-size":"12px"},type:"file",name:"xls_file",id:"xls_file",accept:".xls, .xlsx",class:"form-control"},null,-1),_x=e("br",null,null,-1),vx={key:0},$x={style:{"font-size":"12px","font-weight":"normal"}},yx=e("br",null,null,-1),Cx=e("div",{class:"modal-footer"},null,-1);function wx(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Q4,[e("div",ex,[e("div",tx,[e("div",sx,[e("div",ox,[C(t.$slots,"header",{},()=>[p("Subir Archivo:")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",ax,[C(t.$slots,"body",{},()=>[e("div",lx,[ix,rx,e("label",nx,[p("El sistema está diseñado para aceptar"),dx,p(" el archivo con un formato determinado para este propósito. Descargue "),t.plantilla!=null?(l(),r("a",{key:0,href:t.plantilla.url,target:"_blank",class:"fw-bolder",style:{color:"#b80f0a"}},"aquí",8,cx)):m("",!0),p(" la plantilla.")]),ux,f(e("select",{class:"form-select-fit",style:{top:"15%"},"onUpdate:modelValue":s[1]||(s[1]=o=>t.selectedTipoMeta=o)},[hx,(l(!0),r(P,null,E(t.tiposMetas,o=>(l(),r("option",{key:o.id,value:o},[e("label",null,i(o.nombre),1)],8,mx))),128))],512),[[A,t.selectedTipoMeta]]),p(),px,fx,e("form",bx,[gx,_x,e("a",{class:"btn btn-danger btn-sm",onClick:s[2]||(s[2]=o=>d.saveMetas())},"Subir metas")]),t.subidaExistosa==!0?(l(),r("label",vx,[p("Archivo subido:"),e("label",$x,i(t.documentXLS),1),p(),yx])):m("",!0)])])]),Cx,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const kx=U(Y4,[["render",wx]]);pe.locale("es");const xx={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({conversionVentaMensual:null,conversionVentaDiaria:null,conversionVentaColaboradores:null,mostrarCargaMensual:!0,mostrarTablaMensual:!1,mostrarCargaDiaria:!0,mostrarTablaDiaria:!1,mostrarCargaColaboradores:!0,mostrarTablaColaboradores:!1,fechaInicio:pe().format("YYYY-MM-DD"),fechaTermino:pe().format("YYYY-MM-DD"),idTienda:null,verificadoTienda:!1}),created(){this.getTiendas(),this.getConversionMensuales(),this.getConversionDiarias(),this.getConversionColaboradores()},methods:{getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data,this.tiendas.forEach(s=>{s.idUsuario==this.userID&&(this.idTienda=s.id,this.verificadoTienda=!0)})}).catch(t=>console.log(t))},getConversionMensuales(){let t={idTienda:this.idTienda,mesInicio:pe(this.fechaInicio).format("MM"),añoInicio:pe(this.fechaInicio).format("YYYY"),mesTermino:pe(this.fechaTermino).format("MM"),añoTermino:pe(this.fechaTermino).format("YYYY")};_.post("api/metasTienda/getMetasMensualesTiendasRango",t).then(s=>{console.log(s.data),this.conversionVentaMensual=s.data,this.mostrarCargaMensual=!1,this.mostrarTablaMensual=!0}).catch(s=>console.log(s))},getConversionDiarias(){let t={diaInicio:pe(this.fechaInicio).format("DD"),mesInicio:pe(this.fechaInicio).format("MM"),añoInicio:pe(this.fechaInicio).format("YYYY"),diaTermino:pe(this.fechaTermino).format("DD"),mesTermino:pe(this.fechaTermino).format("MM"),añoTermino:pe(this.fechaTermino).format("YYYY")};_.post("api/metasDiarias/getMetasDiariasTiendasRango",t).then(s=>{console.log(s.data),this.conversionVentaDiaria=s.data,this.mostrarCargaDiaria=!1,this.mostrarTablaDiaria=!0}).catch(s=>console.log(s))},getConversionColaboradores(){let t={idTienda:this.idTienda,mesInicio:pe(this.fechaInicio).format("MM"),añoInicio:pe(this.fechaInicio).format("YYYY"),mesTermino:pe(this.fechaTermino).format("MM"),añoTermino:pe(this.fechaTermino).format("YYYY")};_.post("api/metasColaborador/getMetasColaboradoresTiendasRango",t).then(s=>{console.log(s.data),this.conversionVentaColaboradores=s.data,this.mostrarCargaColaboradores=!1,this.mostrarTablaColaboradores=!0}).catch(s=>console.log(s))},recargarTabla(){this.mostrarCargaMensual=!0,this.mostrarCargaDiaria=!0,this.mostrarCargaColaboradores=!0,this.getConversionMensuales(),this.getConversionDiarias(),this.getConversionColaboradores()},aplicarFiltro(){this.recargarTabla()}}},Px={name:"modal"},Ex={class:"modal-mask"},Tx={class:"modal-wrapper"},Dx={class:"modal-container-xl"},Bx={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},Ox=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Conversión Ventas:",-1),Mx={class:"modal-body"},Sx=e("div",{class:"text-uppercase"},"Filtros:",-1),Rx={class:"row"},Ax={class:"col-3"},Fx={class:"col-3"},zx={class:"col-1 pt-3"},Ux=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),Vx=[Ux],Lx=e("br",null,null,-1),jx=e("hr",{size:"4",class:"separador"},null,-1),Nx=e("p",{class:"text-uppercase fw-bold"},"Detalle Mensual:",-1),Hx={class:"table-responsive p-0"},Ix={class:"loader-sm"},Gx={class:"table align-items-center mb-0",id:"tableDesign"},qx=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cumplimiento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tasa Conversión"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Entradas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Documentos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Total Artículos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Art. por Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Promedio por Doc.")])],-1),Kx={key:0},Xx=e("td",{colspan:"10"}," No hay información disponible. ",-1),Jx=[Xx],Zx={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Wx={class:"text-sm mb-0"},Yx={class:"text-sm mb-0"},Qx={class:"text-sm mb-0"},e5={class:"text-sm mb-0"},t5={class:"text-sm mb-0"},s5={class:"text-sm mb-0"},o5={class:"text-sm mb-0"},a5={class:"text-sm mb-0"},l5={class:"text-sm mb-0"},i5=e("br",null,null,-1),r5=e("hr",{size:"4",class:"separador"},null,-1),n5={key:0},d5=e("p",{class:"text-uppercase fw-bold"},"Detalle Mensual por Colaborador:",-1),c5={class:"table-responsive p-0"},u5={class:"loader-sm"},h5={class:"table align-items-center mb-0",id:"tableDesign"},m5=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Dia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cumplimiento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tasa Conversión"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Entradas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Documentos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Total Artículos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Art. por Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Promedio por Doc.")])],-1),p5={key:0},f5=e("td",{colspan:"11"}," No hay información disponible. ",-1),b5=[f5],g5={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},_5={class:"text-sm mb-0"},v5={class:"text-sm mb-0"},$5={class:"text-sm mb-0"},y5={class:"text-sm mb-0"},C5={class:"text-sm mb-0"},w5={class:"text-sm mb-0"},k5={class:"text-sm mb-0"},x5={class:"text-sm mb-0"},P5={class:"text-sm mb-0"},E5={key:1},T5={class:"text-uppercase fw-bold"},D5={class:"table-responsive p-0"},B5={class:"loader-sm"},O5={class:"table align-items-center mb-0",id:"tableDesign"},M5=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Dia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cumplimiento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tasa Conversión"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Entradas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Documentos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Total Artículos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Art. por Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Promedio por Doc.")])],-1),S5={key:0},R5=e("td",{colspan:"11"}," No hay información disponible. ",-1),A5=[R5],F5={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},z5={class:"text-sm mb-0"},U5={class:"text-sm mb-0"},V5={class:"text-sm mb-0"},L5={class:"text-sm mb-0"},j5={class:"text-sm mb-0"},N5={class:"text-sm mb-0"},H5={class:"text-sm mb-0"},I5={class:"text-sm mb-0"},G5={class:"text-sm mb-0"};function q5(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Px,[e("div",Ex,[e("div",Tx,[e("div",Dx,[e("div",Bx,[C(t.$slots,"header",{},()=>[Ox]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Mx,[C(t.$slots,"body",{},()=>[Sx,e("div",Rx,[e("div",Ax,[e("label",null,[p("Fecha Inicio: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[1]||(s[1]=o=>t.fechaInicio=o)},null,512),[[k,t.fechaInicio]])])]),e("div",Fx,[e("label",null,[p("Fecha Término: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[2]||(s[2]=o=>t.fechaTermino=o)},null,512),[[k,t.fechaTermino]])])]),e("div",zx,[e("a",{class:"btn btn-search-blue",onClick:s[3]||(s[3]=o=>d.aplicarFiltro())},Vx)])]),Lx,jx,Nx,e("div",Hx,[f(e("div",Ix,null,512),[[H,t.mostrarCargaMensual]]),f(e("table",Gx,[qx,e("tbody",null,[p(i(t.conversionVentaMensual)+" ",1),t.conversionVentaMensual==0?(l(),r("tr",Kx,Jx)):(l(!0),r(P,{key:1},E(t.conversionVentaMensual,o=>(l(),r("tr",{key:o},[e("td",null,[e("p",Zx,i(t.conversionVentaMensual.idTienda),1)]),e("td",null,[e("p",Wx,i(t.conversionVentaMensual.meta),1)]),e("td",null,[e("p",Yx,i(t.conversionVentaMensual.venta),1)]),e("td",null,[e("p",Qx,i(t.conversionVentaMensual.cumplimiento),1)]),e("td",null,[e("p",e5,i(t.conversionVentaMensual.conversion),1)]),e("td",null,[e("p",t5,i(t.conversionVentaMensual.entradas),1)]),e("td",null,[e("p",s5,i(t.conversionVentaMensual.documentos),1)]),e("td",null,[e("p",o5,i(t.conversionVentaMensual.articulos),1)]),e("td",null,[e("p",a5,i(t.conversionVentaMensual.articulosPorDoc),1)]),e("td",null,[e("p",l5,i(t.conversionVentaMensual.promedioDoc),1)])]))),128))])],512),[[H,t.mostrarTablaMensual]])]),i5,r5,(l(),r("div",n5,[d5,e("div",c5,[p(i(t.conversionVentaColaboradores)+" ",1),f(e("div",u5,null,512),[[H,t.mostrarCargaDiaria]]),f(e("table",h5,[m5,e("tbody",null,[t.conversionVentaDiaria==0?(l(),r("tr",p5,b5)):m("",!0),(l(!0),r(P,null,E(t.conversionVentaDiaria,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",g5,i(t.conversionVentaMensual.idColaborador),1)]),e("td",null,[e("p",_5,i(t.conversionVenta.metaDiaria),1)]),e("td",null,[e("p",v5,i(t.conversionVenta.venta),1)]),e("td",null,[e("p",$5,i(t.conversionVenta.cumplimiento),1)]),e("td",null,[e("p",y5,i(t.conversionVenta.conversion),1)]),e("td",null,[e("p",C5,i(t.conversionVenta.entradas),1)]),e("td",null,[e("p",w5,i(t.conversionVenta.documentos),1)]),e("td",null,[e("p",k5,i(t.conversionVenta.articulos),1)]),e("td",null,[e("p",x5,i(t.conversionVenta.articulosPorDoc),1)]),e("td",null,[e("p",P5,i(t.conversionVenta.promedioDoc),1)])]))),128))])],512),[[H,t.mostrarTablaDiaria]])])])),(l(),r("div",E5,[e("p",T5,"Detalle Diario por Tienda, "+i(t.todayDate)+":",1),e("div",D5,[p(i(t.conversionVentaDiaria)+" ",1),f(e("div",B5,null,512),[[H,t.mostrarCargaDiaria]]),f(e("table",O5,[M5,e("tbody",null,[t.conversionVentaColaboradores==0?(l(),r("tr",S5,A5)):m("",!0),(l(!0),r(P,null,E(t.conversionVentaColaboradores,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",F5,i(t.conversionVentaMensual.idTienda),1)]),e("td",null,[e("p",z5,i(o.metaDiaria),1)]),e("td",null,[e("p",U5,i(o.venta),1)]),e("td",null,[e("p",V5,i(o.cumplimiento),1)]),e("td",null,[e("p",L5,i(o.conversion),1)]),e("td",null,[e("p",j5,i(o.entradas),1)]),e("td",null,[e("p",N5,i(o.documentos),1)]),e("td",null,[e("p",H5,i(o.articulos),1)]),e("td",null,[e("p",I5,i(o.articulosPorDoc),1)]),e("td",null,[e("p",G5,i(o.promedioDoc),1)])]))),128))])],512),[[H,t.mostrarTablaDiaria]])])]))])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const K5=U(xx,[["render",q5]]),X5={components:{modalCrearVendedor:W4,conversionVentasModal:K5,modalsubirmetas:kx},mixins:[V],data:()=>({showConversionVentas:null,showCrearVendedor:null,showSubirMetas:null}),created(){},methods:{}},J5={class:"row mt-4 mx-4"},Z5={class:"col-12"},W5={class:"card mb-4",style:{"padding-top":"20px"}},Y5={class:"card-body px-0 pt-0 pb-2",style:{"text-align":"center",margin:"auto","align-items":"center","min-height":"400px"}},Q5={class:"m-auto text-center"},e3=e("h4",null,"Menu Gestion Tienda",-1),t3={class:"row mb-3"},s3={key:0,class:"col-auto"},o3=e("a",{class:"btn btn-dark-grey",href:"/solicitar-precios",style:{width:"140px",height:"140px"}},[p(" Solicitar Precios "),e("p",null,[e("i",{class:"fa-solid fa-hand-holding-dollar fa-3x"})])],-1),a3=[o3],l3={key:1,class:"col-auto"},i3=e("p",null,[e("i",{class:"fa-solid fa-person-arrow-up-from-line fa-3x"})],-1),r3={key:2,class:"col-auto"},n3=e("a",{class:"btn btn-dark-grey",href:"/cierre-cajas",style:{width:"140px",height:"140px"}},[p(" Cierre de Cajas "),e("p"),e("p",null,[e("i",{class:"fa-solid fa-store-slash fa-3x"})])],-1),d3=[n3],c3={key:3,class:"col-auto"},u3=e("a",{class:"btn btn-dark-grey",href:"/ncv",style:{width:"140px",height:"140px"}},[p(" NCV "),e("p"),e("p",null,[e("i",{class:"fa-regular fa-clipboard fa-3x"})])],-1),h3=[u3],m3={key:4,class:"col-auto"},p3=e("a",{class:"btn btn-dark-grey",href:"/ventasVendedor",style:{width:"140px",height:"140px"}},[p(" Ventas por Vendedor "),e("p"),e("p",null,[e("i",{class:"fa-sharp fa-solid fa-user fa-2x"})])],-1),f3=[p3],b3={key:0,class:"row mt-3"},g3=e("h4",null,"Administrador",-1),_3={class:"row mb-3"},v3={key:0,class:"col-auto",style:{"text-align":"center",margin:"auto","align-items":"center"}},$3=e("p",null,[e("i",{class:"fa-solid fa-user-plus fa-3x"})],-1),y3={key:1,class:"col-auto",style:{"text-align":"center",margin:"auto","align-items":"center"}},C3=e("p",null,[e("i",{class:"fa-solid fa-flag-checkered fa-3x"})],-1);function w3(t,s,a,c,n,d){const u=y("modalCrearVendedor"),g=y("modalsubirmetas"),o=y("conversionVentasModal");return l(),r("div",J5,[e("div",Z5,[e("div",W5,[e("div",Y5,[e("div",Q5,[e3,e("div",t3,[t.can("Gestión Tienda_Solicitar Precios")?(l(),r("div",s3,a3)):m("",!0),t.can("Gestión Tienda_Conversion Ventas")?(l(),r("div",l3,[e("a",{class:"btn btn-dark-grey",onClick:s[0]||(s[0]=h=>t.showConversionVentas=!0),style:{width:"140px",height:"140px"}},[p(" Conversión de Ventas "),i3])])):m("",!0),t.can("Gestión Tienda_Cierre Cajas")?(l(),r("div",r3,d3)):m("",!0),t.can("Gestión Tienda_NCV")?(l(),r("div",c3,h3)):m("",!0),t.can("Gestión Tienda_Ventas por Vendedor")?(l(),r("div",m3,f3)):m("",!0)]),t.is("Administrador")?(l(),r("div",b3,[g3,e("div",_3,[t.can("Gestión Tienda_Crear Vendedor")?(l(),r("div",v3,[e("a",{class:"btn btn-insist",onClick:s[1]||(s[1]=h=>t.showCrearVendedor=!0),style:{width:"140px",height:"140px"}},[p(" Crear Vendedor "),$3])])):m("",!0),t.can("Gestión Tienda_Subir Metas")?(l(),r("div",y3,[e("a",{class:"btn btn-insist",onClick:s[2]||(s[2]=h=>t.showSubirMetas=!0),style:{width:"140px",height:"140px"}},[p(" Subir Metas "),C3])])):m("",!0)])])):m("",!0)])])]),t.showCrearVendedor?(l(),T(u,{key:0,onClose:s[3]||(s[3]=h=>t.showCrearVendedor=!1)})):m("",!0),t.showSubirMetas?(l(),T(g,{key:1,onClose:s[4]||(s[4]=h=>t.showSubirMetas=!1)})):m("",!0),t.showConversionVentas?(l(),T(o,{key:2,onClose:s[5]||(s[5]=h=>t.showConversionVentas=!1)})):m("",!0)])])}const k3=U(X5,[["render",w3]]),x3={components:{modalconfirmacion:j,modalalerta:N,Multiselect:Ye},mixins:[V],data:()=>({cierreCaja:{idTienda:null,diaCierre:null,imagenDeposito:null,imagenVoucher:null,responsableCierre:null,observacionCierre:null,tarjeta:0,transferencia:0,efectivo:0,notaCredito:0,fondoFijo:0,idRefFondoFijo:null,cheque:0,cornershop:0,rappi:0,personal:0,marinaOnline:0,vale:0,deposito:null,fechaDeposito:null,observacionDeposito:null},options2:[{id:"1",value:"captainamerica",name:"Captain America"},{id:"2",value:"spiderman",name:"Spiderman"},{id:"3",value:"ironman",name:"Iron Man"},{id:"4",value:"wanda",name:"Wanda"},{id:"5",value:"loki",name:"Loki"},{id:"6",value:"thorodinson",name:"Thor Odinson"},{id:"7",value:"hawkeye",name:"Hawkeye"},{id:"8",value:"natasharomanov",name:"Natasha Romanov"}],referenciasFondosFijos:[],fofis:[],depositoEstado:null,tiendas:[],fotoMiniaturaDeposito:"",fotoMiniaturaVoucher:"",buttonText:"Ingresar Cierre de Caja",buttonDisable:!1,fondosFijos:[],errors:[],verificadoTienda:!1}),props:{},created(){this.getTiendas(),this.getCierresCajas(),this.getFondosFijos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getCierresCajas(){_.get("api/cierreCajas").then(t=>{this.cierresCajas=t.data}).catch(t=>console.log(t))},getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data,this.tiendas.forEach(s=>{s.idUsuario==this.userID&&(this.verificadoTienda=!0,this.cierreCaja.idTienda=s.id)})}).catch(t=>console.log(t))},getFondosFijos(){_.get("api/fofis").then(t=>{var s=t.data.filter(a=>a.estado=="Aprobado");this.verificadoTienda==!0?s.forEach(a=>{a.idUsuario==this.userID&&this.fondosFijos.push(a)}):this.fondosFijos=s,this.fondosFijos.forEach(a=>{this.fofis.push({id:a.id,montoTotal:a.montoTotal})})}).catch(t=>console.log(t))},async ingresarCierreCajas(){var t=this.formatMoneyCLP(this.cierreCaja.efectivo-this.cierreCaja.fondoFijo);if(this.depositoEstado==!0){if(this.cierreCaja.deposito>this.cierreCaja.efectivo-this.cierreCaja.fondoFijo)this.toast.error(`El monto no puede ser superior al monto esperado (${t})!`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(this.cierreCaja.deposito<this.cierreCaja.efectivo-this.cierreCaja.fondoFijo&&this.toast.warning(`El monto ingresado es menor al monto que debiese depositar (${t})!`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),await this.$refs.confirmation.show({title:"Ingresar Cierre Cajas",message:"¿Está seguro/a que desea ingresar el cierre de caja? Esta acción no puede ser desecha.",okButton:"Ingresar",cancelButton:"Volver"})){var s=null;this.cierreCaja.fechaDeposito!=null&&(s=this.distanceFromOther(this.cierreCaja.diaCierre,this.cierreCaja.fechaDeposito));let c={idTienda:this.cierreCaja.idTienda,diaCierre:this.cierreCaja.diaCierre,imagenVoucher:this.cierreCaja.imagenVoucher,responsableCierre:this.cierreCaja.responsableCierre,observacionCierre:this.cierreCaja.observacionCierre,tarjeta:this.cierreCaja.tarjeta,transferencia:this.cierreCaja.transferencia,efectivo:this.cierreCaja.efectivo,notaCredito:this.cierreCaja.notaCredito,idRefFondoFijo:this.cierreCaja.idRefFondoFijo,fondoFijo:this.cierreCaja.fondoFijo,cheque:this.cierreCaja.cheque,cornershop:this.cierreCaja.cornershop,rappi:this.cierreCaja.rappi,personal:this.cierreCaja.personal,marinaOnline:this.cierreCaja.marinaOnline,vale:this.cierreCaja.vale,deposito:this.cierreCaja.deposito,imagenDeposito:this.cierreCaja.imagenDeposito,fechaDeposito:this.cierreCaja.fechaDeposito,observacionDeposito:this.cierreCaja.observacionDeposito,diferenciaDias:s,control:this.cierreCaja.efectivo-this.cierreCaja.fondoFijo-this.cierreCaja.deposito,ventaBruta:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia+this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale,ventaTotal:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia-this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale,depositoEstado:this.depositoEstado};_.post("api/cierreCajas",c,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{if(this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Cierre de Caja ingresada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cierreCaja.idRefFondoFijo){let d={fondoFijoID:this.cierreCaja.idRefFondoFijo};_.post("api/fofis/sendEmailEstadoActualizado",d).then(u=>{this.toast.success("Correo de actualización de Fondo Fijo enviado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(u=>{console.log(u)})}setTimeout(()=>{location.reload()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors)})}}else if(await this.$refs.confirmation.show({title:"Ingresar Cierre Cajas",message:"¿Está seguro/a que desea ingresar el cierre de caja? Esta acción no puede ser desecha.",okButton:"Ingresar",cancelButton:"Volver"})){var s=null;this.cierreCaja.fechaDeposito!=null&&(s=this.distanceFromOther(this.cierreCaja.diaCierre,this.cierreCaja.fechaDeposito));let n={idTienda:this.cierreCaja.idTienda,diaCierre:this.cierreCaja.diaCierre,imagenVoucher:this.cierreCaja.imagenVoucher,responsableCierre:this.cierreCaja.responsableCierre,observacionCierre:this.cierreCaja.observacionCierre,tarjeta:this.cierreCaja.tarjeta,transferencia:this.cierreCaja.transferencia,efectivo:this.cierreCaja.efectivo,notaCredito:this.cierreCaja.notaCredito,idRefFondoFijo:this.cierreCaja.idRefFondoFijo,fondoFijo:this.cierreCaja.fondoFijo,cheque:this.cierreCaja.cheque,cornershop:this.cierreCaja.cornershop,rappi:this.cierreCaja.rappi,personal:this.cierreCaja.personal,marinaOnline:this.cierreCaja.marinaOnline,vale:this.cierreCaja.vale,deposito:this.cierreCaja.deposito,imagenDeposito:this.cierreCaja.imagenDeposito,fechaDeposito:this.cierreCaja.fechaDeposito,observacionDeposito:this.cierreCaja.observacionDeposito,diferenciaDias:s,control:this.cierreCaja.efectivo-this.cierreCaja.fondoFijo-this.cierreCaja.deposito,ventaBruta:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia+this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale,ventaTotal:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia-this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale,depositoEstado:this.depositoEstado};_.post("api/cierreCajas",n,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{if(this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Cierre de Caja ingresada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cierreCaja.idRefFondoFijo){let u={fondoFijoID:this.cierreCaja.idRefFondoFijo};_.post("api/fofis/sendEmailEstadoActualizado",u).then(g=>{this.toast.success("Correo de actualización de Fondo Fijo enviado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(g=>{console.log(g)})}setTimeout(()=>{this.cerrarModal()},1500)}).catch(d=>{d.response.status==422&&(this.errors=d.response.data.errors)})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.cierreCaja.imagenVoucher=t.target.files[0];let s=[];await this.compressImages(this.cierreCaja.imagenVoucher,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.cierreCaja.imagenVoucher=a,this.chargeImage(this.cierreCaja.imagenVoucher)},async getImage2(t){this.cierreCaja.imagenDeposito=t.target.files[0];let s=[];await this.compressImages(this.cierreCaja.imagenDeposito,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.cierreCaja.imagenDeposito=a,this.chargeImage2(this.cierreCaja.imagenDeposito)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniaturaVoucher=a.target.result},s.readAsDataURL(t)},chargeImage2(t){let s=new FileReader;s.onload=a=>{this.fotoMiniaturaDeposito=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniaturaVoucher},imagen2(){return this.fotoMiniaturaDeposito}}},P3={name:"modal"},E3={class:"modal-mask"},T3={class:"modal-wrapper"},D3={class:"modal-container"},B3={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},O3=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Ingresar Cierre de Caja: ",-1),M3={class:"modal-body"},S3={class:"form-group"},R3={class:"row"},A3=e("div",{class:"text-uppercase"},"Información Básica:",-1),F3={class:"col-4"},z3={class:"form-group"},U3=e("label",{for:"tienda"},"Tienda: ",-1),V3=["disabled"],L3=e("option",{disabled:"",value:""},"Seleccione una tienda",-1),j3=["value"],N3={key:0,class:"error"},H3={class:"col-2"},I3={class:"form-group"},G3=e("label",{for:"diaCierre"},"Fecha Día Cierre: ",-1),q3={key:0,class:"error"},K3={class:"col-4"},X3={class:"form-group"},J3=e("label",{for:"imagenVoucher"},"Imagen Voucher: ",-1),Z3={key:0,class:"error"},W3={key:0,class:"col-2"},Y3=["src"],Q3={class:"col-6"},eP={class:"form-group"},tP=e("label",{for:"responsableCierre"},"Responsable Cierre: ",-1),sP={key:0,class:"error"},oP={class:"col-6"},aP={class:"form-group"},lP=e("label",{for:"observacionCierre"},"Observación Cierre: ",-1),iP=e("hr",{size:"4",class:"separador"},null,-1),rP=e("div",{class:"text-uppercase"},"Detalle de Ventas:",-1),nP={class:"col-3"},dP={class:"form-group"},cP=e("label",{for:"tarjeta"},"Tarjeta: ",-1),uP={class:"col-3"},hP={class:"form-group"},mP=e("label",{for:"transferencia"},"Transferencia: ",-1),pP={class:"col-3"},fP={class:"form-group"},bP=e("label",{for:"efectivo"},"Efectivo: ",-1),gP={class:"col-3"},_P={class:"form-group"},vP=e("label",{for:"notaCredito"},"Nota de Crédito: ",-1),$P={class:"col-2"},yP={class:"form-group"},CP=e("label",{for:"fondoFijo"},"Fondo Fijo: ",-1),wP={key:1,class:"col-4"},kP={class:"form-group"},xP=e("label",null,"Referencia de Fondo Fijo: ",-1),PP=e("option",{value:null},"Seleccione referencia de Fondo Fijo: ",-1),EP=["value"],TP={key:0,class:"error"},DP={class:"col-2"},BP={class:"form-group"},OP=e("label",{for:"cheque"},"Cheque: ",-1),MP={class:"col-2"},SP={class:"form-group"},RP=e("label",{for:"cornershop"},"Cornershop: ",-1),AP={class:"col-2"},FP={class:"form-group"},zP=e("label",{for:"rappi"},"Rappi: ",-1),UP={class:"col-2"},VP={class:"form-group"},LP=e("label",{for:"personal"},"Personal: ",-1),jP={class:"col-2"},NP={class:"form-group"},HP=e("label",{for:"marinaOnline"},"Marina Online: ",-1),IP={class:"col-2"},GP={class:"form-group"},qP=e("label",{for:"vale"},"Vale: ",-1),KP=e("hr",{size:"4",class:"separador"},null,-1),XP=e("div",{class:"text-uppercase"},"Resumen de Ventas:",-1),JP={class:"col-6"},ZP={class:"form-group"},WP=e("label",{for:"ventaBruta"},"Venta Bruta: ",-1),YP=["value"],QP={class:"col-6"},eE={class:"form-group"},tE=e("label",{for:"ventaTotal"},"Venta Total: ",-1),sE=["value"],oE=e("hr",{size:"4",class:"separador"},null,-1),aE={key:2,class:"form-check"},lE={class:"form-check-label"},iE={key:3},rE=e("hr",{size:"4",class:"separador"},null,-1),nE={class:"row"},dE=e("div",{class:"text-uppercase"},"Información del Depósito:",-1),cE={class:"col-4"},uE={class:"form-group"},hE=e("label",{for:"deposito"},"Depósito: ",-1),mE={key:0,class:"error"},pE={class:"col-2"},fE={class:"form-group"},bE=e("label",{for:"fechaDeposito"},"Fecha Depósito: ",-1),gE={key:0,class:"error"},_E={class:"col-4"},vE={class:"form-group"},$E=e("label",{for:"imagenDeposito"},"Imagen Depósito: ",-1),yE={key:0,class:"error"},CE={key:0,class:"col-2"},wE=["src"],kE={class:"col-12"},xE={class:"form-group"},PE=e("label",{for:"observacionDeposito"},"Observación Depósito: ",-1),EE={class:"modal-footer"},TE=["disabled"];function DE(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",P3,[e("div",E3,[e("div",T3,[e("div",D3,[e("div",B3,[C(t.$slots,"header",{},()=>[O3]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",M3,[C(t.$slots,"body",{},()=>[e("div",S3,[e("div",R3,[A3,e("div",F3,[e("div",z3,[U3,f(e("select",{disabled:t.verificadoTienda,class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.cierreCaja.idTienda=o)},[L3,(l(!0),r(P,null,E(t.tiendas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,j3))),128))],8,V3),[[A,t.cierreCaja.idTienda]]),t.errors&&t.errors.idTienda?(l(),r("div",N3,i(t.errors.idTienda[0]),1)):m("",!0)])]),e("div",H3,[e("div",I3,[G3,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.cierreCaja.diaCierre=o)},null,512),[[k,t.cierreCaja.diaCierre]])]),t.errors&&t.errors.diaCierre?(l(),r("div",q3,i(t.errors.diaCierre[0]),1)):m("",!0)]),e("div",K3,[e("div",X3,[J3,e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"imagenVoucher",class:"form-control",onChange:s[3]||(s[3]=(...o)=>d.getImage&&d.getImage(...o))},null,32)]),t.errors&&t.errors.imagenVoucher?(l(),r("div",Z3,i(t.errors.imagenVoucher[0]),1)):m("",!0)]),t.fotoMiniaturaVoucher!=""?(l(),r("div",W3,[e("figure",null,[e("img",{width:"50",height:"50",src:d.imagen,alt:"Foto Miniatura"},null,8,Y3)])])):m("",!0),e("div",Q3,[e("div",eP,[tP,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.cierreCaja.responsableCierre=o)},null,512),[[k,t.cierreCaja.responsableCierre]])]),t.errors&&t.errors.responsableCierre?(l(),r("div",sP,i(t.errors.responsableCierre[0]),1)):m("",!0)]),e("div",oP,[e("div",aP,[lP,f(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.cierreCaja.observacionCierre=o),style:{"min-width":"200px",height:"40px","text-align":"justify"}},null,512),[[k,t.cierreCaja.observacionCierre]])])]),iP,rP,e("div",nP,[e("div",dP,[cP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.cierreCaja.tarjeta=o)},null,512),[[k,t.cierreCaja.tarjeta]])])]),e("div",uP,[e("div",hP,[mP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.cierreCaja.transferencia=o)},null,512),[[k,t.cierreCaja.transferencia]])])]),e("div",pP,[e("div",fP,[bP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=o=>t.cierreCaja.efectivo=o)},null,512),[[k,t.cierreCaja.efectivo]])])]),e("div",gP,[e("div",_P,[vP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=o=>t.cierreCaja.notaCredito=o)},null,512),[[k,t.cierreCaja.notaCredito]])])]),e("div",$P,[e("div",yP,[CP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=o=>t.cierreCaja.fondoFijo=o)},null,512),[[k,t.cierreCaja.fondoFijo]])])]),t.cierreCaja.fondoFijo>0?(l(),r("div",wP,[e("div",kP,[xP,f(e("select",{class:"form-select","onUpdate:modelValue":s[11]||(s[11]=o=>t.cierreCaja.idRefFondoFijo=o)},[PP,(l(!0),r(P,null,E(t.fondosFijos,o=>(l(),r("option",{key:o.id,value:o.id},[e("label",null,"Folio: "+i(o.folioFofi)+", Monto Total: "+i(o.montoTotal),1)],8,EP))),128))],512),[[A,t.cierreCaja.idRefFondoFijo]])]),t.errors&&t.errors.idRefFondoFijo?(l(),r("div",TP,i(t.errors.idRefFondoFijo[0]),1)):m("",!0)])):m("",!0),e("div",DP,[e("div",BP,[OP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>t.cierreCaja.cheque=o)},null,512),[[k,t.cierreCaja.cheque]])])]),e("div",MP,[e("div",SP,[RP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>t.cierreCaja.cornershop=o)},null,512),[[k,t.cierreCaja.cornershop]])])]),e("div",AP,[e("div",FP,[zP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=o=>t.cierreCaja.rappi=o)},null,512),[[k,t.cierreCaja.rappi]])])]),e("div",UP,[e("div",VP,[LP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>t.cierreCaja.personal=o)},null,512),[[k,t.cierreCaja.personal]])])]),e("div",jP,[e("div",NP,[HP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[16]||(s[16]=o=>t.cierreCaja.marinaOnline=o)},null,512),[[k,t.cierreCaja.marinaOnline]])])]),e("div",IP,[e("div",GP,[qP,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=o=>t.cierreCaja.vale=o)},null,512),[[k,t.cierreCaja.vale]])])]),KP,XP,e("div",JP,[e("div",ZP,[WP,e("input",{disabled:"",type:"number",class:"form-control",value:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia+this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale},null,8,YP)])]),e("div",QP,[e("div",eE,[tE,e("input",{disabled:"",type:"number",class:"form-control",value:this.cierreCaja.tarjeta+this.cierreCaja.efectivo+this.cierreCaja.transferencia-this.cierreCaja.notaCredito+this.cierreCaja.cheque+this.cierreCaja.cornershop+this.cierreCaja.rappi+this.cierreCaja.personal+this.cierreCaja.marinaOnline+this.cierreCaja.vale},null,8,sE)])]),oE,t.cierreCaja.efectivo>0?(l(),r("div",aE,[e("label",lE,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=o=>t.depositoEstado=o)},null,512),[[ne,t.depositoEstado]]),p(" Agregar Depósito ")])])):m("",!0),t.depositoEstado==!0?(l(),r("div",iE,[rE,e("div",nE,[dE,e("div",cE,[e("div",uE,[hE,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[19]||(s[19]=o=>t.cierreCaja.deposito=o)},null,512),[[k,t.cierreCaja.deposito]])]),t.errors&&t.errors.deposito?(l(),r("div",mE,i(t.errors.deposito[0]),1)):m("",!0)]),e("div",pE,[e("div",fE,[bE,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[20]||(s[20]=o=>t.cierreCaja.fechaDeposito=o)},null,512),[[k,t.cierreCaja.fechaDeposito]])]),t.errors&&t.errors.fechaDeposito?(l(),r("div",gE,i(t.errors.fechaDeposito[0]),1)):m("",!0)]),e("div",_E,[e("div",vE,[$E,e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"imagenDeposito",class:"form-control",onChange:s[21]||(s[21]=(...o)=>d.getImage2&&d.getImage2(...o))},null,32)]),t.errors&&t.errors.imagenDeposito?(l(),r("div",yE,i(t.errors.imagenDeposito[0]),1)):m("",!0)]),t.fotoMiniaturaDeposito!=""?(l(),r("div",CE,[e("figure",null,[e("img",{width:"50",height:"50",src:d.imagen2,alt:"Foto Miniatura"},null,8,wE)])])):m("",!0),e("div",kE,[e("div",xE,[PE,f(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":s[22]||(s[22]=o=>t.cierreCaja.observacionDeposito=o),style:{"min-width":"200px",height:"40px","text-align":"justify"}},null,512),[[k,t.cierreCaja.observacionDeposito]])])])])])):m("",!0)])])])]),e("div",EE,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[23]||(s[23]=o=>{d.ingresarCierreCajas()}),disabled:t.buttonDisable},"Ingresar",8,TE)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const BE=U(x3,[["render",DE]]),OE={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({id:null,deposito:null,fechaDeposito:null,imagenDeposito:null,observacionDeposito:null,efectivo:null,fondoFijo:null,fotoMiniaturaDeposito:"",buttonText:"Ingresar Cierre de Caja",buttonDisable:!1,errors:[]}),props:{cierreCaja:Object},created(){this.id=this.cierreCaja.id,this.deposito=this.cierreCaja.deposito,this.fechaDeposito=this.cierreCaja.fechaDeposito,this.observacionDeposito=this.cierreCaja.observacionDeposito,this.imagenDeposito=this.cierreCaja.imagenDeposito,this.efectivo=this.cierreCaja.efectivo,this.fondoFijo=this.cierreCaja.fondoFijo},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async ingresarDepositoCierreCajas(){var t=this.formatMoneyCLP(this.efectivo-this.fondoFijo);if(this.deposito>this.cierreCaja.efectivo-this.cierreCaja.fondoFijo)this.toast.error(`El monto no puede ser superior al monto esperado (${t})!`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(this.deposito<this.cierreCaja.efectivo-this.cierreCaja.fondoFijo&&this.toast.warning(`El monto ingresado es menor al monto que debiese depositar (${t})!`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),await this.$refs.confirmation.show({title:"Ingresar Depósito Cierre Cajas",message:"¿Está seguro/a que desea ingresar este depósito? Esta acción no puede ser desecha.",okButton:"Ingresar",cancelButton:"Volver"})){let a={deposito:this.deposito,fechaDeposito:this.fechaDeposito,observacionDeposito:this.observacionDeposito,imagenDeposito:this.imagenDeposito,diferenciaDias:this.distanceFromOther(this.cierreCaja.diaCierre,this.fechaDeposito),control:this.cierreCaja.efectivo-this.cierreCaja.fondoFijo-this.deposito};console.log(a);const c=[];c.push(this.id),c.push(a),_.post("api/cierreCajasDeposito",c,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Depósito ingresado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{location.reload()},1e3)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors)})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.imagenDeposito=t.target.files[0];let s=[];await this.compressImages(this.imagenDeposito,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.imagenDeposito=a,this.chargeImage(this.imagenDeposito)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniaturaDeposito=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniaturaDeposito}}},ME={name:"modal"},SE={class:"modal-mask"},RE={class:"modal-wrapper"},AE={class:"modal-container-xl"},FE={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},zE=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Ingresar Depósito: ",-1),UE={class:"modal-body"},VE={class:"form-group"},LE=e("div",{class:"text-uppercase"},"Detalle del Cierre de Caja:",-1),jE={id:"tableDesign",class:"table align-items-center mb-0"},NE=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Día Cierre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tarjeta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Efectivo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fondo Fijo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nota de Crédito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Otros Montos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta Bruta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Depósito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Depósito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia Días"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Control")])],-1),HE={key:0},IE=e("td",{colspan:"13"}," No hay información disponible. ",-1),GE=[IE],qE={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},KE={class:"text-sm mb-0"},XE={class:"text-sm mb-0"},JE={class:"text-sm mb-0"},ZE={class:"text-sm mb-0"},WE={class:"text-sm mb-0"},YE={class:"text-sm mb-0"},QE={class:"text-sm mb-0"},eT={class:"text-sm mb-0"},tT={class:"text-sm mb-0"},sT={class:"text-sm mb-0"},oT={class:"text-sm mb-0"},aT={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#000000"}},lT={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC300"}},iT={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FB4C24"}},rT={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#D21610"}},nT={key:4,class:"text-sm mb-0"},dT={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#D21610"}},cT={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28a745"}},uT={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#3574EA"}},hT=e("hr",{size:"4",class:"separador"},null,-1),mT=e("br",null,null,-1),pT={class:"row"},fT=e("div",{class:"text-uppercase"},"Información del Depósito:",-1),bT={class:"col-3"},gT={class:"form-group"},_T=e("label",{for:"deposito"},"Depósito: ",-1),vT={key:0,class:"error"},$T={class:"col-3"},yT={class:"form-group"},CT=e("label",{for:"fechaDeposito"},"Fecha Depósito: ",-1),wT={key:0,class:"error"},kT={class:"col-4"},xT={class:"form-group"},PT=e("label",{for:"imagenDeposito"},"Imagen Depósito: ",-1),ET={key:0,class:"error"},TT={key:0,class:"col-2"},DT=["src"],BT={class:"col-12"},OT={class:"form-group"},MT=e("label",{for:"observacionDeposito"},"Observación Depósito: ",-1),ST={class:"modal-footer"},RT=["disabled"];function AT(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",ME,[e("div",SE,[e("div",RE,[e("div",AE,[e("div",FE,[C(t.$slots,"header",{},()=>[zE]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close"))},"X")]),e("div",UE,[C(t.$slots,"body",{},()=>[e("div",VE,[LE,e("table",jE,[NE,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",HE,GE)):m("",!0),e("tr",null,[e("td",null,[e("p",qE,i(a.cierreCaja.id),1)]),e("td",null,[e("p",KE,i(a.cierreCaja.tienda.nombre),1)]),e("td",null,[e("p",XE,i(t.thisDate(a.cierreCaja.diaCierre)),1)]),e("td",null,[e("p",JE,i(t.formatMoneyCLP(a.cierreCaja.tarjeta)),1)]),e("td",null,[e("p",ZE,i(t.formatMoneyCLP(a.cierreCaja.efectivo)),1)]),e("td",null,[e("p",WE,i(t.formatMoneyCLP(a.cierreCaja.fondoFijo)),1)]),e("td",null,[e("p",YE,i(t.formatMoneyCLP(a.cierreCaja.notaCredito)),1)]),e("td",null,[e("p",QE,i(t.formatMoneyCLP(a.cierreCaja.transferencia+a.cierreCaja.cheque+a.cierreCaja.cornershop+a.cierreCaja.rappi+a.cierreCaja.personal+a.cierreCaja.marinaOnline+a.cierreCaja.vale)),1)]),e("td",null,[e("p",eT,i(t.formatMoneyCLP(a.cierreCaja.ventaTotal)),1)]),e("td",null,[e("p",tT,i(t.formatMoneyCLP(a.cierreCaja.ventaBruta)),1)]),e("td",null,[e("p",sT,i(t.formatMoneyCLP(a.cierreCaja.deposito)),1)]),e("td",null,[e("p",oT,i(t.thisDate(a.cierreCaja.fechaDeposito)),1)]),e("td",null,[a.cierreCaja.diferenciaDias!=null&&a.cierreCaja.diferenciaDias>=0&&a.cierreCaja.diferenciaDias<=3?(l(),r("p",aT,i(a.cierreCaja.diferenciaDias)+" Días.",1)):m("",!0),a.cierreCaja.diferenciaDias!=null&&a.cierreCaja.diferenciaDias<8&&a.cierreCaja.diferenciaDias>=4?(l(),r("p",lT,i(a.cierreCaja.diferenciaDias)+" Días.",1)):m("",!0),a.cierreCaja.diferenciaDias!=null&&a.cierreCaja.diferenciaDias<14&&a.cierreCaja.diferenciaDias>=8?(l(),r("p",iT,i(a.cierreCaja.diferenciaDias)+" Días.",1)):m("",!0),a.cierreCaja.diferenciaDias!=null&&a.cierreCaja.diferenciaDias<0||a.cierreCaja.diferenciaDias>=14?(l(),r("p",rT,i(a.cierreCaja.diferenciaDias)+" Días.",1)):m("",!0),a.cierreCaja.diferenciaDias==null?(l(),r("p",nT,"---")):m("",!0)]),e("td",null,[a.cierreCaja.control<0?(l(),r("p",dT,i(t.formatMoneyCLP(a.cierreCaja.control)),1)):m("",!0),a.cierreCaja.control==0?(l(),r("p",cT,i(t.formatMoneyCLP(a.cierreCaja.control)),1)):m("",!0),a.cierreCaja.control>0?(l(),r("p",uT,i(t.formatMoneyCLP(a.cierreCaja.control)),1)):m("",!0)])])])]),hT,mT,e("div",pT,[fT,e("div",bT,[e("div",gT,[_T,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.deposito=o)},null,512),[[k,t.deposito]])]),t.errors&&t.errors.deposito?(l(),r("div",vT,i(t.errors.deposito[0]),1)):m("",!0)]),e("div",$T,[e("div",yT,[CT,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.fechaDeposito=o)},null,512),[[k,t.fechaDeposito]])]),t.errors&&t.errors.fechaDeposito?(l(),r("div",wT,i(t.errors.fechaDeposito[0]),1)):m("",!0)]),e("div",kT,[e("div",xT,[PT,e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"imagenDeposito",class:"form-control",onChange:s[3]||(s[3]=(...o)=>d.getImage&&d.getImage(...o))},null,32)]),t.errors&&t.errors.imagenDeposito?(l(),r("div",ET,i(t.errors.imagenDeposito[0]),1)):m("",!0)]),t.fotoMiniaturaDeposito!=""?(l(),r("div",TT,[e("figure",null,[e("img",{width:"50",height:"50",src:d.imagen,alt:"Foto Miniatura"},null,8,DT)])])):m("",!0),e("div",BT,[e("div",OT,[MT,f(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.observacionDeposito=o),style:{"min-width":"200px",height:"40px","text-align":"justify"}},null,512),[[k,t.observacionDeposito]])])])])])])]),e("div",ST,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[5]||(s[5]=o=>{d.ingresarDepositoCierreCajas()}),disabled:t.buttonDisable},"Ingresar Depósito",8,RT)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const FT=U(OE,[["render",AT]]),zT={data:()=>({detalle1:null}),props:{detalle:Object},created(){this.detalle1=this.detalle}},UT={name:"modal"},VT={class:"modal-mask"},LT={class:"modal-wrapper"},jT={class:"modal-container"},NT={class:"modal-header fw-bold",style:{color:"#444444"}},HT={class:"modal-body"},IT={class:"text-center"},GT=["src"];function qT(t,s,a,c,n,d){return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",UT,[e("div",VT,[e("div",LT,[e("div",jT,[e("div",NT,[C(t.$slots,"header",{},()=>[p(" Ver Foto ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=u=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",HT,[C(t.$slots,"body",{},()=>[e("div",IT,[e("img",{style:{"max-width":"90%","max-height":"90%"},src:"data:image/jpeg;base64,"+t.detalle1},null,8,GT)])])])])])])])]),_:3})}const us=U(zT,[["render",qT]]),KT={components:{modalconfirmacion:j,modalalerta:N,modalfoto:us},mixins:[V],data:()=>({idCierreCaja:null,detalle:null,showFotoVoucher:!1}),props:{cierreCaja:Object},created(){},methods:{verFoto(t){this.detalle=t,this.showFotoVoucher=!0}}},XT={name:"modal"},JT={class:"modal-mask"},ZT={class:"modal-wrapper"},WT={class:"modal-container"},YT={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},QT=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle de la Caja:",-1),eD={class:"modal-body"},tD={class:"form-group"},sD={class:"row"},oD=e("div",{class:"text-uppercase"},"Información Básica:",-1),aD={class:"col-4 m-0 fs-8"},lD={class:"fw-normal",style:{"font-size":"14px"}},iD={class:"col-4 m-0 fs-8"},rD={class:"fw-normal",style:{"font-size":"14px"}},nD={class:"col-4 m-0 fs-8"},dD={class:"fw-normal",style:{"font-size":"14px"}},cD={class:"text-sm mb-0"},uD=e("i",{class:"fa-solid fa-images"},null,-1),hD=[uD],mD={class:"col-12 m-0 fs-8"},pD={class:"fw-normal",style:{"font-size":"14px"}},fD={key:0,class:"col-12 m-0 fs-8"},bD={class:"fw-normal",style:{"font-size":"14px"}},gD={key:1,class:"col-12 m-0 fs-8"},_D=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),vD=e("hr",{size:"4",class:"separador"},null,-1),$D=e("div",{class:"text-uppercase"},"Control:",-1),yD={key:2,class:"col-6 m-0 fs-8"},CD={class:"fw-normal",style:{"font-size":"14px"}},wD={key:3,class:"col-6 m-0 fs-8"},kD=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),xD={class:"col-6 m-0 fs-8"},PD={class:"fw-normal",style:{"font-size":"14px"}},ED=e("hr",{size:"4",class:"separador"},null,-1),TD=e("div",{class:"text-uppercase"},"Detalle de Ventas:",-1),DD={class:"col-4 m-0 fs-8"},BD={class:"fw-normal",style:{"font-size":"14px"}},OD={class:"col-4 m-0 fs-8"},MD={class:"fw-normal",style:{"font-size":"14px"}},SD={class:"col-4 m-0 fs-8"},RD={class:"fw-normal",style:{"font-size":"14px"}},AD={class:"col-3 m-0 fs-8"},FD={class:"fw-normal",style:{"font-size":"14px"}},zD={class:"col-3 m-0 fs-8"},UD={class:"fw-normal",style:{"font-size":"14px"}},VD={class:"col-3 m-0 fs-8"},LD={class:"fw-normal",style:{"font-size":"14px"}},jD={class:"col-3 m-0 fs-8"},ND={class:"fw-normal",style:{"font-size":"14px"}},HD={class:"col-3 m-0 fs-8"},ID={class:"fw-normal",style:{"font-size":"14px"}},GD={class:"col-3 m-0 fs-8"},qD={class:"fw-normal",style:{"font-size":"14px"}},KD={class:"col-3 m-0 fs-8"},XD={class:"fw-normal",style:{"font-size":"14px"}},JD={class:"col-3 m-0 fs-8"},ZD={class:"fw-normal",style:{"font-size":"14px"}},WD=e("hr",{size:"4",class:"separador"},null,-1),YD=e("div",{class:"text-uppercase"},"Resumen de Ventas:",-1),QD={class:"col-6 m-0 fs-8"},e6={class:"fw-normal",style:{"font-size":"14px"}},t6={class:"col-6 m-0 fs-8"},s6={class:"fw-normal",style:{"font-size":"14px"}},o6=e("hr",{size:"4",class:"separador"},null,-1),a6=e("div",{class:"text-uppercase"},"Depósito:",-1),l6={class:"col-4 m-0 fs-8"},i6={class:"fw-normal",style:{"font-size":"14px"}},r6={class:"col-4 m-0 fs-8"},n6={class:"fw-normal",style:{"font-size":"14px"}},d6={class:"col-4 m-0 fs-8"},c6={class:"fw-normal",style:{"font-size":"14px"}},u6={class:"text-sm mb-0"},h6=e("i",{class:"fa-solid fa-images"},null,-1),m6=[h6],p6={key:4,class:"col-12 m-0 fs-8"},f6={class:"fw-normal",style:{"font-size":"14px"}},b6={key:5,class:"col-12 m-0 fs-8"},g6=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1);function _6(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalfoto");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",XT,[e("div",JT,[e("div",ZT,[e("div",WT,[e("div",YT,[C(t.$slots,"header",{},()=>[QT]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",eD,[C(t.$slots,"body",{},()=>[e("div",tD,[e("div",sD,[oD,e("label",aD,[p(" Tienda: "),e("label",lD,i(a.cierreCaja.tienda.nombre),1)]),e("label",iD,[p(" Dia Cierre: "),e("label",rD,i(t.thisDate(a.cierreCaja.diaCierre)),1)]),e("label",nD,[p(" Imagen Voucher: "),e("label",dD,[e("p",cD,[e("a",{class:"btn btn-dark-grey btn-xs",onClick:s[1]||(s[1]=h=>d.verFoto(a.cierreCaja.imagenVoucher))},hD)])])]),e("label",mD,[p(" Responsable Cierre: "),e("label",pD,i(a.cierreCaja.responsableCierre),1)]),a.cierreCaja.observacionCierre!=null?(l(),r("label",fD,[p(" Observación Cierre: "),e("label",bD,i(a.cierreCaja.observacionCierre),1)])):(l(),r("label",gD,[p(" Observación Cierre: "),_D])),vD,$D,a.cierreCaja.diferenciaDias!=null?(l(),r("label",yD,[p(" Diferencia Días: "),e("label",CD,i(a.cierreCaja.diferenciaDias)+" Días",1)])):(l(),r("label",wD,[p(" Diferencia Días: "),kD])),e("label",xD,[p(" Control: "),e("label",PD,i(t.formatMoneyCLP(a.cierreCaja.control)),1)]),ED,TD,e("label",DD,[p(" Tarjeta: "),e("label",BD,i(t.formatMoneyCLP(a.cierreCaja.tarjeta)),1)]),e("label",OD,[p(" Transferencia: "),e("label",MD,i(t.formatMoneyCLP(a.cierreCaja.transferencia)),1)]),e("label",SD,[p(" Efectivo: "),e("label",RD,i(t.formatMoneyCLP(a.cierreCaja.efectivo)),1)]),e("label",AD,[p(" Nota de Crédito: "),e("label",FD,i(t.formatMoneyCLP(a.cierreCaja.notaCredito)),1)]),e("label",zD,[p(" Fondo Fijo: "),e("label",UD,i(t.formatMoneyCLP(a.cierreCaja.fondoFijo)),1)]),e("label",VD,[p(" Cheque: "),e("label",LD,i(t.formatMoneyCLP(a.cierreCaja.cheque)),1)]),e("label",jD,[p(" Cornershop: "),e("label",ND,i(t.formatMoneyCLP(a.cierreCaja.cornershop)),1)]),e("label",HD,[p(" Rappi: "),e("label",ID,i(t.formatMoneyCLP(a.cierreCaja.rappi)),1)]),e("label",GD,[p(" Personal: "),e("label",qD,i(t.formatMoneyCLP(a.cierreCaja.personal)),1)]),e("label",KD,[p(" Marina Online: "),e("label",XD,i(t.formatMoneyCLP(a.cierreCaja.marinaOnline)),1)]),e("label",JD,[p(" Vale: "),e("label",ZD,i(t.formatMoneyCLP(a.cierreCaja.vale)),1)]),WD,YD,e("label",QD,[p(" Venta Bruta: "),e("label",e6,i(t.formatMoneyCLP(a.cierreCaja.ventaBruta)),1)]),e("label",t6,[p(" Venta Total: "),e("label",s6,i(t.formatMoneyCLP(a.cierreCaja.ventaTotal)),1)]),o6,a6,e("label",l6,[p(" Depósito: "),e("label",i6,i(t.formatMoneyCLP(a.cierreCaja.deposito)),1)]),e("label",r6,[p(" Fecha Depósito: "),e("label",n6,i(t.thisDate(a.cierreCaja.fechaDeposito)),1)]),e("label",d6,[p(" Imagen Depósito: "),e("label",c6,[e("p",u6,[e("a",{class:"btn btn-dark-grey btn-xs",onClick:s[2]||(s[2]=h=>d.verFoto(a.cierreCaja.imagenDeposito))},m6)])])]),a.cierreCaja.observacionDeposito!=null?(l(),r("label",p6,[p(" Observación Depósito: "),e("label",f6,i(a.cierreCaja.observacionDeposito),1)])):(l(),r("label",b6,[p(" Observación Depósito: "),g6]))])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showFotoVoucher?(l(),T(o,{key:0,detalle:t.detalle,onClose:s[3]||(s[3]=h=>t.showFotoVoucher=!1)},null,8,["detalle"])):m("",!0)])])])])]),_:3})}const v6=U(KT,[["render",_6]]),$6={components:{modalconfirmacion:j,modalalerta:N,modalingresarcierre:BE,modaldetallecierre:v6,modalingresardeposito:FT},mixins:[V],data(){return{cierresCajas:[],mostrarTabla:!1,mostrarCarga:!0,showIngresarCierreCaja:!1,showIngresarDeposito:!1,showDetalleCierreCaja:!1,table:null,fechaAño:null,fechaMes:null,fechaDia:null,filtroTienda:null,tiendas:[],años:[{value:2e3},{value:2001},{value:2002},{value:2003},{value:2004},{value:2005},{value:2006},{value:2007},{value:2008},{value:2009},{value:2010},{value:2011},{value:2012},{value:2013},{value:2014},{value:2015},{value:2016},{value:2017},{value:2018},{value:2019},{value:2020},{value:2021},{value:2022},{value:2023},{value:2024},{value:2025},{value:2026},{value:2027},{value:2028},{value:2029},{value:2030},{value:2031},{value:2032},{value:2033},{value:2034},{value:2035},{value:2036},{value:2037},{value:2038},{value:2039},{value:2040},{value:2041},{value:2042},{value:2043},{value:2044},{value:2045},{value:2046},{value:2047},{value:2048},{value:2049},{value:2050}],meses:[{value:1,nombre:"Enero"},{value:2,nombre:"Febrero"},{value:3,nombre:"Marzo"},{value:4,nombre:"Abril"},{value:5,nombre:"Mayo"},{value:6,nombre:"Junio"},{value:7,nombre:"Julio"},{value:8,nombre:"Agosto"},{value:9,nombre:"Septiembre"},{value:10,nombre:"Octubre"},{value:11,nombre:"Noviembre"},{value:12,nombre:"Diciembre"}],dias:[{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8},{value:9},{value:10},{value:11},{value:12},{value:13},{value:14},{value:15},{value:16},{value:17},{value:18},{value:19},{value:20},{value:21},{value:22},{value:23},{value:24},{value:25},{value:26},{value:27},{value:28},{value:29},{value:30},{value:31}]}},created(){this.getCierresCajas(),this.getTiendas()},methods:{getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data}).catch(t=>console.log(t))},getCierresCajas(){_.get("api/cierreCajas").then(t=>{this.cierresCajas=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableCierreCajas")}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.cierresCajas=null,this.getCierresCajas(),this.fechaAño=null,this.fechaMes=null,this.fechaDia=null,this.filtroTienda=null):(this.table.destroy(),this.crearTabla("#MyTableCierreCajas"))},filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.robos=this.robos.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},cierreCajaDetalle(t){this.cierreDetalle=t,this.showDetalleCierreCaja=!0},cierreCajaDeposito(t){this.cierreDeposito=t,this.showIngresarDeposito=!0},async deleteCierreCaja(t){await this.$refs.confirmation.show({title:"Borrar Cierre de Caja",message:"¿Está seguro/a que desea eliminar este Cierre de Caja? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/cierreCajas/${t}`).then(a=>{this.toast.success("Cierre de Caja eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},y6={class:"row mt-4 mx-4"},C6={class:"col-12"},w6={class:"card mb-4"},k6={class:"row pb-0 p-4"},x6={class:"col-9"},P6={class:"row"},E6={class:"col-auto"},T6=e("option",{value:""},"Seleccione un año:",-1),D6=["value"],B6={class:"col-auto"},O6=e("option",{value:""},"Seleccione un mes:",-1),M6=["value"],S6={class:"col-auto"},R6=e("option",{value:""},"Seleccione un día:",-1),A6=["value"],F6={key:0,class:"col-auto"},z6=e("option",{value:""},"Seleccione una tienda:",-1),U6=["value"],V6={class:"col-auto pt-3"},L6=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),j6=[L6],N6={class:"col-3"},H6={class:"d-flex justify-content-end"},I6=e("i",{class:"fa-solid fa-rotate"},null,-1),G6=[I6],q6={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},K6={class:"container"},X6={class:"table-responsive p-0"},J6={class:"loader-sm"},Z6={class:"table align-items-center mb-0",id:"MyTableCierreCajas"},W6=e("thead",null,[e("tr",{style:{color:"black"}},[e("th"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Día Cierre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tarjeta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Efectivo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fondo Fijo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio Fondo Fijo Referencial"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nota de Crédito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Otros Montos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Venta Bruta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Depósito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Depósito"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia Días"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Control"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Y6=e("td",null,null,-1),Q6={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},e8={class:"text-sm mb-0"},t8={class:"text-sm mb-0"},s8={class:"text-sm mb-0"},o8={class:"text-sm mb-0"},a8={class:"text-sm mb-0"},l8={key:0,class:"text-sm mb-0"},i8={key:1,class:"text-sm mb-0"},r8={class:"text-sm mb-0"},n8={class:"text-sm mb-0"},d8={class:"text-sm mb-0"},c8={class:"text-sm mb-0"},u8={class:"text-sm mb-0"},h8={class:"text-sm mb-0"},m8={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#000000"}},p8={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#F7BD00"}},f8={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FB4C24"}},b8={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#D21610"}},g8={key:4,class:"text-sm mb-0"},_8={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#D21610"}},v8={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28a745"}},$8={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#3574EA"}},y8={class:"align-middle text-end"},C8={class:"d-flex px-3 py-1 justify-content-center align-items-center"},w8=["onClick"],k8=e("i",{class:"fa-regular fa-eye"},null,-1),x8=[k8],P8=["onClick"],E8=e("i",{class:"fa-solid fa-file-signature"},null,-1),T8=[E8],D8={key:1,class:"btn btn-grey btn-xs"},B8=e("i",{class:"fa-solid fa-file-signature"},null,-1),O8=[B8],M8=["onClick"],S8=e("i",{class:"fa fa-fw fa-trash"},null,-1),R8=[S8];function A8(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalingresarcierre"),h=y("modalingresardeposito"),b=y("modaldetallecierre");return l(),r("div",y6,[e("div",C6,[e("div",w6,[e("div",k6,[e("div",x6,[e("div",P6,[e("div",E6,[e("label",null,[p("Año: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Año","onUpdate:modelValue":s[0]||(s[0]=v=>n.fechaAño=v)},[T6,(l(!0),r(P,null,E(n.años,v=>(l(),r("option",{key:v.value,value:v.value},i(v.value),9,D6))),128))],512),[[A,n.fechaAño]])])]),e("div",B6,[e("label",null,[p("Mes: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Mes","onUpdate:modelValue":s[1]||(s[1]=v=>n.fechaMes=v)},[O6,(l(!0),r(P,null,E(n.meses,v=>(l(),r("option",{key:v.value,value:v.value},i(v.nombre),9,M6))),128))],512),[[A,n.fechaMes]])])]),e("div",S6,[e("label",null,[p("Día: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Día","onUpdate:modelValue":s[2]||(s[2]=v=>n.fechaDia=v)},[R6,(l(!0),r(P,null,E(n.dias,v=>(l(),r("option",{key:v.value,value:v.value},i(v.value),9,A6))),128))],512),[[A,n.fechaDia]])])]),t.is("Contabilidad")?(l(),r("div",F6,[e("label",null,[p("Tienda: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Tienda","onUpdate:modelValue":s[3]||(s[3]=v=>n.filtroTienda=v)},[z6,(l(!0),r(P,null,E(n.tiendas,v=>(l(),r("option",{key:v.id,value:v.id},i(v.nombre),9,U6))),128))],512),[[A,n.filtroTienda]])])])):m("",!0),e("div",V6,[e("a",{class:"btn btn-search-blue",onClick:s[4]||(s[4]=v=>d.filtrarFecha())},j6)])])]),e("div",N6,[e("div",H6,[t.can("Gestión Tienda_Cierre Cajas")?(l(),r("a",{key:0,class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[5]||(s[5]=v=>n.showIngresarCierreCaja=!0)},"Ingresar Cierre Caja")):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[6]||(s[6]=v=>d.recargarTabla("General"))},G6)])])]),e("div",q6,[e("div",K6,[e("div",X6,[f(e("div",J6,null,512),[[H,n.mostrarCarga]]),f(e("table",Z6,[W6,e("tbody",null,[(l(!0),r(P,null,E(n.cierresCajas,v=>(l(),r("tr",{key:v.id},[Y6,e("td",null,[e("p",Q6,i(v.id),1)]),e("td",null,[e("p",e8,i(v.tienda.nombre),1)]),e("td",null,[e("p",t8,i(t.thisDate(v.diaCierre)),1)]),e("td",null,[e("p",s8,i(t.formatMoneyCLP(v.tarjeta)),1)]),e("td",null,[e("p",o8,i(t.formatMoneyCLP(v.efectivo)),1)]),e("td",null,[e("p",a8,i(t.formatMoneyCLP(v.fondoFijo)),1)]),e("td",null,[v.idRefFondoFijo!=null?(l(),r("p",l8,i(v.reffondofijo.folioFofi),1)):(l(),r("p",i8,"---"))]),e("td",null,[e("p",r8,i(t.formatMoneyCLP(v.notaCredito)),1)]),e("td",null,[e("p",n8,i(t.formatMoneyCLP(v.transferencia+v.cheque+v.cornershop+v.rappi+v.personal+v.marinaOnline+v.vale)),1)]),e("td",null,[e("p",d8,i(t.formatMoneyCLP(v.ventaTotal)),1)]),e("td",null,[e("p",c8,i(t.formatMoneyCLP(v.ventaBruta)),1)]),e("td",null,[e("p",u8,i(t.formatMoneyCLP(v.deposito)),1)]),e("td",null,[e("p",h8,i(t.thisDate(v.fechaDeposito)),1)]),e("td",null,[v.diferenciaDias!=null&&v.diferenciaDias>=0&&v.diferenciaDias<=3?(l(),r("p",m8,i(v.diferenciaDias)+" Días.",1)):m("",!0),v.diferenciaDias!=null&&v.diferenciaDias<8&&v.diferenciaDias>=4?(l(),r("p",p8,i(v.diferenciaDias)+" Días.",1)):m("",!0),v.diferenciaDias!=null&&v.diferenciaDias<14&&v.diferenciaDias>=8?(l(),r("p",f8,i(v.diferenciaDias)+" Días.",1)):m("",!0),v.diferenciaDias!=null&&v.diferenciaDias<0||v.diferenciaDias>=14?(l(),r("p",b8,i(v.diferenciaDias)+" Días.",1)):m("",!0),v.diferenciaDias==null?(l(),r("p",g8,"---")):m("",!0)]),e("td",null,[v.control<0?(l(),r("p",_8,i(t.formatMoneyCLP(v.control)),1)):m("",!0),v.control==0?(l(),r("p",v8,i(t.formatMoneyCLP(v.control)),1)):m("",!0),v.control>0?(l(),r("p",$8,i(t.formatMoneyCLP(v.control)),1)):m("",!0)]),e("td",y8,[e("div",C8,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:z=>d.cierreCajaDetalle(v)},x8,8,w8),p("   "),(v.deposito==0||v.deposito==null)&&v.efectivo>0?(l(),r("a",{key:0,class:"btn btn-purple btn-xs",title:"Ingresar Depósito",id:"show-modal2",onClick:z=>d.cierreCajaDeposito(v)},T8,8,P8)):(l(),r("a",D8,O8)),p("   "),t.is("Administrador")?(l(),r("a",{key:2,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteCierreCaja(v.id)},R8,8,M8)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showIngresarCierreCaja?(l(),T(o,{key:0,onClose:s[7]||(s[7]=v=>n.showIngresarCierreCaja=!1),onRecarga:s[8]||(s[8]=v=>d.recargarTabla("General"))})):m("",!0),n.showIngresarDeposito?(l(),T(h,{key:1,cierreCaja:t.cierreDeposito,onClose:s[9]||(s[9]=v=>n.showIngresarDeposito=!1),onRecarga:s[10]||(s[10]=v=>d.recargarTabla("General"))},null,8,["cierreCaja"])):m("",!0),n.showDetalleCierreCaja?(l(),T(b,{key:2,cierreCaja:t.cierreDetalle,onClose:s[11]||(s[11]=v=>n.showDetalleCierreCaja=!1)},null,8,["cierreCaja"])):m("",!0)])])}const F8=U($6,[["render",A8]]);let Vs=document.head.querySelector('meta[name="user"]'),z8=document.head.querySelector('meta[name="roles"]');const U8={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({fields:{nFolio:"",fecha:"",usuario:JSON.parse(Vs.content).id,observacion:"",cantidadTotal:0},detallePrecio:{tipoEtiqueta:"",precio:"",cantidad:""},idUsuario:JSON.parse(Vs.content).id,buttonText:"Crear Solicitud",buttonDisable:!1,detalles:[],errors:[],errorsTipo:[],nombreUsuario:"",modoeditar:!1,idEditar:"",tienda:!1,cantidadDetalles:0}),created(){this.getDatos(this.idUsuario),this.comprobarRol(JSON.parse(z8.content))},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.detalleFofi.rut!=""){this.detalleFofi.rut.replace(".","");var t=this.detalleFofi.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.detalleFofi.rut=s+"-"+a}},comprobarRol(t){t.forEach(s=>{s=="Tienda"&&(this.tienda=!0)})},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.fields.cantidadTotal=this.fields.cantidadTotal-t.cantidad,this.cantidadDetalles=this.cantidadDetalles-1)},cancelarEditar(){this.modoeditar=!1,this.detallePrecio.tipoEtiqueta="",this.detallePrecio.precio="",this.detallePrecio.cantidad="",this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoeditar=!0;var s=this.detalles[t];this.detallePrecio.tipoEtiqueta=s.tipoEtiqueta,this.detallePrecio.precio=s.precio,this.detallePrecio.cantidad=s.cantidad},guardarEdicion(t){this.errors=[];for(const a in this.detallePrecio)(this.detallePrecio[a]===""||this.detallePrecio[a]===0)&&this.errors.push(a);var s="";if(this.errors.length!=0&&(this.errors.forEach(a=>{s=s+"El campo "+a+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let a={idDetalle:this.idEditar,tipoEtiqueta:this.detallePrecio.tipoEtiqueta,precio:this.detallePrecio.precio,cantidad:this.detallePrecio.cantidad};this.detalles[t]=a,this.detallePrecio.tipoEtiqueta="",this.detallePrecio.precio="",this.detallePrecio.cantidad="",this.fields.cantidadTotal=0,this.detalles.forEach(c=>{this.fields.cantidadTotal=Number(this.fields.cantidadTotal)+Number(c.cantidad)}),this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoeditar=!1}},async crearSolicitud(){if(this.errors=[],this.fields.cantidadTotal==0&&(this.errors.push("detalles"),this.toast.warning("No puede crear una solicitud sin detalles",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Solicitud De Precios",message:"¿Está seguro/a que desea crear esta solicitud ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const s=[];let a={nFolio:this.fields.nFolio,fecha:this.fields.fecha,idUsuario:this.fields.usuario,cantidadTotal:this.fields.cantidadTotal};s.push(a),s.push(this.detalles),_.post("api/solicitarPrecios",s).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Solicitud creada con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/solicitarPrecios/sendEmail",s).then(n=>{console.log(n.data),this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{console.log(n)})}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},agregarDetalle(){this.errors=[];for(const s in this.detallePrecio)(this.detallePrecio[s]===""||this.detallePrecio[s]===0)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let s={idDetalle:this.cantidadDetalles,tipoEtiqueta:this.detallePrecio.tipoEtiqueta,precio:this.detallePrecio.precio,cantidad:this.detallePrecio.cantidad};this.fields.cantidadTotal=this.fields.cantidadTotal+this.detallePrecio.cantidad,this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(s),this.detallePrecio.tipoEtiqueta="",this.detallePrecio.precio="",this.detallePrecio.cantidad="",this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getDatos(t){_.get(`api/dataSolicitarPrecio/${t}`).then(s=>{this.fields.nFolio=s.data[0],this.fields.fecha=s.data[1],this.nombreUsuario=s.data[2]}).catch(s=>console.log(s))}}},V8={name:"modal"},L8={class:"modal-mask"},j8={class:"modal-wrapper"},N8={class:"modal-container"},H8={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},I8={class:"modal-body"},G8={id:"tableDesign",class:"table align-items-center mb-0"},q8=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Total")])],-1),K8={class:"text-sm mb-0"},X8={class:"text-sm mb-0"},J8={class:"text-sm mb-0"},Z8={class:"text-sm mb-0"},W8=e("br",null,null,-1),Y8={enctype:"multipart/form-data"},Q8={class:"row"},eB={class:"col-4"},tB={class:"form-group"},sB=e("label",{for:""},"Tipo Etiqueta: ",-1),oB=e("br",null,null,-1),aB=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),lB=e("option",{value:"1"},"Precio Normal",-1),iB=e("option",{value:"2"},"Precio Especial",-1),rB=e("option",{value:"3"},"Precio De Liquidación",-1),nB=[aB,lB,iB,rB],dB={class:"col-4"},cB={class:"form-group"},uB=e("label",{for:""},"Precio: ",-1),hB=e("br",null,null,-1),mB={class:"col-4"},pB={class:"form-group"},fB=e("label",{for:""},"Cantidad: ",-1),bB=e("br",null,null,-1),gB=e("hr",{size:"4",class:"separador"},null,-1),_B={class:"row"},vB={id:"tableDesign",class:"table align-items-center mb-0"},$B=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Etiqueta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Precio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),yB={key:0},CB=e("td",{colspan:"10"}," No hay información disponible. ",-1),wB=[CB],kB={class:"text-sm mb-0"},xB={key:0,class:"text-sm mb-0"},PB={key:1,class:"text-sm mb-0"},EB={key:2,class:"text-sm mb-0"},TB={class:"text-sm mb-0"},DB={class:"text-sm mb-0"},BB={class:"text-sm mb-0"},OB=["onClick"],MB=e("i",{class:"fa fa-fw fa-edit"},null,-1),SB=[MB],RB=["onClick"],AB=e("i",{class:"fa fa-fw fa-trash"},null,-1),FB=[AB],zB={class:"modal-footer"},UB=["disabled"];function VB(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",V8,[e("div",L8,[e("div",j8,[e("div",N8,[e("div",H8,[C(t.$slots,"header",{},()=>[p(" Solicitar Precios ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",I8,[C(t.$slots,"body",{},()=>[e("table",G8,[q8,e("tbody",null,[e("tr",null,[e("td",null,[e("p",K8,i(this.fields.nFolio),1)]),e("td",null,[e("p",X8,i(this.fields.fecha),1)]),e("td",null,[e("p",J8,i(t.nombreUsuario),1)]),e("td",null,[e("p",Z8,i(this.fields.cantidadTotal),1)])])])]),W8,e("form",Y8,[e("div",Q8,[e("div",eB,[e("div",tB,[sB,oB,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.detallePrecio.tipoEtiqueta=o)},nB,512),[[A,t.detallePrecio.tipoEtiqueta]])])]),e("div",dB,[e("div",cB,[uB,hB,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.detallePrecio.precio=o)},null,512),[[k,t.detallePrecio.precio]])])]),e("div",mB,[e("div",pB,[fB,bB,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.detallePrecio.cantidad=o)},null,512),[[k,t.detallePrecio.cantidad]])])])]),t.modoeditar==!1?(l(),r("a",{key:0,onClick:s[4]||(s[4]=o=>d.agregarDetalle()),class:"btn btn-dark-grey float-right"},"Agregar detalle")):m("",!0),t.modoeditar==!0?(l(),r("a",{key:1,onClick:s[5]||(s[5]=o=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar detalle")):m("",!0),p("   "),t.modoeditar==!0?(l(),r("a",{key:2,onClick:s[6]||(s[6]=o=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),gB,e("div",_B,[e("table",vB,[$B,e("tbody",null,[t.fields.cantidadTotal==0?(l(),r("tr",yB,wB)):(l(!0),r(P,{key:1},E(t.detalles,o=>(l(),r("tr",{key:o},[e("td",null,[e("p",kB,i(o.idDetalle+1),1)]),e("td",null,[o.tipoEtiqueta=="1"?(l(),r("p",xB," Normal ")):m("",!0),o.tipoEtiqueta=="2"?(l(),r("p",PB," Especial ")):m("",!0),o.tipoEtiqueta=="3"?(l(),r("p",EB," Liquidación ")):m("",!0)]),e("td",null,[e("p",TB,i(t.formatMoneyCLP(o.precio)),1)]),e("td",null,[e("p",DB,i(o.cantidad),1)]),e("td",null,[e("p",BB,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:h=>d.editarDetalle(o.idDetalle)},SB,8,OB),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:h=>d.eliminarDetalle(o)},FB,8,RB)])])]))),128))])])])])]),e("div",zB,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-dark-grey",onClick:s[7]||(s[7]=o=>d.crearSolicitud()),disabled:t.buttonDisable},i(t.buttonText),9,UB)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const LB=U(U8,[["render",VB]]),jB={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({solicitudPrecio1:{folioFofi:"",fecha:"",usuario:"",cantidadTotal:"",cantidadGastos:"",fofiAsignado:"",montoTotal:""},id:null,errors:[],detalles:[],nombreUsuario:"",detalle:null,showFotoFofi:!1}),props:{solicitudPrecio:Object},created(){this.solicitudPrecio1.nFolio=this.solicitudPrecio.nFolio,this.solicitudPrecio1.fecha=this.solicitudPrecio.fecha,this.solicitudPrecio1.idUsuario=this.solicitudPrecio.usuario,this.solicitudPrecio1.cantidadTotal=this.solicitudPrecio.cantidadTotal,this.id=this.solicitudPrecio.id,this.nombreUsuario=this.solicitudPrecio1.idUsuario.name,this.detalles=this.solicitudPrecio.detalles}},NB={name:"modal"},HB={class:"modal-mask"},IB={class:"modal-wrapper"},GB={class:"modal-container"},qB={class:"modal-header fw-bold",style:{color:"#444444"}},KB={class:"modal-body"},XB=e("h4",null,"Solicitud Precios",-1),JB=e("br",null,null,-1),ZB={id:"tableDesign",class:"table align-items-center mb-0"},WB=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Total")])],-1),YB={class:"text-sm mb-0"},QB={class:"text-sm mb-0"},eO={class:"text-sm mb-0"},tO={class:"text-sm mb-0"},sO=e("div",null,[e("br"),e("hr",{size:"4",class:"separador"})],-1),oO=e("h4",null,"Detalles Solicitud Precios",-1),aO=e("br",null,null,-1),lO={class:"row"},iO={id:"tableDesign",class:"table align-items-center mb-0"},rO=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Etiqueta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad")])],-1),nO={class:"text-sm mb-0"},dO={key:0,class:"text-sm mb-0"},cO={key:1,class:"text-sm mb-0"},uO={key:2,class:"text-sm mb-0"},hO={class:"text-sm mb-0"},mO={class:"text-sm mb-0"};function pO(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalver"},{default:I(()=>[e("div",NB,[e("div",HB,[e("div",IB,[e("div",GB,[e("div",qB,[C(t.$slots,"header",{},()=>[p(" Ver Solicitud Precios ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",KB,[C(t.$slots,"body",{},()=>[XB,JB,e("table",ZB,[WB,e("tbody",null,[e("tr",null,[e("td",null,[e("p",YB,i(this.solicitudPrecio1.nFolio),1)]),e("td",null,[e("p",QB,i(t.thisDate(this.solicitudPrecio1.fecha)),1)]),e("td",null,[e("p",eO,i(t.nombreUsuario),1)]),e("td",null,[e("p",tO,i(this.solicitudPrecio1.cantidadTotal),1)])])])]),sO,oO,aO,e("div",lO,[e("table",iO,[rO,e("tbody",null,[(l(!0),r(P,null,E(t.detalles,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",nO,i(o.id),1)]),e("td",null,[o.tipoEtiqueta=="1"?(l(),r("p",dO," Normal ")):m("",!0),o.tipoEtiqueta=="2"?(l(),r("p",cO," Especial ")):m("",!0),o.tipoEtiqueta=="3"?(l(),r("p",uO," Liquidación ")):m("",!0)]),e("td",null,[e("p",hO,i(t.formatMoneyCLP(o.precio)),1)]),e("td",null,[e("p",mO,i(o.cantidad),1)])]))),128))])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const fO=U(jB,[["render",pO]]),bO={components:{modalconfirmacion:j,modalalerta:N,modalSolicitarPrecios:LB,modalDetallePrecios:fO},mixins:[V],data(){return{solicitudesPrecios:[],solicitudesPreciosAux:[],mostrarTabla:!1,mostrarCarga:!0,showSolicitarPrecios:!1,showIngresarDeposito:!1,showDetalleSoliPrecio:!1,table:null,fechaInicio:null,fechaTermino:null}},created(){this.getSolicitudesPrecios()},methods:{getSolicitudesPrecios(){_.get("api/solicitarPrecios").then(t=>{this.solicitudesPrecios=t.data,this.solicitudesPreciosAux=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableSolicitudes")}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.solicitudesPrecios=null,this.getSolicitudesPrecios(),this.fechaInicio=null,this.fechaTermino=null):(this.table.destroy(),this.crearTabla("#MyTableSolicitudes"))},filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.solicitudesPrecios=this.solicitudesPreciosAux.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},solicitudPrecioDetalle(t){this.soliDetalle=t,this.showDetalleSoliPrecio=!0},cierreCajaDeposito(t){this.cierreDeposito=t,this.showIngresarDeposito=!0},async deleteSolicitudPrecio(t){await this.$refs.confirmation.show({title:"Borrar Solicitud de Precios",message:"¿Está seguro/a que desea eliminar este Solicitud de Precios? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/solicitarPrecios/${t}`).then(a=>{this.toast.success("Solicitud de Precios eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},gO={class:"row mt-4 mx-4"},_O={class:"col-12"},vO={class:"card mb-4"},$O={class:"row pb-0 p-4"},yO={class:"col-9"},CO={class:"row"},wO={class:"col-2"},kO={class:"col-2"},xO={class:"col-auto pt-3"},PO=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),EO=[PO],TO={class:"col-3"},DO={class:"d-flex justify-content-end"},BO=e("i",{class:"fa-solid fa-rotate"},null,-1),OO=[BO],MO={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},SO={class:"container"},RO={class:"table-responsive p-0"},AO={class:"loader-sm"},FO={class:"table align-items-center mb-0",id:"MyTableSolicitudes"},zO=e("thead",null,[e("tr",{style:{color:"black"}},[e("th"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),UO=e("td",null,null,-1),VO={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},LO={class:"text-sm mb-0"},jO={class:"text-sm mb-0"},NO={class:"text-sm mb-0"},HO={class:"align-middle text-end"},IO={class:"d-flex px-3 py-1 justify-content-center align-items-center"},GO=["onClick"],qO=e("i",{class:"fa-regular fa-eye"},null,-1),KO=[qO],XO=["onClick"],JO=e("i",{class:"fa fa-fw fa-trash"},null,-1),ZO=[JO];function WO(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalSolicitarPrecios"),h=y("modalDetallePrecios");return l(),r("div",gO,[e("div",_O,[e("div",vO,[e("div",$O,[e("div",yO,[e("div",CO,[e("div",wO,[e("label",null,[p("Fecha Inicio Cierre: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=b=>n.fechaInicio=b)},null,512),[[k,n.fechaInicio]])])]),e("div",kO,[e("label",null,[p("Fecha Término Cierre: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=b=>n.fechaTermino=b)},null,512),[[k,n.fechaTermino]])])]),e("div",xO,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=b=>d.filtrarFecha())},EO)])])]),e("div",TO,[e("div",DO,[t.can("Gestión Tienda_Solicitar Precios")?(l(),r("a",{key:0,class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[3]||(s[3]=b=>n.showSolicitarPrecios=!0)},"Solicitar Precios")):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[4]||(s[4]=b=>d.recargarTabla("General"))},OO)])])]),e("div",MO,[e("div",SO,[e("div",RO,[f(e("div",AO,null,512),[[H,n.mostrarCarga]]),f(e("table",FO,[zO,e("tbody",null,[(l(!0),r(P,null,E(n.solicitudesPrecios,b=>(l(),r("tr",{key:b.id},[UO,e("td",null,[e("p",VO,i(b.id),1)]),e("td",null,[e("p",LO,i(t.thisDate(b.fecha)),1)]),e("td",null,[e("p",jO,i(b.usuario.name),1)]),e("td",null,[e("p",NO,i(b.cantidadTotal),1)]),e("td",HO,[e("div",IO,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:v=>d.solicitudPrecioDetalle(b)},KO,8,GO),p("   "),t.can("Gestión Tienda_Solicitar Precios Borrar")?(l(),r("a",{key:0,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:v=>d.deleteSolicitudPrecio(b.id)},ZO,8,XO)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showSolicitarPrecios?(l(),T(o,{key:0,onClose:s[5]||(s[5]=b=>n.showSolicitarPrecios=!1),onRecarga:s[6]||(s[6]=b=>d.recargarTabla("General"))})):m("",!0),n.showDetalleSoliPrecio?(l(),T(h,{key:1,solicitudPrecio:t.soliDetalle,onClose:s[7]||(s[7]=b=>n.showDetalleSoliPrecio=!1)},null,8,["solicitudPrecio"])):m("",!0)])])}const YO=U(bO,[["render",WO]]),QO={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({profilePicChange:null,fotoMiniatura:null}),created(){},methods:{async deleteProfilePic(){await this.$refs.confirmation.show({title:"Eliminar Foto de Perfil",message:"¿Está seguro/a que desea eliminar su foto de perfil?",okButton:"Eliminar",cancelButton:"Volver"})&&_.post(`api/usuarios/deleteProfilePic/${this.userID}`).then(s=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Foto de perfil eliminada con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{location.reload()},1e3)}).catch(s=>{console.log(s),s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Error.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},async changeProfilePic(){if(await this.$refs.confirmation.show({title:"Actualizar Foto de Perfil",message:"¿Está seguro/a que desea actualizar su foto de perfil?",okButton:"Actualizar",cancelButton:"Volver"})){var s={userID:this.userID,profilePicChange:this.profilePicChange};_.post("api/usuarios/changeProfilePic",s,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Foto de perfil actualizada con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{location.reload()},1e3)}).catch(a=>{console.log(a),a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.profilePicChange=t.target.files[0];let s=[];await this.compressImages(this.profilePicChange,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.profilePicChange=a,this.chargeImage(this.profilePicChange)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},eM={name:"modal"},tM={class:"modal-mask"},sM={class:"modal-wrapper"},oM={class:"modal-container-xs"},aM={class:"modal-header pb-2",style:{"font-weight":"bold",color:"#444444"}},lM={class:"modal-body"},iM={class:"row"},rM={class:"col-12"},nM={class:"form-group"},dM={key:0,class:"col-auto"},cM={class:"img-not-draggable",style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},uM={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},hM=["src"],mM={key:1,class:"col-auto"},pM=e("div",{class:"img-not-draggable",style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},[e("div",{style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},[e("img",{class:"w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"https://icon-library.com/images/default-user-icon/default-user-icon-13.jpg",alt:"profile_image"})])],-1),fM=[pM],bM={class:"modal-footer"},gM=["disabled"],_M=["disabled"];function vM(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",eM,[e("div",tM,[e("div",sM,[e("div",oM,[e("div",aM,[C(t.$slots,"header",{},()=>[p(" Foto de Perfil ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",lM,[C(t.$slots,"body",{},()=>[e("div",iM,[e("div",rM,[e("div",nM,[e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"foto",class:"form-control",onChange:s[1]||(s[1]=(...o)=>d.getImage&&d.getImage(...o))},null,32)])]),t.fotoMiniatura!=null?(l(),r("div",dM,[e("div",cM,[e("div",uM,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:d.imagen,alt:"profile_image"},null,8,hM)])])])):(l(),r("div",mM,fM))])])]),e("div",bM,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-closed float-start",onClick:s[2]||(s[2]=o=>{d.deleteProfilePic()}),disabled:t.buttonDisable},"Eliminar",8,gM),e("button",{class:"btn btn-alert float-end",onClick:s[3]||(s[3]=o=>d.changeProfilePic()),disabled:t.buttonDisable},"Guardar",8,_M)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const $M=U(QO,[["render",vM]]),yM={components:{modalconfirmacion:j,modalalerta:N,modalfotoperfil:$M},mixins:[V],data(){return{showFotoPerfil:!1,isEditing:!1,usuario:null,profilePic:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,correoEmpresa:null,telefonoEmpresa:null,departamento:null,area:null,cargo:null,roles:null,permisos:null,editable:{sobreMi:null,correoPersonal:null,telefonoPersonal:null,direccion:null,sector:null,pais:null,region:null,comuna:null},id:null,paises:null,regiones:null,regionesSelect:null,comunas:null,comunasSelect:null,errors:[],showRoles:!1,showPermisos:!1}},created(){this.getUsuarios(this.userID),this.getFotoUsuario(),this.getPaises(),this.getRegiones(),this.getComunas(),this.getRolesUsuario(this.userID),this.getPermisosUsuario(this.userID)},methods:{getFotoUsuario(){_.post(`api/usuarios/getProfilePic/${this.userID}`).then(t=>{this.profilePic=t.data}).catch(t=>console.log(t))},mostrarRoles(){this.showRoles==!1?this.showRoles=!0:this.showRoles=!1},mostrarPermisos(){this.showPermisos==!1?this.showPermisos=!0:this.showPermisos=!1},getRolesUsuario(t){_.get(`api/roles/${t}`).then(s=>{this.roles=s.data}).catch(s=>console.log(s))},getPermisosUsuario(t){_.get(`api/permisos/${t}`).then(s=>{this.permisos=s.data}).catch(s=>console.log(s))},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)}),this.comunasSelect=null},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},getPaises(){_.get("api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("api/regiones").then(t=>{this.regiones=t.data,this.getRegionesSelect(this.editable.pais)}).catch(t=>console.log(t))},getComunas(){_.get("api/comunas").then(t=>{this.comunas=t.data,this.getComunasSelect(this.editable.region)}).catch(t=>console.log(t))},getUsuarios(t){_.get(`api/usuarios/${t}`).then(s=>{this.usuario=s.data,this.id=this.usuario.colaborador.id,this.editable.sobreMi=this.usuario.colaborador.sobreMi,this.nombre1=this.usuario.colaborador.nombre1,this.nombre2=this.usuario.colaborador.nombre2,this.apellido1=this.usuario.colaborador.apellido1,this.apellido2=this.usuario.colaborador.apellido2,this.editable.correoPersonal=this.usuario.colaborador.correoPersonal,this.editable.telefonoPersonal=this.usuario.colaborador.telefonoPersonal,this.correoEmpresa=this.usuario.colaborador.correoEmpresa,this.telefonoEmpresa=this.usuario.colaborador.telefonoEmpresa,this.editable.direccion=this.usuario.colaborador.direccion,this.editable.sector=this.usuario.colaborador.sector,this.editable.pais=this.usuario.colaborador.pais.id,this.editable.region=this.usuario.colaborador.region.id,this.editable.comuna=this.usuario.colaborador.comuna.id,this.departamento=this.usuario.colaborador.departamento.departamento,this.area=this.usuario.colaborador.area.area,this.cargo=this.usuario.colaborador.cargo}).catch(s=>console.log(s))},editarPerfil(){this.isEditing=!0,document.getElementById("sobreMi").disabled=!1,document.getElementById("emailPersonal").disabled=!1,document.getElementById("telefonoPersonal").disabled=!1,document.getElementById("calle").disabled=!1,document.getElementById("sector").disabled=!1,document.getElementById("pais").disabled=!1,document.getElementById("region").disabled=!1,document.getElementById("comuna").disabled=!1},cancelarEdicion(){this.isEditing=!1,document.getElementById("sobreMi").disabled=!0,document.getElementById("emailPersonal").disabled=!0,document.getElementById("telefonoPersonal").disabled=!0,document.getElementById("calle").disabled=!0,document.getElementById("sector").disabled=!0,document.getElementById("pais").disabled=!0,document.getElementById("region").disabled=!0,document.getElementById("comuna").disabled=!0,this.getUsuarios(this.userID),this.getPaises(),this.getRegiones(),this.getComunas()},async guardarPerfil(){this.errors=[];for(const a in this.editable)(this.editable[a]===""||this.editable[a]===null)&&a!="sobreMi"&&this.errors.push(a);var t="";if(this.errors.length!=0&&(this.errors.forEach(a=>{t=t+"El campo "+a+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Editar Perfil",message:"Está seguro/a que desea editar su perfil ? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let c={sobreMi:this.editable.sobreMi,correoPersonal:this.editable.correoPersonal,telefonoPersonal:this.editable.telefonoPersonal,direccion:this.editable.direccion,sector:this.editable.sector,pais:this.editable.pais,region:this.editable.region,comuna:this.editable.comuna};var s=this.id;_.put(`api/colaboradores/${s}`,c).then(n=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Perfil editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.isEditing=!1,document.getElementById("sobreMi").disabled=!0,document.getElementById("emailPersonal").disabled=!0,document.getElementById("telefonoPersonal").disabled=!0,document.getElementById("calle").disabled=!0,document.getElementById("sector").disabled=!0,document.getElementById("pais").disabled=!0,document.getElementById("region").disabled=!0,document.getElementById("comuna").disabled=!0}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))}),setTimeout(()=>{this.cerrarModal()},1500)}}}},CM={class:"card shadow-lg mx-4 card-profile-bottom"},wM={class:"card-body p-3"},kM={class:"row gx-4"},xM={class:"col-auto"},PM={key:0,style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},EM={style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},TM=["src"],DM={key:1,style:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"}},BM=e("div",{style:{width:"150px",height:"150px",display:"flex","justify-content":"center","align-items":"center"}},[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"https://icon-library.com/images/default-user-icon/default-user-icon-13.jpg"})],-1),OM=[BM],MM={class:"col-auto my-auto"},SM={class:"mb-1"},RM={class:"d-flex"},AM={class:"col-md-6 me-sm-0 mx-auto mt-3"},FM={class:"row"},zM={class:"col-md-4"},UM={class:"form-group"},VM=e("label",{for:"example-text-input",class:"form-control-label"},"Departamento:",-1),LM=e("br",null,null,-1),jM={class:"col-md-4"},NM={class:"form-group"},HM=e("label",{for:"example-text-input",class:"form-control-label"},"Área:",-1),IM=e("br",null,null,-1),GM={class:"col-md-4"},qM={class:"form-group"},KM=e("label",{for:"example-text-input",class:"form-control-label"},"Cargo:",-1),XM=e("br",null,null,-1),JM={key:0,class:"container-fluid py-3"},ZM={class:"row"},WM={class:"col-md-12"},YM={class:"card"},QM={class:"card-header pb-0"},eS=e("div",{class:"d-flex align-items-center"},[e("h5",null,"Roles")],-1),tS={class:"card-body"},sS={class:"rolesPerfil"},oS={key:1,class:"container-fluid py-3"},aS={class:"row"},lS={class:"col-md-12"},iS={class:"card"},rS={class:"card-header pb-0"},nS=e("div",{class:"d-flex align-items-center"},[e("h5",null,"Permisos")],-1),dS={class:"card-body"},cS={class:"rolesPerfil"},uS={class:"container-fluid py-3"},hS={class:"row"},mS={class:"col-md-12"},pS={class:"card"},fS={class:"card-header pb-0"},bS=e("i",{class:"fa fa-fw fa-edit"},null,-1),gS=e("div",{class:"d-flex align-items-center"},[e("h5",null,"Datos personales")],-1),_S={class:"card-body"},vS=e("div",{class:"text-uppercase"},"Información Personal",-1),$S={class:"row"},yS={class:"col-md-12"},CS={class:"form-group"},wS=e("label",{for:"example-text-input",class:"form-control-label"},"Sobre mi:",-1),kS=e("br",null,null,-1),xS=e("hr",{class:"horizontal dark"},null,-1),PS={class:"row"},ES={class:"col-md-3"},TS={class:"form-group"},DS=e("label",{for:"example-text-input",class:"form-control-label"},"Nombre:",-1),BS=e("br",null,null,-1),OS={class:"col-md-3"},MS={class:"form-group"},SS=e("label",{for:"example-text-input",class:"form-control-label"},"Segundo Nombre:",-1),RS=e("br",null,null,-1),AS={class:"col-md-3"},FS={class:"form-group"},zS=e("label",{for:"example-text-input",class:"form-control-label"},"Apellido Paterno:",-1),US=e("br",null,null,-1),VS={class:"col-md-3"},LS={class:"form-group"},jS=e("label",{for:"example-text-input",class:"form-control-label"},"Apellido Materno:",-1),NS=e("br",null,null,-1),HS={class:"col-md-6"},IS={class:"form-group"},GS=e("label",{for:"example-text-input",class:"form-control-label"},"Correo Electrónico (Personal):",-1),qS=e("br",null,null,-1),KS={class:"col-md-6"},XS={class:"form-group"},JS=e("label",{for:"example-text-input",class:"form-control-label"},"Número de Teléfono (Personal):",-1),ZS=e("br",null,null,-1),WS={class:"col-md-6"},YS={class:"form-group"},QS=e("label",{for:"example-text-input",class:"form-control-label"},"Correo Electrónico (Empresa):",-1),eR=e("br",null,null,-1),tR={class:"col-md-6"},sR={class:"form-group"},oR=e("label",{for:"example-text-input",class:"form-control-label"},"Teléfono (Empresa):",-1),aR=e("br",null,null,-1),lR=e("hr",{class:"horizontal dark"},null,-1),iR=e("div",{class:"text-uppercase"},"Información de Contacto",-1),rR={class:"row"},nR={class:"col-md-6"},dR={class:"form-group"},cR=e("label",{for:"example-text-input",class:"form-control-label"},"Calle:",-1),uR=e("br",null,null,-1),hR={class:"col-md-6"},mR={class:"form-group"},pR=e("label",{for:"example-text-input",class:"form-control-label"},"Sector:",-1),fR=e("br",null,null,-1),bR={class:"col-md-4"},gR=e("label",{for:"example-text-input",class:"form-control-label"},"País:",-1),_R=e("br",null,null,-1),vR=e("option",{disabled:"",value:""},"Seleccione un País",-1),$R=["value"],yR={class:"col-md-4"},CR={class:"form-group"},wR=e("label",{for:"example-text-input",class:"form-control-label"},"Región:",-1),kR=e("br",null,null,-1),xR=e("option",{disabled:"",value:""},"Seleccione un Región",-1),PR=["value"],ER={class:"col-md-4"},TR={class:"form-group"},DR=e("label",{for:"example-text-input",class:"form-control-label"},"Comuna:",-1),BR=e("br",null,null,-1),OR=e("option",{disabled:"",value:""},"Seleccione un comuna",-1),MR=["value"],SR={class:"d-flex justify-content-end"},RR=e("i",{class:"fa-regular fa-floppy-disk fa-lg"},null,-1),AR=e("i",{class:"fa-solid fa-ban"},null,-1);function FR(t,s,a,c,n,d){const u=y("modalfotoperfil"),g=y("modalconfirmacion"),o=y("modalalerta");return l(),r(P,null,[e("div",CM,[e("div",wM,[e("div",kM,[e("div",xM,[n.profilePic!=null?(l(),r("div",PM,[e("a",{class:"btn",onClick:s[0]||(s[0]=h=>n.showFotoPerfil=!0)},[e("div",EM,[e("img",{class:"img-not-draggable w-100 h-100 border-radius-100 shadow-sm",style:{"object-fit":"cover"},src:"data:image/jpeg;base64,"+n.profilePic},null,8,TM)])])])):(l(),r("div",DM,[e("a",{class:"btn",onClick:s[1]||(s[1]=h=>n.showFotoPerfil=!0)},OM)]))]),e("div",MM,[e("h5",SM,i(t.userName),1),e("div",RM,[e("a",{onClick:s[2]||(s[2]=h=>d.mostrarRoles()),class:"btn btn-dark"},"Roles"),p("   "),e("a",{onClick:s[3]||(s[3]=h=>d.mostrarPermisos()),class:"btn btn-dark"},"Permisos"),p("   ")])]),e("div",AM,[e("div",FM,[e("div",zM,[e("div",UM,[VM,LM,f(e("input",{disabled:"",class:"form-control",type:"text",name:"departamento",id:"departamento","onUpdate:modelValue":s[4]||(s[4]=h=>n.departamento=h)},null,512),[[k,n.departamento]])])]),e("div",jM,[e("div",NM,[HM,IM,f(e("input",{disabled:"",class:"form-control",type:"text",name:"area",id:"area","onUpdate:modelValue":s[5]||(s[5]=h=>n.area=h)},null,512),[[k,n.area]])])]),e("div",GM,[e("div",qM,[KM,XM,f(e("input",{disabled:"",class:"form-control",type:"text",name:"cargo",id:"cargo","onUpdate:modelValue":s[6]||(s[6]=h=>n.cargo=h)},null,512),[[k,n.cargo]])])])])])])])]),n.showRoles?(l(),r("div",JM,[e("div",ZM,[e("div",WM,[e("div",YM,[e("div",QM,[e("a",{class:"btn btn-closed",style:{float:"right"},onClick:s[7]||(s[7]=h=>d.mostrarRoles())},"X"),eS]),e("div",tS,[e("div",sS,[(l(!0),r(P,null,E(n.roles,h=>(l(),r("p",{key:h,class:"mb-0 font-weight-bold text-sm"},i(h.name)+"   ",1))),128))])])])])])])):m("",!0),n.showPermisos?(l(),r("div",oS,[e("div",aS,[e("div",lS,[e("div",iS,[e("div",rS,[e("a",{class:"btn btn-closed",style:{float:"right"},onClick:s[8]||(s[8]=h=>d.mostrarPermisos())},"X"),nS]),e("div",dS,[e("div",cS,[(l(!0),r(P,null,E(n.permisos,h=>(l(),r("p",{key:h,class:"mb-0 font-weight-bold text-sm"},i(h.name)+"   ",1))),128))])])])])])])):m("",!0),e("div",uS,[e("div",hS,[e("div",mS,[e("div",pS,[e("div",fS,[f(e("a",{onClick:s[9]||(s[9]=h=>d.editarPerfil()),class:"btn btn-alert",title:"Editar",style:{float:"right","font-size":"16px"}},[bS,p(" Editar")],512),[[H,!n.isEditing]]),gS]),e("div",_S,[vS,e("div",$S,[e("div",yS,[e("div",CS,[wS,kS,f(e("textarea",{disabled:"",class:"form-control",type:"text",name:"sobreMi",id:"sobreMi","onUpdate:modelValue":s[10]||(s[10]=h=>n.editable.sobreMi=h)},null,512),[[k,n.editable.sobreMi]])])])]),xS,e("div",PS,[e("div",ES,[e("div",TS,[DS,BS,f(e("input",{disabled:"",class:"form-control",type:"text",name:"nombre",id:"nombre","onUpdate:modelValue":s[11]||(s[11]=h=>n.nombre1=h)},null,512),[[k,n.nombre1]])])]),e("div",OS,[e("div",MS,[SS,RS,f(e("input",{disabled:"",class:"form-control",type:"text",name:"nombre",id:"nombre","onUpdate:modelValue":s[12]||(s[12]=h=>n.nombre2=h)},null,512),[[k,n.nombre2]])])]),e("div",AS,[e("div",FS,[zS,US,f(e("input",{disabled:"",class:"form-control",type:"text",name:"nombre",id:"nombre","onUpdate:modelValue":s[13]||(s[13]=h=>n.apellido1=h)},null,512),[[k,n.apellido1]])])]),e("div",VS,[e("div",LS,[jS,NS,f(e("input",{disabled:"",class:"form-control",type:"text",name:"nombre",id:"nombre","onUpdate:modelValue":s[14]||(s[14]=h=>n.apellido2=h)},null,512),[[k,n.apellido2]])])]),e("div",HS,[e("div",IS,[GS,qS,f(e("input",{disabled:"",class:"form-control",type:"email",name:"emailPersonal",id:"emailPersonal","onUpdate:modelValue":s[15]||(s[15]=h=>n.editable.correoPersonal=h)},null,512),[[k,n.editable.correoPersonal]])])]),e("div",KS,[e("div",XS,[JS,ZS,f(e("input",{disabled:"",class:"form-control",type:"text",name:"telefonoPersonal",id:"telefonoPersonal","onUpdate:modelValue":s[16]||(s[16]=h=>n.editable.telefonoPersonal=h)},null,512),[[k,n.editable.telefonoPersonal]])])]),e("div",WS,[e("div",YS,[QS,eR,f(e("input",{disabled:"",class:"form-control",type:"email",name:"emailEmpresa",id:"emailEmpresa","onUpdate:modelValue":s[17]||(s[17]=h=>n.correoEmpresa=h)},null,512),[[k,n.correoEmpresa]])])]),e("div",tR,[e("div",sR,[oR,aR,f(e("input",{disabled:"",class:"form-control",type:"text",name:"telefonoEmpresa",id:"telefonoEmpresa","onUpdate:modelValue":s[18]||(s[18]=h=>n.telefonoEmpresa=h)},null,512),[[k,n.telefonoEmpresa]])])])]),lR,iR,e("div",rR,[e("div",nR,[e("div",dR,[cR,uR,f(e("input",{disabled:"",class:"form-control",type:"text",name:"calle",id:"calle","onUpdate:modelValue":s[19]||(s[19]=h=>n.editable.direccion=h)},null,512),[[k,n.editable.direccion]])])]),e("div",hR,[e("div",mR,[pR,fR,f(e("input",{disabled:"",class:"form-control",type:"text",name:"sector",id:"sector","onUpdate:modelValue":s[20]||(s[20]=h=>n.editable.sector=h)},null,512),[[k,n.editable.sector]])])]),e("div",bR,[gR,_R,f(e("select",{disabled:"",id:"pais",class:"form-select",onChange:s[21]||(s[21]=h=>d.getRegionesSelect(h.target.value)),style:{width:"80%"},"onUpdate:modelValue":s[22]||(s[22]=h=>n.editable.pais=h)},[vR,(l(!0),r(P,null,E(n.paises,h=>(l(),r("option",{key:h.id,value:h.id},i(h.pais),9,$R))),128))],544),[[A,n.editable.pais]])]),e("div",yR,[e("div",CR,[wR,kR,f(e("select",{disabled:"",id:"region",class:"form-select",onChange:s[23]||(s[23]=h=>d.getComunasSelect(h.target.value)),style:{width:"80%"},"onUpdate:modelValue":s[24]||(s[24]=h=>n.editable.region=h)},[xR,(l(!0),r(P,null,E(n.regionesSelect,h=>(l(),r("option",{key:h.id,value:h.id},i(h.region),9,PR))),128))],544),[[A,n.editable.region]])])]),e("div",ER,[e("div",TR,[DR,BR,f(e("select",{disabled:"",id:"comuna",class:"form-select",style:{width:"80%"},"onUpdate:modelValue":s[25]||(s[25]=h=>n.editable.comuna=h)},[OR,(l(!0),r(P,null,E(n.comunasSelect,h=>(l(),r("option",{key:h.id,value:h.id},i(h.comuna),9,MR))),128))],512),[[A,n.editable.comuna]])])])]),e("div",SR,[f(e("a",{onClick:s[26]||(s[26]=h=>d.guardarPerfil()),class:"btn btn-continue",style:{"font-size":"16px"}},[RR,p(" Guardar")],512),[[H,n.isEditing]]),p("   "),f(e("a",{onClick:s[27]||(s[27]=h=>d.cancelarEdicion()),class:"btn btn-closed",style:{"font-size":"16px"}},[AR,p(" Cancelar")],512),[[H,n.isEditing]])])])])]),n.showFotoPerfil?(l(),T(u,{key:0,onClose:s[28]||(s[28]=h=>n.showFotoPerfil=!1)})):m("",!0),x(g,{ref:"confirmation"},null,512),x(o,{ref:"alert"},null,512)])])],64)}const zR=U(yM,[["render",FR]]),UR={},VR={class:"row mt-4 mx-4"},LR=ve('<div class="col-12"><div class="card mb-4" style="padding-top:20px;"><div class="card-body px-0 pt-0 pb-2" style="text-align:center;margin:auto;align-items:center;min-height:400px;"><div class="m-auto text-center"><h4>Administración General</h4><div class="row"><div class="col-auto"><a href="/admin-general/empresa" class="btn btn-primary" style="width:140px;height:140px;"> Empresa <p></p><p><i class="fa-solid fa-building fa-3x"></i></p></a></div><div class="col-auto"><a href="/admin-general/ubicacion" class="btn btn-secondary" style="width:140px;height:140px;"> Ubicación <p></p><p><i class="fa-solid fa-map-location-dot fa-3x"></i></p></a></div><div class="col-auto"><a href="/admin-general/store-related" class="btn btn-dark" style="width:140px;height:140px;"> Relacionados a Tiendas <p><i class="fa-solid fa-shop fa-3x"></i></p></a></div><div class="col-auto"><a href="/admin-general/user-related" class="btn btn-light-grey-blue" style="width:140px;height:140px;"> Relacionados a Usuarios <p><i class="fa-solid fa-users-rectangle fa-3x"></i></p></a></div><div class="col-auto"><a href="/admin-general/otros" class="btn btn-grey text-white" style="width:140px;height:140px;"> Otros <p></p><p><i class="fa-solid fa-circle-plus fa-3x"></i></p></a></div></div></div></div></div></div>',1),jR=[LR];function NR(t,s){return l(),r("div",VR,jR)}const HR=U(UR,[["render",NR]]),IR={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Departamento",buttonDisable:!1,departamento:"",area:"",id:"",errors:[]}),props:{departamento1:Object},created(){this.departamento=this.departamento1.departamento,this.area=this.departamento1.area,this.id=this.departamento1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarDepto(){if(await this.$refs.confirmation.show({title:"Editar Departamento",message:`¿Está seguro/a que desea editar el departamento '${this.departamento}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={departamento:this.departamento,area:this.area};var s=this.id;_.put(`../api/departamentos/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Departamento editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},GR={name:"modal"},qR={class:"modal-mask"},KR={class:"modal-wrapper"},XR={class:"modal-container-xs"},JR={class:"modal-header fw-bold",style:{color:"#444444"}},ZR={class:"modal-body"},WR={class:"form-group"},YR=e("label",{for:"Departamento"},"Departamento: ",-1),QR=e("br",null,null,-1),eA={key:0,class:"error"},tA={class:"modal-footer"},sA=["disabled"];function oA(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",GR,[e("div",qR,[e("div",KR,[e("div",XR,[e("div",JR,[C(t.$slots,"header",{},()=>[p(" Editar Departamentos ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",ZR,[C(t.$slots,"body",{},()=>[e("div",WR,[YR,QR,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.departamento=o)},null,512),[[k,t.departamento]]),t.errors&&t.errors.departamento?(l(),r("div",eA,i(t.errors.departamento[0]),1)):m("",!0)]),e("div",tA,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarDepto()),disabled:t.buttonDisable},i(t.buttonText),9,sA)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const aA=U(IR,[["render",oA]]),lA={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Área",buttonDisable:!1,area:"",idDepartamento:"",id:"",departamentos:[],errors:[]}),props:{area1:Object},created(){this.idDepartamento=this.area1.departamento.id,this.area=this.area1.area,this.id=this.area1.id,this.getDepartamentos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getDepartamentos(){_.get("../api/departamentos").then(t=>{this.departamentos=t.data}).catch(t=>console.log(t))},async editarDepto(){if(await this.$refs.confirmation.show({title:"Editar Área",message:`¿Está seguro/a que desea editar el área '${this.area}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={area:this.area,idDepartamento:this.idDepartamento};var s=this.id;_.put(`../api/areas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Área editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},iA={name:"modal"},rA={class:"modal-mask"},nA={class:"modal-wrapper"},dA={class:"modal-container-xs"},cA={class:"modal-header fw-bold",style:{color:"#444444"}},uA={class:"modal-body"},hA={class:"form-group"},mA=e("label",{for:"area"},"Area: ",-1),pA=e("br",null,null,-1),fA={key:0,class:"error"},bA={class:"form-group"},gA=e("label",{for:"departamentos"},"Departamento: ",-1),_A=e("br",null,null,-1),vA=e("option",{disabled:"",value:""},"Seleccione un departamento",-1),$A=["value"],yA={key:0,class:"error"},CA=e("br",null,null,-1),wA={class:"modal-footer"},kA=["disabled"];function xA(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",iA,[e("div",rA,[e("div",nA,[e("div",dA,[e("div",cA,[C(t.$slots,"header",{},()=>[p(" Editar Area ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",uA,[C(t.$slots,"body",{},()=>[e("div",hA,[mA,pA,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.area=o)},null,512),[[k,t.area]]),t.errors&&t.errors.area?(l(),r("div",fA,i(t.errors.area[0]),1)):m("",!0)]),e("div",bA,[gA,_A,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idDepartamento=o)},[vA,(l(!0),r(P,null,E(t.departamentos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.departamento),9,$A))),128))],512),[[A,t.idDepartamento]]),t.errors&&t.errors.idDepartamento?(l(),r("div",yA,i(t.errors.idDepartamento[0]),1)):m("",!0)]),CA,e("div",wA,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarDepto()),disabled:t.buttonDisable},i(t.buttonText),9,kA)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const PA=U(lA,[["render",xA]]),EA={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({kam:{idUsuario:"",idEmpresa:""},usuarios:[],empresas:[],id:null,buttonText:"Crear Empresa Kam",buttonDisable:!1,errors:[]}),props:{kam1:Object},created(){this.getUsuarios(),this.getEmpresas(),this.kam.idUsuario=this.kam1.idUsuario,this.kam.idEmpresa=this.kam1.idEmpresa,this.id=this.kam1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},async editarEmpresaKam(){if(await this.$refs.confirmation.show({title:"Editar Empresa Kam",message:"¿Está seguro/a que desea editar esta Empresa Kam? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let a={idUsuario:this.kam.idUsuario,idEmpresa:this.kam.idEmpresa};var s=this.id;_.put(`../api/empresasKam/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Empresa kam editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},TA={name:"modal"},DA={class:"modal-mask"},BA={class:"modal-wrapper"},OA={class:"modal-container-xs"},MA={class:"modal-header fw-bold",style:{color:"#444444"}},SA={class:"modal-body"},RA={class:"row"},AA={class:"col-6"},FA={class:"form-group"},zA=e("label",{for:"usuario"},"Usuario: ",-1),UA=e("br",null,null,-1),VA=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),LA=["value"],jA={class:"col-6"},NA={class:"form-group"},HA=e("label",{for:"empresa"},"Empresa: ",-1),IA=e("br",null,null,-1),GA=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),qA=["value"],KA={class:"modal-footer"},XA=["disabled"];function JA(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",TA,[e("div",DA,[e("div",BA,[e("div",OA,[e("div",MA,[C(t.$slots,"header",{},()=>[p(" Editar empresa kam ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",SA,[C(t.$slots,"body",{},()=>[e("div",RA,[e("div",AA,[e("div",FA,[zA,UA,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.kam.idUsuario=o)},[VA,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,LA))),128))],512),[[A,t.kam.idUsuario]])])]),e("div",jA,[e("div",NA,[HA,IA,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.kam.idEmpresa=o)},[GA,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.razonSocial),9,qA))),128))],512),[[A,t.kam.idEmpresa]])])])])])]),e("div",KA,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarEmpresaKam()),disabled:t.buttonDisable},i(t.buttonText),9,XA)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const ZA=U(EA,[["render",JA]]),WA={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({empresa:{rut:null,razonSocial:null,giro:null,direccion:null,idPais:null,idRegion:null,idComuna:null,telefono:null,fax:null,codigoPostal:null,tipo:null},paises:[],regiones:[],comunas:[],regionesSelect:[],comunasSelect:[],id:null,buttonText:"Editar Empresa",buttonDisable:!1,errors:[]}),props:{empresa1:Object},created(){this.getPaises(),this.getRegiones(),this.getComunas(),this.empresa.rut=this.empresa1.rut,this.empresa.razonSocial=this.empresa1.razonSocial,this.empresa.giro=this.empresa1.giro,this.empresa.direccion=this.empresa1.direccion,this.empresa.idPais=this.empresa1.idPais,this.empresa.idRegion=this.empresa1.idRegion,this.empresa.idComuna=this.empresa1.idComuna,this.empresa.telefono=this.empresa1.telefono,this.empresa.fax=this.empresa1.fax,this.empresa.codigoPostal=this.empresa1.codigoPostal,this.empresa.tipo=this.empresa1.tipo,this.id=this.empresa1.id},methods:{checkRut(){if(this.empresa.rut!=""){this.empresa.rut.replace(".","");var t=this.empresa.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.empresa.rut=s+"-"+a}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("../api/regiones").then(t=>{this.regiones=t.data,this.getRegionesSelect(this.empresa.idPais)}).catch(t=>console.log(t))},getComunas(){_.get("../api/comunas").then(t=>{this.comunas=t.data,this.getComunasSelect(this.empresa.idRegion)}).catch(t=>console.log(t))},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},async editarEmpresa(){if(await this.$refs.confirmation.show({title:"Editar Empresa",message:"¿Está seguro/a que desea editar esta Empresa Kam? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let a={rut:this.empresa.rut,razonSocial:this.empresa.razonSocial,giro:this.empresa.giro,direccion:this.empresa.direccion,idPais:this.empresa.idPais,idRegion:this.empresa.idRegion,idComuna:this.empresa.idComuna,telefono:this.empresa.telefono,fax:this.empresa.fax,codigoPostal:this.empresa.codigoPostal,tipo:this.empresa.tipo};var s=this.id;_.put(`../api/empresas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Empresa kam editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},YA={name:"modal"},QA={class:"modal-mask"},eF={class:"modal-wrapper"},tF={class:"modal-container-xs"},sF={class:"modal-header fw-bold",style:{color:"#444444"}},oF={class:"modal-body"},aF={class:"row"},lF={class:"col-6"},iF={class:"form-group"},rF=e("label",{for:"rut"},"Rut: ",-1),nF=e("br",null,null,-1),dF={class:"col-6"},cF={class:"form-group"},uF=e("label",{for:"razonSocial"},"Razón Social: ",-1),hF=e("br",null,null,-1),mF={class:"row"},pF={class:"col-6"},fF={class:"form-group"},bF=e("label",{for:"giro"},"Giro: ",-1),gF=e("br",null,null,-1),_F={class:"col-6"},vF={class:"form-group"},$F=e("label",{for:"direccion"},"Dirección: ",-1),yF=e("br",null,null,-1),CF={class:"row"},wF={class:"col-4"},kF={class:"form-group"},xF=e("label",{for:"pais"},"País: ",-1),PF=e("br",null,null,-1),EF=e("option",{disabled:"",value:""},"Seleccione un País",-1),TF=["value"],DF={class:"col-4"},BF={class:"form-group"},OF=e("label",{for:"region"},"Región: ",-1),MF=e("br",null,null,-1),SF=e("option",{disabled:"",value:""},"Seleccione una Región",-1),RF=["value"],AF=e("br",null,null,-1),FF={class:"col-4"},zF={class:"form-group"},UF=e("label",{for:"comuna"},"Comuna: ",-1),VF=e("br",null,null,-1),LF=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),jF=["value"],NF=e("br",null,null,-1),HF={class:"row"},IF={class:"col-6"},GF={class:"form-group"},qF=e("label",{for:"telefono"},"Teléfono: ",-1),KF=e("br",null,null,-1),XF={class:"col-6"},JF={class:"form-group"},ZF=e("label",{for:"fax"},"Fax: ",-1),WF=e("br",null,null,-1),YF={class:"row"},QF={class:"col-6"},e7={class:"form-group"},t7=e("label",{for:"codigoPostal"},"Código Postal: ",-1),s7=e("br",null,null,-1),o7={class:"col-6"},a7={class:"form-group"},l7=e("label",{for:"tipo"},"Tipo: ",-1),i7=e("br",null,null,-1),r7={class:"modal-footer"},n7=["disabled"];function d7(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",YA,[e("div",QA,[e("div",eF,[e("div",tF,[e("div",sF,[C(t.$slots,"header",{},()=>[p(" Editar empresa ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",oF,[C(t.$slots,"body",{},()=>[e("div",aF,[e("div",lF,[e("div",iF,[rF,nF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.empresa.rut=o),onKeyup:s[2]||(s[2]=o=>d.checkRut())},null,544),[[k,t.empresa.rut]])])]),e("div",dF,[e("div",cF,[uF,hF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.empresa.razonSocial=o)},null,512),[[k,t.empresa.razonSocial]])])])]),e("div",mF,[e("div",pF,[e("div",fF,[bF,gF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.empresa.giro=o)},null,512),[[k,t.empresa.giro]])])]),e("div",_F,[e("div",vF,[$F,yF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.empresa.direccion=o)},null,512),[[k,t.empresa.direccion]])])])]),e("div",CF,[e("div",wF,[e("div",kF,[xF,PF,f(e("select",{class:"form-select",onChange:s[6]||(s[6]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[7]||(s[7]=o=>t.empresa.idPais=o)},[EF,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,TF))),128))],544),[[A,t.empresa.idPais]])])]),e("div",DF,[e("div",BF,[OF,MF,f(e("select",{class:"form-select",onChange:s[8]||(s[8]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[9]||(s[9]=o=>t.empresa.idRegion=o)},[SF,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,RF))),128))],544),[[A,t.empresa.idRegion]]),AF])]),e("div",FF,[e("div",zF,[UF,VF,f(e("select",{class:"form-select","onUpdate:modelValue":s[10]||(s[10]=o=>t.empresa.idComuna=o)},[LF,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,jF))),128))],512),[[A,t.empresa.idComuna]]),NF])])]),e("div",HF,[e("div",IF,[e("div",GF,[qF,KF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=o=>t.empresa.telefono=o)},null,512),[[k,t.empresa.telefono]])])]),e("div",XF,[e("div",JF,[ZF,WF,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>t.empresa.fax=o)},null,512),[[k,t.empresa.fax]])])])]),e("div",YF,[e("div",QF,[e("div",e7,[t7,s7,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>t.empresa.codigoPostal=o)},null,512),[[k,t.empresa.codigoPostal]])])]),e("div",o7,[e("div",a7,[l7,i7,f(e("input",{type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=o=>t.empresa.tipo=o)},null,512),[[ne,t.empresa.tipo]])])])])])]),e("div",r7,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[15]||(s[15]=o=>d.editarEmpresa()),disabled:t.buttonDisable},i(t.buttonText),9,n7)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const c7=U(WA,[["render",d7]]),u7={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({empresaMarca:{nombre:"",idEmpresa:"",idMarca:""},marcas:[],empresas:[],id:null,buttonText:"Editar Empresa Kam",buttonDisable:!1,errors:[]}),props:{empresaMarca1:Object},created(){this.getEmpresas(),this.getMarcas(),this.empresaMarca.nombre=this.empresaMarca1.nombre,this.empresaMarca.idEmpresa=this.empresaMarca1.idEmpresa,this.empresaMarca.idMarca=this.empresaMarca1.idMarca,this.id=this.empresaMarca1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getMarcas(){_.get("../api/marcas").then(t=>{this.marcas=t.data}).catch(t=>console.log(t))},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},async editarEmpresaMarca(){if(await this.$refs.confirmation.show({title:"Editar Empresa-Marca",message:"¿Está seguro/a que desea editar esta relacion Empresa-Marca? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.empresaMarca.nombre,idEmpresa:this.empresaMarca.idEmpresa,idMarca:this.empresaMarca.idMarca};var s=this.id;_.put(`../api/empresasMarcas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Empresa-Marca editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},h7={name:"modal"},m7={class:"modal-mask"},p7={class:"modal-wrapper"},f7={class:"modal-container-xs"},b7={class:"modal-header fw-bold",style:{color:"#444444"}},g7={class:"modal-body"},_7={class:"row"},v7={class:"col-4"},$7={class:"form-group"},y7=e("label",{for:"nombre"},"Nombre: ",-1),C7=e("br",null,null,-1),w7={class:"col-4"},k7={class:"form-group"},x7=e("label",{for:"empresa"},"Empresa: ",-1),P7=e("br",null,null,-1),E7=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),T7=["value"],D7={class:"col-4"},B7={class:"form-group"},O7=e("label",{for:"marca"},"Marca: ",-1),M7=e("br",null,null,-1),S7=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),R7=["value"],A7={class:"modal-footer"},F7=["disabled"];function z7(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",h7,[e("div",m7,[e("div",p7,[e("div",f7,[e("div",b7,[C(t.$slots,"header",{},()=>[p(" Editar Empresa-Marcas ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",g7,[C(t.$slots,"body",{},()=>[e("div",_7,[e("div",v7,[e("div",$7,[y7,C7,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.empresaMarca.nombre=o)},null,512),[[k,t.empresaMarca.nombre]])])]),e("div",w7,[e("div",k7,[x7,P7,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.empresaMarca.idEmpresa=o)},[E7,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.razonSocial),9,T7))),128))],512),[[A,t.empresaMarca.idEmpresa]])])]),e("div",D7,[e("div",B7,[O7,M7,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.empresaMarca.idMarca=o)},[S7,(l(!0),r(P,null,E(t.marcas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,R7))),128))],512),[[A,t.empresaMarca.idMarca]])])])])])]),e("div",A7,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.editarEmpresaMarca()),disabled:t.buttonDisable},i(t.buttonText),9,F7)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const U7=U(u7,[["render",z7]]),V7={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({marca:{nombre:"",estado:""},id:null,buttonText:"Editar Empresa Kam",buttonDisable:!1,errors:[]}),props:{marca1:Object},created(){this.marca.nombre=this.marca1.nombre,this.marca.estado=this.marca1.estado,this.id=this.marca1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarMarca(){if(await this.$refs.confirmation.show({title:"Editar Marca",message:"¿Está seguro/a que desea editar esta Marca? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.marca.nombre,estado:this.marca.estado};var s=this.id;_.put(`../api/marcas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Marca editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},L7={name:"modal"},j7={class:"modal-mask"},N7={class:"modal-wrapper"},H7={class:"modal-container-xs"},I7={class:"modal-header fw-bold",style:{color:"#444444"}},G7={class:"modal-body"},q7={class:"row"},K7={class:"col-6"},X7={class:"form-group"},J7=e("label",{for:"nombre"},"Nombre: ",-1),Z7=e("br",null,null,-1),W7={class:"col-6"},Y7={class:"form-group"},Q7=e("br",null,null,-1),ez={class:"form-check"},tz=e("label",{class:"form-check-label",for:"flexCheckChecked"}," Estado ",-1),sz={class:"modal-footer"},oz=["disabled"];function az(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",L7,[e("div",j7,[e("div",N7,[e("div",H7,[e("div",I7,[C(t.$slots,"header",{},()=>[p(" Nueva Marcas ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",G7,[C(t.$slots,"body",{},()=>[e("div",q7,[e("div",K7,[e("div",X7,[J7,Z7,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.marca.nombre=o)},null,512),[[k,t.marca.nombre]])])]),e("div",W7,[e("div",Y7,[Q7,e("div",ez,[f(e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked","onUpdate:modelValue":s[2]||(s[2]=o=>t.marca.estado=o)},null,512),[[ne,t.marca.estado]]),tz])])])])])]),e("div",sz,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarMarca()),disabled:t.buttonDisable},i(t.buttonText),9,oz)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const lz=U(V7,[["render",az]]),iz={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({autorizador:{identificador:null,idUsuario:"",levelName:"",level:null},autorizadores2:[],buttonText:"Editar Autorizador",buttonDisable:!1,errors:[],id:""}),props:{autorizador1:Object},created(){this.getAutorizadores(),this.autorizador.identificador=this.autorizador1.identificador,this.autorizador.idUsuario=this.autorizador1.idUsuario,this.autorizador.levelName=this.autorizador1.levelName,this.autorizador.level=this.autorizador1.level,this.id=this.autorizador1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("../api/getAutorizadores").then(t=>{this.autorizadores2=t.data}).catch(t=>console.log(t))},async editarAutorizador(){if(await this.$refs.confirmation.show({title:"Editar Autorizador",message:"¿Está seguro/a que desea editar este autorizador? Esta acción no puede ser desecha.",okButton:"Editar",cancelButton:"Volver"})){let a={identificador:this.autorizador.identificador,idUsuario:this.autorizador.idUsuario,levelName:this.autorizador.levelName,level:this.autorizador.level};var s=this.id;_.put(`../api/autorizadores/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Área editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},rz={name:"modal"},nz={class:"modal-mask"},dz={class:"modal-wrapper"},cz={class:"modal-container-xs"},uz={class:"modal-header fw-bold",style:{color:"#444444"}},hz={class:"modal-body"},mz={class:"row"},pz={class:"col-6"},fz={class:"form-group"},bz=e("label",{for:"identificador"},"Identificador: ",-1),gz=e("br",null,null,-1),_z={class:"col-6"},vz={class:"form-group"},$z=e("label",{for:"Autorizador"},"Autorizador: ",-1),yz=e("br",null,null,-1),Cz=e("option",{disabled:"",value:""},"Seleccione un autorizador",-1),wz=["value"],kz={class:"row"},xz={class:"col-6"},Pz={class:"form-group"},Ez=e("label",{for:"levelName"},"Level Name: ",-1),Tz=e("br",null,null,-1),Dz=e("option",{disabled:"",value:""},"Seleccione un nivel",-1),Bz=e("option",{value:"facturas"},"facturas",-1),Oz=[Dz,Bz],Mz={class:"col-6"},Sz=e("br",null,null,-1),Rz={class:"form-check"},Az=e("label",{class:"form-check-label",for:"flexCheckChecked"}," Level ",-1),Fz={class:"modal-footer"},zz=["disabled"];function Uz(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",rz,[e("div",nz,[e("div",dz,[e("div",cz,[e("div",uz,[C(t.$slots,"header",{},()=>[p(" Editar Autorizador ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",hz,[C(t.$slots,"body",{},()=>[e("div",mz,[e("div",pz,[e("div",fz,[bz,gz,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.autorizador.identificador=o)},null,512),[[k,t.autorizador.identificador]])])]),e("div",_z,[e("div",vz,[$z,yz,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.autorizador.idUsuario=o)},[Cz,(l(!0),r(P,null,E(t.autorizadores2,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,wz))),128))],512),[[A,t.autorizador.idUsuario]])])])]),e("div",kz,[e("div",xz,[e("div",Pz,[Ez,Tz,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.autorizador.levelName=o)},Oz,512),[[A,t.autorizador.levelName]])])]),e("div",Mz,[Sz,e("div",Rz,[f(e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked","onUpdate:modelValue":s[4]||(s[4]=o=>t.autorizador.level=o)},null,512),[[ne,t.autorizador.level]]),Az])])])])]),e("div",Fz,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.editarAutorizador()),disabled:t.buttonDisable},i(t.buttonText),9,zz)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Vz=U(iz,[["render",Uz]]),Lz={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Departamento",buttonDisable:!1,nombreDepartamento:"",errors:[]}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearDepartamento(){if(await this.$refs.confirmation.show({title:"Crear Departamento",message:`¿Está seguro/a que desea crear el departamento '${this.nombreDepartamento}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={departamento:this.nombreDepartamento};_.post("../api/departamentos",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Departamento guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},jz={name:"modal"},Nz={class:"modal-mask"},Hz={class:"modal-wrapper"},Iz={class:"modal-container-xs"},Gz={class:"modal-header fw-bold",style:{color:"#444444"}},qz={class:"modal-body"},Kz={class:"form-group"},Xz=e("label",{for:"name"},"Nombre del Departamento: ",-1),Jz=e("br",null,null,-1),Zz={key:0,class:"error"},Wz={class:"modal-footer"},Yz=["disabled"];function Qz(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",jz,[e("div",Nz,[e("div",Hz,[e("div",Iz,[e("div",Gz,[C(t.$slots,"header",{},()=>[p(" Nuevo Departamento ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",qz,[C(t.$slots,"body",{},()=>[e("div",Kz,[Xz,Jz,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreDepartamento=o)},null,512),[[k,t.nombreDepartamento]]),t.errors&&t.errors.departamento?(l(),r("div",Zz,i(t.errors.departamento[0]),1)):m("",!0)])])]),e("div",Wz,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearDepartamento()),disabled:t.buttonDisable},i(t.buttonText),9,Yz)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const e9=U(Lz,[["render",Qz]]),t9={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Área",buttonDisable:!1,nombreArea:"",idDepartamento:"",departamentos:null,errors:[]}),created(){this.getDepartamentos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getDepartamentos(){_.get("../api/departamentos").then(t=>{this.departamentos=t.data}).catch(t=>console.log(t))},async crearArea(){if(await this.$refs.confirmation.show({title:"Crear Área",message:`¿Está seguro/a que desea crear el área '${this.nombreArea}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={idDepartamento:this.idDepartamento,area:this.nombreArea,idDepArea:this.idDepartamento+this.nombreArea};_.post("../api/areas",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Área guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.errors.idDepArea?this.toast.warning(this.errors.idDepArea[0],{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},s9={name:"modal"},o9={class:"modal-mask"},a9={class:"modal-wrapper"},l9={class:"modal-container-xs"},i9={class:"modal-header fw-bold",style:{color:"#444444"}},r9={class:"modal-body"},n9={class:"form-group"},d9=e("label",{for:"name"},"Nombre del Área: ",-1),c9=e("br",null,null,-1),u9={key:0,class:"error"},h9={class:"form-group"},m9=e("label",{for:"departamentos"},"Departamento: ",-1),p9=e("br",null,null,-1),f9=e("option",{disabled:"",value:""},"Seleccione un departamento",-1),b9=["value"],g9={key:0,class:"error"},_9={class:"modal-footer"},v9=["disabled"];function $9(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",s9,[e("div",o9,[e("div",a9,[e("div",l9,[e("div",i9,[C(t.$slots,"header",{},()=>[p(" Nuevo Área ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",r9,[C(t.$slots,"body",{},()=>[e("div",n9,[d9,c9,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreArea=o)},null,512),[[k,t.nombreArea]]),t.errors&&t.errors.area?(l(),r("div",u9,i(t.errors.area[0]),1)):m("",!0)]),e("div",h9,[m9,p9,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idDepartamento=o)},[f9,(l(!0),r(P,null,E(t.departamentos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.departamento),9,b9))),128))],512),[[A,t.idDepartamento]]),t.errors&&t.errors.idDepartamento?(l(),r("div",g9,i(t.errors.idDepartamento[0]),1)):m("",!0)])])]),e("div",_9,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearArea()),disabled:t.buttonDisable},i(t.buttonText),9,v9)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const y9=U(t9,[["render",$9]]),C9={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({kam:{idUsuario:"",idEmpresa:""},usuarios:[],empresas:[],buttonText:"Crear Empresa Kam",buttonDisable:!1,errors:[]}),created(){this.getUsuarios(),this.getEmpresas()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},async crearEmpresaKam(){this.errors=[];for(const s in this.kam)(this.kam[s]===""||this.kam[s]===0||this.kam[s]===null)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Empresa Kam",message:"¿Está seguro/a que desea crear esta Empresa Kam ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={idUsuario:this.kam.idUsuario,idEmpresa:this.kam.idEmpresa};_.post("../api/empresasKam",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Empresa kam guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},w9={name:"modal"},k9={class:"modal-mask"},x9={class:"modal-wrapper"},P9={class:"modal-container-xs"},E9={class:"modal-header fw-bold",style:{color:"#444444"}},T9={class:"modal-body"},D9={class:"row"},B9={class:"col-6"},O9={class:"form-group"},M9=e("label",{for:"usuario"},"Usuario: ",-1),S9=e("br",null,null,-1),R9=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),A9=["value"],F9={class:"col-6"},z9={class:"form-group"},U9=e("label",{for:"empresa"},"Empresa: ",-1),V9=e("br",null,null,-1),L9=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),j9=["value"],N9={class:"modal-footer"},H9=["disabled"];function I9(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",w9,[e("div",k9,[e("div",x9,[e("div",P9,[e("div",E9,[C(t.$slots,"header",{},()=>[p(" Nueva empresa kam ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",T9,[C(t.$slots,"body",{},()=>[e("div",D9,[e("div",B9,[e("div",O9,[M9,S9,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.kam.idUsuario=o)},[R9,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,A9))),128))],512),[[A,t.kam.idUsuario]])])]),e("div",F9,[e("div",z9,[U9,V9,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.kam.idEmpresa=o)},[L9,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.razonSocial),9,j9))),128))],512),[[A,t.kam.idEmpresa]])])])])])]),e("div",N9,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearEmpresaKam()),disabled:t.buttonDisable},i(t.buttonText),9,H9)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const G9=U(C9,[["render",I9]]),q9={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({empresa:{rut:null,razonSocial:null,giro:null,direccion:null,idPais:null,idRegion:null,idComuna:null,telefono:null,fax:null,codigoPostal:null,tipo:null},paises:[],regiones:[],comunas:[],regionesSelect:[],comunasSelect:[],buttonText:"Crear Empresa",buttonDisable:!1,errors:[]}),created(){this.getPaises(),this.getRegiones(),this.getComunas()},methods:{checkRut(){if(this.empresa.rut!=""){this.empresa.rut.replace(".","");var t=this.empresa.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.empresa.rut=s+"-"+a}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("../api/regiones").then(t=>{this.regiones=t.data}).catch(t=>console.log(t))},getComunas(){_.get("../api/comunas").then(t=>{this.comunas=t.data}).catch(t=>console.log(t))},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},async crearEmpresa(){this.errors=[];for(const s in this.empresa)(this.empresa[s]===""||this.empresa[s]===0||this.empresa[s]===null)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Empresa",message:"¿Está seguro/a que desea crear esta Empresa ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={rut:this.empresa.rut,razonSocial:this.empresa.razonSocial,giro:this.empresa.giro,direccion:this.empresa.direccion,idPais:this.empresa.idPais,idRegion:this.empresa.idRegion,idComuna:this.empresa.idComuna,telefono:this.empresa.telefono,fax:this.empresa.fax,codigoPostal:this.empresa.codigoPostal,tipo:this.empresa.tipo};_.post("../api/empresas",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Empresa guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},K9={name:"modal"},X9={class:"modal-mask"},J9={class:"modal-wrapper"},Z9={class:"modal-container-xs"},W9={class:"modal-header fw-bold",style:{color:"#444444"}},Y9={class:"modal-body"},Q9={class:"row"},eU={class:"col-6"},tU={class:"form-group"},sU=e("label",{for:"rut"},"Rut: ",-1),oU=e("br",null,null,-1),aU={class:"col-6"},lU={class:"form-group"},iU=e("label",{for:"razonSocial"},"Razón Social: ",-1),rU=e("br",null,null,-1),nU={class:"row"},dU={class:"col-6"},cU={class:"form-group"},uU=e("label",{for:"giro"},"Giro: ",-1),hU=e("br",null,null,-1),mU={class:"col-6"},pU={class:"form-group"},fU=e("label",{for:"direccion"},"Dirección: ",-1),bU=e("br",null,null,-1),gU={class:"row"},_U={class:"col-4"},vU={class:"form-group"},$U=e("label",{for:"pais"},"País: ",-1),yU=e("br",null,null,-1),CU=e("option",{disabled:"",value:""},"Seleccione un País",-1),wU=["value"],kU={class:"col-4"},xU={class:"form-group"},PU=e("label",{for:"region"},"Región: ",-1),EU=e("br",null,null,-1),TU=e("option",{disabled:"",value:""},"Seleccione una Región",-1),DU=["value"],BU=e("br",null,null,-1),OU={class:"col-4"},MU={class:"form-group"},SU=e("label",{for:"comuna"},"Comuna: ",-1),RU=e("br",null,null,-1),AU=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),FU=["value"],zU=e("br",null,null,-1),UU={class:"row"},VU={class:"col-6"},LU={class:"form-group"},jU=e("label",{for:"telefono"},"Teléfono: ",-1),NU=e("br",null,null,-1),HU={class:"col-6"},IU={class:"form-group"},GU=e("label",{for:"fax"},"Fax: ",-1),qU=e("br",null,null,-1),KU={class:"row"},XU={class:"col-6"},JU={class:"form-group"},ZU=e("label",{for:"codigoPostal"},"Código Postal: ",-1),WU=e("br",null,null,-1),YU={class:"col-6"},QU={class:"form-group"},eV=e("label",{for:"tipo"},"Tipo: ",-1),tV=e("br",null,null,-1),sV={class:"modal-footer"},oV=["disabled"];function aV(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",K9,[e("div",X9,[e("div",J9,[e("div",Z9,[e("div",W9,[C(t.$slots,"header",{},()=>[p(" Nueva empresa ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Y9,[C(t.$slots,"body",{},()=>[e("div",Q9,[e("div",eU,[e("div",tU,[sU,oU,f(e("input",{type:"text",class:"form-control",onKeyup:s[1]||(s[1]=o=>d.checkRut()),"onUpdate:modelValue":s[2]||(s[2]=o=>t.empresa.rut=o)},null,544),[[k,t.empresa.rut]])])]),e("div",aU,[e("div",lU,[iU,rU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.empresa.razonSocial=o)},null,512),[[k,t.empresa.razonSocial]])])])]),e("div",nU,[e("div",dU,[e("div",cU,[uU,hU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.empresa.giro=o)},null,512),[[k,t.empresa.giro]])])]),e("div",mU,[e("div",pU,[fU,bU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.empresa.direccion=o)},null,512),[[k,t.empresa.direccion]])])])]),e("div",gU,[e("div",_U,[e("div",vU,[$U,yU,f(e("select",{class:"form-select",onChange:s[6]||(s[6]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[7]||(s[7]=o=>t.empresa.idPais=o)},[CU,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,wU))),128))],544),[[A,t.empresa.idPais]])])]),e("div",kU,[e("div",xU,[PU,EU,f(e("select",{class:"form-select",onChange:s[8]||(s[8]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[9]||(s[9]=o=>t.empresa.idRegion=o)},[TU,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,DU))),128))],544),[[A,t.empresa.idRegion]]),BU])]),e("div",OU,[e("div",MU,[SU,RU,f(e("select",{class:"form-select","onUpdate:modelValue":s[10]||(s[10]=o=>t.empresa.idComuna=o)},[AU,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,FU))),128))],512),[[A,t.empresa.idComuna]]),zU])])]),e("div",UU,[e("div",VU,[e("div",LU,[jU,NU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=o=>t.empresa.telefono=o)},null,512),[[k,t.empresa.telefono]])])]),e("div",HU,[e("div",IU,[GU,qU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>t.empresa.fax=o)},null,512),[[k,t.empresa.fax]])])])]),e("div",KU,[e("div",XU,[e("div",JU,[ZU,WU,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>t.empresa.codigoPostal=o)},null,512),[[k,t.empresa.codigoPostal]])])]),e("div",YU,[e("div",QU,[eV,tV,f(e("input",{type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=o=>t.empresa.tipo=o)},null,512),[[ne,t.empresa.tipo]])])])])])]),e("div",sV,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[15]||(s[15]=o=>d.crearEmpresa()),disabled:t.buttonDisable},i(t.buttonText),9,oV)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const lV=U(q9,[["render",aV]]),iV={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({empresaMarca:{nombre:"",idEmpresa:"",idMarca:""},marcas:[],empresas:[],buttonText:"Crear Empresa Kam",buttonDisable:!1,errors:[]}),created(){this.getEmpresas(),this.getMarcas()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getMarcas(){_.get("../api/marcas").then(t=>{this.marcas=t.data}).catch(t=>console.log(t))},getEmpresas(){_.get("../api/empresas").then(t=>{this.empresas=t.data}).catch(t=>console.log(t))},async crearEmpresaMarca(){this.errors=[];for(const s in this.empresaMarca)(this.empresaMarca[s]===""||this.empresaMarca[s]===0||this.empresaMarca[s]===null)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Empresa Marca",message:"¿Está seguro/a que desea crear esta Empresa-Marca ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={nombre:this.empresaMarca.nombre,idEmpresa:this.empresaMarca.idEmpresa,idMarca:this.empresaMarca.idMarca};_.post("../api/empresasMarcas",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Empresa-Marca guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},rV={name:"modal"},nV={class:"modal-mask"},dV={class:"modal-wrapper"},cV={class:"modal-container-xs"},uV={class:"modal-header fw-bold",style:{color:"#444444"}},hV={class:"modal-body"},mV={class:"row"},pV={class:"col-4"},fV={class:"form-group"},bV=e("label",{for:"nombre"},"Nombre: ",-1),gV=e("br",null,null,-1),_V={class:"col-4"},vV={class:"form-group"},$V=e("label",{for:"empresa"},"Empresa: ",-1),yV=e("br",null,null,-1),CV=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),wV=["value"],kV={class:"col-4"},xV={class:"form-group"},PV=e("label",{for:"marca"},"Marca: ",-1),EV=e("br",null,null,-1),TV=e("option",{disabled:"",value:""},"Seleccione una empresa",-1),DV=["value"],BV={class:"modal-footer"},OV=["disabled"];function MV(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",rV,[e("div",nV,[e("div",dV,[e("div",cV,[e("div",uV,[C(t.$slots,"header",{},()=>[p(" Nueva Empresa-Marcas ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",hV,[C(t.$slots,"body",{},()=>[e("div",mV,[e("div",pV,[e("div",fV,[bV,gV,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.empresaMarca.nombre=o)},null,512),[[k,t.empresaMarca.nombre]])])]),e("div",_V,[e("div",vV,[$V,yV,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.empresaMarca.idEmpresa=o)},[CV,(l(!0),r(P,null,E(t.empresas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.razonSocial),9,wV))),128))],512),[[A,t.empresaMarca.idEmpresa]])])]),e("div",kV,[e("div",xV,[PV,EV,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.empresaMarca.idMarca=o)},[TV,(l(!0),r(P,null,E(t.marcas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,DV))),128))],512),[[A,t.empresaMarca.idMarca]])])])])])]),e("div",BV,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.crearEmpresaMarca()),disabled:t.buttonDisable},i(t.buttonText),9,OV)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const SV=U(iV,[["render",MV]]),RV={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({marca:{nombre:"",estado:""},buttonText:"Crear Marca",buttonDisable:!1,errors:[]}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearMarca(){this.errors=[];for(const s in this.marca)(this.marca[s]===""||this.marca[s]===0||this.marca[s]===null)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Marca",message:"¿Está seguro/a que desea crear esta Marca ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={nombre:this.marca.nombre,estado:this.marca.estado};_.post("../api/marcas",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Marca guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},AV={name:"modal"},FV={class:"modal-mask"},zV={class:"modal-wrapper"},UV={class:"modal-container-xs"},VV={class:"modal-header fw-bold",style:{color:"#444444"}},LV={class:"modal-body"},jV={class:"row"},NV={class:"col-6"},HV={class:"form-group"},IV=e("label",{for:"nombre"},"Nombre: ",-1),GV=e("br",null,null,-1),qV={class:"col-6"},KV={class:"form-group"},XV=e("br",null,null,-1),JV={class:"form-check"},ZV=e("label",{class:"form-check-label",for:"flexCheckChecked"}," Estado ",-1),WV={class:"modal-footer"},YV=["disabled"];function QV(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",AV,[e("div",FV,[e("div",zV,[e("div",UV,[e("div",VV,[C(t.$slots,"header",{},()=>[p(" Nueva Marcas ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",LV,[C(t.$slots,"body",{},()=>[e("div",jV,[e("div",NV,[e("div",HV,[IV,GV,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.marca.nombre=o)},null,512),[[k,t.marca.nombre]])])]),e("div",qV,[e("div",KV,[XV,e("div",JV,[f(e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked","onUpdate:modelValue":s[2]||(s[2]=o=>t.marca.estado=o)},null,512),[[ne,t.marca.estado]]),ZV])])])])])]),e("div",WV,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearMarca()),disabled:t.buttonDisable},i(t.buttonText),9,YV)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const eL=U(RV,[["render",QV]]),tL={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({autorizador:{identificador:null,idUsuario:"",levelName:"",level:null},autorizadores2:[],buttonText:"Crear Autorizador",buttonDisable:!1,errors:[]}),created(){this.getAutorizadores()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("../api/getAutorizadores").then(t=>{this.autorizadores2=t.data}).catch(t=>console.log(t))},async crearAFP(){this.errors=[];for(const s in this.autorizador)(this.autorizador[s]===""||this.autorizador[s]===0||this.autorizador[s]===null)&&(s=="level"||this.errors.push(s));var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Autorizador",message:"¿Está seguro/a que desea crear este autorizador? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={identificador:this.autorizador.identificador,idUsuario:this.autorizador.idUsuario,levelName:this.autorizador.levelName,level:this.autorizador.level};_.post("../api/autorizadores",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizador guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},sL={name:"modal"},oL={class:"modal-mask"},aL={class:"modal-wrapper"},lL={class:"modal-container-xs"},iL={class:"modal-header fw-bold",style:{color:"#444444"}},rL={class:"modal-body"},nL={class:"row"},dL={class:"col-6"},cL={class:"form-group"},uL=e("label",{for:"identificador"},"Identificador: ",-1),hL=e("br",null,null,-1),mL={class:"col-6"},pL={class:"form-group"},fL=e("label",{for:"Autorizador"},"Autorizador: ",-1),bL=e("br",null,null,-1),gL=e("option",{disabled:"",value:""},"Seleccione un autorizador",-1),_L=["value"],vL={class:"row"},$L={class:"col-6"},yL={class:"form-group"},CL=e("label",{for:"levelName"},"Nombre Nivel: ",-1),wL=e("br",null,null,-1),kL=e("option",{disabled:"",value:""},"Seleccione un nivel",-1),xL=e("option",{value:"facturas"},"facturas",-1),PL=[kL,xL],EL={class:"col-6"},TL=e("br",null,null,-1),DL={class:"form-check"},BL=e("label",{class:"form-check-label",for:"flexCheckChecked"}," Alto Nivel ",-1),OL={class:"modal-footer"},ML=["disabled"];function SL(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",sL,[e("div",oL,[e("div",aL,[e("div",lL,[e("div",iL,[C(t.$slots,"header",{},()=>[p(" Nuevo autorizador ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",rL,[C(t.$slots,"body",{},()=>[e("div",nL,[e("div",dL,[e("div",cL,[uL,hL,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.autorizador.identificador=o)},null,512),[[k,t.autorizador.identificador]])])]),e("div",mL,[e("div",pL,[fL,bL,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.autorizador.idUsuario=o)},[gL,(l(!0),r(P,null,E(t.autorizadores2,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,_L))),128))],512),[[A,t.autorizador.idUsuario]])])])]),e("div",vL,[e("div",$L,[e("div",yL,[CL,wL,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.autorizador.levelName=o)},PL,512),[[A,t.autorizador.levelName]])])]),e("div",EL,[TL,e("div",DL,[f(e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked","onUpdate:modelValue":s[4]||(s[4]=o=>t.autorizador.level=o)},null,512),[[ne,t.autorizador.level]]),BL])])])])]),e("div",OL,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.crearAFP()),disabled:t.buttonDisable},i(t.buttonText),9,ML)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const RL=U(tL,[["render",SL]]),AL={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Proveedor",buttonDisable:!1,errors:[],autorizadores:null,proveedorCreate:{rut:null,razonSocial:null,codSocioNegocio:null,idAuthAso1:null,idAuthAso2:null}}),created(){this.getAutorizadores()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("../api/autorizadores").then(t=>{this.autorizadores=t.data}).catch(t=>console.log(t))},async crearProveedor(){if(await this.$refs.confirmation.show({title:"Crear Proveedor",message:"¿Está seguro/a que desea agregar a este proveedor a la lista? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let s={estado:this.proveedorCreate.estado,rut:this.proveedorCreate.rut,razonSocial:this.proveedorCreate.razonSocial,codSocioNegocio:this.proveedorCreate.codSocioNegocio,idAuthAso1:this.proveedorCreate.idAuthAso1,idAuthAso2:this.proveedorCreate.idAuthAso2};_.post("../api/proveedores",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Proveedor guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},FL={name:"modal"},zL={class:"modal-mask"},UL={class:"modal-wrapper"},VL={class:"modal-container-xs"},LL={class:"modal-header fw-bold",style:{color:"#444444"}},jL={class:"modal-body"},NL={class:"row"},HL={class:"col-6"},IL={class:"form-group"},GL=e("label",{for:"rut"},"Rut: ",-1),qL={key:0,class:"error"},KL={class:"col-6"},XL={class:"form-group"},JL=e("label",{for:"codSocioNegocio"},"Código Socio de Negocios: ",-1),ZL={key:0,class:"error"},WL={class:"col-12"},YL={class:"form-group"},QL=e("label",{for:"razonSocial"},"Razón Social: ",-1),ej={key:0,class:"error"},tj={class:"col-12"},sj={class:"form-group"},oj=e("label",{for:""},"Autorizador 1: ",-1),aj=e("br",null,null,-1),lj=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),ij=["value"],rj={key:0,class:"error"},nj={class:"col-12"},dj={class:"form-group"},cj=e("label",{for:""},"Autorizador 2: ",-1),uj=e("br",null,null,-1),hj=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),mj=["value"],pj={key:0,class:"error"},fj={class:"modal-footer"},bj=["disabled"];function gj(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",FL,[e("div",zL,[e("div",UL,[e("div",VL,[e("div",LL,[C(t.$slots,"header",{},()=>[p(" Nuevo Proveedor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",jL,[C(t.$slots,"body",{},()=>[e("div",NL,[e("div",HL,[e("div",IL,[GL,f(e("input",{type:"rut",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.proveedorCreate.rut=o)},null,512),[[k,t.proveedorCreate.rut]])]),t.errors&&t.errors.rut?(l(),r("div",qL,i(t.errors.rut[0]),1)):m("",!0)]),e("div",KL,[e("div",XL,[JL,f(e("input",{type:"codSocioNegocio",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.proveedorCreate.codSocioNegocio=o)},null,512),[[k,t.proveedorCreate.codSocioNegocio]])]),t.errors&&t.errors.codSocioNegocio?(l(),r("div",ZL,i(t.errors.codSocioNegocio[0]),1)):m("",!0)]),e("div",WL,[e("div",YL,[QL,f(e("input",{type:"razonSocial",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.proveedorCreate.razonSocial=o)},null,512),[[k,t.proveedorCreate.razonSocial]])]),t.errors&&t.errors.razonSocial?(l(),r("div",ej,i(t.errors.razonSocial[0]),1)):m("",!0)]),e("div",tj,[e("div",sj,[oj,aj,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.proveedorCreate.idAuthAso1=o)},[lj,(l(!0),r(P,null,E(t.autorizadores,o=>(l(),r("option",{key:o.id,value:o.id},i(o.usuario.name),9,ij))),128))],512),[[A,t.proveedorCreate.idAuthAso1]])]),t.errors&&t.errors.idAuthAso1?(l(),r("div",rj,i(t.errors.idAuthAso1[0]),1)):m("",!0)]),e("div",nj,[e("div",dj,[cj,uj,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.proveedorCreate.idAuthAso2=o)},[hj,(l(!0),r(P,null,E(t.autorizadores,o=>(l(),r("option",{key:o.id,value:o.id},i(o.usuario.name),9,mj))),128))],512),[[A,t.proveedorCreate.idAuthAso2]])]),t.errors&&t.errors.idAuthAso2?(l(),r("div",pj,i(t.errors.idAuthAso2[0]),1)):m("",!0)])])])]),e("div",fj,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[6]||(s[6]=o=>d.crearProveedor()),disabled:t.buttonDisable},i(t.buttonText),9,bj)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const _j=U(AL,[["render",gj]]),vj={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Proveedor",buttonDisable:!1,rut:null,razonSocial:null,codSocioNegocio:null,idAuthAso1:null,idAuthAso2:null,errors:null,autorizadores:null}),props:{proveedor1:Object},created(){this.rut=this.proveedor1.rut,this.razonSocial=this.proveedor1.razonSocial,this.codSocioNegocio=this.proveedor1.codSocioNegocio,this.idAuthAso1=this.proveedor1.idAuthAso1,this.idAuthAso2=this.proveedor1.idAuthAso2,this.getAutorizadores()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getAutorizadores(){_.get("../api/autorizadores").then(t=>{this.autorizadores=t.data}).catch(t=>console.log(t))},async editarProveedor(){if(await this.$refs.confirmation.show({title:"Editar proveedor",message:`¿Está seguro/a que desea editar los datos del proveedor con rut '${this.rut}' con la razón social '${this.razonSocial}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={rut:this.rut,razonSocial:this.razonSocial,codSocioNegocio:this.codSocioNegocio,idAuthAso1:this.idAuthAso1,idAuthAso2:this.idAuthAso2};var s=this.proveedor1.id;_.put(`../api/proveedores/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Datos del proveedor editados con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},$j={name:"modal"},yj={class:"modal-mask"},Cj={class:"modal-wrapper"},wj={class:"modal-container-xs"},kj={class:"modal-header fw-bold",style:{color:"#444444"}},xj={class:"modal-body"},Pj={class:"row"},Ej={class:"col-6"},Tj={class:"form-group"},Dj=e("label",{for:"rut"},"Rut: ",-1),Bj={key:0,class:"error"},Oj={class:"col-6"},Mj={class:"form-group"},Sj=e("label",{for:"codSocioNegocio"},"Código Socio de Negocios: ",-1),Rj={key:0,class:"error"},Aj={class:"col-12"},Fj={class:"form-group"},zj=e("label",{for:"razonSocial"},"Razón Social: ",-1),Uj={key:0,class:"error"},Vj={class:"col-12"},Lj={class:"form-group"},jj=e("label",{for:""},"Autorizador 1: ",-1),Nj=e("br",null,null,-1),Hj=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Ij=["value"],Gj={key:0,class:"error"},qj={class:"col-12"},Kj={class:"form-group"},Xj=e("label",{for:""},"Autorizador 2: ",-1),Jj=e("br",null,null,-1),Zj=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Wj=["value"],Yj={key:0,class:"error"},Qj={class:"modal-footer"},eN=["disabled"];function tN(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",$j,[e("div",yj,[e("div",Cj,[e("div",wj,[e("div",kj,[C(t.$slots,"header",{},()=>[p(" Editar Proveedor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",xj,[C(t.$slots,"body",{},()=>[e("div",Pj,[e("div",Ej,[e("div",Tj,[Dj,f(e("input",{type:"rut",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.rut=o)},null,512),[[k,t.rut]])]),t.errors&&t.errors.rut?(l(),r("div",Bj,i(t.errors.rut[0]),1)):m("",!0)]),e("div",Oj,[e("div",Mj,[Sj,f(e("input",{type:"codSocioNegocio",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.codSocioNegocio=o)},null,512),[[k,t.codSocioNegocio]])]),t.errors&&t.errors.codSocioNegocio?(l(),r("div",Rj,i(t.errors.codSocioNegocio[0]),1)):m("",!0)]),e("div",Aj,[e("div",Fj,[zj,f(e("input",{type:"razonSocial",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.razonSocial=o)},null,512),[[k,t.razonSocial]])]),t.errors&&t.errors.razonSocial?(l(),r("div",Uj,i(t.errors.razonSocial[0]),1)):m("",!0)]),e("div",Vj,[e("div",Lj,[jj,Nj,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.idAuthAso1=o)},[Hj,(l(!0),r(P,null,E(t.autorizadores,o=>(l(),r("option",{key:o.id,value:o.id},i(o.usuario.name),9,Ij))),128))],512),[[A,t.idAuthAso1]])]),t.errors&&t.errors.idAuthAso1?(l(),r("div",Gj,i(t.errors.idAuthAso1[0]),1)):m("",!0)]),e("div",qj,[e("div",Kj,[Xj,Jj,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.idAuthAso2=o)},[Zj,(l(!0),r(P,null,E(t.autorizadores,o=>(l(),r("option",{key:o.id,value:o.id},i(o.usuario.name),9,Wj))),128))],512),[[A,t.idAuthAso2]])]),t.errors&&t.errors.idAuthAso2?(l(),r("div",Yj,i(t.errors.idAuthAso2[0]),1)):m("",!0)])])]),e("div",Qj,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[6]||(s[6]=o=>d.editarProveedor()),disabled:t.buttonDisable},i(t.buttonText),9,eN)])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const sN=U(vj,[["render",tN]]),oN={components:{modalEditProveedor:sN,modalCreateProveedor:_j,modalconfirmacion:j,modalalerta:N,modalCreateDepartamento:e9,modalEditDepto:aA,modalCreateArea:y9,modalEditArea:PA,modalCreateAutorizador:RL,modalEditAutorizador:Vz,modalEditEmpresaKam:ZA,modalCreateEmpresaKam:G9,modalCreateEmpresa:lV,modalEditEmpresa:c7,modalCreateEmpresaMarca:SV,modalEditEmpresaMarca:U7,modalCreateMarca:eL,modalEditMarca:lz},mixins:[V],data:()=>({isVisibleProveedores:!1,proveedores:null,showEditProveedor:!1,proveedorEdit:null,showCreateProveedor:!1,isVisibleDepartamentos:!0,departamentos:null,showEditDepartamento:!1,deptoEdit:null,showCreateDepartamento:!1,isVisibleAreas:!1,areas:null,showEditArea:!1,areaEdit:null,showCreateArea:!1,isVisibleEmpresas:!1,empresas:null,showEditEmpresa:!1,empresaEdit:null,showCreateEmpresa:!1,isVisibleMarcas:!1,marcas:null,showEditMarca:!1,marcaEdit:null,showCreateMarca:!1,isVisibleEmpresasMarcas:!1,empresasMarcas:null,showEditEmpresaMarca:!1,empresaMarcaEdit:null,showCreateEmpresaMarca:!1,isVisibleAutorizadores:!1,autorizadores:null,showEditAutorizador:!1,autorizadorEdit:null,showCreateAutorizador:!1,isVisibleEmpresasKam:!1,empresasKam:null,showEditEmpresasKam:!1,empresasKamEdit:null,showCreateEmpresaKam:!1,tableDeptos:null,mostrarCarga1:!0,mostrarTabla:!1,tableAreas:null,mostrarCarga2:!0,mostrarTabla2:!1,tableEmpresas:null,mostrarCarga3:!0,mostrarTabla3:!1,tableMarcas:null,mostrarCarga4:!0,mostrarTabla4:!1,tableAutorizadores:null,mostrarCarga5:!0,mostrarTabla5:!1,tableEmpresasKam:null,mostrarCarga6:!0,mostrarTabla6:!1,tableEmpresasMarcas:null,mostrarCarga7:!0,mostrarTabla7:!1,tableProveedores:null,mostrarCarga8:!0,mostrarTabla8:!1}),created(){this.getDepartamentos()},methods:{recargarTabla(t){t=="Departamento"&&(this.departamentos=null,this.mostrarCarga1=!0,this.getDepartamentos()),t=="Area"&&(this.areas=null,this.mostrarCarga2=!0,this.getAreas()),t=="Empresa"&&(this.empresas=null,this.mostrarCarga3=!0,this.getEmpresas()),t=="Marca"&&(this.marcas=null,this.mostrarCarga4=!0,this.getMarcas()),t=="EmpresaMarca"&&(this.empresasMarcas=null,this.mostrarCarga7=!0,this.getEmpresasMarcas()),t=="Autorizador"&&(this.autorizadores=null,this.mostrarCarga5=!0,this.getAutorizadores()),t=="EmpresasKam"&&(this.empresasKam=null,this.mostrarCarga6=!0,this.getEmpresasKam()),t=="Proveedores"&&(this.proveedores=null,this.mostrarCarga8=!0,this.getProveedores())},crearTablas(t){t=="Departamento"&&setTimeout(function(){this.tableDeptos=$("#MyTableDepartamentos").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableDeptos.buttons().remove(),this.mostrarCarga1=!1,this.mostrarTabla1=!0}.bind(this),200),t=="Area"&&setTimeout(function(){this.tableAreas=$("#MyTableAreas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableAreas.buttons().remove(),this.mostrarCarga2=!1,this.mostrarTabla2=!0}.bind(this),200),t=="Empresa"&&setTimeout(function(){this.tableEmpresas=$("#MyTableEmpresas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableEmpresas.buttons().remove(),this.mostrarCarga3=!1,this.mostrarTabla3=!0}.bind(this),200),t=="Marca"&&setTimeout(function(){this.tableMarcas=$("#MyTableMarcas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableMarcas.buttons().remove(),this.mostrarCarga4=!1,this.mostrarTabla4=!0}.bind(this),200),t=="EmpresaMarca"&&setTimeout(function(){this.tableEmpresasMarcas=$("#MyTableEmpresasMarcas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableEmpresasMarcas.buttons().remove(),this.mostrarCarga7=!1,this.mostrarTabla7=!0}.bind(this),200),t=="Autorizador"&&setTimeout(function(){this.tableAutorizadores=$("#MyTableAutorizadores").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableAutorizadores.buttons().remove(),this.mostrarCarga5=!1,this.mostrarTabla5=!0}.bind(this),200),t=="EmpresasKam"&&setTimeout(function(){this.tableEmpresasKam=$("#MyTableEmpresasKam").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableEmpresasKam.buttons().remove(),this.mostrarCarga6=!1,this.mostrarTabla6=!0}.bind(this),200),t=="Proveedores"&&setTimeout(function(){this.tableProveedores=$("#MyTableProveedores").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableProveedores.buttons().remove(),this.mostrarCarga8=!1,this.mostrarTabla8=!0}.bind(this),200)},botonCheck(t){this.isVisibleDepartamentos=!1,this.isVisibleAreas=!1,this.isVisibleEmpresas=!1,this.isVisibleMarcas=!1,this.isVisibleEmpresasMarcas=!1,this.isVisibleAutorizadores=!1,this.isVisibleEmpresasKam=!1,this.isVisibleProveedores=!1,t=="Departamentos"&&(this.departamentos=null,this.mostrarCarga1=!0,this.getDepartamentos(),this.isVisibleDepartamentos=!0),t=="Areas"&&(this.areas=null,this.mostrarCarga2=!0,this.getAreas(),this.isVisibleAreas=!0),t=="Empresas"&&(this.empresas=null,this.mostrarCarga3=!0,this.getEmpresas(),this.isVisibleEmpresas=!0),t=="Marcas"&&(this.marcas=null,this.mostrarCarga4=!0,this.getMarcas(),this.isVisibleMarcas=!0),t=="EmpresaMarca"&&(this.empresasMarcas=null,this.mostrarCarga7=!0,this.getEmpresasMarcas(),this.isVisibleEmpresasMarcas=!0),t=="Autorizadores"&&(this.autorizadores=null,this.mostrarCarga5=!0,this.getAutorizadores(),this.isVisibleAutorizadores=!0),t=="EmpresasKam"&&(this.empresasKam=null,this.mostrarCarga6=!0,this.getEmpresasKam(),this.isVisibleEmpresasKam=!0),t=="Proveedores"&&(this.proveedores=null,this.mostrarCarga8=!0,this.getProveedores(),this.isVisibleProveedores=!0)},getDepartamentos(){_.get("../api/departamentos").then(t=>{this.mostrarCarga1=!0,this.departamentos=t.data,this.tableDeptos!=null&&(this.tableDeptos.clear(),this.tableDeptos.destroy()),this.crearTablas("Departamento")}).catch(t=>console.log(t))},async deleteDepartamento(t,s){await this.$refs.confirmation.show({title:"Borrar Departamento",message:`¿Está seguro/a que desea eliminar el departamento '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/departamentos/${t}`).then(c=>{this.toast.success("Departamento eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Departamento")}).catch(c=>console.log(c))},editDepto(t){this.deptoEdit=t,this.showEditDepartamento=!0},getAreas(){_.get("../api/areas").then(t=>{this.mostrarCarga2=!0,this.areas=t.data,this.tableAreas!=null&&(this.tableAreas.clear(),this.tableAreas.destroy()),this.crearTablas("Area")}).catch(t=>console.log(t))},async deleteArea(t,s){await this.$refs.confirmation.show({title:"Borrar Área",message:`¿Está seguro/a que desea eliminar la área '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/areas/${t}`).then(c=>{this.toast.success("Área eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Area")}).catch(c=>console.log(c))},editArea(t){this.areaEdit=t,this.showEditArea=!0},getEmpresas(){_.get("../api/empresas").then(t=>{this.mostrarCarga3=!0,this.empresas=t.data,this.tableEmpresas!=null&&(this.tableEmpresas.clear(),this.tableEmpresas.destroy()),this.crearTablas("Empresa")}).catch(t=>console.log(t))},async deleteEmpresa(t,s){await this.$refs.confirmation.show({title:"Borrar Empresa",message:`¿Está seguro/a que desea eliminar la empresa '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/empresas/${t}`).then(c=>{this.toast.success("Empresa eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Empresa")}).catch(c=>console.log(c))},editEmpresa(t){this.empresaEdit=t,this.showEditEmpresa=!0},getMarcas(){_.get("../api/marcas").then(t=>{this.mostrarCarga4=!0,this.marcas=t.data,this.tableMarcas!=null&&(this.tableMarcas.clear(),this.tableMarcas.destroy()),this.crearTablas("Marca")}).catch(t=>console.log(t))},async deleteMarca(t,s){await this.$refs.confirmation.show({title:"Borrar Marca",message:`¿Está seguro/a que desea eliminar la marca '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/marcas/${t}`).then(c=>{this.toast.success("Marca eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Marca")}).catch(c=>console.log(c))},editMarca(t){this.marcaEdit=t,this.showEditMarca=!0},getEmpresasMarcas(){_.get("../api/empresasMarcas").then(t=>{this.mostrarCarga7=!0,this.empresasMarcas=t.data,this.tableEmpresasMarcas!=null&&(this.tableEmpresasMarcas.clear(),this.tableEmpresasMarcas.destroy()),this.crearTablas("EmpresaMarca")}).catch(t=>console.log(t))},async deleteEmpresaMarca(t,s){await this.$refs.confirmation.show({title:"Borrar relación Empresa-Marca",message:`¿Está seguro/a que desea eliminar la relación '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/empresasMarcas/${t}`).then(c=>{this.toast.success("Relación Empresa-Marca eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("EmpresaMarca")}).catch(c=>console.log(c))},editEmpresaMarca(t){this.empresaMarcaEdit=t,this.showEditEmpresaMarca=!0},getAutorizadores(){_.get("../api/autorizadores").then(t=>{this.mostrarCarga5=!0,this.autorizadores=t.data,this.tableAutorizadores!=null&&(this.tableAutorizadores.clear(),this.tableAutorizadores.destroy()),this.crearTablas("Autorizador")}).catch(t=>console.log(t))},async deleteAutorizador(t,s){await this.$refs.confirmation.show({title:"Borrar Autorizador",message:`¿Está seguro/a que desea eliminar la autorizador '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/autorizadores/${t}`).then(c=>{this.toast.success("Autorizador eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Autorizador")}).catch(c=>console.log(c))},editAutorizador(t){this.autorizadorEdit=t,this.showEditAutorizador=!0},getEmpresasKam(){_.get("../api/empresasKam").then(t=>{this.mostrarCarga6=!0,this.empresasKam=t.data,this.tableEmpresasKam!=null&&(this.tableEmpresasKam.clear(),this.tableEmpresasKam.destroy()),this.crearTablas("EmpresasKam")}).catch(t=>console.log(t))},async deleteEmpresaKam(t){await this.$refs.confirmation.show({title:"Borrar Autorizador",message:"¿Está seguro/a que desea eliminar esta Empresa Kam ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/empresasKam/${t}`).then(a=>{this.toast.success("Empresa Kam eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("EmpresasKam")}).catch(a=>console.log(a))},editEmpresaKam(t){this.empresasKamEdit=t,this.showEditEmpresasKam=!0},getProveedores(){_.get("../api/proveedores").then(t=>{this.mostrarCarga8=!0,this.proveedores=t.data,this.tableProveedores!=null&&(this.tableProveedores.clear(),this.tableProveedores.destroy()),this.crearTablas("Proveedores")}).catch(t=>console.log(t))},async deleteProveedor(t,s){await this.$refs.confirmation.show({title:"Borrar Proveedor",message:`¿Está seguro/a que desea eliminar al proveedor de rut '${s.rut}' y razón social '${s.razonSocial}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/proveedores/${t}`).then(c=>{this.toast.success("Proveedor eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Proveedores")}).catch(c=>console.log(c))},editProveedor(t){this.proveedorEdit=t,this.showEditProveedor=!0}}},aN={class:"row mt-4 mx-4"},lN={class:"col-12"},iN={class:"card mb-4",style:{"flex-direction":"inherit"}},rN={class:"btn-group-vertical",role:"group",style:{"min-height":"450px",width:"max-content"}},nN={class:"btn-group-vertical",role:"group","aria-label":"First Group",style:{width:"160px","margin-left":"10px","margin-right":"10px"}},dN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn1"}," Departamentos ",-1),cN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn9"}," Áreas ",-1),uN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn7"}," Empresas ",-1),hN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn2"}," Marcas ",-1),mN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn3"}," Relación Empresa-Marca ",-1),pN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn4"}," Autorizadores ",-1),fN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn5"}," Empresas KAM ",-1),bN=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn6"}," Proveedores ",-1),gN={style:{width:"100%"}},_N={class:"row pb-0 p-4"},vN={class:"col-12"},$N=e("h6",null,"Departamentos",-1),yN={class:"d-flex justify-content-end"},CN=e("i",{class:"fa-solid fa-rotate"},null,-1),wN=[CN],kN={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},xN={class:"loader-xs"},PN={class:"container"},EN={class:"table-responsive p-0"},TN={class:"table align-items-center mb-0",id:"MyTableDepartamentos"},DN=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Departamento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),BN=e("td",null,null,-1),ON={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},MN={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},SN={class:"align-middle text-end"},RN={class:"d-flex px-3 py-1 justify-content-center align-items-center"},AN=["onClick"],FN=e("i",{class:"fa fa-fw fa-edit"},null,-1),zN=[FN],UN=["onClick"],VN=e("i",{class:"fa fa-fw fa-trash"},null,-1),LN=[VN],jN={style:{width:"100%"}},NN={class:"row pb-0 p-4"},HN={class:"col-12"},IN=e("h6",null,"Áreas",-1),GN={class:"d-flex justify-content-end"},qN=e("i",{class:"fa-solid fa-rotate"},null,-1),KN=[qN],XN={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},JN={class:"loader-xs"},ZN={class:"container"},WN={class:"table-responsive p-0"},YN={class:"table align-items-center mb-0",id:"MyTableAreas"},QN=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Area"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Departamento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),eH=e("td",null,null,-1),tH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},aH={class:"align-middle text-end"},lH={class:"d-flex px-3 py-1 justify-content-center align-items-center"},iH=["onClick"],rH=e("i",{class:"fa fa-fw fa-edit"},null,-1),nH=[rH],dH=["onClick"],cH=e("i",{class:"fa fa-fw fa-trash"},null,-1),uH=[cH],hH={style:{width:"100%"}},mH={class:"row pb-0 p-4"},pH={class:"col-12"},fH=e("h6",null,"Empresas",-1),bH={class:"d-flex justify-content-end"},gH=e("i",{class:"fa-solid fa-rotate"},null,-1),_H=[gH],vH={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},$H={class:"loader-xs"},yH={class:"container"},CH={class:"table-responsive p-0"},wH={class:"table align-items-center mb-0",id:"MyTableEmpresas"},kH=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Dirección"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Teléfono"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),xH=e("td",null,null,-1),PH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},EH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},TH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},DH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},BH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},OH={class:"align-middle text-end"},MH={class:"d-flex px-3 py-1 justify-content-center align-items-center"},SH=["onClick"],RH=e("i",{class:"fa fa-fw fa-edit"},null,-1),AH=[RH],FH=["onClick"],zH=e("i",{class:"fa fa-fw fa-trash"},null,-1),UH=[zH],VH={style:{width:"100%"}},LH={class:"row pb-0 p-4"},jH={class:"col-12"},NH=e("h6",null,"Marcas",-1),HH={class:"d-flex justify-content-end"},IH=e("i",{class:"fa-solid fa-rotate"},null,-1),GH=[IH],qH={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},KH={class:"loader-xs"},XH={class:"container"},JH={class:"table-responsive p-0"},ZH={class:"table align-items-center mb-0",id:"MyTableMarcas"},WH=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Marca"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),YH=e("td",null,null,-1),QH={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},eI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},tI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sI={class:"align-middle text-end"},oI={class:"d-flex px-3 py-1 justify-content-center align-items-center"},aI=["onClick"],lI=e("i",{class:"fa fa-fw fa-edit"},null,-1),iI=[lI],rI=["onClick"],nI=e("i",{class:"fa fa-fw fa-trash"},null,-1),dI=[nI],cI={style:{width:"100%"}},uI={class:"row pb-0 p-4"},hI={class:"col-12"},mI=e("h6",null,"Relación Empresas-Marcas",-1),pI={class:"d-flex justify-content-end"},fI=e("i",{class:"fa-solid fa-rotate"},null,-1),bI=[fI],gI={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},_I={class:"loader-xs"},vI={class:"container"},$I={class:"table-responsive p-0"},yI={class:"table align-items-center mb-0",id:"MyTableEmpresasMarcas"},CI=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Empresa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Marca"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),wI=e("td",null,null,-1),kI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},xI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},PI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},EI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},TI={class:"align-middle text-end"},DI={class:"d-flex px-3 py-1 justify-content-center align-items-center"},BI=["onClick"],OI=e("i",{class:"fa fa-fw fa-edit"},null,-1),MI=[OI],SI=["onClick"],RI=e("i",{class:"fa fa-fw fa-trash"},null,-1),AI=[RI],FI={style:{width:"100%"}},zI={class:"row pb-0 p-4"},UI={class:"col-12"},VI=e("h6",null,"Autorizadores",-1),LI={class:"d-flex justify-content-end"},jI=e("i",{class:"fa-solid fa-rotate"},null,-1),NI=[jI],HI={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},II={class:"loader-xs"},GI={class:"container"},qI={class:"table-responsive p-0"},KI={class:"table align-items-center mb-0",id:"MyTableAutorizadores"},XI=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Identificador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Sistema"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"¿Alto Nivel?"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),JI=e("td",null,null,-1),ZI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},WI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},YI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},QI={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},eG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},tG={class:"align-middle text-end"},sG={class:"d-flex px-3 py-1 justify-content-center align-items-center"},oG=["onClick"],aG=e("i",{class:"fa fa-fw fa-edit"},null,-1),lG=[aG],iG=["onClick"],rG=e("i",{class:"fa fa-fw fa-trash"},null,-1),nG=[rG],dG={style:{width:"100%"}},cG={class:"row pb-0 p-4"},uG={class:"col-12"},hG=e("h6",null,"Empresas Kam",-1),mG={class:"d-flex justify-content-end"},pG=e("i",{class:"fa-solid fa-rotate"},null,-1),fG=[pG],bG={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},gG={class:"loader-xs"},_G={class:"container"},vG={class:"table-responsive p-0"},$G={class:"table align-items-center mb-0",id:"MyTableEmpresasKam"},yG=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID "),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Empresa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),CG=e("td",null,null,-1),wG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},kG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},xG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},PG={class:"align-middle text-end"},EG={class:"d-flex px-3 py-1 justify-content-center align-items-center"},TG=["onClick"],DG=e("i",{class:"fa fa-fw fa-edit"},null,-1),BG=[DG],OG=["onClick"],MG=e("i",{class:"fa fa-fw fa-trash"},null,-1),SG=[MG],RG={style:{width:"100%"}},AG={class:"row pb-0 p-4"},FG={class:"col-12"},zG=e("h6",null,"Proveedores",-1),UG={class:"d-flex justify-content-end"},VG=e("i",{class:"fa-solid fa-rotate"},null,-1),LG=[VG],jG={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},NG={class:"loader-xs"},HG={class:"container"},IG={class:"table-responsive p-0"},GG={class:"table align-items-center mb-0",id:"MyTableProveedores"},qG=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Razón Social"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Socio de Negocios"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizador 2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),KG=e("td",null,null,-1),XG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},JG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ZG={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},WG={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},YG={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},QG={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},eq={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},tq={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sq={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oq={class:"align-middle text-end"},aq={class:"d-flex px-3 py-1 justify-content-center align-items-center"},lq=["onClick"],iq=e("i",{class:"fa fa-fw fa-edit"},null,-1),rq=[iq],nq=["onClick"],dq=e("i",{class:"fa fa-fw fa-trash"},null,-1),cq=[dq];function uq(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalEditDepto"),h=y("modalEditArea"),b=y("modalEditEmpresa"),v=y("modalEditEmpresaKam"),z=y("modalEditEmpresaMarca"),S=y("modalEditMarca"),F=y("modalEditAutorizador"),R=y("modalCreateDepartamento"),J=y("modalCreateArea"),X=y("modalCreateEmpresa"),B=y("modalCreateEmpresaKam"),w=y("modalCreateEmpresaMarca"),Y=y("modalCreateMarca"),ce=y("modalCreateAutorizador"),M=y("modalCreateProveedor"),se=y("modalEditProveedor");return l(),r("div",aN,[e("div",lN,[e("div",iN,[e("div",rN,[e("div",nN,[e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn1",autocomplete:"off",onClick:s[0]||(s[0]=O=>d.botonCheck("Departamentos")),checked:""}),dN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn9",autocomplete:"off",onClick:s[1]||(s[1]=O=>d.botonCheck("Areas"))}),cN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn7",autocomplete:"off",onClick:s[2]||(s[2]=O=>d.botonCheck("Empresas"))}),uN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn2",autocomplete:"off",onClick:s[3]||(s[3]=O=>d.botonCheck("Marcas"))}),hN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn3",autocomplete:"off",onClick:s[4]||(s[4]=O=>d.botonCheck("EmpresaMarca"))}),mN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn4",autocomplete:"off",onClick:s[5]||(s[5]=O=>d.botonCheck("Autorizadores"))}),pN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn5",autocomplete:"off",onClick:s[6]||(s[6]=O=>d.botonCheck("EmpresasKam"))}),fN,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn6",autocomplete:"off",onClick:s[7]||(s[7]=O=>d.botonCheck("Proveedores"))}),bN])]),e("div",gN,[t.isVisibleDepartamentos?C(t.$slots,"default",{key:0},()=>[e("div",_N,[e("div",vN,[$N,e("div",yN,[e("a",{class:"btn btn-continue",onClick:s[8]||(s[8]=O=>t.showCreateDepartamento=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[9]||(s[9]=O=>d.recargarTabla("Departamento"))},wN)])])]),e("div",kN,[f(e("div",xN,null,512),[[H,t.mostrarCarga1]]),e("div",PN,[e("div",EN,[e("table",TN,[DN,e("tbody",null,[(l(!0),r(P,null,E(t.departamentos,O=>(l(),r("tr",{key:O.id},[BN,e("td",null,[e("p",ON,i(O.id),1)]),e("td",null,[e("p",MN,i(O.departamento),1)]),e("td",SN,[e("div",RN,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editDepto(O)},zN,8,AN),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteDepartamento(O.id,O.departamento)},LN,8,UN)])])]))),128))])])])])])]):m("",!0),e("div",jN,[t.isVisibleAreas?C(t.$slots,"default",{key:0},()=>[e("div",NN,[e("div",HN,[IN,e("div",GN,[e("a",{class:"btn btn-continue",onClick:s[10]||(s[10]=O=>t.showCreateArea=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[11]||(s[11]=O=>d.recargarTabla("Area"))},KN)])])]),e("div",XN,[f(e("div",JN,null,512),[[H,t.mostrarCarga2]]),e("div",ZN,[e("div",WN,[e("table",YN,[QN,e("tbody",null,[(l(!0),r(P,null,E(t.areas,O=>(l(),r("tr",{key:O.id},[eH,e("td",null,[e("p",tH,i(O.id),1)]),e("td",null,[e("p",sH,i(O.area),1)]),e("td",null,[e("p",oH,i(O.departamento.departamento),1)]),e("td",aH,[e("div",lH,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editArea(O)},nH,8,iH),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteArea(O.id,O.area)},uH,8,dH)])])]))),128))])])])])])]):m("",!0)]),e("div",hH,[t.isVisibleEmpresas?C(t.$slots,"default",{key:0},()=>[e("div",mH,[e("div",pH,[fH,e("div",bH,[e("a",{class:"btn btn-continue",onClick:s[12]||(s[12]=O=>t.showCreateEmpresa=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[13]||(s[13]=O=>d.recargarTabla("Empresa"))},_H)])])]),e("div",vH,[f(e("div",$H,null,512),[[H,t.mostrarCarga3]]),e("div",yH,[e("div",CH,[e("table",wH,[kH,e("tbody",null,[(l(!0),r(P,null,E(t.empresas,O=>(l(),r("tr",{key:O.id},[xH,e("td",null,[e("p",PH,i(O.id),1)]),e("td",null,[e("p",EH,i(O.razonSocial),1)]),e("td",null,[e("p",TH,i(O.rut),1)]),e("td",null,[e("p",DH,i(O.direccion),1)]),e("td",null,[e("p",BH,i(O.telefono),1)]),e("td",OH,[e("div",MH,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editEmpresa(O)},AH,8,SH),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteEmpresa(O.id,O.empresa)},UH,8,FH)])])]))),128))])])])])])]):m("",!0)]),e("div",VH,[t.isVisibleMarcas?C(t.$slots,"default",{key:0},()=>[e("div",LH,[e("div",jH,[NH,e("div",HH,[e("a",{class:"btn btn-continue",onClick:s[14]||(s[14]=O=>t.showCreateMarca=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[15]||(s[15]=O=>d.recargarTabla("Marca"))},GH)])])]),e("div",qH,[f(e("div",KH,null,512),[[H,t.mostrarCarga4]]),e("div",XH,[e("div",JH,[e("table",ZH,[WH,e("tbody",null,[(l(!0),r(P,null,E(t.marcas,O=>(l(),r("tr",{key:O.id},[YH,e("td",null,[e("p",QH,i(O.id),1)]),e("td",null,[e("p",eI,i(O.nombre),1)]),e("td",null,[e("p",tI,i(O.estado),1)]),e("td",sI,[e("div",oI,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editMarca(O)},iI,8,aI),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteMarca(O.id,O.marca)},dI,8,rI)])])]))),128))])])])])])]):m("",!0)]),e("div",cI,[t.isVisibleEmpresasMarcas?C(t.$slots,"default",{key:0},()=>[e("div",uI,[e("div",hI,[mI,e("div",pI,[e("a",{class:"btn btn-continue",onClick:s[16]||(s[16]=O=>t.showCreateEmpresaMarca=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[17]||(s[17]=O=>d.recargarTabla("EmpresaMarca"))},bI)])])]),e("div",gI,[f(e("div",_I,null,512),[[H,t.mostrarCarga7]]),e("div",vI,[e("div",$I,[e("table",yI,[CI,e("tbody",null,[(l(!0),r(P,null,E(t.empresasMarcas,O=>(l(),r("tr",{key:O.id},[wI,e("td",null,[e("p",kI,i(O.id),1)]),e("td",null,[e("p",xI,i(O.empresa.razonSocial),1)]),e("td",null,[e("p",PI,i(O.nombre),1)]),e("td",null,[e("p",EI,i(O.marca.nombre),1)]),e("td",TI,[e("div",DI,[e("a",{class:"btn btn-alert btn-xs",onClick:W=>d.editEmpresaMarca(O)},MI,8,BI),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:W=>d.deleteEmpresaMarca(O.id,O.nombre)},AI,8,SI)])])]))),128))])])])])])]):m("",!0)]),e("div",FI,[t.isVisibleAutorizadores?C(t.$slots,"default",{key:0},()=>[e("div",zI,[e("div",UI,[VI,e("div",LI,[e("a",{class:"btn btn-continue",onClick:s[18]||(s[18]=O=>t.showCreateAutorizador=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[19]||(s[19]=O=>d.recargarTabla("Autorizador"))},NI)])])]),e("div",HI,[f(e("div",II,null,512),[[H,t.mostrarCarga5]]),e("div",GI,[e("div",qI,[e("table",KI,[XI,e("tbody",null,[(l(!0),r(P,null,E(t.autorizadores,O=>(l(),r("tr",{key:O.id},[JI,e("td",null,[e("p",ZI,i(O.id),1)]),e("td",null,[e("p",WI,i(O.identificador),1)]),e("td",null,[e("p",YI,i(O.usuario.name),1)]),e("td",null,[e("p",QI,i(O.levelName),1)]),e("td",null,[e("p",eG,i(O.level),1)]),e("td",tG,[e("div",sG,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editAutorizador(O)},lG,8,oG),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteAutorizador(O.id,O.autorizador)},nG,8,iG)])])]))),128))])])])])])]):m("",!0)]),e("div",dG,[t.isVisibleEmpresasKam?C(t.$slots,"default",{key:0},()=>[e("div",cG,[e("div",uG,[hG,e("div",mG,[e("a",{class:"btn btn-continue",onClick:s[20]||(s[20]=O=>t.showCreateEmpresaKam=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[21]||(s[21]=O=>d.recargarTabla("EmpresasKam"))},fG)])])]),e("div",bG,[f(e("div",gG,null,512),[[H,t.mostrarCarga6]]),e("div",_G,[e("div",vG,[e("table",$G,[yG,e("tbody",null,[(l(!0),r(P,null,E(t.empresasKam,O=>(l(),r("tr",{key:O.id},[CG,e("td",null,[e("p",wG,i(O.id),1)]),e("td",null,[e("p",kG,i(O.usuario.name),1)]),e("td",null,[e("p",xG,i(O.empresa_kam.razonSocial),1)]),e("td",PG,[e("div",EG,[e("a",{class:"btn btn-alert btn-xs",onClick:W=>d.editEmpresaKam(O)},BG,8,TG),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:W=>d.deleteEmpresaKam(O.id)},SG,8,OG)])])]))),128))])])])])])]):m("",!0)]),e("div",RG,[t.isVisibleProveedores?C(t.$slots,"default",{key:0},()=>[e("div",AG,[e("div",FG,[zG,e("div",UG,[e("a",{class:"btn btn-continue",onClick:s[22]||(s[22]=O=>t.showCreateProveedor=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[23]||(s[23]=O=>d.recargarTabla("Proveedores"))},LG)])])]),e("div",jG,[f(e("div",NG,null,512),[[H,t.mostrarCarga8]]),e("div",HG,[e("div",IG,[e("table",GG,[qG,e("tbody",null,[(l(!0),r(P,null,E(t.proveedores,O=>(l(),r("tr",{key:O.id},[KG,e("td",null,[e("p",XG,i(O.id),1)]),e("td",null,[e("p",JG,i(t.formatoRut(O.rut)),1)]),e("td",null,[e("p",ZG,i(O.razonSocial),1)]),e("td",null,[O.codSocioNegocio!=null?(l(),r("p",WG,i(O.codSocioNegocio),1)):(l(),r("p",YG,"---"))]),e("td",null,[O.idAuthAso1!=null?(l(),r("p",QG,i(O.autorizador1.usuario.name),1)):(l(),r("p",eq,"---"))]),e("td",null,[O.idAuthAso2!=null?(l(),r("p",tq,i(O.autorizador2.usuario.name),1)):(l(),r("p",sq,"---"))]),e("td",oq,[e("div",aq,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:W=>d.editProveedor(O)},rq,8,lq),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:W=>d.deleteProveedor(O.id,O)},cq,8,nq)])])]))),128))])])])])])]):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showEditDepartamento?(l(),T(o,{key:0,departamento1:t.deptoEdit,onClose:s[24]||(s[24]=O=>t.showEditDepartamento=!1),onRecarga:s[25]||(s[25]=O=>d.recargarTabla("Departamento"))},null,8,["departamento1"])):m("",!0),t.showEditArea?(l(),T(h,{key:1,area1:t.areaEdit,onClose:s[26]||(s[26]=O=>t.showEditArea=!1),onRecarga:s[27]||(s[27]=O=>d.recargarTabla("Area"))},null,8,["area1"])):m("",!0),t.showEditEmpresa?(l(),T(b,{key:2,empresa1:t.empresaEdit,onClose:s[28]||(s[28]=O=>t.showEditEmpresa=!1),onRecarga:s[29]||(s[29]=O=>d.recargarTabla("Empresa"))},null,8,["empresa1"])):m("",!0),t.showEditEmpresasKam?(l(),T(v,{key:3,kam1:t.empresasKamEdit,onClose:s[30]||(s[30]=O=>t.showEditEmpresasKam=!1),onRecarga:s[31]||(s[31]=O=>d.recargarTabla("EmpresasKam"))},null,8,["kam1"])):m("",!0),t.showEditEmpresaMarca?(l(),T(z,{key:4,empresaMarca1:t.empresaMarcaEdit,onClose:s[32]||(s[32]=O=>t.showEditEmpresaMarca=!1),onRecarga:s[33]||(s[33]=O=>d.recargarTabla("EmpresaMarca"))},null,8,["empresaMarca1"])):m("",!0),t.showEditMarca?(l(),T(S,{key:5,marca1:t.marcaEdit,onClose:s[34]||(s[34]=O=>t.showEditMarca=!1),onRecarga:s[35]||(s[35]=O=>d.recargarTabla("Marca"))},null,8,["marca1"])):m("",!0),t.showEditAutorizador?(l(),T(F,{key:6,autorizador1:t.autorizadorEdit,onClose:s[36]||(s[36]=O=>t.showEditAutorizador=!1),onRecarga:s[37]||(s[37]=O=>d.recargarTabla("Autorizador"))},null,8,["autorizador1"])):m("",!0),t.showCreateDepartamento?(l(),T(R,{key:7,onClose:s[38]||(s[38]=O=>t.showCreateDepartamento=!1),onRecarga:s[39]||(s[39]=O=>d.recargarTabla("Departamento"))})):m("",!0),t.showCreateArea?(l(),T(J,{key:8,onClose:s[40]||(s[40]=O=>t.showCreateArea=!1),onRecarga:s[41]||(s[41]=O=>d.recargarTabla("Area"))})):m("",!0),t.showCreateEmpresa?(l(),T(X,{key:9,onClose:s[42]||(s[42]=O=>t.showCreateEmpresa=!1),onRecarga:s[43]||(s[43]=O=>d.recargarTabla("Empresa"))})):m("",!0),t.showCreateEmpresaKam?(l(),T(B,{key:10,onClose:s[44]||(s[44]=O=>t.showCreateEmpresaKam=!1),onRecarga:s[45]||(s[45]=O=>d.recargarTabla("EmpresasKam"))})):m("",!0),t.showCreateEmpresaMarca?(l(),T(w,{key:11,onClose:s[46]||(s[46]=O=>t.showCreateEmpresaMarca=!1),onRecarga:s[47]||(s[47]=O=>d.recargarTabla("EmpresaMarca"))})):m("",!0),t.showCreateMarca?(l(),T(Y,{key:12,onClose:s[48]||(s[48]=O=>t.showCreateMarca=!1),onRecarga:s[49]||(s[49]=O=>d.recargarTabla("Marca"))})):m("",!0),t.showCreateAutorizador?(l(),T(ce,{key:13,onClose:s[50]||(s[50]=O=>t.showCreateAutorizador=!1),onRecarga:s[51]||(s[51]=O=>d.recargarTabla("Autorizador"))})):m("",!0),t.showCreateProveedor?(l(),T(M,{key:14,onClose:s[52]||(s[52]=O=>t.showCreateProveedor=!1),onRecarga:s[53]||(s[53]=O=>d.recargarTabla("Proveedores"))})):m("",!0),t.showEditProveedor?(l(),T(se,{key:15,proveedor1:t.proveedorEdit,onClose:s[54]||(s[54]=O=>t.showEditProveedor=!1),onRecarga:s[55]||(s[55]=O=>d.recargarTabla("Proveedores"))},null,8,["proveedor1"])):m("",!0)])])])}const hq=U(oN,[["render",uq]]),mq={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar nacionalidad",buttonDisable:!1,id:"",nacionalidad:"",paisS:"",paises:[],errors:[]}),props:{nacionalidad1:Object},created(){this.nacionalidad=this.nacionalidad1.nacionalidad,this.id=this.nacionalidad1.id,this.paisS=this.nacionalidad1.pais.id,this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async editarNacionalidad(){if(await this.$refs.confirmation.show({title:"Editar Nacionalidad",message:`¿Está seguro/a que desea editar la nacionalidad '${this.nacionalidad}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nacionalidad:this.nacionalidad,idPais:this.paisS};var s=this.id;_.put(`../api/nacionalidades/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Nacionalidad editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},pq={name:"modal"},fq={class:"modal-mask"},bq={class:"modal-wrapper"},gq={class:"modal-container-xs"},_q={class:"modal-header fw-bold",style:{color:"#444444"}},vq={class:"modal-body"},$q={class:"form-group"},yq=e("label",{for:"name"},"Nacionalidad: ",-1),Cq=e("br",null,null,-1),wq={key:0,class:"error"},kq={class:"form-group"},xq=e("label",{for:"paises"},"País: ",-1),Pq=e("br",null,null,-1),Eq=e("option",{disabled:"",value:""},"Seleccione un País",-1),Tq=["value"],Dq=e("br",null,null,-1),Bq={class:"modal-footer"},Oq=["disabled"];function Mq(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",pq,[e("div",fq,[e("div",bq,[e("div",gq,[e("div",_q,[C(t.$slots,"header",{},()=>[p(" Editar Nacionalidad ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",vq,[C(t.$slots,"body",{},()=>[e("div",$q,[yq,Cq,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nacionalidad=o)},null,512),[[k,t.nacionalidad]]),t.errors&&t.errors.nacionalidad?(l(),r("div",wq,i(t.errors.nacionalidad[0]),1)):m("",!0)]),e("div",kq,[xq,Pq,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.paisS=o)},[Eq,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,Tq))),128))],512),[[A,t.paisS]])]),Dq,e("div",Bq,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarNacionalidad()),disabled:t.buttonDisable},i(t.buttonText),9,Oq)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Sq=U(mq,[["render",Mq]]),Rq={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar País",buttonDisable:!1,id:"",pais:"",capital:"",errors:[]}),props:{pais1:Object},created(){this.pais=this.pais1.pais,this.id=this.pais1.id,this.capital=this.pais1.capital},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarPais(){if(await this.$refs.confirmation.show({title:"Editar País",message:`¿Está seguro/a que desea editar el País '${this.pais}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={pais:this.pais,capital:this.capital};var s=this.id;_.put(`../api/paises/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("País editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Aq={name:"modal"},Fq={class:"modal-mask"},zq={class:"modal-wrapper"},Uq={class:"modal-container-xs"},Vq={class:"modal-header fw-bold",style:{color:"#444444"}},Lq={class:"modal-body"},jq={class:"form-group"},Nq=e("label",{for:"pais"},"Pais: ",-1),Hq=e("br",null,null,-1),Iq={key:0,class:"error"},Gq={class:"form-group"},qq=e("label",{for:"capital"},"Capital: ",-1),Kq=e("br",null,null,-1),Xq={key:0,class:"error"},Jq=e("br",null,null,-1),Zq={class:"modal-footer"},Wq=["disabled"];function Yq(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Aq,[e("div",Fq,[e("div",zq,[e("div",Uq,[e("div",Vq,[C(t.$slots,"header",{},()=>[p(" Editar Paises ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Lq,[C(t.$slots,"body",{},()=>[e("div",jq,[Nq,Hq,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.pais=o)},null,512),[[k,t.pais]]),t.errors&&t.errors.pais?(l(),r("div",Iq,i(t.errors.pais[0]),1)):m("",!0)]),e("div",Gq,[qq,Kq,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.capital=o)},null,512),[[k,t.capital]]),t.errors&&t.errors.capital?(l(),r("div",Xq,i(t.errors.capital[0]),1)):m("",!0)]),Jq,e("div",Zq,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarPais()),disabled:t.buttonDisable},i(t.buttonText),9,Wq)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Qq=U(Rq,[["render",Yq]]),eK={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Región",buttonDisable:!1,region:"",abreviatura:"",capital:"",id:"",paisS:"",paises:[],errors:[]}),props:{region1:Object},created(){this.region=this.region1.region,this.abreviatura=this.region1.abreviatura,this.capital=this.region1.capital,this.paisS=this.region1.pais.id,this.id=this.region1.id,this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async editarRegion(){if(await this.$refs.confirmation.show({title:"Editar Región",message:`¿Está seguro/a que desea editar la región '${this.region}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={region:this.region,abreviatura:this.abreviatura,capital:this.capital,idPais:this.paisS};var s=this.id;_.put(`../api/regiones/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Región editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},tK={name:"modal"},sK={class:"modal-mask"},oK={class:"modal-wrapper"},aK={class:"modal-container-xs"},lK={class:"modal-header fw-bold",style:{color:"#444444"}},iK={class:"modal-body"},rK={class:"form-group"},nK=e("label",{for:"region"},"Región: ",-1),dK=e("br",null,null,-1),cK={key:0,class:"error"},uK={class:"form-group"},hK=e("label",{for:"Abreviatura"},"Abreviatura: ",-1),mK=e("br",null,null,-1),pK={key:0,class:"error"},fK=e("br",null,null,-1),bK={class:"form-group"},gK=e("label",{for:"Capital"},"Capital: ",-1),_K=e("br",null,null,-1),vK={key:0,class:"error"},$K=e("br",null,null,-1),yK={class:"form-group"},CK=e("label",{for:"paises"},"País: ",-1),wK=e("br",null,null,-1),kK=e("option",{disabled:"",value:""},"Seleccione un País",-1),xK=["value"],PK=e("br",null,null,-1),EK={class:"modal-footer"},TK=["disabled"];function DK(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",tK,[e("div",sK,[e("div",oK,[e("div",aK,[e("div",lK,[C(t.$slots,"header",{},()=>[p(" Editar Regiones ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",iK,[C(t.$slots,"body",{},()=>[e("div",rK,[nK,dK,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.region=o)},null,512),[[k,t.region]]),t.errors&&t.errors.region?(l(),r("div",cK,i(t.errors.region[0]),1)):m("",!0)]),e("div",uK,[hK,mK,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.abreviatura=o)},null,512),[[k,t.abreviatura]]),t.errors&&t.errors.abreviatura?(l(),r("div",pK,i(t.errors.abreviatura[0]),1)):m("",!0)]),fK,e("div",bK,[gK,_K,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.capital=o)},null,512),[[k,t.capital]]),t.errors&&t.errors.capital?(l(),r("div",vK,i(t.errors.capital[0]),1)):m("",!0)]),$K,e("div",yK,[CK,wK,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.paisS=o)},[kK,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,xK))),128))],512),[[A,t.paisS]])]),PK,e("div",EK,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.editarRegion()),disabled:t.buttonDisable},i(t.buttonText),9,TK)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const BK=U(eK,[["render",DK]]),OK={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Comuna",buttonDisable:!1,comuna:"",regionS:"",id:"",regiones:[],errors:[]}),props:{comuna1:Object},created(){this.comuna=this.comuna1.comuna,this.regionS=this.comuna1.idRegion,this.id=this.comuna1.id,this.getRegiones()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRegiones(){_.get("../api/regiones").then(t=>{this.regiones=t.data}).catch(t=>console.log(t))},async editarComuna(){if(await this.$refs.confirmation.show({title:"Editar Comuna",message:`¿Está seguro/a que desea editar la comuna '${this.comuna}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={comuna:this.comuna,idRegion:this.regionS};var s=this.id;_.put(`../api/comunas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Comuna editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1e3)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},MK={name:"modal"},SK={class:"modal-mask"},RK={class:"modal-wrapper"},AK={class:"modal-container-xs"},FK={class:"modal-header fw-bold",style:{color:"#444444"}},zK={class:"modal-body"},UK={class:"form-group"},VK=e("label",{for:"Comuna"},"Comuna: ",-1),LK=e("br",null,null,-1),jK={key:0,class:"error"},NK={class:"form-group"},HK=e("label",{for:"Regiones"},"Región: ",-1),IK=e("br",null,null,-1),GK=e("option",{disabled:"",value:""},"Seleccione una Región",-1),qK=["value"],KK=e("br",null,null,-1),XK={class:"modal-footer"},JK=["disabled"];function ZK(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",MK,[e("div",SK,[e("div",RK,[e("div",AK,[e("div",FK,[C(t.$slots,"header",{},()=>[p(" Editar Comunas ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",zK,[C(t.$slots,"body",{},()=>[e("div",UK,[VK,LK,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.comuna=o)},null,512),[[k,t.comuna]]),t.errors&&t.errors.comuna?(l(),r("div",jK,i(t.errors.comuna[0]),1)):m("",!0)]),e("div",NK,[HK,IK,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.regionS=o)},[GK,(l(!0),r(P,null,E(t.regiones,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,qK))),128))],512),[[A,t.regionS]])]),KK,e("div",XK,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarComuna()),disabled:t.buttonDisable},i(t.buttonText),9,JK)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const WK=U(OK,[["render",ZK]]),YK={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Nacionalidad",buttonDisable:!1,nombreNacionalidad:"",paises:[],idPais:"",errors:[]}),created(){this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async crearNacionalidad(){if(await this.$refs.confirmation.show({title:"Crear Nacionalidad",message:`¿Está seguro/a que desea crear el permiso '${this.nombreNacionalidad}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={idPais:this.idPais,nacionalidad:this.nombreNacionalidad};_.post("../api/nacionalidades",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Nacionalidad guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},QK={name:"modal"},eX={class:"modal-mask"},tX={class:"modal-wrapper"},sX={class:"modal-container-xs"},oX={class:"modal-header fw-bold",style:{color:"#444444"}},aX={class:"modal-body"},lX={class:"form-group"},iX=e("label",{for:"name"},"Nombre de la Nacionalidad: ",-1),rX=e("br",null,null,-1),nX={key:0,class:"error"},dX={class:"form-group"},cX=e("label",{for:"paises"},"País: ",-1),uX=e("br",null,null,-1),hX=e("option",{disabled:"",value:""},"Seleccione un País",-1),mX=["value"],pX={key:0,class:"error"},fX={class:"modal-footer"},bX=["disabled"];function gX(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",QK,[e("div",eX,[e("div",tX,[e("div",sX,[e("div",oX,[C(t.$slots,"header",{},()=>[p(" Nueva Nacionalidad ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",aX,[C(t.$slots,"body",{},()=>[e("div",lX,[iX,rX,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreNacionalidad=o)},null,512),[[k,t.nombreNacionalidad]]),t.errors&&t.errors.nacionalidad?(l(),r("div",nX,i(t.errors.nacionalidad[0]),1)):m("",!0)]),e("div",dX,[cX,uX,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idPais=o)},[hX,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,mX))),128))],512),[[A,t.idPais]]),t.errors&&t.errors.idPais?(l(),r("div",pX,i(t.errors.idPais[0]),1)):m("",!0)])])]),e("div",fX,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearNacionalidad()),disabled:t.buttonDisable},i(t.buttonText),9,bX)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const _X=U(YK,[["render",gX]]),vX={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear País",buttonDisable:!1,nombrePais:"",capitalPais:"",errors:[]}),methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearPais(){if(await this.$refs.confirmation.show({title:"Crear País",message:`¿Está seguro/a que desea crear el país '${this.nombrePais}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={pais:this.nombrePais,capital:this.capitalPais};_.post("../api/paises",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("País guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},$X={name:"modal"},yX={class:"modal-mask"},CX={class:"modal-wrapper"},wX={class:"modal-container-xs"},kX={class:"modal-header fw-bold",style:{color:"#444444"}},xX={class:"modal-body"},PX={class:"form-group"},EX=e("label",{for:"name"},"Nombre del País: ",-1),TX=e("br",null,null,-1),DX={key:0,class:"error"},BX={class:"form-group"},OX=e("label",{for:"name"},"Nombre de la Capital: ",-1),MX=e("br",null,null,-1),SX={key:0,class:"error"},RX={class:"modal-footer"},AX=["disabled"];function FX(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",$X,[e("div",yX,[e("div",CX,[e("div",wX,[e("div",kX,[C(t.$slots,"header",{},()=>[p(" Nuevo País ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",xX,[C(t.$slots,"body",{},()=>[e("div",PX,[EX,TX,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombrePais=o)},null,512),[[k,t.nombrePais]]),t.errors&&t.errors.pais?(l(),r("div",DX,i(t.errors.pais[0]),1)):m("",!0)]),e("div",BX,[OX,MX,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.capitalPais=o)},null,512),[[k,t.capitalPais]]),t.errors&&t.errors.capital?(l(),r("div",SX,i(t.errors.capital[0]),1)):m("",!0)])])]),e("div",RX,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearPais()),disabled:t.buttonDisable},i(t.buttonText),9,AX)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const zX=U(vX,[["render",FX]]),UX={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Región",buttonDisable:!1,nombreRegion:"",capitalRegion:"",abreviaturaRegion:"",paises:null,idPais:"",errors:[]}),created(){this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Región",message:`¿Está seguro/a que desea crear la región '${this.nombreRegion}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={region:this.nombreRegion,abreviatura:this.abreviaturaRegion,capital:this.capitalRegion,idPais:this.idPais,idPaisRegion:this.idPais+this.nombreRegion};_.post("../api/regiones",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Región guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.errors.idPaisRegion?this.toast.warning(this.errors.idPaisRegion[0],{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},VX={name:"modal"},LX={class:"modal-mask"},jX={class:"modal-wrapper"},NX={class:"modal-container-xs"},HX={class:"modal-header fw-bold",style:{color:"#444444"}},IX={class:"modal-body"},GX={class:"form-group"},qX=e("label",{for:"name"},"Nombre de la Región: ",-1),KX=e("br",null,null,-1),XX={key:0,class:"error"},JX={class:"form-group"},ZX=e("label",{for:"name"},"Abreviatura: ",-1),WX=e("br",null,null,-1),YX={key:0,class:"error"},QX={class:"form-group"},eJ=e("label",{for:"name"},"Nombre de la Capital: ",-1),tJ=e("br",null,null,-1),sJ={key:0,class:"error"},oJ={class:"form-group"},aJ=e("label",{for:"paises"},"País: ",-1),lJ=e("br",null,null,-1),iJ=e("option",{disabled:"",value:""},"Seleccione un País",-1),rJ=["value"],nJ={key:0,class:"error"},dJ={class:"modal-footer"},cJ=["disabled"];function uJ(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",VX,[e("div",LX,[e("div",jX,[e("div",NX,[e("div",HX,[C(t.$slots,"header",{},()=>[p(" Nueva Región ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",IX,[C(t.$slots,"body",{},()=>[e("div",GX,[qX,KX,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreRegion=o)},null,512),[[k,t.nombreRegion]]),t.errors&&t.errors.region?(l(),r("div",XX,i(t.errors.region[0]),1)):m("",!0)]),e("div",JX,[ZX,WX,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.abreviaturaRegion=o)},null,512),[[k,t.abreviaturaRegion]]),t.errors&&t.errors.abreviatura?(l(),r("div",YX,i(t.errors.abreviatura[0]),1)):m("",!0)]),e("div",QX,[eJ,tJ,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.capitalRegion=o)},null,512),[[k,t.capitalRegion]]),t.errors&&t.errors.capital?(l(),r("div",sJ,i(t.errors.capital[0]),1)):m("",!0)]),e("div",oJ,[aJ,lJ,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.idPais=o)},[iJ,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,rJ))),128))],512),[[A,t.idPais]]),t.errors&&t.errors.idPais?(l(),r("div",nJ,i(t.errors.idPais[0]),1)):m("",!0)])])]),e("div",dJ,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.crearRol()),disabled:t.buttonDisable},i(t.buttonText),9,cJ)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const hJ=U(UX,[["render",uJ]]),mJ={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Comuna",buttonDisable:!1,nombreComuna:"",regiones:[],idRegion:"",errors:[]}),created(){this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/regiones").then(t=>{this.regiones=t.data}).catch(t=>console.log(t))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Comuna",message:`¿Está seguro/a que desea crear la comuna '${this.nombreComuna}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={comuna:this.nombreComuna,idRegion:this.idRegion,idRegionComuna:this.idRegion+this.nombreComuna};_.post("../api/comunas",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Comuna guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.errors.idRegionComuna?this.toast.warning(this.errors.idRegionComuna[0],{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},pJ={name:"modal"},fJ={class:"modal-mask"},bJ={class:"modal-wrapper"},gJ={class:"modal-container-xs"},_J={class:"modal-header fw-bold",style:{color:"#444444"}},vJ={class:"modal-body"},$J={class:"form-group"},yJ=e("label",{for:"name"},"Nombre de la Comuna: ",-1),CJ=e("br",null,null,-1),wJ={key:0,class:"error"},kJ={class:"form-group"},xJ=e("label",{for:"regiones"},"Región: ",-1),PJ=e("br",null,null,-1),EJ=e("option",{disabled:"",value:""},"Seleccione una Región",-1),TJ=["value"],DJ={key:0,class:"error"},BJ={class:"modal-footer"},OJ=["disabled"];function MJ(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",pJ,[e("div",fJ,[e("div",bJ,[e("div",gJ,[e("div",_J,[C(t.$slots,"header",{},()=>[p(" Nueva Comuna ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",vJ,[C(t.$slots,"body",{},()=>[e("div",$J,[yJ,CJ,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreComuna=o)},null,512),[[k,t.nombreComuna]]),t.errors&&t.errors.comuna?(l(),r("div",wJ,i(t.errors.comuna[0]),1)):m("",!0)]),e("div",kJ,[xJ,PJ,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idRegion=o)},[EJ,(l(!0),r(P,null,E(t.regiones,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,TJ))),128))],512),[[A,t.idRegion]]),t.errors&&t.errors.idRegion?(l(),r("div",DJ,i(t.errors.idRegion[0]),1)):m("",!0)])])]),e("div",BJ,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearRol()),disabled:t.buttonDisable},i(t.buttonText),9,OJ)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const SJ=U(mJ,[["render",MJ]]),RJ={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Zona",buttonDisable:!1,paises:null,nombreZona:"",idPais:"",errors:[]}),created(){this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Zona",message:`¿Está seguro/a que desea crear la zona '${this.nombreZona}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.nombreZona,idPais:this.idPais,idPaisZona:this.idPais+this.nombreZona};_.post("../api/zonas",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Zona guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.errors.idPaisZona?this.toast.warning(this.errors.idPaisZona[0],{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},AJ={name:"modal"},FJ={class:"modal-mask"},zJ={class:"modal-wrapper"},UJ={class:"modal-container-xs"},VJ={class:"modal-header fw-bold",style:{color:"#444444"}},LJ={class:"modal-body"},jJ={class:"form-group"},NJ=e("label",{for:"zona"},"Zona: ",-1),HJ=e("br",null,null,-1),IJ={key:0,class:"error"},GJ={class:"form-group"},qJ=e("label",{for:"paises"},"País: ",-1),KJ=e("br",null,null,-1),XJ=e("option",{disabled:"",value:""},"Seleccione un País",-1),JJ=["value"],ZJ={key:0,class:"error"},WJ={class:"modal-footer"},YJ=["disabled"];function QJ(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",AJ,[e("div",FJ,[e("div",zJ,[e("div",UJ,[e("div",VJ,[C(t.$slots,"header",{},()=>[p(" Nueva Zona ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",LJ,[C(t.$slots,"body",{},()=>[e("div",jJ,[NJ,HJ,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreZona=o)},null,512),[[k,t.nombreZona]]),t.errors&&t.errors.nombre?(l(),r("div",IJ,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",GJ,[qJ,KJ,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idPais=o)},[XJ,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,JJ))),128))],512),[[A,t.idPais]]),t.errors&&t.errors.idPais?(l(),r("div",ZJ,i(t.errors.idPais[0]),1)):m("",!0)])])]),e("div",WJ,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearRol()),disabled:t.buttonDisable},i(t.buttonText),9,YJ)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const eZ=U(RJ,[["render",QJ]]),tZ={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar zona",buttonDisable:!1,id:"",nombreZona:"",idPais:"",paises:[],errors:[]}),props:{zona1:Object},created(){this.id=this.zona1.id,this.nombreZona=this.zona1.nombre,this.idPais=this.zona1.idPais,this.getPaises()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},async editarZona(){if(await this.$refs.confirmation.show({title:"Editar Zona",message:`¿Está seguro/a que desea editar la zona '${this.nombreZona}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombreZona,idPais:this.idPais,idPaisZona:this.idPais+this.nombreZona};var s=this.id;_.put(`../api/zonas/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Zona editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},sZ={name:"modal"},oZ={class:"modal-mask"},aZ={class:"modal-wrapper"},lZ={class:"modal-container-xs"},iZ={class:"modal-header fw-bold",style:{color:"#444444"}},rZ={class:"modal-body"},nZ={class:"form-group"},dZ=e("label",{for:"zona"},"Zona: ",-1),cZ=e("br",null,null,-1),uZ={key:0,class:"error"},hZ={class:"form-group"},mZ=e("label",{for:"paises"},"País: ",-1),pZ=e("br",null,null,-1),fZ=e("option",{disabled:"",value:""},"Seleccione un País",-1),bZ=["value"],gZ={key:0,class:"error"},_Z={class:"modal-footer"},vZ=["disabled"];function $Z(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",sZ,[e("div",oZ,[e("div",aZ,[e("div",lZ,[e("div",iZ,[C(t.$slots,"header",{},()=>[p(" Editar Zona ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",rZ,[C(t.$slots,"body",{},()=>[e("div",nZ,[dZ,cZ,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreZona=o)},null,512),[[k,t.nombreZona]]),t.errors&&t.errors.nombre?(l(),r("div",uZ,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",hZ,[mZ,pZ,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idPais=o)},[fZ,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,bZ))),128))],512),[[A,t.idPais]]),t.errors&&t.errors.idPais?(l(),r("div",gZ,i(t.errors.idPais[0]),1)):m("",!0)]),e("div",_Z,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarZona()),disabled:t.buttonDisable},i(t.buttonText),9,vZ)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const yZ=U(tZ,[["render",$Z]]),CZ={components:{modalconfirmacion:j,modalalerta:N,modalCreateNacionalidad:_X,modalCreatePais:zX,modalCreateRegion:hJ,modalCreateComuna:SJ,modalEditNacionalidad:Sq,modalEditPais:Qq,modalEditRegion:BK,modalEditComuna:WK,modalCreateZona:eZ,modalEditZona:yZ},mixins:[V],data:()=>({isVisibleNacionalidades:!0,nacionalidades:null,showCreateNacionalidad:!1,showEditNacionalidad:!1,nacionalidadEdit:null,isVisiblePaises:!1,paises:null,showEditPais:!1,paisEdit:null,showCreatePais:!1,isVisibleRegiones:!1,showCreateRegion:!1,regiones:null,showEditRegion:!1,regionEdit:null,isVisibleComunas:!1,showCreateComuna:!1,comunas:null,showEditComuna:!1,comunaEdit:null,isVisibleZonas:!1,showCreateZona:!1,zonas:null,showEditZona:!1,zonaEdit:null,tableNacionalidades:null,mostrarCarga6:!0,mostrarTabla6:!1,tablePaises:null,mostrarCarga7:!0,mostrarTabla7:!1,tableRegiones:null,mostrarCarga8:!0,mostrarTabla8:!1,tableComunas:null,mostrarCarga9:!0,mostrarTabla9:!1,tableZonas:null,mostrarCarga10:!0,mostrarTabla10:!1}),created(){this.getNacionalidades()},methods:{recargarTabla(t){t=="Nacionalidades"&&(this.nacionalidades=null,this.mostrarCarga6=!0,this.getNacionalidades()),t=="Paises"&&(this.paises=null,this.mostrarCarga7=!0,this.getPaises()),t=="Regiones"&&(this.regiones=null,this.mostrarCarga8=!0,this.getRegiones()),t=="Comunas"&&(this.comunas=null,this.mostrarCarga9=!0,this.getComunas()),t=="Zonas"&&(this.zonas=null,this.mostrarCarga10=!0,this.getZonas())},crearTablas(t){t=="nacionalidad"&&setTimeout(function(){this.tableNacionalidades=$("#MyTableNacionalidades").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableNacionalidades.buttons().remove(),this.mostrarCarga6=!1,this.mostrarTabla6=!0}.bind(this),200),t=="pais"&&setTimeout(function(){this.tablePaises=$("#MyTablePaises").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tablePaises.buttons().remove(),this.mostrarCarga7=!1,this.mostrarTabla7=!0}.bind(this),200),t=="region"&&setTimeout(function(){this.tableRegiones=$("#MyTableRegiones").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableRegiones.buttons().remove(),this.mostrarCarga8=!1,this.mostrarTabla8=!0}.bind(this),200),t=="comuna"&&setTimeout(function(){this.tableComunas=$("#MyTableComunas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableComunas.buttons().remove(),this.mostrarCarga9=!1,this.mostrarTabla9=!0}.bind(this),200),t=="zona"&&setTimeout(function(){this.tableZonas=$("#MyTableZonas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableZonas.buttons().remove(),this.mostrarCarga10=!1,this.mostrarTabla10=!0}.bind(this),200)},botonCheck(t){this.isVisibleNacionalidades=!1,this.isVisiblePaises=!1,this.isVisibleRegiones=!1,this.isVisibleComunas=!1,this.isVisibleZonas=!1,t=="Nacionalidades"&&(this.nacionalidades=null,this.mostrarCarga6=!0,this.getNacionalidades(),this.isVisibleNacionalidades=!0),t=="Países"&&(this.paises=null,this.mostrarCarga7=!0,this.getPaises(),this.isVisiblePaises=!0),t=="Regiones"&&(this.regiones=null,this.mostrarCarga8=!0,this.getRegiones(),this.isVisibleRegiones=!0),t=="Comunas"&&(this.comunas=null,this.mostrarCarga9=!0,this.getComunas(),this.isVisibleComunas=!0),t=="Zonas"&&(this.zonas=null,this.mostrarCarga10=!0,this.getZonas(),this.isVisibleZonas=!0)},getNacionalidades(){_.get("../api/nacionalidades").then(t=>{this.mostrarCarga6=!0,this.nacionalidades=t.data,this.tableNacionalidades!=null&&(this.tableNacionalidades.clear(),this.tableNacionalidades.destroy()),this.crearTablas("nacionalidad")}).catch(t=>console.log(t))},async deleteNacionalidad(t,s){await this.$refs.confirmation.show({title:"Borrar Nacionalidad",message:`¿Está seguro/a que desea eliminar la nacionalidad '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/nacionalidades/${t}`).then(c=>{this.toast.success("Nacionalidad eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Nacionalidades")}).catch(c=>console.log(c))},editNacionalidad(t){this.nacionalidadEdit=t,this.showEditNacionalidad=!0},getPaises(){_.get("../api/paises").then(t=>{this.mostrarCarga7=!0,this.paises=t.data,this.tablePaises!=null&&(this.tablePaises.clear(),this.tablePaises.destroy()),this.crearTablas("pais")}).catch(t=>console.log(t))},async deletePais(t,s){await this.$refs.confirmation.show({title:"Borrar País",message:`¿Está seguro/a que desea eliminar el país '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/paises/${t}`).then(c=>{this.toast.success("País eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Paises")}).catch(c=>console.log(c))},editPais(t){this.paisEdit=t,this.showEditPais=!0},getRegiones(){_.get("../api/regiones").then(t=>{this.mostrarCarga8=!0,this.regiones=t.data,this.tableRegiones!=null&&(this.tableRegiones.clear(),this.tableRegiones.destroy()),this.crearTablas("region")}).catch(t=>console.log(t))},async deleteRegion(t,s){await this.$refs.confirmation.show({title:"Borrar Región",message:`¿Está seguro/a que desea eliminar la región '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/regiones/${t}`).then(c=>{this.toast.success("Región eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Regiones")}).catch(c=>console.log(c))},editRegion(t){this.regionEdit=t,this.showEditRegion=!0},getComunas(){_.get("../api/comunas").then(t=>{this.mostrarCarga9=!0,this.comunas=t.data,this.tableComunas!=null&&(this.tableComunas.clear(),this.tableComunas.destroy()),this.crearTablas("comuna")}).catch(t=>console.log(t))},async deleteComuna(t,s){await this.$refs.confirmation.show({title:"Borrar Comuna",message:`¿Está seguro/a que desea eliminar la comuna '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/comunas/${t}`).then(c=>{this.toast.success("Comuna eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Comunas")}).catch(c=>console.log(c))},editComuna(t){this.comunaEdit=t,this.showEditComuna=!0},getZonas(){_.get("../api/zonas").then(t=>{this.mostrarCarga10=!0,this.zonas=t.data,this.tableZonas!=null&&(this.tableZonas.clear(),this.tableZonas.destroy()),this.crearTablas("zona")}).catch(t=>console.log(t))},async deleteZona(t,s){await this.$refs.confirmation.show({title:"Borrar Zona",message:`¿Está seguro/a que desea eliminar la zona '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/zonas/${t}`).then(c=>{this.toast.success("Zona eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Zonas")}).catch(c=>console.log(c))},editZona(t){this.zonaEdit=t,this.showEditZona=!0}}},wZ={class:"row mt-4 mx-4"},kZ={class:"col-12"},xZ={class:"card mb-4",style:{"flex-direction":"inherit"}},PZ={class:"btn-group-vertical",role:"group",style:{"min-height":"450px",width:"max-content"}},EZ={class:"btn-group-vertical",role:"group","aria-label":"First Group",style:{width:"160px","margin-left":"10px","margin-right":"10px"}},TZ=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn5"}," Nacionalidades ",-1),DZ=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn6"}," Países ",-1),BZ=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn7"}," Regiones ",-1),OZ=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn8"}," Comunas ",-1),MZ=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn2"}," Zonas ",-1),SZ={style:{width:"100%"}},RZ={class:"row pb-0 p-4"},AZ={class:"col-12"},FZ=e("h6",null,"Nacionalidades",-1),zZ={class:"d-flex justify-content-end"},UZ=e("i",{class:"fa-solid fa-rotate"},null,-1),VZ=[UZ],LZ={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},jZ={class:"loader-xs"},NZ={class:"container"},HZ={class:"table-responsive p-0"},IZ={class:"table align-items-center mb-0",id:"MyTableNacionalidades"},GZ=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nacionalidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"País"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),qZ=e("td",null,null,-1),KZ={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},XZ={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},JZ={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ZZ={class:"align-middle text-end"},WZ={class:"d-flex px-3 py-1 justify-content-center align-items-center"},YZ=["onClick"],QZ=e("i",{class:"fa fa-fw fa-edit"},null,-1),eW=[QZ],tW=["onClick"],sW=e("i",{class:"fa fa-fw fa-trash"},null,-1),oW=[sW],aW={class:"row pb-0 p-4"},lW={class:"col-12"},iW=e("h6",null,"Países",-1),rW={class:"d-flex justify-content-end"},nW=e("i",{class:"fa-solid fa-rotate"},null,-1),dW=[nW],cW={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},uW={class:"loader-xs"},hW={class:"container"},mW={class:"table-responsive p-0"},pW={class:"table align-items-center mb-0",id:"MyTablePaises"},fW=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Capital"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),bW=e("td",null,null,-1),gW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},_W={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},vW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},$W={class:"align-middle text-end"},yW={class:"d-flex px-3 py-1 justify-content-center align-items-center"},CW=["onClick"],wW=e("i",{class:"fa fa-fw fa-edit"},null,-1),kW=[wW],xW=["onClick"],PW=e("i",{class:"fa fa-fw fa-trash"},null,-1),EW=[PW],TW={class:"row pb-0 p-4"},DW={class:"col-12"},BW=e("h6",null,"Regiones",-1),OW={class:"d-flex justify-content-end"},MW=e("i",{class:"fa-solid fa-rotate"},null,-1),SW=[MW],RW={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},AW={class:"loader-xs"},FW={class:"container"},zW={class:"table-responsive p-0"},UW={class:"table align-items-center mb-0",id:"MyTableRegiones"},VW=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Capital"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"País"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),LW=e("td",null,null,-1),jW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},NW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},HW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},IW={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},GW={class:"align-middle text-end"},qW={class:"d-flex px-3 py-1 justify-content-center align-items-center"},KW=["onClick"],XW=e("i",{class:"fa fa-fw fa-edit"},null,-1),JW=[XW],ZW=["onClick"],WW=e("i",{class:"fa fa-fw fa-trash"},null,-1),YW=[WW],QW={class:"row pb-0 p-4"},eY={class:"col-12"},tY=e("h6",null,"Comunas",-1),sY={class:"d-flex justify-content-end"},oY=e("i",{class:"fa-solid fa-rotate"},null,-1),aY=[oY],lY={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},iY={class:"loader-xs"},rY={class:"container"},nY={class:"table-responsive p-0"},dY={class:"table align-items-center mb-0",id:"MyTableComunas"},cY=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Región"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),uY=e("td",null,null,-1),hY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},mY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},pY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},fY={class:"align-middle text-end"},bY={class:"d-flex px-3 py-1 justify-content-center align-items-center"},gY=["onClick"],_Y=e("i",{class:"fa fa-fw fa-edit"},null,-1),vY=[_Y],$Y=["onClick"],yY=e("i",{class:"fa fa-fw fa-trash"},null,-1),CY=[yY],wY={class:"row pb-0 p-4"},kY={class:"col-12"},xY=e("h6",null,"Zonas",-1),PY={class:"d-flex justify-content-end"},EY=e("i",{class:"fa-solid fa-rotate"},null,-1),TY=[EY],DY={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},BY={class:"loader-xs"},OY={class:"container"},MY={class:"table-responsive p-0"},SY={class:"table align-items-center mb-0",id:"MyTableZonas"},RY=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Pais"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),AY=e("td",null,null,-1),FY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},zY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},UY={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},VY={class:"align-middle text-end"},LY={class:"d-flex px-3 py-1 justify-content-center align-items-center"},jY=["onClick"],NY=e("i",{class:"fa fa-fw fa-edit"},null,-1),HY=[NY],IY=["onClick"],GY=e("i",{class:"fa fa-fw fa-trash"},null,-1),qY=[GY];function KY(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalEditNacionalidad"),h=y("modalEditPais"),b=y("modalEditRegion"),v=y("modalEditComuna"),z=y("modalCreateNacionalidad"),S=y("modalCreatePais"),F=y("modalCreateRegion"),R=y("modalCreateComuna"),J=y("modalCreateZona"),X=y("modalEditZona");return l(),r("div",wZ,[e("div",kZ,[e("div",xZ,[e("div",PZ,[e("div",EZ,[e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn5",autocomplete:"off",onClick:s[0]||(s[0]=B=>d.botonCheck("Nacionalidades")),checked:""}),TZ,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn6",autocomplete:"off",onClick:s[1]||(s[1]=B=>d.botonCheck("Países"))}),DZ,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn7",autocomplete:"off",onClick:s[2]||(s[2]=B=>d.botonCheck("Regiones"))}),BZ,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn8",autocomplete:"off",onClick:s[3]||(s[3]=B=>d.botonCheck("Comunas"))}),OZ,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn2",autocomplete:"off",onClick:s[4]||(s[4]=B=>d.botonCheck("Zonas"))}),MZ])]),e("div",SZ,[t.isVisibleNacionalidades?C(t.$slots,"default",{key:0},()=>[e("div",RZ,[e("div",AZ,[FZ,e("div",zZ,[e("a",{class:"btn btn-continue",onClick:s[5]||(s[5]=B=>t.showCreateNacionalidad=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[6]||(s[6]=B=>d.recargarTabla("nacionalidad"))},VZ)])])]),e("div",LZ,[f(e("div",jZ,null,512),[[H,t.mostrarCarga6]]),e("div",NZ,[e("div",HZ,[e("table",IZ,[GZ,e("tbody",null,[(l(!0),r(P,null,E(t.nacionalidades,B=>(l(),r("tr",{key:B.id},[qZ,e("td",null,[e("p",KZ,i(B.id),1)]),e("td",null,[e("p",XZ,i(B.nacionalidad),1)]),e("td",null,[e("p",JZ,i(B.pais.pais),1)]),e("td",ZZ,[e("div",WZ,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:w=>d.editNacionalidad(B)},eW,8,YZ),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:w=>d.deleteNacionalidad(B.id,B.nacionalidad)},oW,8,tW)])])]))),128))])])])])])]):m("",!0),t.isVisiblePaises?C(t.$slots,"default",{key:1},()=>[e("div",aW,[e("div",lW,[iW,e("div",rW,[e("a",{class:"btn btn-continue",onClick:s[7]||(s[7]=B=>t.showCreatePais=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[8]||(s[8]=B=>d.recargarTabla("pais"))},dW)])])]),e("div",cW,[f(e("div",uW,null,512),[[H,t.mostrarCarga7]]),e("div",hW,[e("div",mW,[e("table",pW,[fW,e("tbody",null,[(l(!0),r(P,null,E(t.paises,B=>(l(),r("tr",{key:B.id},[bW,e("td",null,[e("p",gW,i(B.id),1)]),e("td",null,[e("p",_W,i(B.pais),1)]),e("td",null,[e("p",vW,i(B.capital),1)]),e("td",$W,[e("div",yW,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:w=>d.editPais(B)},kW,8,CW),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:w=>d.deletePais(B.id,B.pais)},EW,8,xW)])])]))),128))])])])])])]):m("",!0),t.isVisibleRegiones?C(t.$slots,"default",{key:2},()=>[e("div",TW,[e("div",DW,[BW,e("div",OW,[e("a",{class:"btn btn-continue",onClick:s[9]||(s[9]=B=>t.showCreateRegion=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[10]||(s[10]=B=>d.recargarTabla("region"))},SW)])])]),e("div",RW,[f(e("div",AW,null,512),[[H,t.mostrarCarga8]]),e("div",FW,[e("div",zW,[e("table",UW,[VW,e("tbody",null,[(l(!0),r(P,null,E(t.regiones,B=>(l(),r("tr",{key:B.id},[LW,e("td",null,[e("p",jW,i(B.id),1)]),e("td",null,[e("p",NW,i(B.region),1)]),e("td",null,[e("p",HW,i(B.capital),1)]),e("td",null,[e("p",IW,i(B.pais.pais),1)]),e("td",GW,[e("div",qW,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:w=>d.editRegion(B)},JW,8,KW),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:w=>d.deleteRegion(B.id,B.region)},YW,8,ZW)])])]))),128))])])])])])]):m("",!0),t.isVisibleComunas?C(t.$slots,"default",{key:3},()=>[e("div",QW,[e("div",eY,[tY,e("div",sY,[e("a",{class:"btn btn-continue",onClick:s[11]||(s[11]=B=>t.showCreateComuna=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[12]||(s[12]=B=>d.recargarTabla("comuna"))},aY)])])]),e("div",lY,[f(e("div",iY,null,512),[[H,t.mostrarCarga9]]),e("div",rY,[e("div",nY,[e("table",dY,[cY,e("tbody",null,[(l(!0),r(P,null,E(t.comunas,B=>(l(),r("tr",{key:B.id},[uY,e("td",null,[e("p",hY,i(B.id),1)]),e("td",null,[e("p",mY,i(B.comuna),1)]),e("td",null,[e("p",pY,i(B.region.region),1)]),e("td",fY,[e("div",bY,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:w=>d.editComuna(B)},vY,8,gY),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:w=>d.deleteComuna(B.id,B.comuna)},CY,8,$Y)])])]))),128))])])])])])]):m("",!0),t.isVisibleZonas?C(t.$slots,"default",{key:4},()=>[e("div",wY,[e("div",kY,[xY,e("div",PY,[e("a",{class:"btn btn-continue",onClick:s[13]||(s[13]=B=>t.showCreateZona=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[14]||(s[14]=B=>d.recargarTabla("zona"))},TY)])])]),e("div",DY,[f(e("div",BY,null,512),[[H,t.mostrarCarga10]]),e("div",OY,[e("div",MY,[e("table",SY,[RY,e("tbody",null,[(l(!0),r(P,null,E(t.zonas,B=>(l(),r("tr",{key:B.id},[AY,e("td",null,[e("p",FY,i(B.id),1)]),e("td",null,[e("p",zY,i(B.nombre),1)]),e("td",null,[e("p",UY,i(B.pais.pais),1)]),e("td",VY,[e("div",LY,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:w=>d.editZona(B)},HY,8,jY),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:w=>d.deleteZona(B.id,B.nombre)},qY,8,IY)])])]))),128))])])])])])]):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showEditNacionalidad?(l(),T(o,{key:0,nacionalidad1:t.nacionalidadEdit,onClose:s[15]||(s[15]=B=>t.showEditNacionalidad=!1),onRecarga:s[16]||(s[16]=B=>d.recargarTabla("Nacionalidades"))},null,8,["nacionalidad1"])):m("",!0),t.showEditPais?(l(),T(h,{key:1,pais1:t.paisEdit,onClose:s[17]||(s[17]=B=>t.showEditPais=!1),onRecarga:s[18]||(s[18]=B=>d.recargarTabla("Paises"))},null,8,["pais1"])):m("",!0),t.showEditRegion?(l(),T(b,{key:2,region1:t.regionEdit,onClose:s[19]||(s[19]=B=>t.showEditRegion=!1),onRecarga:s[20]||(s[20]=B=>d.recargarTabla("Regiones"))},null,8,["region1"])):m("",!0),t.showEditComuna?(l(),T(v,{key:3,comuna1:t.comunaEdit,onClose:s[21]||(s[21]=B=>t.showEditComuna=!1),onRecarga:s[22]||(s[22]=B=>d.recargarTabla("Comunas"))},null,8,["comuna1"])):m("",!0),t.showCreateNacionalidad?(l(),T(z,{key:4,onClose:s[23]||(s[23]=B=>t.showCreateNacionalidad=!1),onRecarga:s[24]||(s[24]=B=>d.recargarTabla("Nacionalidades"))})):m("",!0),t.showCreatePais?(l(),T(S,{key:5,onClose:s[25]||(s[25]=B=>t.showCreatePais=!1),onRecarga:s[26]||(s[26]=B=>d.recargarTabla("Paises"))})):m("",!0),t.showCreateRegion?(l(),T(F,{key:6,onClose:s[27]||(s[27]=B=>t.showCreateRegion=!1),onRecarga:s[28]||(s[28]=B=>d.recargarTabla("Regiones"))})):m("",!0),t.showCreateComuna?(l(),T(R,{key:7,onClose:s[29]||(s[29]=B=>t.showCreateComuna=!1),onRecarga:s[30]||(s[30]=B=>d.recargarTabla("Comunas"))})):m("",!0),t.showCreateZona?(l(),T(J,{key:8,onClose:s[31]||(s[31]=B=>t.showCreateZona=!1),onRecarga:s[32]||(s[32]=B=>d.recargarTabla("Zonas"))})):m("",!0),t.showEditZona?(l(),T(X,{key:9,zona1:t.zonaEdit,onClose:s[33]||(s[33]=B=>t.showEditZona=!1),onRecarga:s[34]||(s[34]=B=>d.recargarTabla("Zonas"))},null,8,["zona1"])):m("",!0)])])}const XY=U(CZ,[["render",KY]]),JY={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Promotor",buttonDisable:!1,errors:[],sucursales:null,usuarios:null,promotorCreate:{estado:null,idUsuario:null,idSucursal:null}}),created(){this.getUsuarios(4),this.getSucursales()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(t){_.post(`../api/usuarios/getUsuariosViaTipo/${t}`).then(s=>{this.usuarios=s.data}).catch(s=>console.log(s))},getSucursales(){_.get("../api/sucursales").then(t=>{this.sucursales=t.data}).catch(t=>console.log(t))},async crearPromotor(){if(await this.$refs.confirmation.show({title:"Crear Promotor",message:"¿Está seguro/a que desea crear esta relación Promotor-Sucursal? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let s={estado:this.promotorCreate.estado,idUsuario:this.promotorCreate.idUsuario,idSucursal:this.promotorCreate.idSucursal};_.post("../api/promotores",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Promotor guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},ZY={name:"modal"},WY={class:"modal-mask"},YY={class:"modal-wrapper"},QY={class:"modal-container-xs"},eQ={class:"modal-header fw-bold",style:{color:"#444444"}},tQ={class:"modal-body"},sQ={class:"col-12"},oQ={class:"form-group"},aQ=e("label",{for:""},"Estado: ",-1),lQ=e("br",null,null,-1),iQ=e("option",{disabled:"",value:""},"Seleccione un estado",-1),rQ=e("option",{value:!0},"Activo",-1),nQ=e("option",{value:!1},"Inactivo",-1),dQ=[iQ,rQ,nQ],cQ={key:0,class:"error"},uQ={class:"col-12"},hQ={class:"form-group"},mQ=e("label",{for:""},"Usuario: ",-1),pQ=e("br",null,null,-1),fQ=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),bQ=["value"],gQ={key:0,class:"error"},_Q={class:"col-12"},vQ={class:"form-group"},$Q=e("label",{for:""},"Sucursal: ",-1),yQ=e("br",null,null,-1),CQ=e("option",{disabled:"",value:""},"Seleccione una sucursal",-1),wQ=["value"],kQ={key:0,class:"error"},xQ={class:"modal-footer"},PQ=["disabled"];function EQ(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",ZY,[e("div",WY,[e("div",YY,[e("div",QY,[e("div",eQ,[C(t.$slots,"header",{},()=>[p(" Nuevo Promotor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",tQ,[C(t.$slots,"body",{},()=>[e("div",sQ,[e("div",oQ,[aQ,lQ,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.promotorCreate.estado=o)},dQ,512),[[A,t.promotorCreate.estado]])]),t.errors&&t.errors.estado?(l(),r("div",cQ,i(t.errors.estado[0]),1)):m("",!0)]),e("div",uQ,[e("div",hQ,[mQ,pQ,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.promotorCreate.idUsuario=o)},[fQ,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,bQ))),128))],512),[[A,t.promotorCreate.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",gQ,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",_Q,[e("div",vQ,[$Q,yQ,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.promotorCreate.idSucursal=o)},[CQ,(l(!0),r(P,null,E(t.sucursales,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,wQ))),128))],512),[[A,t.promotorCreate.idSucursal]])]),t.errors&&t.errors.idSucursal?(l(),r("div",kQ,i(t.errors.idSucursal[0]),1)):m("",!0)])])]),e("div",xQ,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.crearPromotor()),disabled:t.buttonDisable},i(t.buttonText),9,PQ)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const TQ=U(JY,[["render",EQ]]),DQ={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Promotor",buttonDisable:!1,idPromotor:null,estado:null,idUsuario:null,idSucursal:null,usuarios:null,sucursales:null,errors:[]}),props:{promotor:Object},created(){this.getUsuarios(4),this.getSucursales(),this.idPromotor=this.promotor.id,this.estado=this.promotor.estado,this.idUsuario=this.promotor.idUsuario,this.idSucursal=this.promotor.idSucursal,this.nombrePromotor=this.promotor.usuario.name,this.nombreSucursal=this.promotor.sucursal.nombre},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(t){_.post(`../api/usuarios/getUsuariosViaTipo/${t}`).then(s=>{this.usuarios=s.data}).catch(s=>console.log(s))},getSucursales(){_.get("../api/sucursales").then(t=>{this.sucursales=t.data}).catch(t=>console.log(t))},async editarPromotor(){if(await this.$refs.confirmation.show({title:"Editar Promotor",message:`¿Está seguro/a que desea editar la relación del promotor '${this.nombrePromotor}' con la sucursal '${this.nombreSucursal}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={estado:this.estado,idUsuario:this.idUsuario,idSucursal:this.idSucursal};var s=this.idPromotor;_.put(`../api/promotores/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Relación Promotor-Sucursal editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},BQ={name:"modal"},OQ={class:"modal-mask"},MQ={class:"modal-wrapper"},SQ={class:"modal-container-xs"},RQ={class:"modal-header fw-bold",style:{color:"#444444"}},AQ={class:"modal-body"},FQ={class:"col-12"},zQ={class:"form-group"},UQ=e("label",{for:""},"Estado: ",-1),VQ=e("br",null,null,-1),LQ=e("option",{disabled:"",value:""},"Seleccione un estado",-1),jQ=e("option",{value:!0},"Activo",-1),NQ=e("option",{value:!1},"Inactivo",-1),HQ=[LQ,jQ,NQ],IQ={key:0,class:"error"},GQ={class:"col-12"},qQ={class:"form-group"},KQ=e("label",{for:""},"Usuario: ",-1),XQ=e("br",null,null,-1),JQ=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),ZQ=["value"],WQ={key:0,class:"error"},YQ={class:"col-12"},QQ={class:"form-group"},eee=e("label",{for:""},"Sucursal: ",-1),tee=e("br",null,null,-1),see=e("option",{disabled:"",value:""},"Seleccione una sucursal",-1),oee=["value"],aee={key:0,class:"error"},lee={class:"modal-footer"},iee=["disabled"];function ree(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",BQ,[e("div",OQ,[e("div",MQ,[e("div",SQ,[e("div",RQ,[C(t.$slots,"header",{},()=>[p(" Editar Promotor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",AQ,[C(t.$slots,"body",{},()=>[e("div",FQ,[e("div",zQ,[UQ,VQ,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.estado=o)},HQ,512),[[A,t.estado]])]),t.errors&&t.errors.estado?(l(),r("div",IQ,i(t.errors.estado[0]),1)):m("",!0)]),e("div",GQ,[e("div",qQ,[KQ,XQ,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idUsuario=o)},[JQ,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,ZQ))),128))],512),[[A,t.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",WQ,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",YQ,[e("div",QQ,[eee,tee,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.idSucursal=o)},[see,(l(!0),r(P,null,E(t.sucursales,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,oee))),128))],512),[[A,t.idSucursal]])]),t.errors&&t.errors.idSucursal?(l(),r("div",aee,i(t.errors.idSucursal[0]),1)):m("",!0)])]),e("div",lee,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.editarPromotor()),disabled:t.buttonDisable},i(t.buttonText),9,iee)])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const nee=U(DQ,[["render",ree]]),dee={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Supervisor",buttonDisable:!1,errors:[],sucursales:null,usuarios:null,supervisorCreate:{estado:null,idUsuario:null,idSucursal:null}}),created(){this.getUsuarios(3),this.getSucursales()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(t){_.post(`../api/usuarios/getUsuariosViaTipo/${t}`).then(s=>{this.usuarios=s.data}).catch(s=>console.log(s))},getSucursales(){_.get("../api/sucursales").then(t=>{this.sucursales=t.data}).catch(t=>console.log(t))},async crearSupervisor(){if(await this.$refs.confirmation.show({title:"Crear Supervisor",message:"¿Está seguro/a que desea crear esta relación Supervisor-Sucursal? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let s={estado:this.supervisorCreate.estado,idUsuario:this.supervisorCreate.idUsuario,idSucursal:this.supervisorCreate.idSucursal};_.post("../api/supervisores",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Supervisor guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},cee={name:"modal"},uee={class:"modal-mask"},hee={class:"modal-wrapper"},mee={class:"modal-container-xs"},pee={class:"modal-header fw-bold",style:{color:"#444444"}},fee={class:"modal-body"},bee={class:"col-12"},gee={class:"form-group"},_ee=e("label",{for:""},"Estado: ",-1),vee=e("br",null,null,-1),$ee=e("option",{disabled:"",value:""},"Seleccione un estado",-1),yee=e("option",{value:!0},"Activo",-1),Cee=e("option",{value:!1},"Inactivo",-1),wee=[$ee,yee,Cee],kee={key:0,class:"error"},xee={class:"col-12"},Pee={class:"form-group"},Eee=e("label",{for:""},"Usuario: ",-1),Tee=e("br",null,null,-1),Dee=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Bee=["value"],Oee={key:0,class:"error"},Mee={class:"col-12"},See={class:"form-group"},Ree=e("label",{for:""},"Sucursal: ",-1),Aee=e("br",null,null,-1),Fee=e("option",{disabled:"",value:""},"Seleccione una sucursal",-1),zee=["value"],Uee={key:0,class:"error"},Vee={class:"modal-footer"},Lee=["disabled"];function jee(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",cee,[e("div",uee,[e("div",hee,[e("div",mee,[e("div",pee,[C(t.$slots,"header",{},()=>[p(" Nuevo Supervisor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",fee,[C(t.$slots,"body",{},()=>[e("div",bee,[e("div",gee,[_ee,vee,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.supervisorCreate.estado=o)},wee,512),[[A,t.supervisorCreate.estado]])]),t.errors&&t.errors.estado?(l(),r("div",kee,i(t.errors.estado[0]),1)):m("",!0)]),e("div",xee,[e("div",Pee,[Eee,Tee,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.supervisorCreate.idUsuario=o)},[Dee,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,Bee))),128))],512),[[A,t.supervisorCreate.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",Oee,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",Mee,[e("div",See,[Ree,Aee,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.supervisorCreate.idSucursal=o)},[Fee,(l(!0),r(P,null,E(t.sucursales,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,zee))),128))],512),[[A,t.supervisorCreate.idSucursal]])]),t.errors&&t.errors.idSucursal?(l(),r("div",Uee,i(t.errors.idSucursal[0]),1)):m("",!0)])])]),e("div",Vee,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.crearSupervisor()),disabled:t.buttonDisable},i(t.buttonText),9,Lee)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Nee=U(dee,[["render",jee]]),Hee={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Supervisor",buttonDisable:!1,idSupervisor:null,estado:null,idUsuario:null,idSucursal:null,usuarios:null,sucursales:null,errors:[]}),props:{supervisor:Object},created(){this.getUsuarios(3),this.getSucursales(),this.idSupervisor=this.supervisor.id,this.estado=this.supervisor.estado,this.idUsuario=this.supervisor.idUsuario,this.idSucursal=this.supervisor.idSucursal,this.nombreSupervisor=this.supervisor.usuario.name,this.nombreSucursal=this.supervisor.sucursal.nombre},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(t){_.post(`../api/usuarios/getUsuariosViaTipo/${t}`).then(s=>{this.usuarios=s.data}).catch(s=>console.log(s))},getSucursales(){_.get("../api/sucursales").then(t=>{this.sucursales=t.data}).catch(t=>console.log(t))},async editarSupervisor(){if(await this.$refs.confirmation.show({title:"Editar Supervisor",message:`¿Está seguro/a que desea editar la relación del supervisor '${this.nombreSupervisor}' con la sucursal '${this.nombreSucursal}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={estado:this.estado,idUsuario:this.idUsuario,idSucursal:this.idSucursal};var s=this.idSupervisor;_.put(`../api/supervisores/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Relación Supervisor-Sucursal editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Iee={name:"modal"},Gee={class:"modal-mask"},qee={class:"modal-wrapper"},Kee={class:"modal-container-xs"},Xee={class:"modal-header fw-bold",style:{color:"#444444"}},Jee={class:"modal-body"},Zee={class:"col-12"},Wee={class:"form-group"},Yee=e("label",{for:""},"Estado: ",-1),Qee=e("br",null,null,-1),ete=e("option",{disabled:"",value:""},"Seleccione un estado",-1),tte=e("option",{value:!0},"Activo",-1),ste=e("option",{value:!1},"Inactivo",-1),ote=[ete,tte,ste],ate={key:0,class:"error"},lte={class:"col-12"},ite={class:"form-group"},rte=e("label",{for:""},"Usuario: ",-1),nte=e("br",null,null,-1),dte=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),cte=["value"],ute={key:0,class:"error"},hte={class:"col-12"},mte={class:"form-group"},pte=e("label",{for:""},"Sucursal: ",-1),fte=e("br",null,null,-1),bte=e("option",{disabled:"",value:""},"Seleccione una sucursal",-1),gte=["value"],_te={key:0,class:"error"},vte={class:"modal-footer"},$te=["disabled"];function yte(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Iee,[e("div",Gee,[e("div",qee,[e("div",Kee,[e("div",Xee,[C(t.$slots,"header",{},()=>[p(" Editar Supervisor ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Jee,[C(t.$slots,"body",{},()=>[e("div",Zee,[e("div",Wee,[Yee,Qee,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.estado=o)},ote,512),[[A,t.estado]])]),t.errors&&t.errors.estado?(l(),r("div",ate,i(t.errors.estado[0]),1)):m("",!0)]),e("div",lte,[e("div",ite,[rte,nte,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idUsuario=o)},[dte,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,cte))),128))],512),[[A,t.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",ute,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",hte,[e("div",mte,[pte,fte,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.idSucursal=o)},[bte,(l(!0),r(P,null,E(t.sucursales,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,gte))),128))],512),[[A,t.idSucursal]])]),t.errors&&t.errors.idSucursal?(l(),r("div",_te,i(t.errors.idSucursal[0]),1)):m("",!0)])]),e("div",vte,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[4]||(s[4]=o=>d.editarSupervisor()),disabled:t.buttonDisable},i(t.buttonText),9,$te)])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Cte=U(Hee,[["render",yte]]),wte={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Sucursal",buttonDisable:!1,errors:[],sucursales:null,usuarios:null,sucursalCreate:{codigo:null,bodega:null,nombre:null,estado:null,idEmpresaMarca:null,direccion:null,idZona:null,idPais:null,idRegion:null,idComuna:null,idTipoSucursal:null,telefono:null,email:null},regionesSelect:[],comunasSelect:[],empresasMarcas:null,tiposSucursal:null,paises:null,zonas:null,regiones:null,comunas:null}),created(){this.getPaises(),this.getZonas(),this.getRegiones(),this.getComunas(),this.getTiposSucursal(),this.getEmpresasMarcas()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getEmpresasMarcas(){_.get("../api/empresasMarcas").then(t=>{this.empresasMarcas=t.data}).catch(t=>console.log(t))},getTiposSucursal(){_.get("../api/tiposSucursal").then(t=>{this.tiposSucursal=t.data}).catch(t=>console.log(t))},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getZonas(){_.get("../api/zonas").then(t=>{this.zonas=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("../api/regiones").then(t=>{this.regiones=t.data}).catch(t=>console.log(t))},getComunas(){_.get("../api/comunas").then(t=>{this.comunas=t.data}).catch(t=>console.log(t))},async crearSucursal(t){if(await this.$refs.confirmation.show({title:"Crear Sucursal",message:`¿Está seguro/a que desea crear la sucursal '${t}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let a={codigo:this.sucursalCreate.codigo,bodega:this.sucursalCreate.bodega,nombre:this.sucursalCreate.nombre,estado:this.sucursalCreate.estado,idEmpresaMarca:this.sucursalCreate.idEmpresaMarca,direccion:this.sucursalCreate.direccion,idZona:this.sucursalCreate.idZona,idPais:this.sucursalCreate.idPais,idRegion:this.sucursalCreate.idRegion,idComuna:this.sucursalCreate.idComuna,idTipoSucursal:this.sucursalCreate.idTipoSucursal,telefono:this.sucursalCreate.telefono,email:this.sucursalCreate.email};_.post("../api/sucursales",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Sucursal guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},kte={name:"modal"},xte={class:"modal-mask"},Pte={class:"modal-wrapper"},Ete={class:"modal-container"},Tte={class:"modal-header fw-bold",style:{color:"#444444"}},Dte={class:"modal-body"},Bte={class:"row"},Ote={class:"col-6"},Mte={class:"form-group"},Ste=e("label",{for:"nombre"},"Nombre: ",-1),Rte={key:0,class:"error"},Ate={class:"col-2"},Fte={class:"form-group"},zte=e("label",{for:"bodega"},"Bodega: ",-1),Ute={key:0,class:"error"},Vte={class:"col-2"},Lte={class:"form-group"},jte=e("label",{for:"codigo"},"Código: ",-1),Nte={key:0,class:"error"},Hte={class:"col-2"},Ite={class:"form-group"},Gte=e("label",{for:""},"Estado: ",-1),qte=e("option",{disabled:"",value:""},"Seleccione un estado",-1),Kte=e("option",{value:!0},"Activo",-1),Xte=e("option",{value:!1},"Inactivo",-1),Jte=[qte,Kte,Xte],Zte={key:0,class:"error"},Wte={class:"row"},Yte={class:"col-6"},Qte={class:"form-group"},ese=e("label",{for:"empresaMarca"},"Empresa-Marca: ",-1),tse=e("option",{disabled:"",value:""},"Seleccione una empresa-marca",-1),sse=["value"],ose={key:0,class:"error"},ase={class:"col-6"},lse={class:"form-group"},ise=e("label",{for:"tipoSucursal"},"Tipo Sucursal: ",-1),rse=e("option",{disabled:"",value:""},"Seleccione un tipo de sucursal",-1),nse=["value"],dse={key:0,class:"error"},cse={class:"col-12"},use={class:"form-group"},hse=e("label",{for:"direccion"},"Dirección: ",-1),mse={key:0,class:"error"},pse={class:"row"},fse={class:"col-3"},bse={class:"form-group"},gse=e("label",{for:"pais"},"Pais: ",-1),_se=e("option",{disabled:"",value:""},"Seleccione un País",-1),vse=["value"],$se={key:0,class:"error"},yse={class:"col-3"},Cse={class:"form-group"},wse=e("label",{for:"zona"},"Zona: ",-1),kse=e("option",{disabled:"",value:""},"Seleccione una zona",-1),xse=["value"],Pse={key:0,class:"error"},Ese={class:"col-3"},Tse={class:"form-group"},Dse=e("label",{for:"region"},"Región: ",-1),Bse=e("option",{disabled:"",value:""},"Seleccione una Región",-1),Ose=["value"],Mse={key:0,class:"error"},Sse={class:"col-3"},Rse={class:"form-group"},Ase=e("label",{for:"comuna"},"Comuna: ",-1),Fse=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),zse=["value"],Use={key:0,class:"error"},Vse={class:"row"},Lse={class:"col-6"},jse={class:"form-group"},Nse=e("label",{for:"telefono"},"Teléfono: ",-1),Hse={key:0,class:"error"},Ise={class:"col-6"},Gse={class:"form-group"},qse=e("label",{for:"email"},"Correo Electrónico: ",-1),Kse={key:0,class:"error"},Xse={class:"modal-footer"},Jse=["disabled"];function Zse(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",kte,[e("div",xte,[e("div",Pte,[e("div",Ete,[e("div",Tte,[C(t.$slots,"header",{},()=>[p(" Nueva Sucursal ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Dte,[C(t.$slots,"body",{},()=>[e("div",Bte,[e("div",Ote,[e("div",Mte,[Ste,f(e("input",{type:"nombre",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.sucursalCreate.nombre=o)},null,512),[[k,t.sucursalCreate.nombre]])]),t.errors&&t.errors.nombre?(l(),r("div",Rte,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",Ate,[e("div",Fte,[zte,f(e("input",{type:"bodega",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.sucursalCreate.bodega=o)},null,512),[[k,t.sucursalCreate.bodega]])]),t.errors&&t.errors.bodega?(l(),r("div",Ute,i(t.errors.bodega[0]),1)):m("",!0)]),e("div",Vte,[e("div",Lte,[jte,f(e("input",{type:"codigo",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.sucursalCreate.codigo=o)},null,512),[[k,t.sucursalCreate.codigo]])]),t.errors&&t.errors.codigo?(l(),r("div",Nte,i(t.errors.codigo[0]),1)):m("",!0)]),e("div",Hte,[e("div",Ite,[Gte,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.sucursalCreate.estado=o)},Jte,512),[[A,t.sucursalCreate.estado]])]),t.errors&&t.errors.estado?(l(),r("div",Zte,i(t.errors.estado[0]),1)):m("",!0)])]),e("div",Wte,[e("div",Yte,[e("div",Qte,[ese,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.sucursalCreate.idEmpresaMarca=o)},[tse,(l(!0),r(P,null,E(t.empresasMarcas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,sse))),128))],512),[[A,t.sucursalCreate.idEmpresaMarca]])]),t.errors&&t.errors.idEmpresaMarca?(l(),r("div",ose,i(t.errors.idEmpresaMarca[0]),1)):m("",!0)]),e("div",ase,[e("div",lse,[ise,f(e("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=o=>t.sucursalCreate.idTipoSucursal=o)},[rse,(l(!0),r(P,null,E(t.tiposSucursal,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,nse))),128))],512),[[A,t.sucursalCreate.idTipoSucursal]])]),t.errors&&t.errors.idTipoSucursal?(l(),r("div",dse,i(t.errors.idTipoSucursal[0]),1)):m("",!0)])]),e("div",cse,[e("div",use,[hse,f(e("input",{type:"direccion",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.sucursalCreate.direccion=o)},null,512),[[k,t.sucursalCreate.direccion]])]),t.errors&&t.errors.direccion?(l(),r("div",mse,i(t.errors.direccion[0]),1)):m("",!0)]),e("div",pse,[e("div",fse,[e("div",bse,[gse,f(e("select",{class:"form-select",onChange:s[8]||(s[8]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[9]||(s[9]=o=>t.sucursalCreate.idPais=o)},[_se,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,vse))),128))],544),[[A,t.sucursalCreate.idPais]])]),t.errors&&t.errors.idPais?(l(),r("div",$se,i(t.errors.idPais[0]),1)):m("",!0)]),e("div",yse,[e("div",Cse,[wse,f(e("select",{class:"form-select","onUpdate:modelValue":s[10]||(s[10]=o=>t.sucursalCreate.idZona=o)},[kse,(l(!0),r(P,null,E(t.zonas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,xse))),128))],512),[[A,t.sucursalCreate.idZona]])]),t.errors&&t.errors.idZona?(l(),r("div",Pse,i(t.errors.idZona[0]),1)):m("",!0)]),e("div",Ese,[e("div",Tse,[Dse,f(e("select",{class:"form-select",onChange:s[11]||(s[11]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[12]||(s[12]=o=>t.sucursalCreate.idRegion=o)},[Bse,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,Ose))),128))],544),[[A,t.sucursalCreate.idRegion]])]),t.errors&&t.errors.idRegion?(l(),r("div",Mse,i(t.errors.idRegion[0]),1)):m("",!0)]),e("div",Sse,[e("div",Rse,[Ase,f(e("select",{class:"form-select","onUpdate:modelValue":s[13]||(s[13]=o=>t.sucursalCreate.idComuna=o)},[Fse,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,zse))),128))],512),[[A,t.sucursalCreate.idComuna]])]),t.errors&&t.errors.idComuna?(l(),r("div",Use,i(t.errors.idComuna[0]),1)):m("",!0)])]),e("div",Vse,[e("div",Lse,[e("div",jse,[Nse,f(e("input",{type:"telefono",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=o=>t.sucursalCreate.telefono=o)},null,512),[[k,t.sucursalCreate.telefono]])]),t.errors&&t.errors.telefono?(l(),r("div",Hse,i(t.errors.telefono[0]),1)):m("",!0)]),e("div",Ise,[e("div",Gse,[qse,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>t.sucursalCreate.email=o)},null,512),[[k,t.sucursalCreate.email]])]),t.errors&&t.errors.email?(l(),r("div",Kse,i(t.errors.email[0]),1)):m("",!0)])])])]),e("div",Xse,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[16]||(s[16]=o=>d.crearSucursal(t.sucursalCreate.nombre)),disabled:t.buttonDisable},i(t.buttonText),9,Jse)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Wse=U(wte,[["render",Zse]]),Yse={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Sucursal",buttonDisable:!1,idSucursal:null,codigo:null,bodega:null,nombre:null,estado:null,idEmpresaMarca:null,direccion:null,idZona:null,idPais:null,idRegion:null,idComuna:null,idTipoSucursal:null,telefono:null,email:null,errors:[],regionesSelect:[],comunasSelect:[],empresasMarcas:null,tiposSucursal:null,paises:null,zonas:null,regiones:null,comunas:null}),props:{sucursal1:Object},created(){this.getPaises(),this.getZonas(),this.getRegiones(),this.getComunas(),this.getTiposSucursal(),this.getEmpresasMarcas(),this.idPais=this.sucursal1.idPais,this.idSucursal=this.sucursal1.id,this.codigo=this.sucursal1.codigo,this.bodega=this.sucursal1.bodega,this.nombre=this.sucursal1.nombre,this.idRegion=this.sucursal1.idRegion,this.estado=this.sucursal1.estado,this.idEmpresaMarca=this.sucursal1.idEmpresaMarca,this.direccion=this.sucursal1.direccion,this.idZona=this.sucursal1.idZona,this.idComuna=this.sucursal1.idComuna,this.idTipoSucursal=this.sucursal1.idTipoSucursal,this.telefono=this.sucursal1.telefono,this.email=this.sucursal1.email},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getEmpresasMarcas(){_.get("../api/empresasMarcas").then(t=>{this.empresasMarcas=t.data}).catch(t=>console.log(t))},getTiposSucursal(){_.get("../api/tiposSucursal").then(t=>{this.tiposSucursal=t.data}).catch(t=>console.log(t))},getRegionesSelect(t){this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},getPaises(){_.get("../api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getZonas(){_.get("../api/zonas").then(t=>{this.zonas=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("../api/regiones").then(t=>{this.regiones=t.data,this.getRegionesSelect(this.idPais)}).catch(t=>console.log(t))},getComunas(){_.get("../api/comunas").then(t=>{this.comunas=t.data,this.getComunasSelect(this.idRegion)}).catch(t=>console.log(t))},async editarSucursal(){if(await this.$refs.confirmation.show({title:"Editar Sucursal",message:`¿Está seguro/a que desea editar la sucursal '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={codigo:this.codigo,bodega:this.bodega,nombre:this.nombre,estado:this.estado,idEmpresaMarca:this.idEmpresaMarca,direccion:this.direccion,idZona:this.idZona,idPais:this.idPais,idRegion:this.idRegion,idComuna:this.idComuna,idTipoSucursal:this.idTipoSucursal,telefono:this.telefono,email:this.email};var s=this.idSucursal;_.put(`../api/sucursales/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Sucursal editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Qse={name:"modal"},eoe={class:"modal-mask"},toe={class:"modal-wrapper"},soe={class:"modal-container"},ooe={class:"modal-header fw-bold",style:{color:"#444444"}},aoe={class:"modal-body"},loe={class:"row"},ioe={class:"col-6"},roe={class:"form-group"},noe=e("label",{for:"nombre"},"Nombre: ",-1),doe=e("br",null,null,-1),coe={key:0,class:"error"},uoe={class:"col-2"},hoe={class:"form-group"},moe=e("label",{for:"bodega"},"Bodega: ",-1),poe=e("br",null,null,-1),foe={key:0,class:"error"},boe={class:"col-2"},goe={class:"form-group"},_oe=e("label",{for:"codigo"},"Código: ",-1),voe=e("br",null,null,-1),$oe=e("br",null,null,-1),yoe={key:0,class:"error"},Coe={class:"col-2"},woe={class:"form-group"},koe=e("label",{for:""},"Estado: ",-1),xoe=e("br",null,null,-1),Poe=e("option",{disabled:"",value:""},"Seleccione un estado",-1),Eoe=e("option",{value:!0},"Activo",-1),Toe=e("option",{value:!1},"Inactivo",-1),Doe=[Poe,Eoe,Toe],Boe={key:0,class:"error"},Ooe={class:"row"},Moe={class:"col-6"},Soe={class:"form-group"},Roe=e("label",{for:"empresaMarca"},"Empresa-Marca: ",-1),Aoe=e("br",null,null,-1),Foe=e("option",{disabled:"",value:""},"Seleccione una empresa-marca",-1),zoe=["value"],Uoe={key:0,class:"error"},Voe={class:"col-6"},Loe={class:"form-group"},joe=e("label",{for:"tipoSucursal"},"Tipo Sucursal: ",-1),Noe=e("br",null,null,-1),Hoe=e("option",{disabled:"",value:""},"Seleccione un tipo de sucursal",-1),Ioe=["value"],Goe={key:0,class:"error"},qoe={class:"col-12"},Koe={class:"form-group"},Xoe=e("label",{for:"direccion"},"Dirección: ",-1),Joe=e("br",null,null,-1),Zoe=e("br",null,null,-1),Woe={key:0,class:"error"},Yoe={class:"row"},Qoe={class:"col-3"},eae={class:"form-group"},tae=e("label",{for:"pais"},"País: ",-1),sae=e("br",null,null,-1),oae=e("option",{disabled:"",value:""},"Seleccione un País",-1),aae=["value"],lae={key:0,class:"error"},iae={class:"col-3"},rae={class:"form-group"},nae=e("label",{for:"zona"},"Zona: ",-1),dae=e("br",null,null,-1),cae=e("option",{disabled:"",value:""},"Seleccione una zona",-1),uae=["value"],hae={key:0,class:"error"},mae={class:"col-3"},pae={class:"form-group"},fae=e("label",{for:"region"},"Región: ",-1),bae=e("br",null,null,-1),gae=e("option",{disabled:"",value:""},"Seleccione una Región",-1),_ae=["value"],vae={key:0,class:"error"},$ae={class:"col-3"},yae={class:"form-group"},Cae=e("label",{for:"comuna"},"Comuna: ",-1),wae=e("br",null,null,-1),kae=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),xae=["value"],Pae={key:0,class:"error"},Eae={class:"row"},Tae={class:"col-6"},Dae={class:"form-group"},Bae=e("label",{for:"telefono"},"Teléfono: ",-1),Oae=e("br",null,null,-1),Mae={key:0,class:"error"},Sae={class:"col-6"},Rae={class:"form-group"},Aae=e("label",{for:"email"},"Correo Electrónico: ",-1),Fae=e("br",null,null,-1),zae={key:0,class:"error"},Uae={class:"modal-footer"},Vae=["disabled"];function Lae(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Qse,[e("div",eoe,[e("div",toe,[e("div",soe,[e("div",ooe,[C(t.$slots,"header",{},()=>[p(" Editar Sucursal ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",aoe,[C(t.$slots,"body",{},()=>[e("div",loe,[e("div",ioe,[e("div",roe,[noe,doe,f(e("input",{type:"nombre",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]])]),t.errors&&t.errors.nombre?(l(),r("div",coe,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",uoe,[e("div",hoe,[moe,poe,f(e("input",{type:"bodega",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.bodega=o)},null,512),[[k,t.bodega]])]),t.errors&&t.errors.bodega?(l(),r("div",foe,i(t.errors.bodega[0]),1)):m("",!0)]),e("div",boe,[e("div",goe,[_oe,voe,f(e("input",{type:"codigo",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.codigo=o)},null,512),[[k,t.codigo]]),$oe]),t.errors&&t.errors.codigo?(l(),r("div",yoe,i(t.errors.codigo[0]),1)):m("",!0)]),e("div",Coe,[e("div",woe,[koe,xoe,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.estado=o)},Doe,512),[[A,t.estado]])]),t.errors&&t.errors.estado?(l(),r("div",Boe,i(t.errors.estado[0]),1)):m("",!0)])]),e("div",Ooe,[e("div",Moe,[e("div",Soe,[Roe,Aoe,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.idEmpresaMarca=o)},[Foe,(l(!0),r(P,null,E(t.empresasMarcas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,zoe))),128))],512),[[A,t.idEmpresaMarca]])]),t.errors&&t.errors.idEmpresaMarca?(l(),r("div",Uoe,i(t.errors.idEmpresaMarca[0]),1)):m("",!0)]),e("div",Voe,[e("div",Loe,[joe,Noe,f(e("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=o=>t.idTipoSucursal=o)},[Hoe,(l(!0),r(P,null,E(t.tiposSucursal,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,Ioe))),128))],512),[[A,t.idTipoSucursal]])]),t.errors&&t.errors.idTipoSucursal?(l(),r("div",Goe,i(t.errors.idTipoSucursal[0]),1)):m("",!0)])]),e("div",qoe,[e("div",Koe,[Xoe,Joe,f(e("input",{type:"direccion",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.direccion=o)},null,512),[[k,t.direccion]]),Zoe]),t.errors&&t.errors.direccion?(l(),r("div",Woe,i(t.errors.direccion[0]),1)):m("",!0)]),e("div",Yoe,[e("div",Qoe,[e("div",eae,[tae,sae,f(e("select",{class:"form-select",onChange:s[8]||(s[8]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[9]||(s[9]=o=>t.idPais=o)},[oae,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,aae))),128))],544),[[A,t.idPais]])]),t.errors&&t.errors.idPais?(l(),r("div",lae,i(t.errors.idPais[0]),1)):m("",!0)]),e("div",iae,[e("div",rae,[nae,dae,f(e("select",{class:"form-select","onUpdate:modelValue":s[10]||(s[10]=o=>t.idZona=o)},[cae,(l(!0),r(P,null,E(t.zonas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,uae))),128))],512),[[A,t.idZona]])]),t.errors&&t.errors.idZona?(l(),r("div",hae,i(t.errors.idZona[0]),1)):m("",!0)]),e("div",mae,[e("div",pae,[fae,bae,f(e("select",{class:"form-select",onChange:s[11]||(s[11]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[12]||(s[12]=o=>t.idRegion=o)},[gae,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,_ae))),128))],544),[[A,t.idRegion]])]),t.errors&&t.errors.idRegion?(l(),r("div",vae,i(t.errors.idRegion[0]),1)):m("",!0)]),e("div",$ae,[e("div",yae,[Cae,wae,f(e("select",{class:"form-select","onUpdate:modelValue":s[13]||(s[13]=o=>t.idComuna=o)},[kae,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,xae))),128))],512),[[A,t.idComuna]])]),t.errors&&t.errors.idComuna?(l(),r("div",Pae,i(t.errors.idComuna[0]),1)):m("",!0)])]),e("div",Eae,[e("div",Tae,[e("div",Dae,[Bae,Oae,f(e("input",{type:"telefono",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=o=>t.telefono=o)},null,512),[[k,t.telefono]])]),t.errors&&t.errors.telefono?(l(),r("div",Mae,i(t.errors.telefono[0]),1)):m("",!0)]),e("div",Sae,[e("div",Rae,[Aae,Fae,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>t.email=o)},null,512),[[k,t.email]])]),t.errors&&t.errors.email?(l(),r("div",zae,i(t.errors.email[0]),1)):m("",!0)])])]),e("div",Uae,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[16]||(s[16]=o=>d.editarSucursal()),disabled:t.buttonDisable},i(t.buttonText),9,Vae)])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const jae=U(Yse,[["render",Lae]]),Nae={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Banco",buttonDisable:!1,nombreBanco:"",errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearBanco(){if(await this.$refs.confirmation.show({title:"Crear Banco",message:`¿Está seguro/a que desea crear el sistema salud '${this.nombreBanco}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.nombreBanco};_.post("../api/bancos",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Banco guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Hae={name:"modal"},Iae={class:"modal-mask"},Gae={class:"modal-wrapper"},qae={class:"modal-container-xs"},Kae={class:"modal-header fw-bold",style:{color:"#444444"}},Xae={class:"modal-body"},Jae={class:"form-group"},Zae=e("label",{for:"name"},"Nombre Banco: ",-1),Wae=e("br",null,null,-1),Yae={key:0,class:"error"},Qae={class:"modal-footer"},ele=["disabled"];function tle(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Hae,[e("div",Iae,[e("div",Gae,[e("div",qae,[e("div",Kae,[C(t.$slots,"header",{},()=>[p(" Nuevo Banco ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Xae,[C(t.$slots,"body",{},()=>[e("div",Jae,[Zae,Wae,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreBanco=o)},null,512),[[k,t.nombreBanco]]),t.errors&&t.errors.nombre?(l(),r("div",Yae,i(t.errors.nombre[0]),1)):m("",!0)])])]),e("div",Qae,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearBanco()),disabled:t.buttonDisable},i(t.buttonText),9,ele)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const sle=U(Nae,[["render",tle]]),ole={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Sistema",buttonDisable:!1,nombre:"",id:"",errors:[]}),props:{banco:Object},created(){this.nombre=this.banco.nombre,this.id=this.banco.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarSistema(){if(await this.$refs.confirmation.show({title:"Editar Sistema",message:`¿Está seguro/a que desea editar el sistema de salud '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre,porcentaje:this.porcentaje};var s=this.id;_.put(`../api/sistemasSalud/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Sistema editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},ale={name:"modal"},lle={class:"modal-mask"},ile={class:"modal-wrapper"},rle={class:"modal-container-xs"},nle={class:"modal-header fw-bold",style:{color:"#444444"}},dle={class:"modal-body"},cle={class:"form-group"},ule=e("label",{for:"nombre"},"Nombre: ",-1),hle=e("br",null,null,-1),mle={key:0,class:"error"},ple=e("br",null,null,-1),fle={class:"modal-footer"},ble=["disabled"];function gle(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",ale,[e("div",lle,[e("div",ile,[e("div",rle,[e("div",nle,[C(t.$slots,"header",{},()=>[p(" Editar Banco ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",dle,[C(t.$slots,"body",{},()=>[e("div",cle,[ule,hle,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",mle,i(t.errors.nombre[0]),1)):m("",!0)]),ple,e("div",fle,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarSistema()),disabled:t.buttonDisable},i(t.buttonText),9,ble)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const _le=U(ole,[["render",gle]]),vle={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({}),props:{sucursal:Object},created(){}},$le={name:"modal"},yle={class:"modal-mask"},Cle={class:"modal-wrapper"},wle={class:"modal-container"},kle={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},xle=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle de la Sucursal:",-1),Ple={class:"col-3 m-0",style:{"font-size":"15px","text-align":"right"}},Ele={key:0,class:"fs-7 fw-bold",style:{color:"#28A745"}},Tle={key:1,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},Dle={key:2,class:"fs-7 fw-bold",style:{color:"black"}},Ble={class:"modal-body"},Ole={class:"form-group"},Mle={class:"row"},Sle=e("div",{class:"text-uppercase"},"Información Esencial:",-1),Rle={class:"col-6 m-0 fs-8"},Ale={class:"fw-normal",style:{"font-size":"14px"}},Fle={class:"col-3 m-0 fs-8"},zle={class:"fw-normal",style:{"font-size":"14px"}},Ule={key:0,class:"col-3 m-0 fs-8"},Vle=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),Lle={key:1,class:"col-3 m-0 fs-8"},jle={class:"fw-normal",style:{"font-size":"14px"}},Nle=e("hr",{size:"4",class:"separador"},null,-1),Hle=e("div",{class:"text-uppercase"},"Dirección:",-1),Ile={class:"col-12 m-0 fs-8"},Gle={class:"fw-normal",style:{"font-size":"14px"}},qle={class:"col-2 m-0 fs-8"},Kle={class:"fw-normal",style:{"font-size":"14px"}},Xle={class:"col-2 m-0 fs-8"},Jle={class:"fw-normal",style:{"font-size":"14px"}},Zle={class:"col-4 m-0 fs-8"},Wle={class:"fw-normal",style:{"font-size":"14px"}},Yle={class:"col-4 m-0 fs-8"},Qle={class:"fw-normal",style:{"font-size":"14px"}},eie=e("hr",{size:"4",class:"separador"},null,-1),tie=e("div",{class:"text-uppercase"},"Contacto:",-1),sie={key:2,class:"col-4 m-0 fs-8"},oie=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),aie={key:3,class:"col-4 m-0 fs-8"},lie={class:"fw-normal",style:{"font-size":"14px"}},iie={key:4,class:"col-8 m-0 fs-8"},rie=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),nie={key:5,class:"col-8 m-0 fs-8"},die={class:"fw-normal",style:{"font-size":"14px"}},cie=e("hr",{size:"4",class:"separador"},null,-1),uie=e("div",{class:"text-uppercase"},"Otros Datos:",-1),hie={class:"col-7 m-0 fs-8"},mie={class:"fw-normal",style:{"font-size":"14px"}},pie={class:"col-5 m-0 fs-8"},fie={class:"fw-normal",style:{"font-size":"14px"}},bie={class:"col-12 m-0 fs-8"},gie={class:"fw-normal",style:{"font-size":"14px"}};function _ie(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",$le,[e("div",yle,[e("div",Cle,[e("div",wle,[e("div",kle,[C(t.$slots,"header",{},()=>[xle,e("label",Ple,[p(" Estado: "),a.sucursal.estado==!0?(l(),r("label",Ele,"Activo")):m("",!0),a.sucursal.estado==!1?(l(),r("label",Tle,"Inactivo")):m("",!0),a.sucursal.estado==null?(l(),r("label",Dle,"---")):m("",!0)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Ble,[C(t.$slots,"body",{},()=>[e("div",Ole,[e("div",Mle,[Sle,e("label",Rle,[p(" Nombre: "),e("label",Ale,i(a.sucursal.nombre),1)]),e("label",Fle,[p(" Código: "),e("label",zle,i(a.sucursal.codigo),1)]),a.sucursal.bodega==null?(l(),r("label",Ule,[p(" Bodega: "),Vle])):(l(),r("label",Lle,[p(" Bodega: "),e("label",jle,i(a.sucursal.bodega),1)])),Nle,Hle,e("label",Ile,[p(" Dirección: "),e("label",Gle,i(a.sucursal.direccion),1)]),e("label",qle,[p(" Zona: "),e("label",Kle,i(a.sucursal.zona.nombre),1)]),e("label",Xle,[p(" País: "),e("label",Jle,i(a.sucursal.pais.pais),1)]),e("label",Zle,[p(" Región: "),e("label",Wle,i(a.sucursal.region.region),1)]),e("label",Yle,[p(" Comuna: "),e("label",Qle,i(a.sucursal.comuna.comuna),1)]),eie,tie,a.sucursal.telefono==null?(l(),r("label",sie,[p(" Teléfono: "),oie])):(l(),r("label",aie,[p(" Teléfono: "),e("label",lie,i(a.sucursal.telefono),1)])),a.sucursal.email==null?(l(),r("label",iie,[p(" Correo: "),rie])):(l(),r("label",nie,[p(" Correo: "),e("label",die,i(a.sucursal.email),1)])),cie,uie,e("label",hie,[p(" Empresa: "),e("label",mie,i(a.sucursal.empresa_marca.empresa.razonSocial),1)]),e("label",pie,[p(" Marca: "),e("label",fie,i(a.sucursal.empresa_marca.marca.nombre),1)]),e("label",bie,[p(" Tipo de Sucursal: "),e("label",gie,i(a.sucursal.tipo_sucursal.nombre),1)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])])]),_:3})}const vie=U(vle,[["render",_ie]]),$ie={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({comision:{idUsuario:"",estado:null,nombre:null,rut:null,correo:null,telefono:null},buttonText:"Crear Comisión",buttonDisable:!1,usuarios:[],errors:[]}),created(){this.getUsuarios()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.comision.rut!=""){this.comision.rut.replace(".","");var t=this.comision.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.comision.rut=s+"-"+a}},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},async crearComision(){if(await this.$refs.confirmation.show({title:"Crear Comisión",message:`¿Está seguro/a que desea crear la Comisión '${this.comision.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={idUsuario:this.comision.idUsuario,rut:this.comision.rut,estado:this.comision.estado,nombre:this.comision.nombre,correo:this.comision.correo,telefono:this.comision.telefono};_.post("../api/comisiones",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Comisión guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},yie={name:"modal"},Cie={class:"modal-mask"},wie={class:"modal-wrapper"},kie={class:"modal-container-s"},xie={class:"modal-header fw-bold",style:{color:"#444444"}},Pie={class:"modal-body"},Eie={class:"row"},Tie={class:"col-4"},Die={class:"form-group"},Bie=e("label",{for:""},"Estado: ",-1),Oie=e("br",null,null,-1),Mie=e("option",{disabled:"",value:""},"Seleccione un estado",-1),Sie=e("option",{value:!0},"Activo",-1),Rie=e("option",{value:!1},"Inactivo",-1),Aie=[Mie,Sie,Rie],Fie={key:0,class:"error"},zie={class:"col-8"},Uie={class:"form-group"},Vie=e("label",{for:""},"Usuario Responsable: ",-1),Lie=e("br",null,null,-1),jie=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Nie=["value"],Hie={key:0,class:"error"},Iie={class:"col-12"},Gie={class:"form-group"},qie=e("label",{for:"nombre"},"Nombre: ",-1),Kie=e("br",null,null,-1),Xie={key:0,class:"error"},Jie={class:"col-3"},Zie={class:"form-group"},Wie=e("label",{for:"rut"},"Rut:",-1),Yie=e("br",null,null,-1),Qie={key:0,class:"error"},ere={class:"col-6"},tre={class:"form-group"},sre=e("label",{for:"correo"},"Correo Electrónico: ",-1),ore=e("br",null,null,-1),are={key:0,class:"error"},lre={class:"col-3"},ire={class:"form-group"},rre=e("label",{for:"telefono"},"Teléfono: ",-1),nre=e("br",null,null,-1),dre={key:0,class:"error"},cre={class:"modal-footer"},ure=["disabled"];function hre(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",yie,[e("div",Cie,[e("div",wie,[e("div",kie,[e("div",xie,[C(t.$slots,"header",{},()=>[p(" Nueva Comisión ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Pie,[C(t.$slots,"body",{},()=>[e("div",Eie,[e("div",Tie,[e("div",Die,[Bie,Oie,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.comision.estado=o)},Aie,512),[[A,t.comision.estado]])]),t.errors&&t.errors.estado?(l(),r("div",Fie,i(t.errors.estado[0]),1)):m("",!0)]),e("div",zie,[e("div",Uie,[Vie,Lie,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.comision.idUsuario=o)},[jie,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,Nie))),128))],512),[[A,t.comision.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",Hie,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",Iie,[e("div",Gie,[qie,Kie,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.comision.nombre=o)},null,512),[[k,t.comision.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Xie,i(t.errors.nombre[0]),1)):m("",!0)])]),e("div",Jie,[e("div",Zie,[Wie,Yie,f(e("input",{type:"text",onKeyup:s[4]||(s[4]=o=>d.checkRut()),class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.comision.rut=o)},null,544),[[k,t.comision.rut]]),t.errors&&t.errors.rut?(l(),r("div",Qie,i(t.errors.rut[0]),1)):m("",!0)])]),e("div",ere,[e("div",tre,[sre,ore,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.comision.correo=o)},null,512),[[k,t.comision.correo]]),t.errors&&t.errors.correo?(l(),r("div",are,i(t.errors.correo[0]),1)):m("",!0)])]),e("div",lre,[e("div",ire,[rre,nre,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.comision.telefono=o)},null,512),[[k,t.comision.telefono]]),t.errors&&t.errors.telefono?(l(),r("div",dre,i(t.errors.telefono[0]),1)):m("",!0)])])])])]),e("div",cre,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[8]||(s[8]=o=>d.crearComision()),disabled:t.buttonDisable},i(t.buttonText),9,ure)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const mre=U($ie,[["render",hre]]),pre={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Comisión",buttonDisable:!1,id:null,estado:null,idUsuario:null,nombre:null,rut:null,correo:null,telefono:null,usuarios:[],errors:[]}),props:{comision1:Object},created(){this.id=this.comision1.id,this.estado=this.comision1.estado,this.idUsuario=this.comision1.idUsuario,this.nombre=this.comision1.nombre,this.rut=this.comision1.rut,this.correo=this.comision1.correo,this.telefono=this.comision1.telefono,this.getUsuarios()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.rut!=""){this.rut.replace(".","");var t=this.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.rut=s+"-"+a}},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},async editarComision(){if(await this.$refs.confirmation.show({title:"Editar Comisión",message:`¿Está seguro/a que desea editar la Comisión '${this.comision}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={id:this.id,estado:this.estado,idUsuario:this.idUsuario,nombre:this.nombre,rut:this.rut,correo:this.correo,telefono:this.telefono};var s=this.id;_.put(`../api/comisiones/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Comisión editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},fre={name:"modal"},bre={class:"modal-mask"},gre={class:"modal-wrapper"},_re={class:"modal-container-s"},vre={class:"modal-header fw-bold",style:{color:"#444444"}},$re={class:"modal-body"},yre={class:"row"},Cre={class:"col-4"},wre={class:"form-group"},kre=e("label",{for:""},"Estado: ",-1),xre=e("br",null,null,-1),Pre=e("option",{disabled:"",value:""},"Seleccione un estado",-1),Ere=e("option",{value:!0},"Activo",-1),Tre=e("option",{value:!1},"Inactivo",-1),Dre=[Pre,Ere,Tre],Bre={key:0,class:"error"},Ore={class:"col-8"},Mre={class:"form-group"},Sre=e("label",{for:""},"Usuario Responsable: ",-1),Rre=e("br",null,null,-1),Are=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Fre=["value"],zre={key:0,class:"error"},Ure={class:"col-12"},Vre={class:"form-group"},Lre=e("label",{for:"nombre"},"Nombre: ",-1),jre=e("br",null,null,-1),Nre={key:0,class:"error"},Hre={class:"col-3"},Ire={class:"form-group"},Gre=e("label",{for:"rut"},"Rut:",-1),qre=e("br",null,null,-1),Kre={key:0,class:"error"},Xre={class:"col-6"},Jre={class:"form-group"},Zre=e("label",{for:"correo"},"Correo Electrónico: ",-1),Wre=e("br",null,null,-1),Yre={key:0,class:"error"},Qre={class:"col-3"},ene={class:"form-group"},tne=e("label",{for:"telefono"},"Teléfono: ",-1),sne=e("br",null,null,-1),one={key:0,class:"error"},ane={class:"modal-footer"},lne=["disabled"];function ine(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",fre,[e("div",bre,[e("div",gre,[e("div",_re,[e("div",vre,[C(t.$slots,"header",{},()=>[p(" Editar Comisión ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",$re,[C(t.$slots,"body",{},()=>[e("div",yre,[e("div",Cre,[e("div",wre,[kre,xre,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.estado=o)},Dre,512),[[A,t.estado]])]),t.errors&&t.errors.estado?(l(),r("div",Bre,i(t.errors.estado[0]),1)):m("",!0)]),e("div",Ore,[e("div",Mre,[Sre,Rre,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.idUsuario=o)},[Are,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,Fre))),128))],512),[[A,t.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",zre,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",Ure,[e("div",Vre,[Lre,jre,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Nre,i(t.errors.nombre[0]),1)):m("",!0)])]),e("div",Hre,[e("div",Ire,[Gre,qre,f(e("input",{type:"text",onKeyup:s[4]||(s[4]=o=>d.checkRut()),class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.rut=o)},null,544),[[k,t.rut]]),t.errors&&t.errors.rut?(l(),r("div",Kre,i(t.errors.rut[0]),1)):m("",!0)])]),e("div",Xre,[e("div",Jre,[Zre,Wre,f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.correo=o)},null,512),[[k,t.correo]]),t.errors&&t.errors.correo?(l(),r("div",Yre,i(t.errors.correo[0]),1)):m("",!0)])]),e("div",Qre,[e("div",ene,[tne,sne,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.telefono=o)},null,512),[[k,t.telefono]]),t.errors&&t.errors.telefono?(l(),r("div",one,i(t.errors.telefono[0]),1)):m("",!0)])])])])]),e("div",ane,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[8]||(s[8]=o=>d.editarComision()),disabled:t.buttonDisable},i(t.buttonText),9,lne)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const rne=U(pre,[["render",ine]]),nne={components:{modalconfirmacion:j,modalalerta:N,modalCreateSupervisor:Nee,modalEditSupervisor:Cte,modalCreatePromotor:TQ,modalEditPromotor:nee,modalEditSucursal:jae,modalCreateSucursal:Wse,modalDetalleSucursal:vie,modalCreateComision:mre,modalEditComision:rne,modalCreateBanco:sle,modalEditBanco:_le},mixins:[V],data:()=>({isVisibleComisiones:!1,comisiones:null,showEditComision:!1,comisionEdit:null,showCreateComision:!1,isVisibleSucursales:!0,sucursales:null,showEditSucursal:!1,sucursalEdit:null,showCreateSucursal:!1,showDetallesSucursal:!1,detalleSucursal:null,isVisiblePromotores:!1,promotores:null,showEditPromotor:!1,promotorEdit:null,showCreatePromotor:!1,isVisibleSupervisores:!1,supervisores:null,showEditSupervisor:!1,supervisorEdit:null,showCreateSupervisor:!1,isVisibleMetasMensuales:!1,metasMensuales:null,showEditMetaMensual:!1,metaMensualEdit:null,showCreateMetaMensual:!1,isVisibleMetasDiarias:!1,metasDiarias:null,showEditMetaDiaria:!1,metaDiariaEdit:null,showCreateMetaDiaria:!1,isVisibleMetasColaboradores:!1,metasColaboradores:null,showEditMetaColaborador:!1,metaColaboradorEdit:null,showCreateMetaColaborador:!1,isVisibleContadoresPersonas:!1,contadoresPersonas:null,showEditContadorPersona:!1,contadorPersonaEdit:null,showCreateContadorPersona:!1,isVisibleBancos:!1,bancos:null,showEditBanco:!1,bancoEdit:null,showCreateBanco:!1,tableSucursales:null,mostrarCarga1:!0,mostrarTabla1:!1,tablePromotores:null,mostrarCarga2:!0,mostrarTabla2:!1,tableSupervisores:null,mostrarCarga3:!0,mostrarTabla3:!1,tableComisiones:null,mostrarCarga4:!0,mostrarTabla4:!1,tableBancos:null,mostrarCarga5:!0,mostrarTabla5:!1,tableMetasMensuales:null,mostrarCarga6:!0,mostrarTabla6:!1,tableMetasDiarias:null,mostrarCarga7:!0,mostrarTabla7:!1,tableMetasColaborador:null,mostrarCarga8:!0,mostrarTabla8:!1,tableContadoresPersonas:null,mostrarCarga9:!0,mostrarTabla9:!1}),created(){this.getSucursales()},methods:{sucursalDetalle(t){this.detalleSucursal=t,this.showDetallesSucursal=!0},recargarTabla(t){t=="Comisiones"&&(this.comisiones=null,this.mostrarCarga4=!0,this.getComisiones()),t=="Sucursales"&&(this.sucursales=null,this.mostrarCarga1=!0,this.getSucursales()),t=="Promotores"&&(this.promotores=null,this.mostrarCarga2=!0,this.getPromotores()),t=="Supervisores"&&(this.supervisores=null,this.mostrarCarga3=!0,this.getSupervisores()),t=="Bancos"&&(this.bancos=null,this.mostrarCarga5=!0,this.getBancos()),t=="MetasMensuales"&&(this.metasMensuales=null,this.mostrarCarga6=!0,this.getMetasMensuales()),t=="MetasDiarias"&&(this.metasDiarias=null,this.mostrarCarga7=!0,this.getMetasDiarias()),t=="MetasColaboradores"&&(this.metasColaboradores=null,this.mostrarCarga8=!0,this.getMetasColaboradores()),t=="ContadoresPersonas"&&(this.contadoresPersonas=null,this.mostrarCarga9=!0,this.getContadoresPersonas())},crearTablas(t){t=="Comisiones"&&setTimeout(function(){this.tableComisiones=$("#MyTableComisiones").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableComisiones.buttons().remove(),this.mostrarCarga4=!1,this.mostrarTabla4=!0}.bind(this),200),t=="Sucursales"&&setTimeout(function(){this.tableSucursales=$("#MyTableSucursales").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableSucursales.buttons().remove(),this.mostrarCarga1=!1,this.mostrarTabla1=!0}.bind(this),200),t=="Promotores"&&setTimeout(function(){this.tablePromotores=$("#MyTablePromotores").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tablePromotores.buttons().remove(),this.mostrarCarga2=!1,this.mostrarTabla2=!0}.bind(this),200),t=="Supervisores"&&setTimeout(function(){this.tableSupervisores=$("#MyTableSupervisores").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableSupervisores.buttons().remove(),this.mostrarCarga3=!1,this.mostrarTabla3=!0}.bind(this),200),t=="Bancos"&&setTimeout(function(){this.tableBancos=$("#MyTableBancos").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableBancos.buttons().remove(),this.mostrarCarga5=!1,this.mostrarTabla5=!0}.bind(this),200),t=="MetasMensuales"&&setTimeout(function(){this.tableMetasMensuales=$("#MyTableMetasMensuales").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableMetasMensuales.buttons().remove(),this.mostrarCarga6=!1,this.mostrarTabla6=!0}.bind(this),200),t=="MetasDiarias"&&setTimeout(function(){this.tableMetasDiarias=$("#MyTableMetasDiarias").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableMetasDiarias.buttons().remove(),this.mostrarCarga7=!1,this.mostrarTabla7=!0}.bind(this),200),t=="MetasColaboradores"&&setTimeout(function(){this.tableMetasColaboradores=$("#MyTableMetasColaboradores").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableMetasColaboradores.buttons().remove(),this.mostrarCarga8=!1,this.mostrarTabla8=!0}.bind(this),200),t=="ContadoresPersonas"&&setTimeout(function(){this.tableContadoresPersonas=$("#MyTableContadoresPersonas").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableContadoresPersonas.buttons().remove(),this.mostrarCarga9=!1,this.mostrarTabla9=!0}.bind(this),200)},botonCheck(t){this.isVisibleComisiones=!1,this.isVisibleSucursales=!1,this.isVisiblePromotores=!1,this.isVisibleSupervisores=!1,this.isVisibleBancos=!1,this.isVisibleMetasMensuales=!1,this.isVisibleMetasDiarias=!1,this.isVisibleMetasColaboradores=!1,this.isVisibleContadoresPersonas=!1,t=="Comisiones"&&(this.comisiones=null,this.mostrarCarga4=!0,this.getComisiones(),this.isVisibleComisiones=!0),t=="Sucursales"&&(this.sucursales=null,this.mostrarCarga1=!0,this.getSucursales(),this.isVisibleSucursales=!0),t=="Promotores"&&(this.promotores=null,this.mostrarCarga2=!0,this.getPromotores(),this.isVisiblePromotores=!0),t=="Supervisores"&&(this.supervisores=null,this.mostrarCarga3=!0,this.getSupervisores(),this.isVisibleSupervisores=!0),t=="Bancos"&&(this.bancos=null,this.mostrarCarga5=!0,this.getBancos(),this.isVisibleBancos=!0),t=="MetasMensuales"&&(this.metasMensuales=null,this.mostrarCarga6=!0,this.getMetasMensuales(),this.isVisibleMetasMensuales=!0),t=="MetasDiarias"&&(this.metasDiarias=null,this.mostrarCarga7=!0,this.getMetasDiarias(),this.isVisibleMetasDiarias=!0),t=="MetasColaboradores"&&(this.metasColaboradores=null,this.mostrarCarga8=!0,this.getMetasColaboradores(),this.isVisibleMetasColaboradores=!0),t=="ContadoresPersonas"&&(this.contadoresPersonas=null,this.mostrarCarga9=!0,this.getContadoresPersonas(),this.isVisibleContadoresPersonas=!0)},getComisiones(){_.get("../api/comisiones").then(t=>{this.mostrarCarga4=!0,this.comisiones=t.data,this.tableComisiones!=null&&(this.tableComisiones.clear(),this.tableComisiones.destroy()),this.crearTablas("Comisiones")}).catch(t=>console.log(t))},async deleteComision(t,s){await this.$refs.confirmation.show({title:"Borrar Comisión",message:`¿Está seguro/a que desea eliminar la Comisión '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/comisiones/${t}`).then(c=>{this.toast.success("Comisión eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Comisiones")}).catch(c=>console.log(c))},editComision(t){this.comisionEdit=t,this.showEditComision=!0},getSucursales(){_.get("../api/sucursales").then(t=>{this.mostrarCarga1=!0,this.sucursales=t.data,this.tableSucursales!=null&&(this.tableSucursales.clear(),this.tableSucursales.destroy()),this.crearTablas("Sucursales")}).catch(t=>console.log(t))},async deleteSucursal(t,s){await this.$refs.confirmation.show({title:"Borrar Sucursal",message:`¿Está seguro/a que desea eliminar la sucursal '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/sucursales/${t}`).then(c=>{this.toast.success("Sucursal eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Sucursales")}).catch(c=>console.log(c))},editSucursal(t){this.sucursalEdit=t,this.showEditSucursal=!0},getPromotores(){_.get("../api/promotores").then(t=>{this.mostrarCarga2=!0,this.promotores=t.data,this.tablePromotores!=null&&(this.tablePromotores.clear(),this.tablePromotores.destroy()),this.crearTablas("Promotores")}).catch(t=>console.log(t))},async deletePromotor(t,s,a){await this.$refs.confirmation.show({title:"Borrar Promotor",message:`¿Está seguro/a que desea eliminar la relación del promotor/a '${s}' con la tienda '${a}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/promotores/${t}`).then(n=>{this.toast.success("Promotor/a eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Promotores")}).catch(n=>console.log(n))},editPromotor(t){this.promotorEdit=t,this.showEditPromotor=!0},getSupervisores(){_.get("../api/supervisores").then(t=>{this.mostrarCarga3=!0,this.supervisores=t.data,this.tableSupervisores!=null&&(this.tableSupervisores.clear(),this.tableSupervisores.destroy()),this.crearTablas("Supervisores")}).catch(t=>console.log(t))},async deleteSupervisor(t,s,a){await this.$refs.confirmation.show({title:"Borrar Supervisor",message:`¿Está seguro/a que desea eliminar la relación del supervisor/a '${s}' con la tienda '${a}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/supervisores/${t}`).then(n=>{this.toast.success("Supervisor/a eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Supervisores")}).catch(n=>console.log(n))},editSupervisor(t){this.supervisorEdit=t,this.showEditSupervisor=!0},getBancos(){_.get("../api/bancos").then(t=>{this.mostrarCarga5=!0,this.bancos=t.data,this.tableBancos!=null&&(this.tableBancos.clear(),this.tableBancos.destroy()),this.crearTablas("Bancos")}).catch(t=>console.log(t))},async deleteBanco(t,s){await this.$refs.confirmation.show({title:"Borrar Banco",message:`¿Está seguro/a que desea eliminar el banco '${s}' ? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/bancos/${t}`).then(c=>{this.toast.success("Banco eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Bancos")}).catch(c=>console.log(c))},editBanco(t){this.bancoEdit=t,this.showEditBanco=!0},getMetasMensuales(){_.get("../api/metasTienda").then(t=>{this.mostrarCarga6=!0,this.metasMensuales=t.data,this.tableMetasMensuales!=null&&(this.tableMetasMensuales.clear(),this.tableMetasMensuales.destroy()),this.crearTablas("MetasMensuales")}).catch(t=>console.log(t))},async deleteMetaMensual(t){await this.$refs.confirmation.show({title:"Borrar Meta Mensual",message:"¿Está seguro/a que desea eliminar la meta mensual? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/metasTienda/${t}`).then(a=>{this.toast.success("Meta Mensual eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("MetasMensuales")}).catch(a=>console.log(a))},editMetaMensual(t){this.metaMensualEdit=t,this.showEditMetaMensual=!0},getMetasDiarias(){_.get("../api/metasDiarias").then(t=>{this.mostrarCarga7=!0,this.metasDiarias=t.data,this.tableMetasDiarias!=null&&(this.tableMetasDiarias.clear(),this.tableMetasDiarias.destroy()),this.crearTablas("MetasDiarias")}).catch(t=>console.log(t))},async deleteMetaDiaria(t){await this.$refs.confirmation.show({title:"Borrar Meta Diaria",message:"¿Está seguro/a que desea eliminar la meta diaria? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/metasDiarias/${t}`).then(a=>{this.toast.success("Meta Diaria eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("MetasDiarias")}).catch(a=>console.log(a))},editMetaDiaria(t){this.metaDiariaEdit=t,this.showEditMetaDiaria=!0},getMetasColaboradores(){_.get("../api/metasColaborador").then(t=>{this.mostrarCarga8=!0,this.metasColaboradores=t.data,this.tableMetasColaboradores!=null&&(this.tableMetasColaboradores.clear(),this.tableMetasColaboradores.destroy()),this.crearTablas("MetasColaboradores")}).catch(t=>console.log(t))},async deleteMetaColaborador(t){await this.$refs.confirmation.show({title:"Borrar Meta Colaborador",message:"¿Está seguro/a que desea eliminar la meta del colaborador? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/metasColaborador/${t}`).then(a=>{this.toast.success("Meta Colaborador eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("MetasColaboradores")}).catch(a=>console.log(a))},editMetaColaborador(t){this.metaColaboradorEdit=t,this.showEditMetaColaborador=!0},getContadoresPersonas(){_.get("../api/contadoresPersonas").then(t=>{this.mostrarCarga9=!0,this.contadoresPersonas=t.data,this.tableContadoresPersonas!=null&&(this.tableContadoresPersonas.clear(),this.tableContadoresPersonas.destroy()),this.crearTablas("ContadoresPersonas")}).catch(t=>console.log(t))},async deleteContadorPersonas(t){await this.$refs.confirmation.show({title:"Borrar Contador de Personas",message:"¿Está seguro/a que desea eliminar el contador de personas? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/contadoresPersonas/${t}`).then(a=>{this.toast.success("Contador de Personas eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("ContadoresPersonas")}).catch(a=>console.log(a))},editContadorPersonas(t){this.contadorPersonaEdit=t,this.showEditContadorPersona=!0}}},dne={class:"row mt-4 mx-4"},cne={class:"col-12"},une={class:"card mb-4",style:{"flex-direction":"inherit"}},hne={class:"btn-group-vertical",role:"group",style:{"min-height":"450px",width:"max-content"}},mne={class:"btn-group-vertical",role:"group","aria-label":"First Group",style:{width:"160px","margin-left":"10px","margin-right":"10px"}},pne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn1"}," Sucursales ",-1),fne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn4"}," Promotores-Sucursal ",-1),bne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn7"}," Supervisores-Sucursal ",-1),gne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn5"}," Comisiones ",-1),_ne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn6"}," Metas Mensuales ",-1),vne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn8"}," Metas Diarias ",-1),$ne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn9"}," Metas Colaboradores ",-1),yne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn2"}," Contador de Personas ",-1),Cne=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn10"}," Bancos ",-1),wne={style:{width:"100%"}},kne={class:"row pb-0 p-4"},xne={class:"col-12"},Pne=e("h6",null,"Sucursales",-1),Ene={class:"d-flex justify-content-end"},Tne=e("i",{class:"fa-solid fa-rotate"},null,-1),Dne=[Tne],Bne={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},One={class:"loader-xs"},Mne={class:"container"},Sne={class:"table-responsive p-0"},Rne={class:"table align-items-center mb-0",id:"MyTableSucursales"},Ane=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Código"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Bodega"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Empresa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Marca"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Dirección"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Teléfono"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Correo Electrónico"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Fne=e("td",null,null,-1),zne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Une={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Vne={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},Lne={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},jne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Nne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Hne={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ine={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Gne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},qne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Kne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Xne={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Jne={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Zne={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Wne={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Yne={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Qne={class:"align-middle text-end"},ede={class:"d-flex px-3 py-1 justify-content-center align-items-center"},tde=["onClick"],sde=e("i",{class:"fa-regular fa-eye"},null,-1),ode=[sde],ade=["onClick"],lde=e("i",{class:"fa fa-fw fa-edit"},null,-1),ide=[lde],rde=["onClick"],nde=e("i",{class:"fa fa-fw fa-trash"},null,-1),dde=[nde],cde={class:"row pb-0 p-4"},ude={class:"col-12"},hde=e("h6",null,"Relación Promotores-Sucursal",-1),mde={class:"d-flex justify-content-end"},pde=e("i",{class:"fa-solid fa-rotate"},null,-1),fde=[pde],bde={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},gde={class:"loader-xs"},_de={class:"container"},vde={class:"table-responsive p-0"},$de={class:"table align-items-center mb-0",id:"MyTablePromotores"},yde=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Sucursal"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Cde=e("td",null,null,-1),wde={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},kde={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},xde={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},Pde={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ede={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Tde={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Dde={class:"align-middle text-end"},Bde={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Ode=["onClick"],Mde=e("i",{class:"fa fa-fw fa-edit"},null,-1),Sde=[Mde],Rde=["onClick"],Ade=e("i",{class:"fa fa-fw fa-trash"},null,-1),Fde=[Ade],zde=e("div",{class:"row"},[e("div",{class:"col-6"},[e("label",{style:{"font-weight":"500"}},`Si desea añadir nuevos promotores de sucursales debe crear un nuevo usuario o editar uno existente y seleccionar "Promotor Tienda" en el 'tipo de usuario'.`)])],-1),Ude={class:"row pb-0 p-4"},Vde={class:"col-12"},Lde=e("h6",null,"Relación Supervisores-Sucursal",-1),jde={class:"d-flex justify-content-end"},Nde=e("i",{class:"fa-solid fa-rotate"},null,-1),Hde=[Nde],Ide={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Gde={class:"loader-xs"},qde={class:"container"},Kde={class:"table-responsive p-0"},Xde={class:"table align-items-center mb-0",id:"MyTableSupervisores"},Jde=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Sucursal"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Zde=e("td",null,null,-1),Wde={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Yde={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Qde={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},ece={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},tce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oce={class:"align-middle text-end"},ace={class:"d-flex px-3 py-1 justify-content-center align-items-center"},lce=["onClick"],ice=e("i",{class:"fa fa-fw fa-edit"},null,-1),rce=[ice],nce=["onClick"],dce=e("i",{class:"fa fa-fw fa-trash"},null,-1),cce=[dce],uce=e("div",{class:"row"},[e("div",{class:"col-6"},[e("label",{style:{"font-weight":"500"}},`Si desea añadir nuevos supervisores de sucursales debe crear un nuevo usuario o editar uno existente y seleccionar "Supervisor Tienda" en el 'tipo de usuario'.`)])],-1),hce={class:"row pb-0 p-4"},mce={class:"col-12"},pce=e("h6",null,"Comisiones",-1),fce={class:"d-flex justify-content-end"},bce=e("i",{class:"fa-solid fa-rotate"},null,-1),gce=[bce],_ce={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},vce={class:"loader-xs"},$ce={class:"container"},yce={class:"table-responsive p-0"},Cce={class:"table align-items-center mb-0",id:"MyTableComisiones"},wce=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Responsable"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Correo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Telefono"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),kce=e("td",null,null,-1),xce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Pce={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Ece={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},Tce={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Dce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Bce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Oce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Mce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Sce={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Rce={class:"align-middle text-end"},Ace={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Fce=["onClick"],zce=e("i",{class:"fa fa-fw fa-edit"},null,-1),Uce=[zce],Vce=["onClick"],Lce=e("i",{class:"fa fa-fw fa-trash"},null,-1),jce=[Lce],Nce={class:"row pb-0 p-4"},Hce={class:"col-12"},Ice=e("h6",null,"Metas Colaboradores",-1),Gce={class:"d-flex justify-content-end"},qce=e("i",{class:"fa-solid fa-rotate"},null,-1),Kce=[qce],Xce={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Jce={class:"loader-xs"},Zce={class:"container"},Wce={class:"table-responsive p-0"},Yce={class:"table align-items-center mb-0",id:"MyTableMetasColaboradores"},Qce=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Carteras"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Marroquinería"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Calzado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Perfume"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Vestimenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Año"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Mes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),eue=e("td",null,null,-1),tue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},aue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},lue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},iue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},rue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},nue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},due={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},cue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},uue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},hue={class:"align-middle text-end"},mue={class:"d-flex px-3 py-1 justify-content-center align-items-center"},pue=["onClick"],fue=e("i",{class:"fa fa-fw fa-edit"},null,-1),bue=[fue],gue=["onClick"],_ue=e("i",{class:"fa fa-fw fa-trash"},null,-1),vue=[_ue],$ue={class:"row pb-0 p-4"},yue={class:"col-12"},Cue=e("h6",null,"Metas Diarias",-1),wue={class:"d-flex justify-content-end"},kue=e("i",{class:"fa-solid fa-rotate"},null,-1),xue=[kue],Pue={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Eue={class:"loader-xs"},Tue={class:"container"},Due={class:"table-responsive p-0"},Bue={class:"table align-items-center mb-0",id:"MyTableMetasDiarias"},Oue=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Carteras"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Marroquinería"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Calzado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Perfume"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Vestimenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Año"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Mes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Día"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Mue=e("td",null,null,-1),Sue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Rue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Aue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Fue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},zue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Uue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Vue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Lue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},jue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Nue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Hue={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Iue={class:"align-middle text-end"},Gue={class:"d-flex px-3 py-1 justify-content-center align-items-center"},que=["onClick"],Kue=e("i",{class:"fa fa-fw fa-edit"},null,-1),Xue=[Kue],Jue=["onClick"],Zue=e("i",{class:"fa fa-fw fa-trash"},null,-1),Wue=[Zue],Yue={class:"row pb-0 p-4"},Que={class:"col-12"},ehe=e("h6",null,"Metas Mensuales",-1),the={class:"d-flex justify-content-end"},she=e("i",{class:"fa-solid fa-rotate"},null,-1),ohe=[she],ahe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},lhe={class:"loader-xs"},ihe={class:"container"},rhe={class:"table-responsive p-0"},nhe={class:"table align-items-center mb-0",id:"MyTableMetasMensuales"},dhe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Carteras"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Marroquinería"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Calzado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Perfume"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Vestimenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Año"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Mes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),che=e("td",null,null,-1),uhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},hhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},mhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},phe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},fhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},bhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ghe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},_he={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},vhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},$he={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},yhe={class:"align-middle text-end"},Che={class:"d-flex px-3 py-1 justify-content-center align-items-center"},whe=["onClick"],khe=e("i",{class:"fa fa-fw fa-edit"},null,-1),xhe=[khe],Phe=["onClick"],Ehe=e("i",{class:"fa fa-fw fa-trash"},null,-1),The=[Ehe],Dhe={class:"row pb-0 p-4"},Bhe={class:"col-12"},Ohe=e("h6",null,"Contadores de Personas",-1),Mhe={class:"d-flex justify-content-end"},She=e("i",{class:"fa-solid fa-rotate"},null,-1),Rhe=[She],Ahe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Fhe={class:"loader-xs"},zhe={class:"container"},Uhe={class:"table-responsive p-0"},Vhe={class:"table align-items-center mb-0",id:"MyTableContadoresPersonas"},Lhe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Entrada"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H1"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H2"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H3"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H4"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H5"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H6"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H7"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H8"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H9"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H10"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H11"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H12"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H13"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H14"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H15"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H16"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H17"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H18"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H19"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H20"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H21"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H22"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H23"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"H24"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),jhe=e("td",null,null,-1),Nhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Hhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ihe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ghe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},qhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Khe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Xhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Jhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Zhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Whe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Yhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Qhe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},eme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},tme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ome={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ame={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},lme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ime={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},rme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},nme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},dme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},cme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ume={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},hme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},mme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},pme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},fme={class:"align-middle text-end"},bme={class:"d-flex px-3 py-1 justify-content-center align-items-center"},gme=["onClick"],_me=e("i",{class:"fa fa-fw fa-edit"},null,-1),vme=[_me],$me=["onClick"],yme=e("i",{class:"fa fa-fw fa-trash"},null,-1),Cme=[yme],wme={class:"row pb-0 p-4"},kme={class:"col-12"},xme=e("h6",null,"Bancos",-1),Pme={class:"d-flex justify-content-end"},Eme=e("i",{class:"fa-solid fa-rotate"},null,-1),Tme=[Eme],Dme={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Bme={class:"loader-xs"},Ome={class:"container"},Mme={class:"table-responsive p-0"},Sme={class:"table align-items-center mb-0",id:"myTableBancos"},Rme=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Ame=e("td",null,null,-1),Fme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},zme={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ume={class:"align-middle text-end"},Vme={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Lme=["onClick"],jme=e("i",{class:"fa fa-fw fa-edit"},null,-1),Nme=[jme],Hme=["onClick"],Ime=e("i",{class:"fa fa-fw fa-trash"},null,-1),Gme=[Ime];function qme(t,s,a,c,n,d){const u=y("modalEditPromotor"),g=y("modalCreatePromotor"),o=y("modalEditBanco"),h=y("modalCreateBanco"),b=y("modalEditSupervisor"),v=y("modalCreateSupervisor"),z=y("modalEditSucursal"),S=y("modalCreateSucursal"),F=y("modalDetalleSucursal"),R=y("modalconfirmacion"),J=y("modalalerta"),X=y("modalEditComision"),B=y("modalCreateComision");return l(),r("div",dne,[e("div",cne,[e("div",une,[e("div",hne,[e("div",mne,[e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn1",autocomplete:"off",onClick:s[0]||(s[0]=w=>d.botonCheck("Sucursales")),checked:""}),pne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn4",autocomplete:"off",onClick:s[1]||(s[1]=w=>d.botonCheck("Promotores"))}),fne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn7",autocomplete:"off",onClick:s[2]||(s[2]=w=>d.botonCheck("Supervisores"))}),bne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn5",autocomplete:"off",onClick:s[3]||(s[3]=w=>d.botonCheck("Comisiones"))}),gne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn6",autocomplete:"off",onClick:s[4]||(s[4]=w=>d.botonCheck("MetasMensuales"))}),_ne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn8",autocomplete:"off",onClick:s[5]||(s[5]=w=>d.botonCheck("MetasDiarias"))}),vne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn9",autocomplete:"off",onClick:s[6]||(s[6]=w=>d.botonCheck("MetasColaboradores"))}),$ne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn2",autocomplete:"off",onClick:s[7]||(s[7]=w=>d.botonCheck("ContadoresPersonas"))}),yne,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn10",autocomplete:"off",onClick:s[8]||(s[8]=w=>d.botonCheck("Bancos"))}),Cne])]),e("div",wne,[t.isVisibleSucursales?C(t.$slots,"default",{key:0},()=>[e("div",kne,[e("div",xne,[Pne,e("div",Ene,[e("a",{class:"btn btn-continue",onClick:s[9]||(s[9]=w=>t.showCreateSucursal=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[10]||(s[10]=w=>d.recargarTabla("Sucursales"))},Dne)])])]),e("div",Bne,[f(e("div",One,null,512),[[H,t.mostrarCarga1]]),e("div",Mne,[e("div",Sne,[e("table",Rne,[Ane,e("tbody",null,[(l(!0),r(P,null,E(t.sucursales,w=>(l(),r("tr",{key:w.id},[Fne,e("td",null,[e("p",zne,i(w.id),1)]),e("td",null,[w.estado==!0?(l(),r("p",Une,"Activo")):m("",!0),w.estado==!1?(l(),r("p",Vne,"Inactivo")):m("",!0),w.estado==null?(l(),r("p",Lne,"---")):m("",!0)]),e("td",null,[e("p",jne,i(w.codigo),1)]),e("td",null,[e("p",Nne,i(w.nombre),1)]),e("td",null,[w.bodega!=null?(l(),r("p",Hne,i(w.bodega),1)):(l(),r("p",Ine,"---"))]),e("td",null,[e("p",Gne,i(w.tipo_sucursal.nombre),1)]),e("td",null,[e("p",qne,i(w.empresa_marca.empresa.razonSocial),1)]),e("td",null,[e("p",Kne,i(w.empresa_marca.marca.nombre),1)]),e("td",null,[e("p",Xne,i(w.direccion),1)]),e("td",null,[w.telefono!=null?(l(),r("p",Jne,i(w.telefono),1)):(l(),r("p",Zne,"---"))]),e("td",null,[w.email!=null?(l(),r("p",Wne,i(w.email),1)):(l(),r("p",Yne,"---"))]),e("td",Qne,[e("div",ede,[e("a",{class:"btn btn-success btn-xs",onClick:Y=>d.sucursalDetalle(w)},ode,8,tde),p("   "),e("a",{class:"btn btn-alert btn-xs",onClick:Y=>d.editSucursal(w)},ide,8,ade),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:Y=>d.deleteSucursal(w.id,w.sucursal)},dde,8,rde)])])]))),128))])])])])])]):m("",!0),t.isVisiblePromotores?C(t.$slots,"default",{key:1},()=>[e("div",cde,[e("div",ude,[hde,e("div",mde,[e("a",{class:"btn btn-continue",onClick:s[11]||(s[11]=w=>t.showCreatePromotor=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[12]||(s[12]=w=>d.recargarTabla("Promotores"))},fde)])])]),e("div",bde,[f(e("div",gde,null,512),[[H,t.mostrarCarga2]]),e("div",_de,[e("div",vde,[e("table",$de,[yde,e("tbody",null,[(l(!0),r(P,null,E(t.promotores,w=>(l(),r("tr",{key:w.id},[Cde,e("td",null,[e("p",wde,i(w.id),1)]),e("td",null,[w.estado==!0?(l(),r("p",kde,"Activo")):m("",!0),w.estado==!1?(l(),r("p",xde,"Inactivo")):m("",!0),w.estado==null?(l(),r("p",Pde,"---")):m("",!0)]),e("td",null,[e("p",Ede,i(w.usuario.name),1)]),e("td",null,[e("p",Tde,i(w.sucursal.nombre),1)]),e("td",Dde,[e("div",Bde,[e("a",{class:"btn btn-alert btn-xs",onClick:Y=>d.editPromotor(w)},Sde,8,Ode),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:Y=>d.deletePromotor(w.id,w.promotor,w.sucursal.nombre)},Fde,8,Rde)])])]))),128))])])]),zde])])]):m("",!0),t.isVisibleSupervisores?C(t.$slots,"default",{key:2},()=>[e("div",Ude,[e("div",Vde,[Lde,e("div",jde,[e("a",{class:"btn btn-continue",onClick:s[13]||(s[13]=w=>t.showCreateSupervisor=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[14]||(s[14]=w=>d.recargarTabla("Supervisores"))},Hde)])])]),e("div",Ide,[f(e("div",Gde,null,512),[[H,t.mostrarCarga3]]),e("div",qde,[e("div",Kde,[e("table",Xde,[Jde,e("tbody",null,[(l(!0),r(P,null,E(t.supervisores,w=>(l(),r("tr",{key:w.id},[Zde,e("td",null,[e("p",Wde,i(w.id),1)]),e("td",null,[w.estado==!0?(l(),r("p",Yde,"Activo")):m("",!0),w.estado==!1?(l(),r("p",Qde,"Inactivo")):m("",!0),w.estado==null?(l(),r("p",ece,"---")):m("",!0)]),e("td",null,[e("p",tce,i(w.usuario.name),1)]),e("td",null,[e("p",sce,i(w.sucursal.nombre),1)]),e("td",oce,[e("div",ace,[e("a",{class:"btn btn-alert btn-xs",onClick:Y=>d.editSupervisor(w)},rce,8,lce),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:Y=>d.deleteSupervisor(w.id,w.supervisor,w.sucursal.nombre)},cce,8,nce)])])]))),128))])])]),uce])])]):m("",!0),t.isVisibleComisiones?C(t.$slots,"default",{key:3},()=>[e("div",hce,[e("div",mce,[pce,e("div",fce,[e("a",{class:"btn btn-continue",onClick:s[15]||(s[15]=w=>t.showCreateComision=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[16]||(s[16]=w=>d.recargarTabla("Comisiones"))},gce)])])]),e("div",_ce,[f(e("div",vce,null,512),[[H,t.mostrarCarga4]]),e("div",$ce,[e("div",yce,[e("table",Cce,[wce,e("tbody",null,[(l(!0),r(P,null,E(t.comisiones,w=>(l(),r("tr",{key:w.id},[kce,e("td",null,[e("p",xce,i(w.id),1)]),e("td",null,[w.estado==!0?(l(),r("p",Pce,"Activo")):m("",!0),w.estado==!1?(l(),r("p",Ece,"Inactivo")):m("",!0),w.estado==null?(l(),r("p",Tce,"---")):m("",!0)]),e("td",null,[e("p",Dce,i(w.rut),1)]),e("td",null,[e("p",Bce,i(w.nombre),1)]),e("td",null,[e("p",Oce,i(w.usuario.name),1)]),e("td",null,[e("p",Mce,i(w.correo),1)]),e("td",null,[e("p",Sce,i(w.telefono),1)]),e("td",Rce,[e("div",Ace,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editComision(w)},Uce,8,Fce),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteComision(w.id,w.nombre)},jce,8,Vce)])])]))),128))])])])])])]):m("",!0),t.isVisibleMetasColaboradores?C(t.$slots,"default",{key:4},()=>[e("div",Nce,[e("div",Hce,[Ice,e("div",Gce,[e("a",{class:"btn btn-continue",onClick:s[17]||(s[17]=w=>t.showCreateMetaColaborador=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[18]||(s[18]=w=>d.recargarTabla("MetasColaboradores"))},Kce)])])]),e("div",Xce,[f(e("div",Jce,null,512),[[H,t.mostrarCarga8]]),e("div",Zce,[e("div",Wce,[e("table",Yce,[Qce,e("tbody",null,[(l(!0),r(P,null,E(t.metasColaboradores,w=>(l(),r("tr",{key:w.id},[eue,e("td",null,[e("p",tue,i(w.id),1)]),e("td",null,[e("p",sue,i(w.tienda.nombre),1)]),e("td",null,[e("p",oue,i(w.colaborador.nombre1+" "+w.colaborador.nombre2+" "+w.colaborador.apellido1+" "+w.colaborador.apellido2),1)]),e("td",null,[e("p",aue,i(t.formatMoneyCLP(w.meta_total)),1)]),e("td",null,[e("p",lue,i(t.formatMoneyCLP(w.meta_carteras)),1)]),e("td",null,[e("p",iue,i(t.formatMoneyCLP(w.meta_marroquineria)),1)]),e("td",null,[e("p",rue,i(t.formatMoneyCLP(w.meta_calzado)),1)]),e("td",null,[e("p",nue,i(t.formatMoneyCLP(w.meta_perfume)),1)]),e("td",null,[e("p",due,i(t.formatMoneyCLP(w.meta_vestimenta)),1)]),e("td",null,[e("p",cue,i(w.año),1)]),e("td",null,[e("p",uue,i(w.mes),1)]),e("td",hue,[e("div",mue,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editMetaColaborador(w)},bue,8,pue),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteMetaColaborador(w.id,w.nombre)},vue,8,gue)])])]))),128))])])])])])]):m("",!0),t.isVisibleMetasDiarias?C(t.$slots,"default",{key:5},()=>[e("div",$ue,[e("div",yue,[Cue,e("div",wue,[e("a",{class:"btn btn-continue",onClick:s[19]||(s[19]=w=>t.showCreateMetaDiaria=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[20]||(s[20]=w=>d.recargarTabla("MetasDiarias"))},xue)])])]),e("div",Pue,[f(e("div",Eue,null,512),[[H,t.mostrarCarga7]]),e("div",Tue,[e("div",Due,[e("table",Bue,[Oue,e("tbody",null,[(l(!0),r(P,null,E(t.metasDiarias,w=>(l(),r("tr",{key:w.id},[Mue,e("td",null,[e("p",Sue,i(w.id),1)]),e("td",null,[e("p",Rue,i(w.tienda.nombre),1)]),e("td",null,[e("p",Aue,i(t.formatMoneyCLP(w.meta_total)),1)]),e("td",null,[e("p",Fue,i(t.formatMoneyCLP(w.meta_carteras)),1)]),e("td",null,[e("p",zue,i(t.formatMoneyCLP(w.meta_marroquineria)),1)]),e("td",null,[e("p",Uue,i(t.formatMoneyCLP(w.meta_calzado)),1)]),e("td",null,[e("p",Vue,i(t.formatMoneyCLP(w.meta_perfume)),1)]),e("td",null,[e("p",Lue,i(t.formatMoneyCLP(w.meta_vestimenta)),1)]),e("td",null,[e("p",jue,i(w.año),1)]),e("td",null,[e("p",Nue,i(w.mes),1)]),e("td",null,[e("p",Hue,i(w.dia),1)]),e("td",Iue,[e("div",Gue,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editMetaDiaria(w)},Xue,8,que),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteMetaDiaria(w.id,w.nombre)},Wue,8,Jue)])])]))),128))])])])])])]):m("",!0),t.isVisibleMetasMensuales?C(t.$slots,"default",{key:6},()=>[e("div",Yue,[e("div",Que,[ehe,e("div",the,[e("a",{class:"btn btn-continue",onClick:s[21]||(s[21]=w=>t.showCreateMetaMensual=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[22]||(s[22]=w=>d.recargarTabla("MetasMensuales"))},ohe)])])]),e("div",ahe,[f(e("div",lhe,null,512),[[H,t.mostrarCarga6]]),e("div",ihe,[e("div",rhe,[e("table",nhe,[dhe,e("tbody",null,[(l(!0),r(P,null,E(t.metasMensuales,w=>(l(),r("tr",{key:w.id},[che,e("td",null,[e("p",uhe,i(w.id),1)]),e("td",null,[e("p",hhe,i(w.tienda.nombre),1)]),e("td",null,[e("p",mhe,i(t.formatMoneyCLP(w.meta_total)),1)]),e("td",null,[e("p",phe,i(t.formatMoneyCLP(w.meta_carteras)),1)]),e("td",null,[e("p",fhe,i(t.formatMoneyCLP(w.meta_marroquineria)),1)]),e("td",null,[e("p",bhe,i(t.formatMoneyCLP(w.meta_calzado)),1)]),e("td",null,[e("p",ghe,i(t.formatMoneyCLP(w.meta_perfume)),1)]),e("td",null,[e("p",_he,i(t.formatMoneyCLP(w.meta_vestimenta)),1)]),e("td",null,[e("p",vhe,i(w.año),1)]),e("td",null,[e("p",$he,i(w.mes),1)]),e("td",yhe,[e("div",Che,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editMetaMensual(w)},xhe,8,whe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteMetaMensual(w.id,w.nombre)},The,8,Phe)])])]))),128))])])])])])]):m("",!0),t.isVisibleContadoresPersonas?C(t.$slots,"default",{key:7},()=>[e("div",Dhe,[e("div",Bhe,[Ohe,e("div",Mhe,[e("a",{class:"btn btn-continue",onClick:s[23]||(s[23]=w=>t.showCreateContadorPersonas=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[24]||(s[24]=w=>d.recargarTabla("ContadoresPersonas"))},Rhe)])])]),e("div",Ahe,[f(e("div",Fhe,null,512),[[H,t.mostrarCarga9]]),e("div",zhe,[e("div",Uhe,[e("table",Vhe,[Lhe,e("tbody",null,[(l(!0),r(P,null,E(t.contadoresPersonas,w=>(l(),r("tr",{key:w.id},[jhe,e("td",null,[e("p",Nhe,i(w.id),1)]),e("td",null,[e("p",Hhe,i(w.tienda.nombre),1)]),e("td",null,[e("p",Ihe,i(w.tipoEntrada),1)]),e("td",null,[e("p",Ghe,i(w.h1),1)]),e("td",null,[e("p",qhe,i(w.h2),1)]),e("td",null,[e("p",Khe,i(w.h3),1)]),e("td",null,[e("p",Xhe,i(w.h4),1)]),e("td",null,[e("p",Jhe,i(w.h5),1)]),e("td",null,[e("p",Zhe,i(w.h6),1)]),e("td",null,[e("p",Whe,i(w.h7),1)]),e("td",null,[e("p",Yhe,i(w.h8),1)]),e("td",null,[e("p",Qhe,i(w.h9),1)]),e("td",null,[e("p",eme,i(w.h10),1)]),e("td",null,[e("p",tme,i(w.h11),1)]),e("td",null,[e("p",sme,i(w.h12),1)]),e("td",null,[e("p",ome,i(w.h13),1)]),e("td",null,[e("p",ame,i(w.h14),1)]),e("td",null,[e("p",lme,i(w.h15),1)]),e("td",null,[e("p",ime,i(w.h16),1)]),e("td",null,[e("p",rme,i(w.h17),1)]),e("td",null,[e("p",nme,i(w.h18),1)]),e("td",null,[e("p",dme,i(w.h19),1)]),e("td",null,[e("p",cme,i(w.h20),1)]),e("td",null,[e("p",ume,i(w.h21),1)]),e("td",null,[e("p",hme,i(w.h22),1)]),e("td",null,[e("p",mme,i(w.h23),1)]),e("td",null,[e("p",pme,i(w.h24),1)]),e("td",fme,[e("div",bme,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editContadorPersonas(w)},vme,8,gme),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteContadorPersonas(w.id,w.nombre)},Cme,8,$me)])])]))),128))])])])])])]):m("",!0),t.isVisibleBancos?C(t.$slots,"default",{key:8},()=>[e("div",wme,[e("div",kme,[xme,e("div",Pme,[e("a",{class:"btn btn-continue",onClick:s[25]||(s[25]=w=>t.showCreateBanco=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[26]||(s[26]=w=>d.recargarTabla("Bancos"))},Tme)])])]),e("div",Dme,[f(e("div",Bme,null,512),[[H,t.mostrarCarga5]]),e("div",Ome,[e("div",Mme,[e("table",Sme,[Rme,e("tbody",null,[(l(!0),r(P,null,E(t.bancos,w=>(l(),r("tr",{key:w.id},[Ame,e("td",null,[e("p",Fme,i(w.id),1)]),e("td",null,[e("p",zme,i(w.nombre),1)]),e("td",Ume,[e("div",Vme,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:Y=>d.editBanco(w)},Nme,8,Lme),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:Y=>d.deleteBanco(w.id,w.nombre)},Gme,8,Hme)])])]))),128))])])])])])]):m("",!0)]),t.showEditPromotor?(l(),T(u,{key:0,promotor:t.promotorEdit,onClose:s[27]||(s[27]=w=>t.showEditPromotor=!1),onRecarga:s[28]||(s[28]=w=>d.recargarTabla("Promotores"))},null,8,["promotor"])):m("",!0),t.showCreatePromotor?(l(),T(g,{key:1,onClose:s[29]||(s[29]=w=>t.showCreatePromotor=!1),onRecarga:s[30]||(s[30]=w=>d.recargarTabla("Promotores"))})):m("",!0),t.showEditBanco?(l(),T(o,{key:2,banco:t.bancoEdit,onClose:s[31]||(s[31]=w=>t.showEditBanco=!1),onRecarga:s[32]||(s[32]=w=>d.recargarTabla("Bancos"))},null,8,["banco"])):m("",!0),t.showCreateBanco?(l(),T(h,{key:3,onClose:s[33]||(s[33]=w=>t.showCreateBanco=!1),onRecarga:s[34]||(s[34]=w=>d.recargarTabla("Bancos"))})):m("",!0),t.showEditSupervisor?(l(),T(b,{key:4,supervisor:t.supervisorEdit,onClose:s[35]||(s[35]=w=>t.showEditSupervisor=!1),onRecarga:s[36]||(s[36]=w=>d.recargarTabla("Supervisores"))},null,8,["supervisor"])):m("",!0),t.showCreateSupervisor?(l(),T(v,{key:5,onClose:s[37]||(s[37]=w=>t.showCreateSupervisor=!1),onRecarga:s[38]||(s[38]=w=>d.recargarTabla("Supervisores"))})):m("",!0),t.showEditSucursal?(l(),T(z,{key:6,sucursal1:t.sucursalEdit,onClose:s[39]||(s[39]=w=>t.showEditSucursal=!1),onRecarga:s[40]||(s[40]=w=>d.recargarTabla("Sucursales"))},null,8,["sucursal1"])):m("",!0),t.showCreateSucursal?(l(),T(S,{key:7,onClose:s[41]||(s[41]=w=>t.showCreateSucursal=!1),onRecarga:s[42]||(s[42]=w=>d.recargarTabla("Sucursales"))})):m("",!0),t.showDetallesSucursal?(l(),T(F,{key:8,sucursal:t.detalleSucursal,onClose:s[43]||(s[43]=w=>t.showDetallesSucursal=!1)},null,8,["sucursal"])):m("",!0),x(R,{ref:"confirmation"},null,512),x(J,{ref:"alert"},null,512),t.showEditComision?(l(),T(X,{key:9,comision1:t.comisionEdit,onClose:s[44]||(s[44]=w=>t.showEditComision=!1),onRecarga:s[45]||(s[45]=w=>d.recargarTabla("Comisiones"))},null,8,["comision1"])):m("",!0),t.showCreateComision?(l(),T(B,{key:10,onClose:s[46]||(s[46]=w=>t.showCreateComision=!1),onRecarga:s[47]||(s[47]=w=>d.recargarTabla("Comisiones"))})):m("",!0)])])])}const Kme=U(nne,[["render",qme]]),Xme={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Sistema de Salud",buttonDisable:!1,nombreSistemaSalud:"",porcentajeSistemaSalud:"",errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearSistemaSalud(){if(await this.$refs.confirmation.show({title:"Crear Sistema Salud",message:`¿Está seguro/a que desea crear el sistema salud '${this.nombreSistemaSalud}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.nombreSistemaSalud,porcentaje:this.porcentajeSistemaSalud};_.post("../api/sistemasSalud",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Sistema de Salud guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Jme={name:"modal"},Zme={class:"modal-mask"},Wme={class:"modal-wrapper"},Yme={class:"modal-container-xs"},Qme={class:"modal-header fw-bold",style:{color:"#444444"}},epe={class:"modal-body"},tpe={class:"form-group"},spe=e("label",{for:"name"},"Nombre del Sistema de Salud: ",-1),ope=e("br",null,null,-1),ape={key:0,class:"error"},lpe={class:"form-group"},ipe=e("label",{for:"name"},"Porcentaje: ",-1),rpe=e("br",null,null,-1),npe={key:0,class:"error"},dpe={class:"modal-footer"},cpe=["disabled"];function upe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Jme,[e("div",Zme,[e("div",Wme,[e("div",Yme,[e("div",Qme,[C(t.$slots,"header",{},()=>[p(" Nuevo Sistema de Salud ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",epe,[C(t.$slots,"body",{},()=>[e("div",tpe,[spe,ope,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreSistemaSalud=o)},null,512),[[k,t.nombreSistemaSalud]]),t.errors&&t.errors.nombre?(l(),r("div",ape,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",lpe,[ipe,rpe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.porcentajeSistemaSalud=o)},null,512),[[k,t.porcentajeSistemaSalud]]),t.errors&&t.errors.porcentaje?(l(),r("div",npe,i(t.errors.porcentaje[0]),1)):m("",!0)])])]),e("div",dpe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearSistemaSalud()),disabled:t.buttonDisable},i(t.buttonText),9,cpe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const hpe=U(Xme,[["render",upe]]),mpe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Sistema",buttonDisable:!1,nombre:"",porcentaje:"",id:"",errors:[]}),props:{sistema1:Object},created(){this.nombre=this.sistema1.nombre,this.porcentaje=this.sistema1.porcentaje,this.id=this.sistema1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarSistema(){if(await this.$refs.confirmation.show({title:"Editar Sistema",message:`¿Está seguro/a que desea editar el sistema de salud '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre,porcentaje:this.porcentaje};var s=this.id;_.put(`../api/sistemasSalud/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Sistema editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},ppe={name:"modal"},fpe={class:"modal-mask"},bpe={class:"modal-wrapper"},gpe={class:"modal-container-xs"},_pe={class:"modal-header fw-bold",style:{color:"#444444"}},vpe={class:"modal-body"},$pe={class:"form-group"},ype=e("label",{for:"nombre"},"Nombre: ",-1),Cpe=e("br",null,null,-1),wpe={key:0,class:"error"},kpe={class:"form-group"},xpe=e("label",{for:"porcentaje"},"Porcentaje: ",-1),Ppe=e("br",null,null,-1),Epe={key:0,class:"error"},Tpe=e("br",null,null,-1),Dpe={class:"modal-footer"},Bpe=["disabled"];function Ope(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",ppe,[e("div",fpe,[e("div",bpe,[e("div",gpe,[e("div",_pe,[C(t.$slots,"header",{},()=>[p(" Editar Sistemas de salud ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",vpe,[C(t.$slots,"body",{},()=>[e("div",$pe,[ype,Cpe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",wpe,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",kpe,[xpe,Ppe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.porcentaje=o)},null,512),[[k,t.porcentaje]]),t.errors&&t.errors.porcentaje?(l(),r("div",Epe,i(t.errors.porcentaje[0]),1)):m("",!0)]),Tpe,e("div",Dpe,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarSistema()),disabled:t.buttonDisable},i(t.buttonText),9,Bpe)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Mpe=U(mpe,[["render",Ope]]),Spe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Estado Civil",buttonDisable:!1,nombreEstadoCivil:"",errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearEstadoCivil(){if(await this.$refs.confirmation.show({title:"Crear Estado Civil",message:`¿Está seguro/a que desea crear el estado civil '${this.nombreEstadoCivil}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.nombreEstadoCivil};_.post("../api/estadosCiviles",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Estado Civil guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Rpe={name:"modal"},Ape={class:"modal-mask"},Fpe={class:"modal-wrapper"},zpe={class:"modal-container-xs"},Upe={class:"modal-header fw-bold",style:{color:"#444444"}},Vpe={class:"modal-body"},Lpe={class:"form-group"},jpe=e("label",{for:"name"},"Nombre del Estado Civil: ",-1),Npe=e("br",null,null,-1),Hpe={key:0,class:"error"},Ipe={class:"modal-footer"},Gpe=["disabled"];function qpe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Rpe,[e("div",Ape,[e("div",Fpe,[e("div",zpe,[e("div",Upe,[C(t.$slots,"header",{},()=>[p(" Nuevo Estado Civil ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Vpe,[C(t.$slots,"body",{},()=>[e("div",Lpe,[jpe,Npe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreEstadoCivil=o)},null,512),[[k,t.nombreEstadoCivil]]),t.errors&&t.errors.nombre?(l(),r("div",Hpe,i(t.errors.nombre[0]),1)):m("",!0)])])]),e("div",Ipe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearEstadoCivil()),disabled:t.buttonDisable},i(t.buttonText),9,Gpe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Kpe=U(Spe,[["render",qpe]]),Xpe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Estado",buttonDisable:!1,id:"",nombre:"",errors:[]}),props:{estado1:Object},created(){this.nombre=this.estado1.nombre,this.id=this.estado1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarEstado(){if(await this.$refs.confirmation.show({title:"Editar Estado",message:`¿Está seguro/a que desea editar el Estado civil '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre};var s=this.id;_.put(`../api/estadosCiviles/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Estado editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Jpe={name:"modal"},Zpe={class:"modal-mask"},Wpe={class:"modal-wrapper"},Ype={class:"modal-container-xs"},Qpe={class:"modal-header fw-bold",style:{color:"#444444"}},efe={class:"modal-body"},tfe={class:"form-group"},sfe=e("label",{for:"nombre"},"Nombre: ",-1),ofe=e("br",null,null,-1),afe={key:0,class:"error"},lfe={class:"modal-footer"},ife=["disabled"];function rfe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Jpe,[e("div",Zpe,[e("div",Wpe,[e("div",Ype,[e("div",Qpe,[C(t.$slots,"header",{},()=>[p(" Editar Estado civil ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",efe,[C(t.$slots,"body",{},()=>[e("div",tfe,[sfe,ofe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",afe,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",lfe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarEstado()),disabled:t.buttonDisable},i(t.buttonText),9,ife)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const nfe=U(Xpe,[["render",rfe]]),dfe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear AFP",buttonDisable:!1,nombreAFP:"",errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearAFP(){if(await this.$refs.confirmation.show({title:"Crear AFP",message:`¿Está seguro/a que desea crear la AFP '${this.nombreAFP}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.nombreAFP};_.post("../api/afp",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("AFP guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},cfe={name:"modal"},ufe={class:"modal-mask"},hfe={class:"modal-wrapper"},mfe={class:"modal-container-xs"},pfe={class:"modal-header fw-bold",style:{color:"#444444"}},ffe={class:"modal-body"},bfe={class:"form-group"},gfe=e("label",{for:"name"},"Nombre de la AFP: ",-1),_fe=e("br",null,null,-1),vfe={key:0,class:"error"},$fe={class:"modal-footer"},yfe=["disabled"];function Cfe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",cfe,[e("div",ufe,[e("div",hfe,[e("div",mfe,[e("div",pfe,[C(t.$slots,"header",{},()=>[p(" Nueva AFP ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",ffe,[C(t.$slots,"body",{},()=>[e("div",bfe,[gfe,_fe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombreAFP=o)},null,512),[[k,t.nombreAFP]]),t.errors&&t.errors.nombre?(l(),r("div",vfe,i(t.errors.nombre[0]),1)):m("",!0)])])]),e("div",$fe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearAFP()),disabled:t.buttonDisable},i(t.buttonText),9,yfe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const wfe=U(dfe,[["render",Cfe]]),kfe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Afp",buttonDisable:!1,id:"",nombre:"",errors:[]}),props:{afp1:Object},created(){this.nombre=this.afp1.nombre,this.id=this.afp1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarAfps(){if(await this.$refs.confirmation.show({title:"Editar Afp",message:`¿Está seguro/a que desea editar la Afp '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre};var s=this.id;_.put(`../api/afp/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Afp editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},xfe={name:"modal"},Pfe={class:"modal-mask"},Efe={class:"modal-wrapper"},Tfe={class:"modal-container-xs"},Dfe={class:"modal-header fw-bold",style:{color:"#444444"}},Bfe={class:"modal-body"},Ofe={class:"form-group"},Mfe=e("label",{for:"nombre"},"Nombre: ",-1),Sfe=e("br",null,null,-1),Rfe={key:0,class:"error"},Afe={class:"modal-footer"},Ffe=["disabled"];function zfe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",xfe,[e("div",Pfe,[e("div",Efe,[e("div",Tfe,[e("div",Dfe,[C(t.$slots,"header",{},()=>[p(" Editar AFPs ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Bfe,[C(t.$slots,"body",{},()=>[e("div",Ofe,[Mfe,Sfe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Rfe,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",Afe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarAfps()),disabled:t.buttonDisable},i(t.buttonText),9,Ffe)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Ufe=U(kfe,[["render",zfe]]),Vfe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Grupo",buttonDisable:!1,grupo:{nombre:null},errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearGrupo(){if(await this.$refs.confirmation.show({title:"Crear Grupo",message:`¿Está seguro/a que desea crear al grupo '${this.grupo.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.grupo.nombre};_.post("../api/grupos",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Grupo creado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Lfe={name:"modal"},jfe={class:"modal-mask"},Nfe={class:"modal-wrapper"},Hfe={class:"modal-container-xs"},Ife={class:"modal-header fw-bold",style:{color:"#444444"}},Gfe={class:"modal-body"},qfe={class:"col-12"},Kfe={class:"form-group"},Xfe=e("label",{for:"nombre"},"Nombre: ",-1),Jfe=e("br",null,null,-1),Zfe={key:0,class:"error"},Wfe={class:"modal-footer"},Yfe=["disabled"];function Qfe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Lfe,[e("div",jfe,[e("div",Nfe,[e("div",Hfe,[e("div",Ife,[C(t.$slots,"header",{},()=>[p(" Nuevo Grupo ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Gfe,[C(t.$slots,"body",{},()=>[e("div",qfe,[e("div",Kfe,[Xfe,Jfe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.grupo.nombre=o)},null,512),[[k,t.grupo.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Zfe,i(t.errors.nombre[0]),1)):m("",!0)])])])]),e("div",Wfe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearGrupo()),disabled:t.buttonDisable},i(t.buttonText),9,Yfe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const ebe=U(Vfe,[["render",Qfe]]),tbe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Grupo",buttonDisable:!1,nombre:null,id:null,errors:[]}),props:{grupo:Object},created(){this.nombre=this.grupo.nombre,this.id=this.grupo.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarGrupo(){if(await this.$refs.confirmation.show({title:"Editar Grupo",message:`¿Está seguro/a que desea editar el grupo '${this.grupo}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre};var s=this.id;_.put(`../api/grupos/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Grupo Editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},sbe={name:"modal"},obe={class:"modal-mask"},abe={class:"modal-wrapper"},lbe={class:"modal-container-xs"},ibe={class:"modal-header fw-bold",style:{color:"#444444"}},rbe={class:"modal-body"},nbe={class:"col-12"},dbe={class:"form-group"},cbe=e("label",{for:"nombre"},"Nombre: ",-1),ube=e("br",null,null,-1),hbe={key:0,class:"error"},mbe={class:"modal-footer"},pbe=["disabled"];function fbe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",sbe,[e("div",obe,[e("div",abe,[e("div",lbe,[e("div",ibe,[C(t.$slots,"header",{},()=>[p(" Editar Grupo ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close"))},"X")]),e("div",rbe,[C(t.$slots,"body",{},()=>[e("div",nbe,[e("div",dbe,[cbe,ube,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",hbe,i(t.errors.nombre[0]),1)):m("",!0)])])])]),e("div",mbe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarGrupo()),disabled:t.buttonDisable},i(t.buttonText),9,pbe)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const bbe=U(tbe,[["render",fbe]]),gbe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Lider",buttonDisable:!1,grupoLider:{usuario:null,grupo:null},errors:[],usuarios:[],grupos:[]}),created(){this.getUsuarios(),this.getGrupos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getGrupos(){_.get("../api/grupos").then(t=>{this.grupos=t.data}).catch(t=>console.log(t))},async crearLider(){if(await this.$refs.confirmation.show({title:"Crear Lider",message:`¿Está seguro/a que desea asignar al usuario '${this.grupoLider.usuario.name}' como lider del grupo '${this.grupoLider.grupo.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={idUsuario:this.grupoLider.usuario.id,idGrupo:this.grupoLider.grupo.id};_.post("../api/grupoLideres",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Lider creado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},_be={name:"modal"},vbe={class:"modal-mask"},$be={class:"modal-wrapper"},ybe={class:"modal-container-xs"},Cbe={class:"modal-header fw-bold",style:{color:"#444444"}},wbe={class:"modal-body"},kbe={class:"row"},xbe={class:"col-8"},Pbe={class:"form-group"},Ebe=e("label",{for:""},"Lider: ",-1),Tbe=e("br",null,null,-1),Dbe=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),Bbe=["value"],Obe={key:0,class:"error"},Mbe={class:"col-8"},Sbe={class:"form-group"},Rbe=e("label",{for:""},"Grupo: ",-1),Abe=e("br",null,null,-1),Fbe=e("option",{disabled:"",value:""},"Seleccione un grupo",-1),zbe=["value"],Ube={key:0,class:"error"},Vbe={class:"modal-footer"},Lbe=["disabled"];function jbe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",_be,[e("div",vbe,[e("div",$be,[e("div",ybe,[e("div",Cbe,[C(t.$slots,"header",{},()=>[p(" Nuevo Lider ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",wbe,[C(t.$slots,"body",{},()=>[e("div",kbe,[e("div",xbe,[e("div",Pbe,[Ebe,Tbe,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.grupoLider.usuario=o)},[Dbe,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o},i(o.name),9,Bbe))),128))],512),[[A,t.grupoLider.usuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",Obe,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",Mbe,[e("div",Sbe,[Rbe,Abe,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.grupoLider.grupo=o)},[Fbe,(l(!0),r(P,null,E(t.grupos,o=>(l(),r("option",{key:o.id,value:o},i(o.nombre),9,zbe))),128))],512),[[A,t.grupoLider.grupo]])]),t.errors&&t.errors.idGrupo?(l(),r("div",Ube,i(t.errors.idGrupo[0]),1)):m("",!0)])])])]),e("div",Vbe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearLider()),disabled:t.buttonDisable},i(t.buttonText),9,Lbe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Nbe=U(gbe,[["render",jbe]]),Hbe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Lider",buttonDisable:!1,id:null,idUsuario:null,idGrupo:null,usuario:null,grupo:null,errors:[],usuarios:[],grupos:[]}),props:{grupoLider:Object},created(){this.id=this.grupoLider.id,this.idUsuario=this.grupoLider.idUsuario,this.idGrupo=this.grupoLider.idGrupo,this.getUsuarios(),this.getGrupos(),this.getOneUsuario(this.idUsuario),this.getOneGrupo(this.idGrupo)},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getGrupos(){_.get("../api/grupos").then(t=>{this.grupos=t.data}).catch(t=>console.log(t))},getOneUsuario(t){_.get(`../api/usuarios/${t}`).then(s=>{this.usuario=s.data}).catch(s=>console.log(s))},getOneGrupo(t){_.get(`../api/grupos/${t}`).then(s=>{this.grupo=s.data}).catch(s=>console.log(s))},async editarLider(){if(await this.$refs.confirmation.show({title:"Editar Lider",message:`¿Está seguro/a que desea editar al lider '${this.usuario.name}' del grupo '${this.grupo.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={idUsuario:this.idUsuario,idGrupo:this.idGrupo};var s=this.id;_.put(`../api/grupoLideres/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Lider editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Ibe={name:"modal"},Gbe={class:"modal-mask"},qbe={class:"modal-wrapper"},Kbe={class:"modal-container-xs"},Xbe={class:"modal-header fw-bold",style:{color:"#444444"}},Jbe={class:"modal-body"},Zbe={class:"row"},Wbe={class:"col-8"},Ybe={class:"form-group"},Qbe=e("label",{for:""},"Lider: ",-1),e1e=e("br",null,null,-1),t1e=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),s1e=["value"],o1e={key:0,class:"error"},a1e={class:"col-8"},l1e={class:"form-group"},i1e=e("label",{for:""},"Grupo: ",-1),r1e=e("br",null,null,-1),n1e=e("option",{disabled:"",value:""},"Seleccione un grupo",-1),d1e=["value"],c1e={key:0,class:"error"},u1e={class:"modal-footer"},h1e=["disabled"];function m1e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Ibe,[e("div",Gbe,[e("div",qbe,[e("div",Kbe,[e("div",Xbe,[C(t.$slots,"header",{},()=>[p(" Editar Lider ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Jbe,[C(t.$slots,"body",{},()=>[e("div",Zbe,[e("div",Wbe,[e("div",Ybe,[Qbe,e1e,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.idUsuario=o),onChange:s[2]||(s[2]=o=>{d.getOneUsuario(t.idUsuario)})},[t1e,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,s1e))),128))],544),[[A,t.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",o1e,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",a1e,[e("div",l1e,[i1e,r1e,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.idGrupo=o),onChange:s[4]||(s[4]=o=>{d.getOneGrupo(t.idGrupo)})},[n1e,(l(!0),r(P,null,E(t.grupos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,d1e))),128))],544),[[A,t.idGrupo]])]),t.errors&&t.errors.idGrupo?(l(),r("div",c1e,i(t.errors.idGrupo[0]),1)):m("",!0)])])])]),e("div",u1e,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.editarLider()),disabled:t.buttonDisable},i(t.buttonText),9,h1e)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const p1e=U(Hbe,[["render",m1e]]),f1e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Miembro",buttonDisable:!1,grupoMiembro:{usuario:null,grupo:null},errors:[],usuarios:[],grupos:[]}),created(){this.getUsuarios(),this.getGrupos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getGrupos(){_.get("../api/grupos").then(t=>{this.grupos=t.data}).catch(t=>console.log(t))},async crearMiembro(){if(await this.$refs.confirmation.show({title:"Crear Miembro",message:`¿Está seguro/a que desea asignar al usuario '${this.grupoMiembro.usuario.name}' como miembro del grupo '${this.grupoMiembro.grupo.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={idUsuario:this.grupoMiembro.usuario.id,idGrupo:this.grupoMiembro.grupo.id};_.post("../api/grupoMiembros",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Miembro creado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},b1e={name:"modal"},g1e={class:"modal-mask"},_1e={class:"modal-wrapper"},v1e={class:"modal-container-xs"},$1e={class:"modal-header fw-bold",style:{color:"#444444"}},y1e={class:"modal-body"},C1e={class:"row"},w1e={class:"col-8"},k1e={class:"form-group"},x1e=e("label",{for:""},"Miembro: ",-1),P1e=e("br",null,null,-1),E1e=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),T1e=["value"],D1e={key:0,class:"error"},B1e={class:"col-8"},O1e={class:"form-group"},M1e=e("label",{for:""},"Grupo: ",-1),S1e=e("br",null,null,-1),R1e=e("option",{disabled:"",value:""},"Seleccione un grupo",-1),A1e=["value"],F1e={key:0,class:"error"},z1e={class:"modal-footer"},U1e=["disabled"];function V1e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",b1e,[e("div",g1e,[e("div",_1e,[e("div",v1e,[e("div",$1e,[C(t.$slots,"header",{},()=>[p(" Nuevo Miembro ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",y1e,[C(t.$slots,"body",{},()=>[e("div",C1e,[e("div",w1e,[e("div",k1e,[x1e,P1e,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.grupoMiembro.usuario=o)},[E1e,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o},i(o.name),9,T1e))),128))],512),[[A,t.grupoMiembro.usuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",D1e,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",B1e,[e("div",O1e,[M1e,S1e,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.grupoMiembro.grupo=o)},[R1e,(l(!0),r(P,null,E(t.grupos,o=>(l(),r("option",{key:o.id,value:o},i(o.nombre),9,A1e))),128))],512),[[A,t.grupoMiembro.grupo]])]),t.errors&&t.errors.idGrupo?(l(),r("div",F1e,i(t.errors.idGrupo[0]),1)):m("",!0)])])])]),e("div",z1e,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.crearMiembro()),disabled:t.buttonDisable},i(t.buttonText),9,U1e)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const L1e=U(f1e,[["render",V1e]]),j1e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Miembro",buttonDisable:!1,id:null,idUsuario:null,idGrupo:null,usuario:null,grupo:null,errors:[],usuarios:[],grupos:[]}),props:{grupoMiembro:Object},created(){this.id=this.grupoMiembro.id,this.idUsuario=this.grupoMiembro.idUsuario,this.idGrupo=this.grupoMiembro.idGrupo,this.getUsuarios(),this.getGrupos(),this.getOneUsuario(this.idUsuario),this.getOneGrupo(this.idGrupo)},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getUsuarios(){_.get("../api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},getGrupos(){_.get("../api/grupos").then(t=>{this.grupos=t.data}).catch(t=>console.log(t))},getOneUsuario(t){_.get(`../api/usuarios/${t}`).then(s=>{this.usuario=s.data}).catch(s=>console.log(s))},getOneGrupo(t){_.get(`../api/grupos/${t}`).then(s=>{this.grupo=s.data}).catch(s=>console.log(s))},async editarMiembro(){if(await this.$refs.confirmation.show({title:"Editar Miembro",message:`¿Está seguro/a que desea editar al miembro '${this.usuario.name}' del grupo '${this.grupo.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={idUsuario:this.idUsuario,idGrupo:this.idGrupo};var s=this.id;_.put(`../api/grupoMiembros/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Miembro editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},N1e={name:"modal"},H1e={class:"modal-mask"},I1e={class:"modal-wrapper"},G1e={class:"modal-container-xs"},q1e={class:"modal-header fw-bold",style:{color:"#444444"}},K1e={class:"modal-body"},X1e={class:"row"},J1e={class:"col-8"},Z1e={class:"form-group"},W1e=e("label",{for:""},"Miembro: ",-1),Y1e=e("br",null,null,-1),Q1e=e("option",{disabled:"",value:""},"Seleccione un usuario",-1),ege=["value"],tge={key:0,class:"error"},sge={class:"col-8"},oge={class:"form-group"},age=e("label",{for:""},"Grupo: ",-1),lge=e("br",null,null,-1),ige=e("option",{disabled:"",value:""},"Seleccione un grupo",-1),rge=["value"],nge={key:0,class:"error"},dge={class:"modal-footer"},cge=["disabled"];function uge(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",N1e,[e("div",H1e,[e("div",I1e,[e("div",G1e,[e("div",q1e,[C(t.$slots,"header",{},()=>[p(" Editar Miembro ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",K1e,[C(t.$slots,"body",{},()=>[e("div",X1e,[e("div",J1e,[e("div",Z1e,[W1e,Y1e,f(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.idUsuario=o),onChange:s[2]||(s[2]=o=>{d.getOneUsuario(t.idUsuario)})},[Q1e,(l(!0),r(P,null,E(t.usuarios,o=>(l(),r("option",{key:o.id,value:o.id},i(o.name),9,ege))),128))],544),[[A,t.idUsuario]])]),t.errors&&t.errors.idUsuario?(l(),r("div",tge,i(t.errors.idUsuario[0]),1)):m("",!0)]),e("div",sge,[e("div",oge,[age,lge,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.idGrupo=o),onChange:s[4]||(s[4]=o=>{d.getOneGrupo(t.idGrupo)})},[ige,(l(!0),r(P,null,E(t.grupos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,rge))),128))],544),[[A,t.idGrupo]])]),t.errors&&t.errors.idGrupo?(l(),r("div",nge,i(t.errors.idGrupo[0]),1)):m("",!0)])])])]),e("div",dge,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[5]||(s[5]=o=>d.editarMiembro()),disabled:t.buttonDisable},i(t.buttonText),9,cge)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const hge=U(j1e,[["render",uge]]),mge={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Crear Tipo de Usuario",buttonDisable:!1,tipoUsuario:{nombre:null},errors:[]}),created(){},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async crearTipoUsuario(){if(await this.$refs.confirmation.show({title:"Crear Tipo de Usuario",message:`¿Está seguro/a que desea crear el tipo de usuario '${this.tipoUsuario.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={nombre:this.tipoUsuario.nombre};_.post("../api/tiposUsuario",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Tipo de usuario creado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},pge={name:"modal"},fge={class:"modal-mask"},bge={class:"modal-wrapper"},gge={class:"modal-container-xs"},_ge={class:"modal-header fw-bold",style:{color:"#444444"}},vge={class:"modal-body"},$ge={class:"form-group"},yge=e("label",{for:"nombre"},"Nombre: ",-1),Cge=e("br",null,null,-1),wge={key:0,class:"error"},kge={class:"modal-footer"},xge=["disabled"];function Pge(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",pge,[e("div",fge,[e("div",bge,[e("div",gge,[e("div",_ge,[C(t.$slots,"header",{},()=>[p(" Nuevo Tipo de Usuario ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",vge,[C(t.$slots,"body",{},()=>[e("div",$ge,[yge,Cge,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.tipoUsuario.nombre=o)},null,512),[[k,t.tipoUsuario.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",wge,i(t.errors.nombre[0]),1)):m("",!0)])])]),e("div",kge,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearTipoUsuario()),disabled:t.buttonDisable},i(t.buttonText),9,xge)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Ege=U(mge,[["render",Pge]]),Tge={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Tipo de Usuario",buttonDisable:!1,id:null,nombre:null,errors:[]}),props:{tipoUsuario:Object},created(){this.id=this.tipoUsuario.id,this.nombre=this.tipoUsuario.nombre},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarTipoUsuario(){if(await this.$refs.confirmation.show({title:"Editar Tipo de Usuario",message:`¿Está seguro/a que desea editar al tipo de usuario '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre};var s=this.id;_.put(`../api/tiposUsuario/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Tipo de Usuario editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Dge={name:"modal"},Bge={class:"modal-mask"},Oge={class:"modal-wrapper"},Mge={class:"modal-container-xs"},Sge={class:"modal-header fw-bold",style:{color:"#444444"}},Rge={class:"modal-body"},Age={class:"form-group"},Fge=e("label",{for:"nombre"},"Nombre: ",-1),zge=e("br",null,null,-1),Uge={key:0,class:"error"},Vge={class:"modal-footer"},Lge=["disabled"];function jge(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",Dge,[e("div",Bge,[e("div",Oge,[e("div",Mge,[e("div",Sge,[C(t.$slots,"header",{},()=>[p(" Editar Tipo de Usuario ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Rge,[C(t.$slots,"body",{},()=>[e("div",Age,[Fge,zge,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Uge,i(t.errors.nombre[0]),1)):m("",!0)])])]),e("div",Vge,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarTipoUsuario()),disabled:t.buttonDisable},i(t.buttonText),9,Lge)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const Nge=U(Tge,[["render",jge]]),Hge={components:{modalconfirmacion:j,modalalerta:N,modalCreateSistemaSalud:hpe,modalCreateAFP:wfe,modalCreateEstadoCivil:Kpe,modalEditSistema:Mpe,modalEditAFP:Ufe,modalEditEstado:nfe,modalCreateGrupo:ebe,modalEditGrupo:bbe,modalCreateGrupoLider:Nbe,modalEditGrupoLider:p1e,modalCreateGrupoMiembro:L1e,modalEditGrupoMiembro:hge,modalCreateTipoUsuario:Ege,modalEditTipoUsuario:Nge},mixins:[V],data:()=>({isVisibleSistemasSalud:!0,sistemasSalud:null,showEditSistemaSalud:!1,sistemaEdit:null,showCreateSistemaSalud:!1,isVisibleAFPs:!1,showCreateAFP:!1,afps:null,showEditAFP:!1,afpEdit:null,isVisibleEstadosCiviles:!1,showEditEstadoCivil:!1,estadoEdit:null,estadosCiviles:null,showCreateEstadoCivil:!1,isVisibleTipoUsuarios:!1,showEditTipoUsuario:!1,tipoUsuarioEdit:null,tiposUsuarios:null,showCreateTipoUsuario:!1,isVisibleGrupos:!1,showEditGrupo:!1,grupoEdit:null,grupos:null,showCreateGrupo:!1,isVisibleGrupoLideres:!1,showEditGrupoLider:!1,grupoLiderEdit:null,grupoLideres:null,showCreateGrupoLider:!1,isVisibleGrupoMiembros:!1,showEditGrupoMiembro:!1,grupoMiembroEdit:null,grupoMiembros:null,showCreateGrupoMiembro:!1,tableSisSalud:null,mostrarCarga3:!0,mostrarTabla3:!1,tableAfp:null,mostrarCarga4:!0,mostrarTabla4:!1,tableEstadoCivil:null,mostrarCarga5:!0,mostrarTabla5:!1,tableTipoUsuario:null,mostrarCarga6:!0,mostrarTabla6:!1,tableGrupos:null,mostrarCarga7:!0,mostrarTabla7:!1,tableGrupoLideres:null,mostrarCarga8:!0,mostrarTabla8:!1,tableGrupoMiembros:null,mostrarCarga9:!0,mostrarTabla9:!1}),created(){this.getSistemasSalud()},methods:{recargarTabla(t){t=="Sistemas de Salud"&&(this.sistemasSalud=null,this.mostrarCarga3=!0,this.getSistemasSalud()),t=="AFP"&&(this.afps=null,this.mostrarCarga4=!0,this.getAFPs()),t=="Estados Civiles"&&(this.estadosCiviles=null,this.mostrarCarga5=!0,this.getEstadosCiviles()),t=="Tipos de Usuario"&&(this.tiposUsuarios=null,this.mostrarCarga7=!0,this.getTiposUsuario()),t=="Grupos"&&(this.grupos=null,this.mostrarCarga7=!0,this.getGrupos()),t=="Grupo Lideres"&&(this.grupoLideres=null,this.mostrarCarga8=!0,this.getGrupoLideres()),t=="Grupo Miembros"&&(this.grupoMiembros=null,this.mostrarCarga9=!0,this.getGrupoMiembros())},crearTablas(t){t=="Sistemas de Salud"&&setTimeout(function(){this.tableSisSalud=$("#MyTableSistemasSalud").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableSisSalud.buttons().remove(),this.mostrarCarga3=!1,this.mostrarTabla3=!0}.bind(this),200),t=="AFP"&&setTimeout(function(){this.tableAfp=$("#MyTableAFP").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableAfp.buttons().remove(),this.mostrarCarga4=!1,this.mostrarTabla4=!0}.bind(this),200),t=="Estados Civiles"&&setTimeout(function(){this.tableEstadoCivil=$("#MyTableEstadosCiviles").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableEstadoCivil.buttons().remove(),this.mostrarCarga5=!1,this.mostrarTabla5=!0}.bind(this),200),t=="Tipos de Usuario"&&setTimeout(function(){this.tableTipoUsuario=$("#MyTableTiposUsuario").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableTipoUsuario.buttons().remove(),this.mostrarCarga7=!1,this.mostrarTabla6=!0}.bind(this),200),t=="Grupos"&&setTimeout(function(){this.tableGrupos=$("#MyTableGrupos").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableGrupos.buttons().remove(),this.mostrarCarga7=!1,this.mostrarTabla7=!0}.bind(this),200),t=="Grupo Lideres"&&setTimeout(function(){this.tableGrupoLideres=$("#MyTableGrupoLideres").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableGrupoLideres.buttons().remove(),this.mostrarCarga8=!1,this.mostrarTabla8=!0}.bind(this),200),t=="Grupo Miembros"&&setTimeout(function(){this.tableGrupoMiembros=$("#MyTableGrupoMiembros").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableGrupoMiembros.buttons().remove(),this.mostrarCarga9=!1,this.mostrarTabla9=!0}.bind(this),200)},botonCheck(t){this.isVisibleSistemasSalud=!1,this.isVisibleAFPs=!1,this.isVisibleEstadosCiviles=!1,this.isVisibleTipoUsuarios=!1,this.isVisibleGrupos=!1,this.isVisibleGrupoLideres=!1,this.isVisibleGrupoMiembros=!1,t=="Sistemas de Salud"&&(this.sistemasSalud=null,this.mostrarCarga3=!0,this.getSistemasSalud(),this.isVisibleSistemasSalud=!0),t=="AFPs"&&(this.afps=null,this.mostrarCarga4=!0,this.getAFPs(),this.isVisibleAFPs=!0),t=="Estados Civiles"&&(this.estadosCiviles=null,this.mostrarCarga5=!0,this.getEstadosCiviles(),this.isVisibleEstadosCiviles=!0),t=="Tipos Usuario"&&(this.tiposUsuarios=null,this.mostrarCarga7=!0,this.getTiposUsuario(),this.isVisibleTipoUsuarios=!0),t=="Grupos"&&(this.grupos=null,this.mostrarCarga7=!0,this.getGrupos(),this.isVisibleGrupos=!0),t=="Grupo Lideres"&&(this.grupoLideres=null,this.mostrarCarga8=!0,this.getGrupoLideres(),this.isVisibleGrupoLideres=!0),t=="Grupo Miembros"&&(this.grupoMiembros=null,this.mostrarCarga9=!0,this.getGrupoMiembros(),this.isVisibleGrupoMiembros=!0)},getSistemasSalud(){_.get("../api/sistemasSalud").then(t=>{this.mostrarCarga3=!0,this.sistemasSalud=t.data,this.tableSisSalud!=null&&(this.tableSisSalud.clear(),this.tableSisSalud.destroy()),this.crearTablas("Sistemas de Salud")}).catch(t=>console.log(t))},async deleteSistemaSalud(t,s){await this.$refs.confirmation.show({title:"Borrar Sistema de Salud",message:`¿Está seguro/a que desea eliminar el sistema de salud '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/sistemasSalud/${t}`).then(c=>{this.toast.success("Sistema de Salud eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Sistemas de Salud")}).catch(c=>console.log(c))},editSistema(t){this.sistemaEdit=t,this.showEditSistemaSalud=!0},getAFPs(){_.get("../api/afp").then(t=>{this.mostrarCarga4=!0,this.afps=t.data,this.tableAfp!=null&&(this.tableAfp.clear(),this.tableAfp.destroy()),this.crearTablas("AFP")}).catch(t=>console.log(t))},async deleteAFP(t,s){await this.$refs.confirmation.show({title:"Borrar AFP",message:`¿Está seguro/a que desea eliminar la AFP '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/afp/${t}`).then(c=>{this.toast.success("AFP eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("AFP")}).catch(c=>console.log(c))},editAfp(t){this.afpEdit=t,this.showEditAFP=!0},getEstadosCiviles(){_.get("../api/estadosCiviles").then(t=>{this.estadosCiviles=t.data,this.mostrarCarga5=!0,this.estadosCiviles=t.data,this.tableEstadoCivil!=null&&(this.tableEstadoCivil.clear(),this.tableEstadoCivil.destroy()),this.crearTablas("Estados Civiles")}).catch(t=>console.log(t))},editEstado(t){this.estadoEdit=t,this.showEditEstadoCivil=!0},async deleteEstadoCivil(t,s){await this.$refs.confirmation.show({title:"Borrar Estado Civil",message:`¿Está seguro/a que desea eliminar el estado civil '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/estadosCiviles/${t}`).then(c=>{this.toast.success("Estado Civil eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Estados Civiles")}).catch(c=>console.log(c))},getTiposUsuario(){_.get("../api/tiposUsuario").then(t=>{this.tiposUsuarios=t.data,this.mostrarCarga7=!0,this.tableTipoUsuario!=null&&(this.tableTipoUsuario.clear(),this.tableTipoUsuario.destroy()),this.crearTablas("Tipos de Usuario")}).catch(t=>console.log(t))},editTipoUsuario(t){this.tipoUsuarioEdit=t,this.showEditTipoUsuario=!0},async deleteTipoUsuario(t,s){await this.$refs.confirmation.show({title:"Borrar Tipo de Usuario",message:`¿Está seguro/a que desea eliminar el tipo de usuario '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/tiposUsuario/${t}`).then(c=>{this.toast.success("Tipo de Usuario eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Tipos de Usuario")}).catch(c=>console.log(c))},getGrupos(){_.get("../api/grupos").then(t=>{this.grupos=t.data,this.mostrarCarga7=!0,this.tableGrupos!=null&&(this.tableGrupos.clear(),this.tableGrupos.destroy()),this.crearTablas("Grupos")}).catch(t=>console.log(t))},editGrupo(t){this.grupoEdit=t,this.showEditGrupo=!0},async deleteGrupo(t,s){await this.$refs.confirmation.show({title:"Borrar Grupo",message:`¿Está seguro/a que desea eliminar el grupo '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/grupos/${t}`).then(c=>{this.toast.success("Grupo eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Grupos")}).catch(c=>console.log(c))},getGrupoLideres(){_.get("../api/grupoLideres").then(t=>{this.mostrarCarga8=!0,this.grupoLideres=t.data,this.tableGrupoLideres!=null&&(this.tableGrupoLideres.clear(),this.tableGrupoLideres.destroy()),this.crearTablas("Grupo Lideres")}).catch(t=>console.log(t))},editGrupoLider(t){this.grupoLiderEdit=t,this.showEditGrupoLider=!0},async deleteGrupoLider(t,s,a){await this.$refs.confirmation.show({title:"Borrar Lider",message:`¿Está seguro/a que desea eliminar el lider '${s}' del grupo '${a}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/grupoLideres/${t}`).then(n=>{this.toast.success("Lider eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Grupo Lideres")}).catch(n=>console.log(n))},getGrupoMiembros(){_.get("../api/grupoMiembros").then(t=>{this.mostrarCarga8=!0,this.grupoMiembros=t.data,this.tableGrupoMiembros!=null&&(this.tableGrupoMiembros.clear(),this.tableGrupoMiembros.destroy()),this.crearTablas("Grupo Miembros")}).catch(t=>console.log(t))},editGrupoMiembro(t){this.grupoMiembroEdit=t,this.showEditGrupoMiembro=!0},async deleteGrupoMiembro(t,s,a){await this.$refs.confirmation.show({title:"Borrar Miembro",message:`¿Está seguro/a que desea eliminar el miembro '${s}' del grupo '${a}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/grupoMiembros/${t}`).then(n=>{this.toast.success("Miembro eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Grupo Miembros")}).catch(n=>console.log(n))}}},Ige={class:"row mt-4 mx-4"},Gge={class:"col-12"},qge={class:"card mb-4",style:{"flex-direction":"inherit"}},Kge={class:"btn-group-vertical",role:"group",style:{"min-height":"450px",width:"max-content"}},Xge={class:"btn-group-vertical",role:"group","aria-label":"First Group",style:{width:"160px","margin-left":"10px","margin-right":"10px"}},Jge=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn2"}," Sistemas de Salud ",-1),Zge=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn3"}," AFPs ",-1),Wge=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn4"}," Estados Civiles ",-1),Yge=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn7"}," Tipos de Usuario ",-1),Qge=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn1"}," Grupos ",-1),e_e=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn5"}," Líderes de Grupos ",-1),t_e=e("label",{class:"btn btn-outline-secondary m-auto",for:"vertical-radio-btn6"}," Miembros de Grupos ",-1),s_e={style:{width:"100%"}},o_e={class:"row pb-0 p-4"},a_e={class:"col-12"},l_e=e("h6",null,"Sistemas de Salud",-1),i_e={class:"d-flex justify-content-end"},r_e=e("i",{class:"fa-solid fa-rotate"},null,-1),n_e=[r_e],d_e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},c_e={class:"loader-xs"},u_e={class:"container"},h_e={class:"table-responsive p-0"},m_e={class:"table align-items-center mb-0",id:"MyTableSistemasSalud"},p_e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Porcentaje"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),f_e=e("td",null,null,-1),b_e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},g_e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},__e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},v_e={class:"align-middle text-end"},$_e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},y_e=["onClick"],C_e=e("i",{class:"fa fa-fw fa-edit"},null,-1),w_e=[C_e],k_e=["onClick"],x_e=e("i",{class:"fa fa-fw fa-trash"},null,-1),P_e=[x_e],E_e={class:"row pb-0 p-4"},T_e={class:"col-12"},D_e=e("h6",null,"AFPs",-1),B_e={class:"d-flex justify-content-end"},O_e=e("i",{class:"fa-solid fa-rotate"},null,-1),M_e=[O_e],S_e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},R_e={class:"loader-xs"},A_e={class:"container"},F_e={class:"table-responsive p-0"},z_e={class:"table align-items-center mb-0",id:"MyTableAFP"},U_e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),V_e=e("td",null,null,-1),L_e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},j_e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},N_e={class:"align-middle text-end"},H_e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},I_e=["onClick"],G_e=e("i",{class:"fa fa-fw fa-edit"},null,-1),q_e=[G_e],K_e=["onClick"],X_e=e("i",{class:"fa fa-fw fa-trash"},null,-1),J_e=[X_e],Z_e={class:"row pb-0 p-4"},W_e={class:"col-12"},Y_e=e("h6",null,"Estados Civiles",-1),Q_e={class:"d-flex justify-content-end"},eve=e("i",{class:"fa-solid fa-rotate"},null,-1),tve=[eve],sve={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},ove={class:"loader-xs"},ave={class:"container"},lve={class:"table-responsive p-0"},ive={class:"table align-items-center mb-0",id:"MyTableEstadosCiviles"},rve=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),nve=e("td",null,null,-1),dve={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},cve={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},uve={class:"align-middle text-end"},hve={class:"d-flex px-3 py-1 justify-content-center align-items-center"},mve=["onClick"],pve=e("i",{class:"fa fa-fw fa-edit"},null,-1),fve=[pve],bve=["onClick"],gve=e("i",{class:"fa fa-fw fa-trash"},null,-1),_ve=[gve],vve={class:"row pb-0 p-4"},$ve={class:"col-12"},yve=e("h6",null,"Tipos de Usuario",-1),Cve={class:"d-flex justify-content-end"},wve=e("i",{class:"fa-solid fa-rotate"},null,-1),kve=[wve],xve={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Pve={class:"loader-xs"},Eve={class:"container"},Tve={class:"table-responsive p-0"},Dve={class:"table align-items-center mb-0",id:"MyTableTiposUsuario"},Bve=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Ove=e("td",null,null,-1),Mve={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Sve={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Rve={class:"align-middle text-end"},Ave={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Fve=["onClick"],zve=e("i",{class:"fa fa-fw fa-edit"},null,-1),Uve=[zve],Vve=["onClick"],Lve=e("i",{class:"fa fa-fw fa-trash"},null,-1),jve=[Lve],Nve={class:"row pb-0 p-4"},Hve={class:"col-12"},Ive=e("h6",null,"Grupos",-1),Gve={class:"d-flex justify-content-end"},qve=e("i",{class:"fa-solid fa-rotate"},null,-1),Kve=[qve],Xve={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Jve={class:"loader-xs"},Zve={class:"container"},Wve={class:"table-responsive p-0"},Yve={class:"table align-items-center mb-0",id:"MyTableGrupos"},Qve=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Grupo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),e$e=e("td",null,null,-1),t$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},s$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},o$e={class:"align-middle text-end"},a$e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},l$e=["onClick"],i$e=e("i",{class:"fa fa-fw fa-edit"},null,-1),r$e=[i$e],n$e=["onClick"],d$e=e("i",{class:"fa fa-fw fa-trash"},null,-1),c$e=[d$e],u$e={class:"row pb-0 p-4"},h$e={class:"col-12"},m$e=e("h6",null,"Líderes de Grupos",-1),p$e={class:"d-flex justify-content-end"},f$e=e("i",{class:"fa-solid fa-rotate"},null,-1),b$e=[f$e],g$e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},_$e={class:"loader-xs"},v$e={class:"container"},$$e={class:"table-responsive p-0"},y$e={class:"table align-items-center mb-0",id:"MyTableGrupoLideres"},C$e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Lider"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Grupo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),w$e=e("td",null,null,-1),k$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},x$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},P$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},E$e={class:"align-middle text-end"},T$e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},D$e=["onClick"],B$e=e("i",{class:"fa fa-fw fa-edit"},null,-1),O$e=[B$e],M$e=["onClick"],S$e=e("i",{class:"fa fa-fw fa-trash"},null,-1),R$e=[S$e],A$e={class:"row pb-0 p-4"},F$e={class:"col-12"},z$e=e("h6",null,"Miembros de Grupos",-1),U$e={class:"d-flex justify-content-end"},V$e=e("i",{class:"fa-solid fa-rotate"},null,-1),L$e=[V$e],j$e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},N$e={class:"loader-xs"},H$e={class:"container"},I$e={class:"table-responsive p-0"},G$e={class:"table align-items-center mb-0",id:"MyTableGrupoMiembros"},q$e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Miembro"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Grupo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),K$e=e("td",null,null,-1),X$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},J$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Z$e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},W$e={class:"align-middle text-end"},Y$e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Q$e=["onClick"],e0e=e("i",{class:"fa fa-fw fa-edit"},null,-1),t0e=[e0e],s0e=["onClick"],o0e=e("i",{class:"fa fa-fw fa-trash"},null,-1),a0e=[o0e];function l0e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalEditSistema"),h=y("modalEditAFP"),b=y("modalEditEstado"),v=y("modalCreateSistemaSalud"),z=y("modalCreateAFP"),S=y("modalCreateEstadoCivil"),F=y("modalCreateGrupo"),R=y("modalEditGrupo"),J=y("modalCreateGrupoLider"),X=y("modalEditGrupoLider"),B=y("modalCreateGrupoMiembro"),w=y("modalEditGrupoMiembro"),Y=y("modalCreateTipoUsuario"),ce=y("modalEditTipoUsuario");return l(),r("div",Ige,[e("div",Gge,[e("div",qge,[e("div",Kge,[e("div",Xge,[e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn2",autocomplete:"off",onClick:s[0]||(s[0]=M=>d.botonCheck("Sistemas de Salud")),checked:""}),Jge,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn3",autocomplete:"off",onClick:s[1]||(s[1]=M=>d.botonCheck("AFPs"))}),Zge,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn4",autocomplete:"off",onClick:s[2]||(s[2]=M=>d.botonCheck("Estados Civiles"))}),Wge,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn7",autocomplete:"off",onClick:s[3]||(s[3]=M=>d.botonCheck("Tipos Usuario"))}),Yge,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn1",autocomplete:"off",onClick:s[4]||(s[4]=M=>d.botonCheck("Grupos"))}),Qge,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn5",autocomplete:"off",onClick:s[5]||(s[5]=M=>d.botonCheck("Grupo Lideres"))}),e_e,e("input",{type:"radio",class:"btn-check",name:"vertical-radio-btn",id:"vertical-radio-btn6",autocomplete:"off",onClick:s[6]||(s[6]=M=>d.botonCheck("Grupo Miembros"))}),t_e])]),e("div",s_e,[t.isVisibleSistemasSalud?C(t.$slots,"default",{key:0},()=>[e("div",o_e,[e("div",a_e,[l_e,e("div",i_e,[e("a",{class:"btn btn-continue",onClick:s[7]||(s[7]=M=>t.showCreateSistemaSalud=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[8]||(s[8]=M=>d.recargarTabla("Sistemas de Salud"))},n_e)])])]),e("div",d_e,[f(e("div",c_e,null,512),[[H,t.mostrarCarga3]]),e("div",u_e,[e("div",h_e,[e("table",m_e,[p_e,e("tbody",null,[(l(!0),r(P,null,E(t.sistemasSalud,M=>(l(),r("tr",{key:M.id},[f_e,e("td",null,[e("p",b_e,i(M.id),1)]),e("td",null,[e("p",g_e,i(M.nombre),1)]),e("td",null,[e("p",__e,i(M.porcentaje),1)]),e("td",v_e,[e("div",$_e,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:se=>d.editSistema(M)},w_e,8,y_e),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:se=>d.deleteSistemaSalud(M.id,M.nombre)},P_e,8,k_e)])])]))),128))])])])])])]):m("",!0),t.isVisibleAFPs?C(t.$slots,"default",{key:1},()=>[e("div",E_e,[e("div",T_e,[D_e,e("div",B_e,[e("a",{class:"btn btn-continue",onClick:s[9]||(s[9]=M=>t.showCreateAFP=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[10]||(s[10]=M=>d.recargarTabla("AFP"))},M_e)])])]),e("div",S_e,[f(e("div",R_e,null,512),[[H,t.mostrarCarga4]]),e("div",A_e,[e("div",F_e,[e("table",z_e,[U_e,e("tbody",null,[(l(!0),r(P,null,E(t.afps,M=>(l(),r("tr",{key:M.id},[V_e,e("td",null,[e("p",L_e,i(M.id),1)]),e("td",null,[e("p",j_e,i(M.nombre),1)]),e("td",N_e,[e("div",H_e,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:se=>d.editAfp(M)},q_e,8,I_e),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:se=>d.deleteAFP(M.id,M.nombre)},J_e,8,K_e)])])]))),128))])])])])])]):m("",!0),t.isVisibleEstadosCiviles?C(t.$slots,"default",{key:2},()=>[e("div",Z_e,[e("div",W_e,[Y_e,e("div",Q_e,[e("a",{class:"btn btn-continue",onClick:s[11]||(s[11]=M=>t.showCreateEstadoCivil=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[12]||(s[12]=M=>d.recargarTabla("Estados Civiles"))},tve)])])]),e("div",sve,[f(e("div",ove,null,512),[[H,t.mostrarCarga5]]),e("div",ave,[e("div",lve,[e("table",ive,[rve,e("tbody",null,[(l(!0),r(P,null,E(t.estadosCiviles,M=>(l(),r("tr",{key:M.id},[nve,e("td",null,[e("p",dve,i(M.id),1)]),e("td",null,[e("p",cve,i(M.nombre),1)]),e("td",uve,[e("div",hve,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:se=>d.editEstado(M)},fve,8,mve),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:se=>d.deleteEstadoCivil(M.id,M.nombre)},_ve,8,bve)])])]))),128))])])])])])]):m("",!0),t.isVisibleTipoUsuarios?C(t.$slots,"default",{key:3},()=>[e("div",vve,[e("div",$ve,[yve,e("div",Cve,[e("a",{class:"btn btn-continue",onClick:s[13]||(s[13]=M=>t.showCreateTipoUsuario=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[14]||(s[14]=M=>d.recargarTabla("Tipos de Usuario"))},kve)])])]),e("div",xve,[f(e("div",Pve,null,512),[[H,t.mostrarCarga7]]),e("div",Eve,[e("div",Tve,[e("table",Dve,[Bve,e("tbody",null,[(l(!0),r(P,null,E(t.tiposUsuarios,M=>(l(),r("tr",{key:M.id},[Ove,e("td",null,[e("p",Mve,i(M.id),1)]),e("td",null,[e("p",Sve,i(M.nombre),1)]),e("td",Rve,[e("div",Ave,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:se=>d.editTipoUsuario(M)},Uve,8,Fve),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:se=>d.deleteTipoUsuario(M.id,M.nombre)},jve,8,Vve)])])]))),128))])])])])])]):m("",!0),t.isVisibleGrupos?C(t.$slots,"default",{key:4},()=>[e("div",Nve,[e("div",Hve,[Ive,e("div",Gve,[e("a",{class:"btn btn-continue",onClick:s[15]||(s[15]=M=>t.showCreateGrupo=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[16]||(s[16]=M=>d.recargarTabla("Grupos"))},Kve)])])]),e("div",Xve,[f(e("div",Jve,null,512),[[H,t.mostrarCarga7]]),e("div",Zve,[e("div",Wve,[e("table",Yve,[Qve,e("tbody",null,[(l(!0),r(P,null,E(t.grupos,M=>(l(),r("tr",{key:M.id},[e$e,e("td",null,[e("p",t$e,i(M.id),1)]),e("td",null,[e("p",s$e,i(M.nombre),1)]),e("td",o$e,[e("div",a$e,[e("a",{class:"btn btn-alert btn-xs",onClick:se=>d.editGrupo(M)},r$e,8,l$e),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:se=>d.deleteGrupo(M.id,M.nombre)},c$e,8,n$e)])])]))),128))])])])])])]):m("",!0),t.isVisibleGrupoLideres?C(t.$slots,"default",{key:5},()=>[e("div",u$e,[e("div",h$e,[m$e,e("div",p$e,[e("a",{class:"btn btn-continue",onClick:s[17]||(s[17]=M=>t.showCreateGrupoLider=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[18]||(s[18]=M=>d.recargarTabla("Grupo Lideres"))},b$e)])])]),e("div",g$e,[f(e("div",_$e,null,512),[[H,t.mostrarCarga8]]),e("div",v$e,[e("div",$$e,[e("table",y$e,[C$e,e("tbody",null,[(l(!0),r(P,null,E(t.grupoLideres,M=>(l(),r("tr",{key:M.id},[w$e,e("td",null,[e("p",k$e,i(M.id),1)]),e("td",null,[e("p",x$e,i(M.usuario.name),1)]),e("td",null,[e("p",P$e,i(M.grupo.nombre),1)]),e("td",E$e,[e("div",T$e,[e("a",{class:"btn btn-alert btn-xs",onClick:se=>d.editGrupoLider(M)},O$e,8,D$e),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:se=>d.deleteGrupoLider(M.id,M.usuario.name,M.grupo.nombre)},R$e,8,M$e)])])]))),128))])])])])])]):m("",!0),t.isVisibleGrupoMiembros?C(t.$slots,"default",{key:6},()=>[e("div",A$e,[e("div",F$e,[z$e,e("div",U$e,[e("a",{class:"btn btn-continue",onClick:s[19]||(s[19]=M=>t.showCreateGrupoMiembro=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[20]||(s[20]=M=>d.recargarTabla("Grupo Miembros"))},L$e)])])]),e("div",j$e,[f(e("div",N$e,null,512),[[H,t.mostrarCarga9]]),e("div",H$e,[e("div",I$e,[e("table",G$e,[q$e,e("tbody",null,[(l(!0),r(P,null,E(t.grupoMiembros,M=>(l(),r("tr",{key:M.id},[K$e,e("td",null,[e("p",X$e,i(M.id),1)]),e("td",null,[e("p",J$e,i(M.usuario.name),1)]),e("td",null,[e("p",Z$e,i(M.grupo.nombre),1)]),e("td",W$e,[e("div",Y$e,[e("a",{class:"btn btn-alert btn-xs",onClick:se=>d.editGrupoMiembro(M)},t0e,8,Q$e),p("   "),e("a",{class:"btn btn-closed btn-xs",onClick:se=>d.deleteGrupoMiembro(M.id,M.usuario.name,M.grupo.nombre)},a0e,8,s0e)])])]))),128))])])])])])]):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showEditSistemaSalud?(l(),T(o,{key:0,sistema1:t.sistemaEdit,onClose:s[21]||(s[21]=M=>t.showEditSistemaSalud=!1),onRecarga:s[22]||(s[22]=M=>d.recargarTabla("Sistemas de Salud"))},null,8,["sistema1"])):m("",!0),t.showEditAFP?(l(),T(h,{key:1,afp1:t.afpEdit,onClose:s[23]||(s[23]=M=>t.showEditAFP=!1),onRecarga:s[24]||(s[24]=M=>d.recargarTabla("Afp"))},null,8,["afp1"])):m("",!0),t.showEditEstadoCivil?(l(),T(b,{key:2,estado1:t.estadoEdit,onClose:s[25]||(s[25]=M=>t.showEditEstadoCivil=!1),onRecarga:s[26]||(s[26]=M=>d.recargarTabla("Estados Civiles"))},null,8,["estado1"])):m("",!0),t.showCreateSistemaSalud?(l(),T(v,{key:3,onClose:s[27]||(s[27]=M=>t.showCreateSistemaSalud=!1),onRecarga:s[28]||(s[28]=M=>d.recargarTabla("Sistemas de Salud"))})):m("",!0),t.showCreateAFP?(l(),T(z,{key:4,onClose:s[29]||(s[29]=M=>t.showCreateAFP=!1),onRecarga:s[30]||(s[30]=M=>d.recargarTabla("Afp"))})):m("",!0),t.showCreateEstadoCivil?(l(),T(S,{key:5,onClose:s[31]||(s[31]=M=>t.showCreateEstadoCivil=!1),onRecarga:s[32]||(s[32]=M=>d.recargarTabla("Estados Civiles"))})):m("",!0),t.showCreateGrupo?(l(),T(F,{key:6,onClose:s[33]||(s[33]=M=>t.showCreateGrupo=!1),onRecarga:s[34]||(s[34]=M=>d.recargarTabla("Grupos"))})):m("",!0),t.showEditGrupo?(l(),T(R,{key:7,grupo:t.grupoEdit,onClose:s[35]||(s[35]=M=>t.showEditGrupo=!1),onRecarga:s[36]||(s[36]=M=>d.recargarTabla("Grupos"))},null,8,["grupo"])):m("",!0),t.showCreateGrupoLider?(l(),T(J,{key:8,onClose:s[37]||(s[37]=M=>t.showCreateGrupoLider=!1),onRecarga:s[38]||(s[38]=M=>d.recargarTabla("Grupo Lideres"))})):m("",!0),t.showEditGrupoLider?(l(),T(X,{key:9,grupoLider:t.grupoLiderEdit,onClose:s[39]||(s[39]=M=>t.showEditGrupoLider=!1),onRecarga:s[40]||(s[40]=M=>d.recargarTabla("Grupo Lideres"))},null,8,["grupoLider"])):m("",!0),t.showCreateGrupoMiembro?(l(),T(B,{key:10,onClose:s[41]||(s[41]=M=>t.showCreateGrupoMiembro=!1),onRecarga:s[42]||(s[42]=M=>d.recargarTabla("Grupo Miembros"))})):m("",!0),t.showEditGrupoMiembro?(l(),T(w,{key:11,grupoMiembro:t.grupoMiembroEdit,onClose:s[43]||(s[43]=M=>t.showEditGrupoMiembro=!1),onRecarga:s[44]||(s[44]=M=>d.recargarTabla("Grupo Miembros"))},null,8,["grupoMiembro"])):m("",!0),t.showCreateTipoUsuario?(l(),T(Y,{key:12,onClose:s[45]||(s[45]=M=>t.showCreateTipoUsuario=!1),onRecarga:s[46]||(s[46]=M=>d.recargarTabla("Tipos de usuario"))})):m("",!0),t.showEditTipoUsuario?(l(),T(ce,{key:13,tipoUsuario:t.tipoUsuarioEdit,onClose:s[47]||(s[47]=M=>t.showEditTipoUsuario=!1),onRecarga:s[48]||(s[48]=M=>d.recargarTabla("Tipos de usuario"))},null,8,["tipoUsuario"])):m("",!0)])])}const i0e=U(Hge,[["render",l0e]]),r0e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({isVisibleTEMA:null,isVisibleComisiones:!1,comisiones:null,showEditComisiones:!1,comisionesEdit:null,showCreateComisiones:!1,tableComisiones:null,mostrarCarga4:!0,mostrarTabla4:!1}),created(){},methods:{recargarTabla(t){t=="Comisiones"&&(this.comisiones=null,this.mostrarCarga4=!0,this.getComisiones())},crearTablas(t){t=="Comisiones"&&setTimeout(function(){this.tableComisiones=$("#MyTableComisiones").DataTable({info:!1,select:!1,bLengthChange:!1}),this.tableComisiones.buttons().remove(),this.mostrarCarga4=!1,this.mostrarTabla4=!0}.bind(this),200)},botonCheck(t){t=="Comisiones"&&(this.comisiones=null,this.mostrarCarga4=!0,this.getComisiones(),this.isVisibleComisiones=!0)},getComisiones(){_.get("../api/comisiones").then(t=>{this.mostrarCarga4=!0,this.comisiones=t.data,this.tableComisiones!=null&&(this.tableComisiones.clear(),this.tableComisiones.destroy()),this.crearTablas("Comisiones")}).catch(t=>console.log(t))},async deleteComision(t,s){await this.$refs.confirmation.show({title:"Borrar Comisión",message:`¿Está seguro/a que desea eliminar la Comisión '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`../api/comisiones/${t}`).then(c=>{this.toast.success("Comisión eliminada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("Comisiones")}).catch(c=>console.log(c))},editDepto(t){this.comisionEdit=t,this.showEditDepartamento=!0}}},n0e={class:"row mt-4 mx-4"},d0e={class:"col-12"},c0e=e("div",{class:"card mb-4",style:{"flex-direction":"inherit"}},[e("div",{class:"btn-group-vertical",role:"group",style:{"min-height":"450px",width:"max-content"}})],-1);function u0e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),r("div",n0e,[e("div",d0e,[c0e,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])}const h0e=U(r0e,[["render",u0e]]),m0e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({colaborador:{identificador:"",nombre1:"",nombre2:"",apellido1:"",apellido2:"",nacionalidad:"",fechaNac:"",pais:"",region:"",comuna:"",sector:"",direccion:"",emailPersonal:"",emailEmpresa:"",telefonoEmpresa:"",telefonoPersonal:"",estadoCivil:"",departamento:"",area:"",cargo:"",sistemaSalud:"",afpAsociada:""},buttonText:"Guardar Colaborador",buttonDisable:!1,name:"",email:"",password:"",confirmpassword:"",fofiAsignado:0,errors:[],roles:null,selected:[],asignarFofi:!1,fotoMiniatura:"",fotoComprimida:null,nacionalidades:[],paises:[],regiones:[],regionesSelect:[],comunas:[],comunasSelect:[],departamentos:[],estadosCiviles:[],areas:[],areasSelect:[],sistemaSalud:[],afps:[]}),created(){this.getNacionalidades(),this.getPaises(),this.getRegiones(),this.getComunas(),this.getEstadosC(),this.getDepartamentos(),this.getAreas(),this.getSistemasSalud(),this.getAfps()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},getAreasSelect(t){this.areasSelect=[],this.areas.forEach(s=>{s.idDepartamento==t&&this.areasSelect.push(s)})},getNacionalidades(){_.get("api/nacionalidades").then(t=>{this.nacionalidades=t.data}).catch(t=>console.log(t))},getPaises(){_.get("api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("api/regiones").then(t=>{this.regiones=t.data}).catch(t=>console.log(t))},getComunas(){_.get("api/comunas").then(t=>{this.comunas=t.data}).catch(t=>console.log(t))},getDepartamentos(){_.get("api/departamentos").then(t=>{this.departamentos=t.data}).catch(t=>console.log(t))},getAreas(){_.get("api/areas").then(t=>{this.areas=t.data}).catch(t=>console.log(t))},getEstadosC(){_.get("api/estadosCiviles").then(t=>{this.estadosCiviles=t.data}).catch(t=>console.log(t))},getSistemasSalud(){_.get("api/sistemasSalud").then(t=>{this.sistemasSalud=t.data}).catch(t=>console.log(t))},getAfps(){_.get("api/afp").then(t=>{this.afps=t.data}).catch(t=>console.log(t))},async crearColaborador(){this.errors=[];for(const s in this.colaborador)(this.colaborador[s]===""||this.colaborador[s]===0)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Colaborador",message:`¿Está seguro/a que desea crear al colaborador '${this.colaborador.nombre}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let a={identificador:this.colaborador.identificador,nombre1:this.colaborador.nombre1,nombre2:this.colaborador.nombre2,apellido1:this.colaborador.apellido1,apellido2:this.colaborador.apellido2,nacionalidad:this.colaborador.nacionalidad,fechaNac:this.colaborador.fechaNac,pais:this.colaborador.pais,region:this.colaborador.region,comuna:this.colaborador.comuna,sector:this.colaborador.sector,direccion:this.colaborador.direccion,correoPersonal:this.colaborador.emailPersonal,correoEmpresa:this.colaborador.emailEmpresa,telefonoPersonal:this.colaborador.telefonoPersonal,telefonoEmpresa:this.colaborador.telefonoEmpresa,estadoCivil:this.colaborador.estadoCivil,departamento:this.colaborador.departamento,area:this.colaborador.area,cargo:this.colaborador.cargo,sistemaSalud:this.colaborador.sistemaSalud,afpAsociada:this.colaborador.afpAsociada};_.post("api/colaboradores",a).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Colaborador guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors)})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.colaborador.foto=t.target.files[0];let s=[];await this.compressImages(this.colaborador.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.colaborador.foto=a,this.chargeImage(this.colaborador.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},p0e={name:"modal"},f0e={class:"modal-mask"},b0e={class:"modal-wrapper"},g0e={class:"modal-container-s"},_0e={class:"modal-header fw-bold",style:{color:"#444444"}},v0e={class:"modal-body"},$0e={class:"row"},y0e={class:"col-3"},C0e={class:"form-group"},w0e=e("label",{for:"nombre1"},"Nombre: ",-1),k0e=e("br",null,null,-1),x0e={class:"col-3"},P0e={class:"form-group"},E0e=e("label",{for:"nombre2"},"Segundo nombre: ",-1),T0e=e("br",null,null,-1),D0e={class:"col-3"},B0e={class:"form-group"},O0e=e("label",{for:"apellido1"},"Apellido: ",-1),M0e=e("br",null,null,-1),S0e={class:"col-3"},R0e={class:"form-group"},A0e=e("label",{for:"apellido2"},"Segundo Apellido: ",-1),F0e=e("br",null,null,-1),z0e={class:"row"},U0e={class:"col-4"},V0e={class:"form-group"},L0e=e("label",{for:"identificador"},"Identificador: ",-1),j0e=e("br",null,null,-1),N0e={class:"col-4"},H0e={class:"form-group"},I0e=e("label",{for:"fechaNac"},"Fecha Nacimiento: ",-1),G0e=e("br",null,null,-1),q0e=e("br",null,null,-1),K0e={class:"col-4"},X0e={class:"form-group"},J0e=e("label",{for:"nacionalidad"},"Nacionalidad:",-1),Z0e=e("br",null,null,-1),W0e=e("option",{disabled:"",value:""},"Seleccione una nacionalidad",-1),Y0e=["value"],Q0e={class:"row"},e2e={class:"col-6"},t2e={class:"form-group"},s2e=e("label",{for:"direccion"},"Dirección: ",-1),o2e=e("br",null,null,-1),a2e=e("br",null,null,-1),l2e={class:"col-6"},i2e={class:"form-group"},r2e=e("label",{for:"sector"},"Sector: ",-1),n2e=e("br",null,null,-1),d2e=e("br",null,null,-1),c2e={class:"row"},u2e={class:"col-4"},h2e={class:"form-group"},m2e=e("label",{for:"pais"},"País: ",-1),p2e=e("br",null,null,-1),f2e=e("option",{disabled:"",value:""},"Seleccione un País",-1),b2e=["value"],g2e={class:"col-4"},_2e={class:"form-group"},v2e=e("label",{for:"region"},"Región: ",-1),$2e=e("br",null,null,-1),y2e=e("option",{disabled:"",value:""},"Seleccione una Región",-1),C2e=["value"],w2e=e("br",null,null,-1),k2e={class:"col-4"},x2e={class:"form-group"},P2e=e("label",{for:"comuna"},"Comuna: ",-1),E2e=e("br",null,null,-1),T2e=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),D2e=["value"],B2e=e("br",null,null,-1),O2e={class:"row"},M2e={class:"col-6"},S2e={class:"form-group"},R2e=e("label",{for:"emailP"},"Correo Electrónico Personal: ",-1),A2e=e("br",null,null,-1),F2e=e("br",null,null,-1),z2e={class:"col-6"},U2e={class:"form-group"},V2e=e("label",{for:"direccion"},"Correo Electrónico Empresa: ",-1),L2e=e("br",null,null,-1),j2e=e("br",null,null,-1),N2e={class:"row"},H2e={class:"col-4"},I2e={class:"form-group"},G2e=e("label",{for:"emailP"},"Teléfono Empresa: ",-1),q2e=e("br",null,null,-1),K2e=e("br",null,null,-1),X2e={class:"col-4"},J2e={class:"form-group"},Z2e=e("label",{for:"telefono"},"Teléfono Personal: ",-1),W2e=e("br",null,null,-1),Y2e=e("br",null,null,-1),Q2e={class:"col-4"},eye={class:"form-group"},tye=e("label",{for:"estadoC"},"Estado Civil: ",-1),sye=e("br",null,null,-1),oye=e("option",{disabled:"",value:""},"Seleccione un estado",-1),aye=["value"],lye=e("br",null,null,-1),iye={class:"row"},rye={class:"col-4"},nye={class:"form-group"},dye=e("label",{for:"departamento"},"Departamento: ",-1),cye=e("br",null,null,-1),uye=e("option",{disabled:"",value:""},"Seleccione un departamento",-1),hye=["value"],mye=e("br",null,null,-1),pye={class:"col-4"},fye={class:"form-group"},bye=e("label",{for:"area"},"Área: ",-1),gye=e("br",null,null,-1),_ye=e("option",{disabled:"",value:""},"Seleccione un Área",-1),vye=["value"],$ye=e("br",null,null,-1),yye={class:"col-4"},Cye={class:"form-group"},wye=e("label",{for:"cargo"},"Cargo: ",-1),kye=e("br",null,null,-1),xye=e("br",null,null,-1),Pye=e("div",{class:"row"},null,-1),Eye={class:"row"},Tye={class:"col-6"},Dye={class:"form-group"},Bye=e("label",{for:"sistemaSalud"},"Sistema de salud: ",-1),Oye=e("br",null,null,-1),Mye=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),Sye=["value"],Rye=e("br",null,null,-1),Aye={class:"col-6"},Fye={class:"form-group"},zye=e("label",{for:"afpAsociada"},"AFP asociada: ",-1),Uye=e("br",null,null,-1),Vye=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),Lye=["value"],jye=e("br",null,null,-1),Nye={class:"modal-footer"},Hye=["disabled"];function Iye(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",p0e,[e("div",f0e,[e("div",b0e,[e("div",g0e,[e("div",_0e,[C(t.$slots,"header",{},()=>[p(" Nuevo Colaborador ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",v0e,[C(t.$slots,"body",{},()=>[e("div",$0e,[e("div",y0e,[e("div",C0e,[w0e,k0e,f(e("input",{type:"nombre1",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.colaborador.nombre1=o)},null,512),[[k,t.colaborador.nombre1]])])]),e("div",x0e,[e("div",P0e,[E0e,T0e,f(e("input",{type:"nombre2",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.colaborador.nombre2=o)},null,512),[[k,t.colaborador.nombre2]])])]),e("div",D0e,[e("div",B0e,[O0e,M0e,f(e("input",{type:"apellido1",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.colaborador.apellido1=o)},null,512),[[k,t.colaborador.apellido1]])])]),e("div",S0e,[e("div",R0e,[A0e,F0e,f(e("input",{type:"apellido2",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.colaborador.apellido2=o)},null,512),[[k,t.colaborador.apellido2]])])])]),e("div",z0e,[e("div",U0e,[e("div",V0e,[L0e,j0e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.colaborador.identificador=o)},null,512),[[k,t.colaborador.identificador]])])]),e("div",N0e,[e("div",H0e,[I0e,G0e,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.colaborador.fechaNac=o)},null,512),[[k,t.colaborador.fechaNac]]),q0e])]),e("div",K0e,[e("div",X0e,[J0e,Z0e,f(e("select",{class:"form-select","onUpdate:modelValue":s[7]||(s[7]=o=>t.colaborador.nacionalidad=o)},[W0e,(l(!0),r(P,null,E(t.nacionalidades,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nacionalidad),9,Y0e))),128))],512),[[A,t.colaborador.nacionalidad]])])])]),e("div",Q0e,[e("div",e2e,[e("div",t2e,[s2e,o2e,f(e("input",{type:"direccion",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=o=>t.colaborador.direccion=o)},null,512),[[k,t.colaborador.direccion]]),a2e])]),e("div",l2e,[e("div",i2e,[r2e,n2e,f(e("input",{type:"sector",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=o=>t.colaborador.sector=o)},null,512),[[k,t.colaborador.sector]]),d2e])])]),e("div",c2e,[e("div",u2e,[e("div",h2e,[m2e,p2e,f(e("select",{class:"form-select",onChange:s[10]||(s[10]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[11]||(s[11]=o=>t.colaborador.pais=o)},[f2e,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,b2e))),128))],544),[[A,t.colaborador.pais]])])]),e("div",g2e,[e("div",_2e,[v2e,$2e,f(e("select",{class:"form-select",onChange:s[12]||(s[12]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[13]||(s[13]=o=>t.colaborador.region=o)},[y2e,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,C2e))),128))],544),[[A,t.colaborador.region]]),w2e])]),e("div",k2e,[e("div",x2e,[P2e,E2e,f(e("select",{class:"form-select","onUpdate:modelValue":s[14]||(s[14]=o=>t.colaborador.comuna=o)},[T2e,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,D2e))),128))],512),[[A,t.colaborador.comuna]]),B2e])])]),e("div",O2e,[e("div",M2e,[e("div",S2e,[R2e,A2e,f(e("input",{type:"emailP",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=o=>t.colaborador.emailPersonal=o)},null,512),[[k,t.colaborador.emailPersonal]]),F2e])]),e("div",z2e,[e("div",U2e,[V2e,L2e,f(e("input",{type:"direccion",class:"form-control","onUpdate:modelValue":s[16]||(s[16]=o=>t.colaborador.emailEmpresa=o)},null,512),[[k,t.colaborador.emailEmpresa]]),j2e])])]),e("div",N2e,[e("div",H2e,[e("div",I2e,[G2e,q2e,f(e("input",{type:"emailP",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=o=>t.colaborador.telefonoEmpresa=o)},null,512),[[k,t.colaborador.telefonoEmpresa]]),K2e])]),e("div",X2e,[e("div",J2e,[Z2e,W2e,f(e("input",{type:"telefono",class:"form-control","onUpdate:modelValue":s[18]||(s[18]=o=>t.colaborador.telefonoPersonal=o)},null,512),[[k,t.colaborador.telefonoPersonal]]),Y2e])]),e("div",Q2e,[e("div",eye,[tye,sye,f(e("select",{class:"form-select","onUpdate:modelValue":s[19]||(s[19]=o=>t.colaborador.estadoCivil=o)},[oye,(l(!0),r(P,null,E(t.estadosCiviles,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,aye))),128))],512),[[A,t.colaborador.estadoCivil]]),lye])])]),e("div",iye,[e("div",rye,[e("div",nye,[dye,cye,f(e("select",{class:"form-select",onChange:s[20]||(s[20]=o=>d.getAreasSelect(o.target.value)),"onUpdate:modelValue":s[21]||(s[21]=o=>t.colaborador.departamento=o)},[uye,(l(!0),r(P,null,E(t.departamentos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.departamento),9,hye))),128))],544),[[A,t.colaborador.departamento]]),mye])]),e("div",pye,[e("div",fye,[bye,gye,f(e("select",{class:"form-select","onUpdate:modelValue":s[22]||(s[22]=o=>t.colaborador.area=o)},[_ye,(l(!0),r(P,null,E(t.areasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.area),9,vye))),128))],512),[[A,t.colaborador.area]]),$ye])]),e("div",yye,[e("div",Cye,[wye,kye,f(e("input",{type:"cargo",class:"form-control","onUpdate:modelValue":s[23]||(s[23]=o=>t.colaborador.cargo=o)},null,512),[[k,t.colaborador.cargo]]),xye])])]),Pye,e("div",Eye,[e("div",Tye,[e("div",Dye,[Bye,Oye,f(e("select",{class:"form-select","onUpdate:modelValue":s[24]||(s[24]=o=>t.colaborador.sistemaSalud=o)},[Mye,(l(!0),r(P,null,E(t.sistemasSalud,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,Sye))),128))],512),[[A,t.colaborador.sistemaSalud]]),Rye])]),e("div",Aye,[e("div",Fye,[zye,Uye,f(e("select",{class:"form-select","onUpdate:modelValue":s[25]||(s[25]=o=>t.colaborador.afpAsociada=o)},[Vye,(l(!0),r(P,null,E(t.afps,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,Lye))),128))],512),[[A,t.colaborador.afpAsociada]]),jye])])])])]),e("div",Nye,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[26]||(s[26]=o=>d.crearColaborador()),disabled:t.buttonDisable},i(t.buttonText),9,Hye)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Gye=U(m0e,[["render",Iye]]),qye={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({colaborador:{identificador:"",nombre1:"",nombre2:"",apellido1:"",apellido2:"",fechaNac:"",direccion:"",nacionalidad:"",sector:"",ciudad:"",pais:"",region:"",comuna:"",emailPersonal:"",emailEmpresa:"",telefonoEmpresa:"",telefonoPersonal:"",estadoCivil:"",departamento:"",area:"",cargo:"",sistemaSalud:"",afpAsociada:""},id:null,buttonText:"Editar Colaborador",buttonDisable:!1,errors:[],fotoMiniatura:"",fotoComprimida:null,nacionalidades:[],paises:[],regiones:[],regionesSelect:[],comunas:[],comunasSelect:[],departamentos:[],estadosCiviles:[],areas:[],areasSelect:[],sistemaSalud:[],afps:[]}),props:{colaborador1:Object},created(){this.getNacionalidades(),this.getPaises(),this.getRegiones(),this.getComunas(),this.getEstadosC(),this.getDepartamentos(),this.getAreas(),this.getSistemasSalud(),this.getAfps(),this.id=this.colaborador1.id,this.colaborador.identificador=this.colaborador1.identificador,this.colaborador.nombre1=this.colaborador1.nombre1,this.colaborador.nombre2=this.colaborador1.nombre2,this.colaborador.apellido1=this.colaborador1.apellido1,this.colaborador.apellido2=this.colaborador1.apellido2,this.colaborador.fechaNac=this.colaborador1.fechaNac,this.colaborador.nacionalidad=this.colaborador1.nacionalidad.id,this.colaborador.direccion=this.colaborador1.direccion,this.colaborador.sector=this.colaborador1.sector,this.colaborador.ciudad=this.colaborador1.ciudad,this.colaborador.pais=this.colaborador1.pais.id,this.colaborador.region=this.colaborador1.region.id,this.colaborador.comuna=this.colaborador1.comuna.id,this.colaborador.emailPersonal=this.colaborador1.correoPersonal,this.colaborador.emailEmpresa=this.colaborador1.correoEmpresa,this.colaborador.telefonoEmpresa=this.colaborador1.telefonoEmpresa,this.colaborador.telefonoPersonal=this.colaborador1.telefonoPersonal,this.colaborador.estadoCivil=this.colaborador1.estado_civil.id,this.colaborador.departamento=this.colaborador1.departamento.id,this.colaborador.area=this.colaborador1.area.id,this.colaborador.cargo=this.colaborador1.cargo,this.colaborador.sistemaSalud=this.colaborador1.sistema_salud.id,this.colaborador.afpAsociada=this.colaborador1.afp_asociada.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRegionesSelect(t){this.regionesSelect=[],this.regiones.forEach(s=>{s.idPais==t&&this.regionesSelect.push(s)})},getComunasSelect(t){this.comunasSelect=[],this.comunas.forEach(s=>{s.idRegion==t&&this.comunasSelect.push(s)})},getAreasSelect(t){this.areasSelect=[],this.areas.forEach(s=>{s.idDepartamento==t&&this.areasSelect.push(s)})},getNacionalidades(){_.get("api/nacionalidades").then(t=>{this.nacionalidades=t.data}).catch(t=>console.log(t))},getPaises(){_.get("api/paises").then(t=>{this.paises=t.data}).catch(t=>console.log(t))},getRegiones(){_.get("api/regiones").then(t=>{this.regiones=t.data,this.getRegionesSelect(this.colaborador.pais)}).catch(t=>console.log(t))},getComunas(){_.get("api/comunas").then(t=>{this.comunas=t.data,this.getComunasSelect(this.colaborador.region)}).catch(t=>console.log(t))},getDepartamentos(){_.get("api/departamentos").then(t=>{this.departamentos=t.data}).catch(t=>console.log(t))},getAreas(){_.get("api/areas").then(t=>{this.areas=t.data,this.getAreasSelect(this.colaborador.departamento)}).catch(t=>console.log(t))},getEstadosC(){_.get("api/estadosCiviles").then(t=>{this.estadosCiviles=t.data}).catch(t=>console.log(t))},getSistemasSalud(){_.get("api/sistemasSalud").then(t=>{this.sistemasSalud=t.data}).catch(t=>console.log(t))},getAfps(){_.get("api/afp").then(t=>{this.afps=t.data}).catch(t=>console.log(t))},async editarColaborador(){this.errors=[];for(const a in this.colaborador)(this.colaborador[a]===""||this.colaborador[a]===0)&&this.errors.push(a);var t="";if(this.errors.length!=0&&(this.errors.forEach(a=>{t=t+"El campo "+a+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Editar Colaborador",message:`¿Está seguro/a que desea editar al colaborador '${this.colaborador.nombre1+" "+this.colaborador.apellido1}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let c={nombre1:this.colaborador.nombre1,nombre2:this.colaborador.nombre2,apellido1:this.colaborador.apellido1,apellido2:this.colaborador.apellido2,identificador:this.colaborador.identificador,fechaNac:this.colaborador.fechaNac,nacionalidad:this.colaborador.nacionalidad,direccion:this.colaborador.direccion,sector:this.colaborador.sector,pais:this.colaborador.pais,region:this.colaborador.region,comuna:this.colaborador.comuna,correoPersonal:this.colaborador.emailPersonal,correoEmpresa:this.colaborador.emailEmpresa,telefonoPersonal:this.colaborador.telefonoPersonal,telefonoEmpresa:this.colaborador.telefonoEmpresa,estadoCivil:this.colaborador.estadoCivil,departamento:this.colaborador.departamento,area:this.colaborador.area,cargo:this.colaborador.cargo,sistemaSalud:this.colaborador.sistemaSalud,afpAsociada:this.colaborador.afpAsociada};var s=this.id;_.put(`api/colaboradores/${s}`,c).then(n=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Colaborador editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.colaborador.foto=t.target.files[0];let s=[];await this.compressImages(this.colaborador.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.colaborador.foto=a,this.chargeImage(this.colaborador.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},Kye={name:"modal"},Xye={class:"modal-mask"},Jye={class:"modal-wrapper"},Zye={class:"modal-container-s"},Wye={class:"modal-header fw-bold",style:{color:"#444444"}},Yye={class:"modal-body"},Qye={class:"row"},eCe={class:"col-3"},tCe={class:"form-group"},sCe=e("label",{for:"nombre1"},"Nombre: ",-1),oCe=e("br",null,null,-1),aCe={class:"col-3"},lCe={class:"form-group"},iCe=e("label",{for:"nombre2"},"Segundo nombre: ",-1),rCe=e("br",null,null,-1),nCe={class:"col-3"},dCe={class:"form-group"},cCe=e("label",{for:"apellido1"},"Apellido: ",-1),uCe=e("br",null,null,-1),hCe={class:"col-3"},mCe={class:"form-group"},pCe=e("label",{for:"apellido2"},"Segundo Apellido: ",-1),fCe=e("br",null,null,-1),bCe={class:"row"},gCe={class:"col-4"},_Ce={class:"form-group"},vCe=e("label",{for:"identificador"},"Identificador: ",-1),$Ce=e("br",null,null,-1),yCe={class:"col-4"},CCe={class:"form-group"},wCe=e("label",{for:"fechaNac"},"Fecha Nacimiento: ",-1),kCe=e("br",null,null,-1),xCe=e("br",null,null,-1),PCe={class:"col-4"},ECe={class:"form-group"},TCe=e("label",{for:"nacionalidad"},"Nacionalidad: ",-1),DCe=e("br",null,null,-1),BCe=e("option",{disabled:"",value:""},"Seleccione una nacionalidad",-1),OCe=["value"],MCe={class:"row"},SCe={class:"col-6"},RCe={class:"form-group"},ACe=e("label",{for:"direccion"},"Dirección: ",-1),FCe=e("br",null,null,-1),zCe=e("br",null,null,-1),UCe={class:"col-6"},VCe={class:"form-group"},LCe=e("label",{for:"sector"},"Sector: ",-1),jCe=e("br",null,null,-1),NCe=e("br",null,null,-1),HCe={class:"row"},ICe={class:"col-4"},GCe={class:"form-group"},qCe=e("label",{for:"pais"},"País: ",-1),KCe=e("br",null,null,-1),XCe=e("option",{disabled:"",value:""},"Seleccione un país",-1),JCe=["value"],ZCe={class:"col-4"},WCe={class:"form-group"},YCe=e("label",{for:"region"},"Región: ",-1),QCe=e("br",null,null,-1),ewe=e("option",{disabled:"",value:""},"Seleccione una Región",-1),twe=["value"],swe=e("br",null,null,-1),owe={class:"col-4"},awe={class:"form-group"},lwe=e("label",{for:"comuna"},"Comuna: ",-1),iwe=e("br",null,null,-1),rwe=e("option",{disabled:"",value:""},"Seleccione una comuna",-1),nwe=["value"],dwe=e("br",null,null,-1),cwe={class:"row"},uwe={class:"col-6"},hwe={class:"form-group"},mwe=e("label",{for:"emailP"},"Correo Personal: ",-1),pwe=e("br",null,null,-1),fwe=e("br",null,null,-1),bwe={class:"col-6"},gwe={class:"form-group"},_we=e("label",{for:"direccion"},"Correo Empresa: ",-1),vwe=e("br",null,null,-1),$we=e("br",null,null,-1),ywe={class:"row"},Cwe={class:"col-4"},wwe={class:"form-group"},kwe=e("label",{for:"emailP"},"Teléfono Empresa: ",-1),xwe=e("br",null,null,-1),Pwe=e("br",null,null,-1),Ewe={class:"col-4"},Twe={class:"form-group"},Dwe=e("label",{for:"telefono"},"Teléfono Personal: ",-1),Bwe=e("br",null,null,-1),Owe=e("br",null,null,-1),Mwe={class:"col-4"},Swe={class:"form-group"},Rwe=e("label",{for:"estadoC"},"Estado Civil: ",-1),Awe=e("br",null,null,-1),Fwe=e("option",{disabled:"",value:""},"Seleccione un estado",-1),zwe=["value"],Uwe=e("br",null,null,-1),Vwe={class:"row"},Lwe={class:"col-4"},jwe={class:"form-group"},Nwe=e("label",{for:"departamento"},"Departamento: ",-1),Hwe=e("br",null,null,-1),Iwe=e("option",{disabled:"",value:""},"Seleccione un departamento",-1),Gwe=["value"],qwe=e("br",null,null,-1),Kwe={class:"col-4"},Xwe={class:"form-group"},Jwe=e("label",{for:"area"},"Área: ",-1),Zwe=e("br",null,null,-1),Wwe=e("option",{disabled:"",value:""},"Seleccione un Área",-1),Ywe=["value"],Qwe=e("br",null,null,-1),eke={class:"col-4"},tke={class:"form-group"},ske=e("label",{for:"cargo"},"Cargo: ",-1),oke=e("br",null,null,-1),ake=e("br",null,null,-1),lke=e("div",{class:"row"},null,-1),ike={class:"row"},rke={class:"col-6"},nke={class:"form-group"},dke=e("label",{for:"sistemaSalud"},"Sistema de Salud: ",-1),cke=e("br",null,null,-1),uke=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),hke=["value"],mke=e("br",null,null,-1),pke={class:"col-6"},fke={class:"form-group"},bke=e("label",{for:"afpAsociada"},"AFP asociada: ",-1),gke=e("br",null,null,-1),_ke=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),vke=["value"],$ke=e("br",null,null,-1),yke={class:"modal-footer"},Cke=["disabled"];function wke(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Kye,[e("div",Xye,[e("div",Jye,[e("div",Zye,[e("div",Wye,[C(t.$slots,"header",{},()=>[p(" Editar Colaborador ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Yye,[C(t.$slots,"body",{},()=>[e("div",Qye,[e("div",eCe,[e("div",tCe,[sCe,oCe,f(e("input",{type:"nombre1",class:"form-control-small","onUpdate:modelValue":s[1]||(s[1]=o=>t.colaborador.nombre1=o)},null,512),[[k,t.colaborador.nombre1]])])]),e("div",aCe,[e("div",lCe,[iCe,rCe,f(e("input",{type:"nombre2",class:"form-control-small","onUpdate:modelValue":s[2]||(s[2]=o=>t.colaborador.nombre2=o)},null,512),[[k,t.colaborador.nombre2]])])]),e("div",nCe,[e("div",dCe,[cCe,uCe,f(e("input",{type:"apellido1",class:"form-control-small","onUpdate:modelValue":s[3]||(s[3]=o=>t.colaborador.apellido1=o)},null,512),[[k,t.colaborador.apellido1]])])]),e("div",hCe,[e("div",mCe,[pCe,fCe,f(e("input",{type:"apellido2",class:"form-control-small","onUpdate:modelValue":s[4]||(s[4]=o=>t.colaborador.apellido2=o)},null,512),[[k,t.colaborador.apellido2]])])])]),e("div",bCe,[e("div",gCe,[e("div",_Ce,[vCe,$Ce,f(e("input",{type:"text",class:"form-control-small","onUpdate:modelValue":s[5]||(s[5]=o=>t.colaborador.identificador=o)},null,512),[[k,t.colaborador.identificador]])])]),e("div",yCe,[e("div",CCe,[wCe,kCe,f(e("input",{type:"date",class:"form-control-small","onUpdate:modelValue":s[6]||(s[6]=o=>t.colaborador.fechaNac=o)},null,512),[[k,t.colaborador.fechaNac]]),xCe])]),e("div",PCe,[e("div",ECe,[TCe,DCe,f(e("select",{class:"form-select","onUpdate:modelValue":s[7]||(s[7]=o=>t.colaborador.nacionalidad=o)},[BCe,(l(!0),r(P,null,E(t.nacionalidades,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nacionalidad),9,OCe))),128))],512),[[A,t.colaborador.nacionalidad]])])])]),e("div",MCe,[e("div",SCe,[e("div",RCe,[ACe,FCe,f(e("input",{type:"direccion",class:"form-control-small","onUpdate:modelValue":s[8]||(s[8]=o=>t.colaborador.direccion=o)},null,512),[[k,t.colaborador.direccion]]),zCe])]),e("div",UCe,[e("div",VCe,[LCe,jCe,f(e("input",{type:"sector",class:"form-control-small","onUpdate:modelValue":s[9]||(s[9]=o=>t.colaborador.sector=o)},null,512),[[k,t.colaborador.sector]]),NCe])])]),e("div",HCe,[e("div",ICe,[e("div",GCe,[qCe,KCe,f(e("select",{class:"form-select",onChange:s[10]||(s[10]=o=>d.getRegionesSelect(o.target.value)),"onUpdate:modelValue":s[11]||(s[11]=o=>t.colaborador.pais=o)},[XCe,(l(!0),r(P,null,E(t.paises,o=>(l(),r("option",{key:o.id,value:o.id},i(o.pais),9,JCe))),128))],544),[[A,t.colaborador.pais]])])]),e("div",ZCe,[e("div",WCe,[YCe,QCe,f(e("select",{class:"form-select",onChange:s[12]||(s[12]=o=>d.getComunasSelect(o.target.value)),"onUpdate:modelValue":s[13]||(s[13]=o=>t.colaborador.region=o)},[ewe,(l(!0),r(P,null,E(t.regionesSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.region),9,twe))),128))],544),[[A,t.colaborador.region]]),swe])]),e("div",owe,[e("div",awe,[lwe,iwe,f(e("select",{class:"form-select","onUpdate:modelValue":s[14]||(s[14]=o=>t.colaborador.comuna=o)},[rwe,(l(!0),r(P,null,E(t.comunasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.comuna),9,nwe))),128))],512),[[A,t.colaborador.comuna]]),dwe])])]),e("div",cwe,[e("div",uwe,[e("div",hwe,[mwe,pwe,f(e("input",{type:"emailP",class:"form-control-small","onUpdate:modelValue":s[15]||(s[15]=o=>t.colaborador.emailPersonal=o)},null,512),[[k,t.colaborador.emailPersonal]]),fwe])]),e("div",bwe,[e("div",gwe,[_we,vwe,f(e("input",{type:"direccion",class:"form-control-small","onUpdate:modelValue":s[16]||(s[16]=o=>t.colaborador.emailEmpresa=o)},null,512),[[k,t.colaborador.emailEmpresa]]),$we])])]),e("div",ywe,[e("div",Cwe,[e("div",wwe,[kwe,xwe,f(e("input",{type:"emailP",class:"form-control-small","onUpdate:modelValue":s[17]||(s[17]=o=>t.colaborador.telefonoEmpresa=o)},null,512),[[k,t.colaborador.telefonoEmpresa]]),Pwe])]),e("div",Ewe,[e("div",Twe,[Dwe,Bwe,f(e("input",{type:"telefono",class:"form-control-small","onUpdate:modelValue":s[18]||(s[18]=o=>t.colaborador.telefonoPersonal=o)},null,512),[[k,t.colaborador.telefonoPersonal]]),Owe])]),e("div",Mwe,[e("div",Swe,[Rwe,Awe,f(e("select",{class:"form-select","onUpdate:modelValue":s[19]||(s[19]=o=>t.colaborador.estadoCivil=o)},[Fwe,(l(!0),r(P,null,E(t.estadosCiviles,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,zwe))),128))],512),[[A,t.colaborador.estadoCivil]]),Uwe])])]),e("div",Vwe,[e("div",Lwe,[e("div",jwe,[Nwe,Hwe,f(e("select",{class:"form-select",onChange:s[20]||(s[20]=o=>d.getAreasSelect(o.target.value)),"onUpdate:modelValue":s[21]||(s[21]=o=>t.colaborador.departamento=o)},[Iwe,(l(!0),r(P,null,E(t.departamentos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.departamento),9,Gwe))),128))],544),[[A,t.colaborador.departamento]]),qwe])]),e("div",Kwe,[e("div",Xwe,[Jwe,Zwe,f(e("select",{class:"form-select","onUpdate:modelValue":s[22]||(s[22]=o=>t.colaborador.area=o)},[Wwe,(l(!0),r(P,null,E(t.areasSelect,o=>(l(),r("option",{key:o.id,value:o.id},i(o.area),9,Ywe))),128))],512),[[A,t.colaborador.area]]),Qwe])]),e("div",eke,[e("div",tke,[ske,oke,f(e("input",{type:"cargo",class:"form-control-small","onUpdate:modelValue":s[23]||(s[23]=o=>t.colaborador.cargo=o)},null,512),[[k,t.colaborador.cargo]]),ake])])]),lke,e("div",ike,[e("div",rke,[e("div",nke,[dke,cke,f(e("select",{class:"form-select","onUpdate:modelValue":s[24]||(s[24]=o=>t.colaborador.sistemaSalud=o)},[uke,(l(!0),r(P,null,E(t.sistemasSalud,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,hke))),128))],512),[[A,t.colaborador.sistemaSalud]]),mke])]),e("div",pke,[e("div",fke,[bke,gke,f(e("select",{class:"form-select","onUpdate:modelValue":s[25]||(s[25]=o=>t.colaborador.afpAsociada=o)},[_ke,(l(!0),r(P,null,E(t.afps,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,vke))),128))],512),[[A,t.colaborador.afpAsociada]]),$ke])])])])]),e("div",yke,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[26]||(s[26]=o=>d.editarColaborador()),disabled:t.buttonDisable},i(t.buttonText),9,Cke)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const kke=U(qye,[["render",wke]]),xke={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({}),props:{colaborador:Object},created(){}},Pke={name:"modal"},Eke={class:"modal-mask"},Tke={class:"modal-wrapper"},Dke={class:"modal-container"},Bke={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},Oke=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle del Colaborador:",-1),Mke={class:"modal-body"},Ske={class:"form-group"},Rke={class:"row"},Ake=e("div",{class:"text-uppercase"},"Información Personal:",-1),Fke={class:"col-3 m-0 fs-8"},zke={class:"fw-normal",style:{"font-size":"14px"}},Uke={class:"col-3 m-0 fs-8"},Vke={class:"fw-normal",style:{"font-size":"14px"}},Lke={class:"col-3 m-0 fs-8"},jke={class:"fw-normal",style:{"font-size":"14px"}},Nke={class:"col-3 m-0 fs-8"},Hke={class:"fw-normal",style:{"font-size":"14px"}},Ike={class:"col-4 m-0 fs-8"},Gke={class:"fw-normal",style:{"font-size":"14px"}},qke={class:"col-4 m-0 fs-8"},Kke={class:"fw-normal",style:{"font-size":"14px"}},Xke={class:"col-4 m-0 fs-8"},Jke={class:"fw-normal",style:{"font-size":"14px"}},Zke={class:"col-4 m-0 fs-8"},Wke={class:"fw-normal",style:{"font-size":"14px"}},Yke=e("hr",{size:"4",class:"separador"},null,-1),Qke=e("div",{class:"text-uppercase"},"Información de Trabajo:",-1),e4e={class:"col-4 m-0 fs-8"},t4e={class:"fw-normal",style:{"font-size":"14px"}},s4e={class:"col-4 m-0 fs-8"},o4e={class:"fw-normal",style:{"font-size":"14px"}},a4e={class:"col-4 m-0 fs-8"},l4e={class:"fw-normal",style:{"font-size":"14px"}},i4e=e("hr",{size:"4",class:"separador"},null,-1),r4e=e("div",{class:"text-uppercase"},"Información de Contacto:",-1),n4e={class:"col-6 m-0 fs-8"},d4e={class:"fw-normal",style:{"font-size":"14px"}},c4e={class:"col-6 m-0 fs-8"},u4e={class:"fw-normal",style:{"font-size":"14px"}},h4e={class:"col-6 m-0 fs-8"},m4e={class:"fw-normal",style:{"font-size":"14px"}},p4e={class:"col-6 m-0 fs-8"},f4e={class:"fw-normal",style:{"font-size":"14px"}},b4e=e("hr",{size:"4",class:"separador"},null,-1),g4e=e("div",{class:"text-uppercase"},"Dirección:",-1),_4e={class:"col-4 m-0 fs-8"},v4e={class:"fw-normal",style:{"font-size":"14px"}},$4e={class:"col-4 m-0 fs-8"},y4e={class:"fw-normal",style:{"font-size":"14px"}},C4e={class:"col-4 m-0 fs-8"},w4e={class:"fw-normal",style:{"font-size":"14px"}},k4e={class:"col-4 m-0 fs-8"},x4e={class:"fw-normal",style:{"font-size":"14px"}},P4e={class:"col-4 m-0 fs-8"},E4e={class:"fw-normal",style:{"font-size":"14px"}},T4e=e("hr",{size:"4",class:"separador"},null,-1),D4e=e("div",{class:"text-uppercase"},"Salud:",-1),B4e={class:"col-6 m-0 fs-8"},O4e={class:"fw-normal",style:{"font-size":"14px"}},M4e={class:"col-6 m-0 fs-8"},S4e={class:"fw-normal",style:{"font-size":"14px"}},R4e=e("hr",{size:"4",class:"separador"},null,-1),A4e=e("div",{class:"text-uppercase"},"Otros:",-1),F4e={class:"col-6"},z4e=e("label",{class:"m-0 fs-8"}," Foto:",-1),U4e={key:0},V4e=["v-bind:src"],L4e={key:1,class:"fs-8 fw-normal"};function j4e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",Pke,[e("div",Eke,[e("div",Tke,[e("div",Dke,[e("div",Bke,[C(t.$slots,"header",{},()=>[Oke]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",Mke,[C(t.$slots,"body",{},()=>[e("div",Ske,[e("div",Rke,[Ake,e("label",Fke,[p(" Nombre: "),e("label",zke,i(a.colaborador.nombre1),1)]),e("label",Uke,[p(" 2do Nombre: "),e("label",Vke,i(a.colaborador.nombre2),1)]),e("label",Lke,[p(" Apellido Paterno: "),e("label",jke,i(a.colaborador.apellido1),1)]),e("label",Nke,[p(" Apellido Materno: "),e("label",Hke,i(a.colaborador.apellido2),1)]),e("label",Ike,[p(" Identificador: "),e("label",Gke,i(t.formatoRut(a.colaborador.identificador)),1)]),e("label",qke,[p(" Estado Civil: "),e("label",Kke,i(a.colaborador.estado_civil.nombre),1)]),e("label",Xke,[p(" Fecha Nacimiento: "),e("label",Jke,i(a.colaborador.fechaNac),1)]),e("label",Zke,[p(" Nacionalidad: "),e("label",Wke,i(a.colaborador.nacionalidad.nacionalidad),1)]),Yke,Qke,e("label",e4e,[p(" Departamento: "),e("label",t4e,i(a.colaborador.departamento.departamento),1)]),e("label",s4e,[p(" Área: "),e("label",o4e,i(a.colaborador.area.area),1)]),e("label",a4e,[p(" Cargo: "),e("label",l4e,i(a.colaborador.cargo),1)]),i4e,r4e,e("label",n4e,[p(" Correo Empresa: "),e("label",d4e,i(a.colaborador.correoEmpresa),1)]),e("label",c4e,[p(" Teléfono Empresa: "),e("label",u4e,i(a.colaborador.telefonoEmpresa),1)]),e("label",h4e,[p(" Correo Personal: "),e("label",m4e,i(a.colaborador.correoPersonal),1)]),e("label",p4e,[p(" Teléfono Personal: "),e("label",f4e,i(a.colaborador.telefonoPersonal),1)]),b4e,g4e,e("label",_4e,[p(" Dirección: "),e("label",v4e,i(a.colaborador.direccion),1)]),e("label",$4e,[p(" Sector: "),e("label",y4e,i(a.colaborador.sector),1)]),e("label",C4e,[p(" Comuna: "),e("label",w4e,i(a.colaborador.comuna.comuna),1)]),e("label",k4e,[p(" Región: "),e("label",x4e,i(a.colaborador.region.region),1)]),e("label",P4e,[p(" País: "),e("label",E4e,i(a.colaborador.pais.pais),1)]),T4e,D4e,e("label",B4e,[p(" Sistema Salud: "),e("label",O4e,i(a.colaborador.sistema_salud.nombre),1)]),e("label",M4e,[p(" AFP: "),e("label",S4e,i(a.colaborador.afp_asociada.nombre),1)]),R4e,A4e,e("div",F4e,[z4e,t.foto!=null?(l(),r("figure",U4e,[e("img",{width:"100",height:"100","v-bind:src":"data:image/jpeg;base64,"+t.foto},null,8,V4e)])):(l(),r("label",L4e,"---"))])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])])]),_:3})}const N4e=U(xke,[["render",j4e]]),H4e={components:{modalcrear:Gye,modaleditar:kke,modalconfirmacion:j,modalalerta:N,modaldetalle:N4e},mixins:[V],data(){return{colaboradores:null,showCrearColaborador:!1,showEditarColaborador:!1,showDetalleColaborador:!1,colaboradorEditar1:null,colaboradorDetalle1:null,mostrarTabla:!1,mostrarCarga:!0,roles:null,table:null}},created(){this.getColaboradores()},methods:{recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.colaboradores=null,this.getColaboradores()):(this.table.destroy(),this.crearTabla("#MyTableColaboradores"))},cambiarEstado(t){_.get(`api/cambiarEstadoColab/${t}`).then(s=>{this.recargarTabla("General")}).catch(s=>console.log(s))},getColaboradores(){_.get("api/colaboradores").then(t=>{this.colaboradores=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableColaboradores")}).catch(t=>console.log(t))},colaboradorDetalle(t){this.colaboradorDetalle1=t,this.showDetalleColaborador=!0},colaboradorEditar(t){this.colaboradorEditar1=t,this.showEditarColaborador=!0},async deleteColaborador(t,s){await this.$refs.confirmation.show({title:"Borrar Colaborador",message:`¿Está seguro/a que desea eliminar al colaborador '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/colaboradores/${t}`).then(c=>{this.toast.success("Colaborador eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))}}},I4e={class:"row mt-4 mx-4"},G4e={class:"col-12"},q4e={class:"card mb-4"},K4e={class:"row pb-0 p-4"},X4e={class:"col-12"},J4e={class:"d-flex justify-content-end"},Z4e=e("i",{class:"fa-solid fa-rotate"},null,-1),W4e=[Z4e],Y4e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Q4e={class:"container"},exe={class:"table-responsive p-0"},txe={class:"loader-sm"},sxe={class:"table align-items-center mb-0",id:"MyTableColaboradores"},oxe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Correo Electrónico Empresa"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cargo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Teléfono"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),axe=e("td",null,null,-1),lxe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ixe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},rxe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},nxe={class:"text-sm mb-0"},dxe={class:"text-sm mb-0"},cxe={class:"text-sm mb-0"},uxe={class:"text-sm mb-0"},hxe={class:"align-middle text-end"},mxe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},pxe=["onClick"],fxe=e("i",{class:"fa-regular fa-eye"},null,-1),bxe=[fxe],gxe=["onClick"],_xe=e("i",{class:"fa fa-fw fa-edit"},null,-1),vxe=[_xe],$xe=["onClick"],yxe=e("i",{class:"fa fa-fw fa-trash"},null,-1),Cxe=[yxe],wxe=["onClick"],kxe=e("i",{class:"fa-solid fa-toggle-on"},null,-1),xxe=[kxe],Pxe=["onClick"],Exe=e("i",{class:"fa-solid fa-toggle-off"},null,-1),Txe=[Exe],Dxe=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Bxe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaldetalle"),h=y("modaleditar"),b=y("modalcrear");return l(),r("div",I4e,[e("div",G4e,[e("div",q4e,[e("div",K4e,[e("div",X4e,[e("div",J4e,[e("a",{class:"btn btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=v=>n.showCrearColaborador=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[1]||(s[1]=v=>d.recargarTabla("General"))},W4e)])])]),e("div",Y4e,[e("div",Q4e,[e("div",exe,[f(e("div",txe,null,512),[[H,n.mostrarCarga]]),f(e("table",sxe,[oxe,e("tbody",null,[(l(!0),r(P,null,E(n.colaboradores,v=>(l(),r("tr",{key:v.id},[axe,e("td",null,[e("p",lxe,i(v.identificador),1)]),e("td",null,[v.estado==!0?(l(),r("p",ixe,"Activo")):(l(),r("p",rxe,"Inactivo"))]),e("td",null,[e("p",nxe,i(v.nombre1)+" "+i(v.nombre2)+" "+i(v.apellido1)+" "+i(v.apellido2),1)]),e("td",null,[e("p",dxe,i(v.correoEmpresa),1)]),e("td",null,[e("p",cxe,i(v.cargo),1)]),e("td",null,[e("p",uxe,i(v.telefonoEmpresa),1)]),e("td",hxe,[e("div",mxe,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:z=>d.colaboradorDetalle(v)},bxe,8,pxe),p("   "),e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:z=>d.colaboradorEditar(v)},vxe,8,gxe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteColaborador(v.id,v.nombre)},Cxe,8,$xe),p("   "),v.estado==!0?(l(),r("a",{key:0,onClick:z=>d.cambiarEstado(v.id),class:"btn btn-continue btn-xs"},xxe,8,wxe)):(l(),r("a",{key:1,class:"btn btn-secondary btn-xs",onClick:z=>d.cambiarEstado(v.id)},Txe,8,Pxe))])])]))),128))])],512),[[H,n.mostrarTabla]]),Dxe])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showDetalleColaborador?(l(),T(o,{key:0,colaborador:n.colaboradorDetalle1,onRecarga:s[2]||(s[2]=v=>d.recargarTabla("General")),onClose:s[3]||(s[3]=v=>n.showDetalleColaborador=!1)},null,8,["colaborador"])):m("",!0),n.showEditarColaborador?(l(),T(h,{key:1,colaborador1:n.colaboradorEditar1,onRecarga:s[4]||(s[4]=v=>d.recargarTabla("General")),onClose:s[5]||(s[5]=v=>n.showEditarColaborador=!1)},null,8,["colaborador1"])):m("",!0),n.showCrearColaborador?(l(),T(b,{key:2,onClose:s[6]||(s[6]=v=>n.showCrearColaborador=!1),onRecarga:s[7]||(s[7]=v=>d.recargarTabla("General"))})):m("",!0)])])}const Oxe=U(H4e,[["render",Bxe]]),Mxe={components:{modalcrear:cs,modaleditar:mt,modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{usuarios:null,showCrearUsuario:!1,showEditarUsuario:!1,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0,permisos:null,table:null}},created(){this.getUsuarios()},methods:{obtenerTablaBDSAP_sap_productos(){_.get("api/sap/productos").then(t=>{console.log(t)}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.usuarios=null,this.getUsuarios()):(this.table.destroy(),this.crearTabla("#MyTableUsuarios"))},cambiarEstado(t){_.get(`api/cambiarEstadoUsuario/${t}`).then(s=>{this.recargarTabla("General")}).catch(s=>console.log(s))},getUsuarios(){_.get("api/usuarios").then(t=>{this.usuarios=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableUsuarios")}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.usuarios=null,this.getUsuarios()):this.crearTabla("#MyTableUsuarios")},usuarioEditar(t){this.usuarioeditar=t,this.showEditarUsuario=!0},async deleteUsuario(t,s){await this.$refs.confirmation.show({title:"Borrar Usuario",message:`¿Está seguro/a que desea eliminar al usuario '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/usuarios/${t}`).then(c=>{this.toast.success("Usuario eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))},descargarPdf(){_({url:"api/pdf",method:"GET",responseType:"arraybuffer"}).then(t=>{let s=new Blob([t.data],{type:"application/pdf"}),a=document.createElement("a");a.href=window.URL.createObjectURL(s),a.download="mi-archivo.pdf",a.click()})},saveExcelUser(){$("#importForm");var t=new FormData(importForm);_.post("api/usersImport",t).then(s=>{alert("Los datos se han subido con exito !")})},createSuperAdmin(){_.post("api/usuarios/superadmin").then(t=>{this.toast.success("Super Administrador actualizado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(t=>console.log(t))}}},Sxe={class:"row mt-4 mx-4"},Rxe={class:"col-12"},Axe={class:"card mb-4"},Fxe={class:"row pb-0 p-4"},zxe={class:"col-12"},Uxe={class:"d-flex justify-content-end"},Vxe=e("i",{class:"fa-solid fa-rotate"},null,-1),Lxe=[Vxe],jxe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Nxe={class:"container"},Hxe={class:"table-responsive p-0"},Ixe={class:"loader-sm"},Gxe={class:"table align-items-center mb-0",id:"MyTableUsuarios"},qxe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Correo Electrónico "),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Roles"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Permisos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Kxe=e("td",null,null,-1),Xxe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Jxe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},Zxe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},Wxe={class:"text-sm mb-0"},Yxe={class:"text-sm mb-0"},Qxe={key:0},e5e={key:1},t5e={key:0},s5e={key:1},o5e={class:"align-middle text-end"},a5e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},l5e=["onClick"],i5e=e("i",{class:"fa fa-fw fa-edit"},null,-1),r5e=[i5e],n5e=["onClick"],d5e=e("i",{class:"fa fa-fw fa-trash"},null,-1),c5e=[d5e],u5e=["onClick"],h5e=e("i",{class:"fa-solid fa-toggle-on"},null,-1),m5e=[h5e],p5e=["onClick"],f5e=e("i",{class:"fa-solid fa-toggle-off"},null,-1),b5e=[f5e],g5e=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function _5e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modalcrear");return l(),r("div",Sxe,[e("div",Rxe,[e("div",Axe,[e("div",Fxe,[e("div",zxe,[e("div",Uxe,[e("a",{class:"btn btn-spacing btn-wine",onClick:s[0]||(s[0]=b=>d.createSuperAdmin())},"Super-Administrador"),p("   "),e("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[1]||(s[1]=b=>n.showCrearUsuario=!0)},"Nuevo"),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[2]||(s[2]=b=>d.recargarTabla("General"))},Lxe)])])]),e("div",jxe,[e("div",Nxe,[e("div",Hxe,[f(e("div",Ixe,null,512),[[H,n.mostrarCarga]]),f(e("table",Gxe,[qxe,e("tbody",null,[(l(!0),r(P,null,E(n.usuarios,b=>(l(),r("tr",{key:b.id},[Kxe,e("td",null,[e("p",Xxe,i(b.id),1)]),e("td",null,[b.estado==!0?(l(),r("p",Jxe,"Activo")):(l(),r("p",Zxe,"Inactivo"))]),e("td",null,[e("p",Wxe,i(b.name),1)]),e("td",null,[e("p",Yxe,i(b.email),1)]),e("td",null,[b.roles==""?(l(),r("div",Qxe,"---")):(l(),r("div",e5e,[(l(!0),r(P,null,E(b.roles,v=>(l(),r("p",{key:v.id,class:"text-sm mb-0"},i(v.name),1))),128))]))]),e("td",null,[b.permissions==""?(l(),r("div",t5e,"---")):(l(),r("div",s5e,[(l(!0),r(P,null,E(b.permissions,v=>(l(),r("p",{key:v.id,class:"text-sm mb-0"},i(v.name),1))),128))]))]),e("td",o5e,[e("div",a5e,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:v=>d.usuarioEditar(b)},r5e,8,l5e),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:v=>d.deleteUsuario(b.id,b.name)},c5e,8,n5e),p("   "),b.estado==!0?(l(),r("a",{key:0,onClick:v=>d.cambiarEstado(b.id),class:"btn btn-continue btn-xs"},m5e,8,u5e)):(l(),r("a",{key:1,class:"btn btn-secondary btn-xs",onClick:v=>d.cambiarEstado(b.id)},b5e,8,p5e))])])]))),128))])],512),[[H,n.mostrarTabla]]),g5e])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showEditarUsuario?(l(),T(o,{key:0,usuario:n.usuarioeditar,onClose:s[3]||(s[3]=b=>n.showEditarUsuario=!1),onRecarga:s[4]||(s[4]=b=>d.recargarTabla("General"))},null,8,["usuario"])):m("",!0),n.showCrearUsuario?(l(),T(h,{key:1,onClose:s[5]||(s[5]=b=>n.showCrearUsuario=!1),onRecarga:s[6]||(s[6]=b=>d.recargarTabla("General"))})):m("",!0)])])}const v5e=U(Mxe,[["render",_5e]]),$5e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Rol",buttonDisable:!1,name:"",errors:[],permisos:null,permissions:[]}),created(){this.getPermisos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPermisos(){_.get("api/permisos").then(t=>{this.permisos=t.data}).catch(t=>console.log(t))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Rol",message:`¿Está seguro/a que desea crear el rol '${this.name}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={name:this.name,permission:this.permissions};_.post("api/roles",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Rol guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},y5e={name:"modal"},C5e={class:"modal-mask"},w5e={class:"modal-wrapper"},k5e={class:"modal-container-xs"},x5e={class:"modal-header fw-bold",style:{color:"#444444"}},P5e={class:"modal-body"},E5e={class:"form-group"},T5e=e("label",{for:"name"},"Nombre del Rol: ",-1),D5e=e("br",null,null,-1),B5e={key:0,class:"error"},O5e=e("label",{for:""},"Permisos para este Rol: ",-1),M5e=e("br",null,null,-1),S5e={class:"form-check-label"},R5e=["value"],A5e={key:0,class:"error"},F5e=e("br",null,null,-1),z5e={class:"modal-footer"},U5e=["disabled"];function V5e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=ot("has-error");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",y5e,[e("div",C5e,[e("div",w5e,[e("div",k5e,[e("div",x5e,[C(t.$slots,"header",{},()=>[p(" Nuevo Rol ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",P5e,[C(t.$slots,"body",{},()=>[e("div",E5e,[T5e,D5e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=h=>t.name=h)},null,512),[[o,t.errors.name],[k,t.name]]),t.errors&&t.errors.name?(l(),r("div",B5e,i(t.errors.name[0]),1)):m("",!0)]),O5e,M5e,(l(!0),r(P,null,E(t.permisos,h=>(l(),r("div",{key:h.id,class:"form-check"},[e("label",S5e,[f(e("input",{type:"checkbox",class:"form-check-input",value:h.id,"onUpdate:modelValue":s[2]||(s[2]=b=>t.permissions=b)},null,8,R5e),[[ne,t.permissions]]),p("  "+i(h.name),1)])]))),128)),t.errors&&t.errors.permission?(l(),r("div",A5e,i(t.errors.permission[0]),1)):m("",!0),F5e,e("div",z5e,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[3]||(s[3]=h=>d.crearRol()),disabled:t.buttonDisable},i(t.buttonText),9,U5e)])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const L5e=U($5e,[["render",V5e]]),j5e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Rol",buttonDisable:!1,name:"",id:"",errors:[],permisos:[],permissions:[],permisosRol:[],revision:!1}),props:{rol:Object},created(){this.name=this.rol.name,this.id=this.rol.id,this.getPermisos(),this.getPermisosRol(this.id)},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},compararPermisos(){this.revision==!1&&this.permisos.forEach(t=>{this.permisosRol.forEach(s=>{t.name==s&&this.permissions.push(t.id)})}),this.revision=!0},getPermisosRol(t){_.get(`api/getPermisosRol/${t}`).then(s=>{this.permisosRol=s.data,this.compararPermisos()}).catch(s=>console.log(s))},getPermisos(){_.get("api/permisos").then(t=>{this.permisos=t.data}).catch(t=>console.log(t))},async editarRol(){if(await this.$refs.confirmation.show({title:"Editar Rol",message:`¿Está seguro/a que desea editar al rol '${this.rol.name}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={name:this.name,permission:this.permissions};var s=this.id;_.put(`api/roles/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Rol editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},N5e={name:"modal"},H5e={class:"modal-mask"},I5e={class:"modal-wrapper"},G5e={class:"modal-container-xs"},q5e={class:"modal-header fw-bold",style:{color:"#444444"}},K5e={class:"modal-body"},X5e={class:"form-group"},J5e=e("label",{for:"name"},"Nombre: ",-1),Z5e=e("br",null,null,-1),W5e={key:0,class:"error"},Y5e=e("label",{for:""},"Permisos para este Rol: ",-1),Q5e=e("br",null,null,-1),e3e={class:"form-check-label"},t3e=["id","value"],s3e=e("br",null,null,-1),o3e={class:"modal-footer"},a3e=["disabled"];function l3e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",N5e,[e("div",H5e,[e("div",I5e,[e("div",G5e,[e("div",q5e,[C(t.$slots,"header",{},()=>[p(" Editar Rol ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",K5e,[C(t.$slots,"body",{},()=>[e("div",X5e,[J5e,Z5e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.name=o)},null,512),[[k,t.name]]),t.errors&&t.errors.name?(l(),r("div",W5e,i(t.errors.name[0]),1)):m("",!0)]),Y5e,Q5e,(l(!0),r(P,null,E(t.permisos,o=>(l(),r("div",{key:o.id,class:"form-check"},[e("label",e3e,[f(e("input",{type:"checkbox",class:"form-check-input",id:o.id,value:o.id,"onUpdate:modelValue":s[2]||(s[2]=h=>t.permissions=h)},null,8,t3e),[[ne,t.permissions]]),p("  "+i(o.name),1)])]))),128)),s3e,e("div",o3e,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-continue",onClick:s[3]||(s[3]=o=>d.editarRol()),disabled:t.buttonDisable},i(t.buttonText),9,a3e)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const i3e=U(j5e,[["render",l3e]]),r3e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Permiso",buttonDisable:!1,nombrePermiso:"",errors:[]}),created(){this.getPermisos()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getPermisos(){_.get("api/permisos").then(t=>{this.permisos=t.data}).catch(t=>console.log(t))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Permiso",message:`¿Está seguro/a que desea crear el permiso '${this.nombrePermiso}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let s={name:this.nombrePermiso};_.post("api/permisos",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Permiso guardado con éxito!",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},n3e={name:"modal"},d3e={class:"modal-mask"},c3e={class:"modal-wrapper"},u3e={class:"modal-container-xs"},h3e={class:"modal-header fw-bold",style:{color:"#444444"}},m3e={class:"modal-body"},p3e={class:"form-group"},f3e=e("label",{for:"name"},"Nombre del permiso: ",-1),b3e=e("br",null,null,-1),g3e={key:0,class:"error"},_3e={class:"modal-footer"},v3e=["disabled"];function $3e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",n3e,[e("div",d3e,[e("div",c3e,[e("div",u3e,[e("div",h3e,[C(t.$slots,"header",{},()=>[p(" Nuevo Permiso ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",m3e,[C(t.$slots,"body",{},()=>[e("div",p3e,[f3e,b3e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombrePermiso=o)},null,512),[[k,t.nombrePermiso]])]),t.errors&&t.errors.name?(l(),r("div",g3e,i(t.errors.name[0]),1)):m("",!0)])]),e("div",_3e,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.crearRol()),disabled:t.buttonDisable},i(t.buttonText),9,v3e)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const y3e=U(r3e,[["render",$3e]]),C3e={components:{modalcrear2:L5e,modaleditar2:i3e,modalconfirmacion:j,modalalerta:N,modalpermisos:y3e},mixins:[V],data(){return{roles:null,showCrearRol:!1,showEditarRol:!1,showCrearPermiso:!1,roleditar:null,mostrarTabla:!1,mostrarCarga:!0,permisos:null,table:null}},created(){this.getRoles()},methods:{recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.roles=null,this.getRoles()):(this.table.destroy(),this.crearTabla("#MyTableRoles"))},getRoles(){_.get("api/roles").then(t=>{this.roles=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableRoles")}).catch(t=>console.log(t))},rolEditar(t){this.roleditar=t,this.showEditarRol=!0},async deleteRole(t,s){await this.$refs.confirmation.show({title:"Borrar Rol",message:`¿Está seguro/a que desea eliminar al rol '${s}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/roles/${t}`).then(c=>{this.toast.success("Rol eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(c=>console.log(c))}}},w3e={class:"row mt-4 mx-4"},k3e={class:"col-12"},x3e={class:"card mb-4"},P3e={class:"row pb-0 p-4"},E3e={class:"col-12"},T3e={class:"d-flex justify-content-end"},D3e=e("i",{class:"fa-solid fa-rotate"},null,-1),B3e=[D3e],O3e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},M3e={class:"container"},S3e={class:"table-responsive p-0"},R3e={class:"loader-sm"},A3e={class:"table align-items-center mb-0",id:"MyTableRoles"},F3e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID-Rol"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),z3e=e("td",null,null,-1),U3e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},V3e={class:"text-sm mb-0"},L3e={class:"align-middle text-end"},j3e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},N3e=["onClick"],H3e=e("i",{class:"fa fa-fw fa-edit"},null,-1),I3e=[H3e],G3e=["onClick"],q3e=e("i",{class:"fa fa-fw fa-trash"},null,-1),K3e=[q3e],X3e=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),J3e=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function Z3e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar2"),h=y("modalcrear2"),b=y("modalpermisos");return l(),r("div",w3e,[e("div",k3e,[e("div",x3e,[e("div",P3e,[e("div",E3e,[e("div",T3e,[e("a",{class:"btn btn-continue",id:"show-modal1",onClick:s[0]||(s[0]=v=>n.showCrearRol=!0)},"Nuevo Rol"),p("   "),e("a",{class:"btn btn-continue",id:"show-modal1",onClick:s[1]||(s[1]=v=>n.showCrearPermiso=!0)},"Nuevo Permiso"),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=v=>d.recargarTabla("General"))},B3e)])])]),e("div",O3e,[e("div",M3e,[e("div",S3e,[f(e("div",R3e,null,512),[[H,n.mostrarCarga]]),f(e("table",A3e,[F3e,e("tbody",null,[(l(!0),r(P,null,E(n.roles,v=>(l(),r("tr",{key:v.id},[z3e,e("td",null,[e("p",U3e,i(v.id),1)]),e("td",null,[e("p",V3e,i(v.name),1)]),e("td",L3e,[e("div",j3e,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:z=>d.rolEditar(v)},I3e,8,N3e),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteRole(v.id,v.name)},K3e,8,G3e)])])]))),128))])],512),[[H,n.mostrarTabla]]),X3e])])])]),J3e,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showEditarRol?(l(),T(o,{key:0,rol:n.roleditar,onClose:s[3]||(s[3]=v=>n.showEditarRol=!1),onRecarga:s[4]||(s[4]=v=>d.recargarTabla("General"))},null,8,["rol"])):m("",!0),n.showCrearRol?(l(),T(h,{key:1,onClose:s[5]||(s[5]=v=>n.showCrearRol=!1),onRecarga:s[6]||(s[6]=v=>d.recargarTabla("General"))})):m("",!0),n.showCrearPermiso?(l(),T(b,{key:2,onClose:s[7]||(s[7]=v=>n.showCrearPermiso=!1),onRecarga:s[8]||(s[8]=v=>d.recargarTabla("General"))})):m("",!0)])])}const W3e=U(C3e,[["render",Z3e]]),Y3e={components:{modalconfirmacion:j,modalalerta:N,modalfoto:us},mixins:[V],data:()=>({fofi1:{folioFofi:"",fecha:"",usuario:"",observacion:"",cantidadGastos:"",fofiAsignado:"",montoTotal:""},id:null,errors:[],detalles:[],nombreUsuario:"",detalle:null,showFotoFofi:!1}),props:{fofi:Object},created(){this.fofi1.folioFofi=this.fofi.folioFofi,this.fofi1.fecha=this.fofi.fecha,this.fofi1.idUsuario=this.fofi.usuario,this.fofi1.observacion=this.fofi.observacion,this.fofi1.cantidadGastos=this.fofi.cantidadGastos,this.fofi1.fofiAsignado=this.fofi.fofiAsignado,this.fofi1.montoTotal=this.fofi.montoTotal,this.id=this.fofi.id,this.nombreUsuario=this.fofi1.idUsuario.name,this.detalles=this.fofi.detalles},methods:{verFoto(t){this.detalle=t,this.showFotoFofi=!0}}},Q3e={name:"modal"},ePe={class:"modal-mask"},tPe={class:"modal-wrapper"},sPe={class:"modal-container-xl"},oPe={class:"modal-header fw-bold",style:{color:"#444444"}},aPe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle del Fondo Fijo:",-1),lPe={class:"col-3 m-0",style:{"font-size":"15px","text-align":"right"}},iPe={key:0,class:"fs-7 fw-bold",style:{color:"#FFC107"}},rPe={key:1,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},nPe={key:2,class:"fs-7 fw-bold",style:{color:"#28A745"}},dPe={key:3,class:"fs-7 fw-bold",style:{color:"#8392AB"}},cPe={class:"modal-body"},uPe={id:"tableDesign",class:"table align-items-center mb-0"},hPe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fofi Asignado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Total Gastos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia")])],-1),mPe={class:"text-sm mb-0"},pPe={class:"text-sm mb-0"},fPe={class:"text-sm mb-0"},bPe={class:"text-sm mb-0"},gPe={class:"text-sm mb-0"},_Pe={class:"text-sm mb-0"},vPe={class:"text-sm mb-0"},$Pe=e("br",null,null,-1),yPe={class:"row"},CPe={class:"col-6"},wPe=e("label",{class:"col-6 m-0 fs-8"}," Observación: ",-1),kPe={class:"col-6"},xPe=e("label",{class:"col-6 m-0 fs-8"}," Objeciones: ",-1),PPe={class:"row"},EPe={class:"col-12"},TPe={class:"col-6 m-0 fs-8"},DPe={key:0,class:"fw-normal",style:{"font-size":"14px"}},BPe={key:1,class:"fw-normal",style:{"font-size":"14px"}},OPe=e("br",null,null,-1),MPe=e("hr",{size:"4",class:"separador"},null,-1),SPe=e("h6",null,"Documentos Asociados al Fondo Fijo",-1),RPe={class:"row"},APe={id:"tableDesign",class:"table align-items-center mb-0"},FPe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Retiro"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"RutDoc"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Detalle"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Foto")])],-1),zPe={class:"text-sm mb-0"},UPe={class:"text-sm mb-0"},VPe={class:"text-sm mb-0"},LPe={class:"text-sm mb-0"},jPe={key:0},NPe={class:"text-sm mb-0"},HPe={key:1},IPe=e("p",{class:"text-sm mb-0"},"---",-1),GPe=[IPe],qPe={key:2},KPe={class:"text-sm mb-0"},XPe={key:3},JPe=e("p",{class:"text-sm mb-0"},"---",-1),ZPe=[JPe],WPe=["title"],YPe=["title"],QPe={class:"text-sm mb-0"},eEe={class:"text-sm mb-0"},tEe=["onUpdate:modelValue"],sEe={class:"text-sm mb-0"},oEe=["onClick"],aEe=e("i",{class:"fa-solid fa-images"},null,-1),lEe=[aEe],iEe=e("div",null,[e("br"),e("hr",{size:"3",class:"separador"})],-1);function rEe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalfoto");return l(),T(G,{name:"modalver"},{default:I(()=>[e("div",Q3e,[e("div",ePe,[e("div",tPe,[e("div",sPe,[e("div",oPe,[C(t.$slots,"header",{},()=>[aPe,e("label",lPe,[p(" Estado: "),a.fofi.estado=="Pendiente"?(l(),r("label",iPe,i(a.fofi.estado),1)):m("",!0),a.fofi.estado=="Rechazado"?(l(),r("label",rPe,i(a.fofi.estado),1)):m("",!0),a.fofi.estado=="Aprobado"?(l(),r("label",nPe,i(a.fofi.estado),1)):m("",!0),a.fofi.estado=="Retirado"?(l(),r("label",dPe,i(a.fofi.estado),1)):m("",!0)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",cPe,[C(t.$slots,"body",{},()=>[e("table",uPe,[hPe,e("tbody",null,[e("tr",null,[e("td",null,[e("p",mPe,i(this.fofi1.folioFofi),1)]),e("td",null,[e("p",pPe,i(t.thisDate(this.fofi1.fecha)),1)]),e("td",null,[e("p",fPe,i(t.nombreUsuario),1)]),e("td",null,[e("p",bPe,i(this.fofi1.cantidadGastos),1)]),e("td",null,[e("p",gPe,i(t.formatMoneyCLP(this.fofi1.fofiAsignado)),1)]),e("td",null,[e("p",_Pe,i(t.formatMoneyCLP(this.fofi1.montoTotal)),1)]),e("td",null,[e("p",vPe,i(t.formatMoneyCLP(this.fofi1.fofiAsignado-this.fofi1.montoTotal)),1)])])])]),$Pe,e("div",yPe,[e("div",CPe,[wPe,f(e("textarea",{readonly:"",style:{resize:"none"},name:"textarea",class:"form-control",rows:"2",cols:"20","onUpdate:modelValue":s[1]||(s[1]=h=>this.fofi.observacion=h)},null,512),[[k,this.fofi.observacion]])]),e("div",kPe,[xPe,f(e("textarea",{readonly:"",style:{resize:"none"},name:"textarea",class:"form-control",rows:"2",cols:"20","onUpdate:modelValue":s[2]||(s[2]=h=>this.fofi.objeciones=h)},null,512),[[k,this.fofi.objeciones]])])]),e("div",PPe,[e("div",EPe,[e("label",TPe,[p(" Autorizador: "),a.fofi.autorizador!=null?(l(),r("label",DPe,i(a.fofi.autorizador.name),1)):(l(),r("label",BPe,"---"))])]),OPe,MPe]),SPe,e("div",RPe,[e("table",APe,[FPe,e("tbody",null,[(l(!0),r(P,null,E(t.detalles,h=>(l(),r("tr",{key:h.nroDocumento},[e("td",null,[e("p",zPe,i(h.id),1)]),e("td",null,[e("p",UPe,i(h.tipo_doc.nombre),1)]),e("td",null,[e("p",VPe,i(t.thisDate(h.fecha)),1)]),e("td",null,[e("p",LPe,i(t.thisDate(h.fechaRetiro)),1)]),h.nroDocumento!=null?(l(),r("td",jPe,[e("p",NPe,i(h.nroDocumento),1)])):(l(),r("td",HPe,GPe)),h.rut!=null?(l(),r("td",qPe,[e("p",KPe,i(h.rut),1)])):(l(),r("td",XPe,ZPe)),e("td",null,[e("p",{title:h.tipo_gasto.nombre,style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"},class:"text-sm mb-0"},i(h.tipo_gasto.nombre),9,WPe)]),e("td",null,[e("p",{title:h.gasto.nombre,class:"text-sm mb-0",style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},i(h.gasto.nombre),9,YPe)]),e("td",null,[e("p",QPe,i(t.formatMoneyCLP(h.monto)),1)]),e("td",null,[e("p",eEe,[f(e("textarea",{readonly:"",class:"form-control",style:{"text-align":"justify","min-width":"100px",height:"40px","word-wrap":"break-word",overflow:"hidden"},"onUpdate:modelValue":b=>h.observaciones=b},null,8,tEe),[[k,h.observaciones]])])]),e("td",null,[e("p",sEe,[e("a",{class:"btn btn-dark-grey btn-xs",onClick:b=>d.verFoto(h.foto)},lEe,8,oEe)])])]))),128))])]),iEe])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showFotoFofi?(l(),T(o,{key:0,detalle:t.detalle,onClose:s[3]||(s[3]=h=>t.showFotoFofi=!1)},null,8,["detalle"])):m("",!0)])])])])]),_:3})}const nEe=U(Y3e,[["render",rEe]]);let Yt=document.head.querySelector('meta[name="user"]'),dEe=document.head.querySelector('meta[name="roles"]');const cEe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({fields:{folioFofi:"",fecha:"",usuario:JSON.parse(Yt.content).id,observacion:"",cantidadGastos:0,fofiAsignado:JSON.parse(Yt.content).fofiAsignado,montoTotal:0},detalleFofi:{idTipoDocumento:"",fecha:"",nroDocumento:"",rut:"",tipoGasto:"",gasto:"",monto:"",foto:null,observaciones:""},idUsuario:JSON.parse(Yt.content).id,fotoMiniatura:"",fondoFijoPendiente:0,buttonText:"Crear Fondo Fijo",buttonDisable:!1,tiposGastos:[],gastos:[],gastosSelect:[],tiposDoc:[],detalles:[],errors:[],nombreUsuario:"",montoAnterior:"",modoeditar:!1,idEditar:"",tienda:!1}),created(){this.getDatos(this.idUsuario),this.comprobarRol(JSON.parse(dEe.content)),this.getTipoGasto(),this.getGastos(),this.getTipoDoc()},methods:{validateInput(){this.detalleFofi.rut=this.detalleFofi.rut.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&this.detalleFofi.rut.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},verificarFecha(){const t=new Date().toISOString().slice(0,10);this.detalleFofi.fecha>t&&(this.detalleFofi.fecha="",this.toast.warning("La fecha ingresada es mayor a la fecha actual.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.detalleFofi.rut!=""){this.detalleFofi.rut.replace(".","");var t=this.detalleFofi.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.detalleFofi.rut=s+"-"+a}},comprobarRol(t){t.forEach(s=>{s=="Tiendas"&&(this.tienda=!0)})},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.fields.cantidadGastos=this.fields.cantidadGastos-1,this.fields.montoTotal=0,this.detalles.forEach(a=>{this.fields.montoTotal=Number(this.fields.montoTotal)+Number(a.monto)}))},cancelarEditar(){this.modoeditar=!1,this.detalleFofi.idTipoDocumento="",this.detalleFofi.fecha="",this.detalleFofi.rut="",this.detalleFofi.nroDocumento="",this.detalleFofi.tipoGasto="",this.detalleFofi.gasto="",this.detalleFofi.monto="",this.detalleFofi.foto=null,this.detalleFofi.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoeditar=!0;var s=this.detalles[t];this.montoAnterior=s.monto,this.detalleFofi.idTipoDocumento=s.idTipoDocumento,this.detalleFofi.fecha=s.fecha,this.detalleFofi.rut=s.rut,this.detalleFofi.nroDocumento=s.nroDocumento,this.detalleFofi.tipoGasto=s.idTipoGasto,this.getGastosSelect(s.idTipoGasto),this.detalleFofi.gasto=s.idGasto,this.detalleFofi.monto=s.monto,this.detalleFofi.foto=s.foto;var a=document.querySelector("#foto");const c=new DataTransfer;c.items.add(s.foto),a.files=c.files,this.detalleFofi.observaciones=s.observaciones,this.chargeImage(s.foto)},async guardarEdicion(t){this.errors=[];var s=!1;for(const g in this.detalleFofi)(this.detalleFofi[g]===""||this.detalleFofi[g]===0)&&(g=="rut"||g=="fechaRetiro"||g=="nroDocumento"?this.detalleFofi.idTipoDocumento==1&&g=="rut"||this.detalleFofi.idTipoDocumento==1&&g=="nroDocumento"||this.detalleFofi.idTipoDocumento==2&&g=="rut"||this.errors.push(g):this.errors.push(g),this.fotoMiniatura==""&&s==!1&&(this.errors.push("foto"),s=!0));if(this.detalleFofi.rut!=""){var a=this.validarRut(this.detalleFofi.rut);a==!1&&this.errors.push("rut invalido")}if(this.detalleFofi.idTipoDocumento==3||this.detalleFofi.idTipoDocumento==4||this.detalleFofi.idTipoDocumento==5){let g=[];g[0]=this.detalleFofi.nroDocumento,g[1]=this.formatoRut(this.detalleFofi.rut);var c=await _.post("api/verificarDetalle",g).then(function(o){return o.data}.bind(this)).catch(function(o){console.log(o)});if(c>0)this.errors.push("detalleExistente");else if(this.fields.cantidadGastos>0){var n=!1,d=0;this.detalles.forEach(o=>{g[0]==o.nroDocumento&&g[1]==o.rut&&n==!1&&d!=t&&(this.errors.push("detalleExistente"),n=!0),d=d+1})}}var u="";if(this.errors.length!=0&&(this.errors.forEach(g=>{g=="rut invalido"?u=u+`El rut ingresado es invalido
`:g=="idTipoDocumento"?u=u+`El campo Tipo Documento es requerido
`:g=="nroDocumento"?u=u+`El campo Nº Documento es requerido
`:g=="tipoGasto"?u=u+`El campo Tipo Gasto es requerido
`:g=="detalleExistente"?u=u+`El documento ingresado ya existe
`:u=u+"El campo "+this.capitalizeFirstLetter(g)+` es requerido
`}),this.toast.warning(u,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),Number(this.fields.montoTotal)-Number(this.montoAnterior)+Number(this.detalleFofi.monto)>Number(this.fields.fofiAsignado)&&(this.errors.push("MontoSuperado"),this.toast.error("El monto total excede el fofi asignado",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let g={idDetalle:this.idEditar,idTipoDocumento:this.detalleFofi.idTipoDocumento,fecha:this.detalleFofi.fecha,nroDocumento:this.detalleFofi.nroDocumento,rut:this.formatoRut(this.detalleFofi.rut),idTipoGasto:this.detalleFofi.tipoGasto,idGasto:this.detalleFofi.gasto,monto:this.detalleFofi.monto,foto:this.detalleFofi.foto,observaciones:this.detalleFofi.observaciones};this.detalles[t]=g,this.fields.montoTotal=0,this.detalles.forEach(o=>{this.fields.montoTotal=Number(this.fields.montoTotal)+Number(o.monto)}),this.detalleFofi.idTipoDocumento="",this.detalleFofi.fecha="",this.detalleFofi.rut="",this.detalleFofi.nroDocumento="",this.detalleFofi.tipoGasto="",this.detalleFofi.gasto="",this.detalleFofi.monto="",this.detalleFofi.foto=null,this.detalleFofi.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoeditar=!1}},async crearFofi(){if(this.errors=[],this.fields.cantidadGastos==0&&(this.errors.push("detalles"),this.toast.warning("No puede crear un fondo fijo sin detalles",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Fondo Fijo",message:"¿Está seguro/a que desea crear este fondo fijo ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const s=[];let a={folioFofi:this.fields.folioFofi,estado:"Pendiente",fecha:this.fields.fecha,idUsuario:this.fields.usuario,observacion:this.fields.observacion,cantidadGastos:this.fields.cantidadGastos,fofiAsignado:this.fields.fofiAsignado,montoTotal:this.fields.montoTotal};s.push(a),s.push(this.detalles),_.post("api/fofis",s,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Fondo Fijo creado con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.tienda==!0?_.post("api/fofis/sendEmailTienda",s,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{console.log(n)}):_.post("api/fofis/sendEmail",s,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{console.log(n)})}).catch(c=>{console.log(c),c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},getTipoDoc(){_.get("api/getTipoDoc").then(t=>{this.tiposDoc=t.data}).catch(t=>console.log(t))},getGastos(){_.get("api/getGastos").then(t=>{this.gastos=t.data}).catch(t=>console.log(t))},getGastosSelect(t){this.gastosSelect=[],this.detalleFofi.gasto="",this.gastos.forEach(s=>{s.idTipoGasto==t&&this.gastosSelect.push(s)})},getTipoGasto(){_.get("api/getTipoGasto").then(t=>{this.tiposGastos=t.data}).catch(t=>console.log(t))},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async agregarDetalle(){this.errors=[];var t=!1;for(const d in this.detalleFofi)(this.detalleFofi[d]===""||this.detalleFofi[d]===0)&&(d=="rut"||d=="fechaRetiro"||d=="nroDocumento"?this.detalleFofi.idTipoDocumento==1&&d=="rut"||this.detalleFofi.idTipoDocumento==1&&d=="nroDocumento"||this.detalleFofi.idTipoDocumento==2&&d=="rut"||this.errors.push(d):this.errors.push(d),this.fotoMiniatura==""&&t==!1&&(this.errors.push("foto"),t=!0));if(this.detalleFofi.rut!=""){var s=this.validarRut(this.detalleFofi.rut);s==!1&&this.errors.push("rut invalido")}if(this.detalleFofi.idTipoDocumento==3||this.detalleFofi.idTipoDocumento==4||this.detalleFofi.idTipoDocumento==5){let d=[];d[0]=this.detalleFofi.nroDocumento,d[1]=this.formatoRut(this.detalleFofi.rut);var a=await _.post("api/verificarDetalle",d).then(function(u){return u.data}.bind(this)).catch(function(u){console.log(u)});if(a>0)this.errors.push("detalleExistente");else if(this.fields.cantidadGastos>0){var c=!1;this.detalles.forEach(u=>{d[0]==u.nroDocumento&&d[1]==u.rut&&c==!1&&(this.errors.push("detalleExistente"),c=!0)})}}var n="";if(this.errors.length!=0&&(this.errors.forEach(d=>{d=="rut invalido"?n=n+`El rut ingresado es invalido
`:d=="idTipoDocumento"?n=n+`El campo Tipo Documento es requerido
`:d=="nroDocumento"?n=n+`El campo Nº Documento es requerido
`:d=="tipoGasto"?n=n+`El campo Tipo Gasto es requerido
`:d=="detalleExistente"?n=n+`El documento ingresado ya existe
`:n=n+"El campo "+this.capitalizeFirstLetter(d)+` es requerido
`}),this.toast.warning(n,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),Number(this.fields.montoTotal)+Number(this.detalleFofi.monto)>Number(this.fields.fofiAsignado)&&(this.errors.push("MontoSuperado"),this.toast.error("El monto total excede el fofi asignado",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let d={idDetalle:this.fields.cantidadGastos,idTipoDocumento:this.detalleFofi.idTipoDocumento,fecha:this.detalleFofi.fecha,nroDocumento:this.detalleFofi.nroDocumento,rut:this.formatoRut(this.detalleFofi.rut),idTipoGasto:this.detalleFofi.tipoGasto,idGasto:this.detalleFofi.gasto,monto:this.detalleFofi.monto,foto:this.detalleFofi.foto,observaciones:this.detalleFofi.observaciones};this.fields.cantidadGastos=this.fields.cantidadGastos+1,this.detalles.push(d),this.fields.montoTotal=0,this.detalles.forEach(u=>{this.fields.montoTotal=Number(this.fields.montoTotal)+Number(u.monto)}),this.detalleFofi.idTipoDocumento="",this.detalleFofi.fecha="",this.detalleFofi.rut="",this.detalleFofi.nroDocumento="",this.detalleFofi.tipoGasto="",this.detalleFofi.gasto="",this.detalleFofi.monto="",this.detalleFofi.foto=null,this.detalleFofi.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getDatos(t){_.get(`api/dataFofi/${t}`).then(s=>{this.fields.folioFofi=s.data[0],this.fields.fecha=s.data[1],this.nombreUsuario=s.data[2],this.fondoFijoPendiente=s.data[3],this.fields.fofiAsignado=this.fields.fofiAsignado-this.fondoFijoPendiente}).catch(s=>console.log(s))},async getImage(t){this.detalleFofi.foto=t.target.files[0];let s=[];await this.compressImages(this.detalleFofi.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.detalleFofi.foto=a,this.chargeImage(this.detalleFofi.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},uEe={name:"modal"},hEe={class:"modal-mask"},mEe={class:"modal-wrapper"},pEe={class:"modal-container"},fEe={class:"modal-header pb-2",style:{"font-weight":"bold",color:"#444444"}},bEe={class:"modal-body"},gEe={id:"tableDesign",class:"table align-items-center mb-0"},_Ee=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fofi Asignado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Total Gastos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia")])],-1),vEe={class:"text-sm mb-0"},$Ee={class:"text-sm mb-0"},yEe={class:"text-sm mb-0"},CEe={class:"text-sm mb-0"},wEe={class:"text-sm mb-0"},kEe={class:"text-sm mb-0"},xEe={class:"text-sm mb-0"},PEe=e("br",null,null,-1),EEe=e("label",{style:{"vertical-align":"top"},for:"txtArea"},"Observación:",-1),TEe=e("hr",{size:"4",class:"separador"},null,-1),DEe={enctype:"multipart/form-data"},BEe={class:"row"},OEe={class:"col-3"},MEe={class:"form-group"},SEe=e("label",{for:"idTipoDocumento"},"Tipo Documento: ",-1),REe=e("br",null,null,-1),AEe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),FEe=["value"],zEe={class:"col-2"},UEe={class:"form-group"},VEe=e("label",{for:"fecha"},"Fecha: ",-1),LEe=e("br",null,null,-1),jEe={class:"col-2"},NEe={class:"form-group"},HEe=e("label",{for:"nroDocumento"},"N° Documento: ",-1),IEe=e("br",null,null,-1),GEe={class:"col-2"},qEe={class:"form-group"},KEe=e("label",{for:"rut"},"Rut Documento: ",-1),XEe=e("br",null,null,-1),JEe={class:"col-3"},ZEe={class:"form-group"},WEe=e("label",{for:"observaciones"},"Detalle: ",-1),YEe=e("br",null,null,-1),QEe={class:"row"},eTe={class:"col-3"},tTe={class:"form-group"},sTe=e("label",{for:"tipoGasto"},"Tipo Gasto: ",-1),oTe=e("br",null,null,-1),aTe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),lTe=["value"],iTe={class:"col-3"},rTe={class:"form-group"},nTe=e("label",{for:"gasto"},"Gasto: ",-1),dTe=e("br",null,null,-1),cTe=e("option",{disabled:"",value:""},"Seleccione un gasto",-1),uTe=["value"],hTe={class:"col-3"},mTe={class:"form-group"},pTe=e("label",{for:"monto"},"Monto: ",-1),fTe={class:"row"},bTe={class:"col-4"},gTe={class:"form-group"},_Te=e("label",{for:"foto"},"Foto: ",-1),vTe=e("br",null,null,-1),$Te={key:0,class:"col-4"},yTe=["src"],CTe=e("hr",{size:"4",class:"separador"},null,-1),wTe={class:"row"},kTe={id:"tableDesign",class:"table align-items-center mb-0"},xTe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),PTe={key:0},ETe=e("td",{colspan:"10"}," No hay información disponible. ",-1),TTe=[ETe],DTe={class:"text-sm mb-0"},BTe={key:0,class:"text-sm mb-0"},OTe={class:"text-sm mb-0"},MTe={key:0},STe={class:"text-sm mb-0"},RTe={key:1},ATe={key:2},FTe={class:"text-sm mb-0"},zTe={key:3},UTe={key:0,class:"text-sm mb-0"},VTe={key:0,class:"text-sm mb-0"},LTe={class:"text-sm mb-0"},jTe={class:"text-sm mb-0"},NTe=["onClick"],HTe=e("i",{class:"fa fa-fw fa-edit"},null,-1),ITe=[HTe],GTe=["onClick"],qTe=e("i",{class:"fa fa-fw fa-trash"},null,-1),KTe=[qTe],XTe={class:"modal-footer"},JTe=["disabled"];function ZTe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=ot("has-error");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",uEe,[e("div",hEe,[e("div",mEe,[e("div",pEe,[e("div",fEe,[C(t.$slots,"header",{},()=>[p(" Nuevo Fondo Fijo "+i(t.idEditar),1)]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",bEe,[C(t.$slots,"body",{},()=>[e("table",gEe,[_Ee,e("tbody",null,[e("tr",null,[e("td",null,[e("p",vEe,i(this.fields.folioFofi),1)]),e("td",null,[e("p",$Ee,i(this.fields.fecha),1)]),e("td",null,[e("p",yEe,i(t.nombreUsuario),1)]),e("td",null,[e("p",CEe,i(this.fields.cantidadGastos),1)]),e("td",null,[e("p",wEe,i(t.formatMoneyCLP(this.fields.fofiAsignado)),1)]),e("td",null,[e("p",kEe,i(t.formatMoneyCLP(this.fields.montoTotal)),1)]),e("td",null,[e("p",xEe,i(t.formatMoneyCLP(this.fields.fofiAsignado-this.fields.montoTotal)),1)])])])]),PEe,EEe,p("  "),f(e("textarea",{style:{resize:"none"},class:"form-control",id:"txtArea",rows:"1",cols:"50","onUpdate:modelValue":s[1]||(s[1]=h=>t.fields.observacion=h)},null,512),[[k,t.fields.observacion]]),TEe,e("form",DEe,[e("div",BEe,[e("div",OEe,[e("div",MEe,[SEe,REe,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=h=>t.detalleFofi.idTipoDocumento=h)},[AEe,(l(!0),r(P,null,E(t.tiposDoc,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,FEe))),128))],512),[[A,t.detalleFofi.idTipoDocumento]])])]),e("div",zEe,[e("div",UEe,[VEe,LEe,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=h=>t.detalleFofi.fecha=h),onChange:s[4]||(s[4]=h=>d.verificarFecha())},null,544),[[k,t.detalleFofi.fecha]])])]),e("div",jEe,[e("div",NEe,[HEe,IEe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=h=>t.detalleFofi.nroDocumento=h)},null,512),[[k,t.detalleFofi.nroDocumento]])])]),e("div",GEe,[e("div",qEe,[KEe,XEe,f(e("input",{type:"text",class:"form-control",onInput:s[6]||(s[6]=(...h)=>d.validateInput&&d.validateInput(...h)),onKeypress:s[7]||(s[7]=(...h)=>d.isNumberOrDash&&d.isNumberOrDash(...h)),onKeyup:s[8]||(s[8]=h=>d.checkRut()),"onUpdate:modelValue":s[9]||(s[9]=h=>t.detalleFofi.rut=h)},null,544),[[k,t.detalleFofi.rut]])])]),e("div",JEe,[e("div",ZEe,[WEe,YEe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=h=>t.detalleFofi.observaciones=h)},null,512),[[k,t.detalleFofi.observaciones]])])])]),e("div",QEe,[e("div",eTe,[e("div",tTe,[sTe,oTe,f(e("select",{class:"form-select",onChange:s[11]||(s[11]=h=>d.getGastosSelect(h.target.value)),"onUpdate:modelValue":s[12]||(s[12]=h=>t.detalleFofi.tipoGasto=h)},[aTe,(l(!0),r(P,null,E(t.tiposGastos,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,lTe))),128))],544),[[A,t.detalleFofi.tipoGasto]])])]),e("div",iTe,[e("div",rTe,[nTe,dTe,f(e("select",{class:"form-select","onUpdate:modelValue":s[13]||(s[13]=h=>t.detalleFofi.gasto=h)},[cTe,(l(!0),r(P,null,E(t.gastosSelect,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,uTe))),128))],512),[[A,t.detalleFofi.gasto]])])]),e("div",hTe,[e("div",mTe,[pTe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=h=>t.detalleFofi.monto=h)},null,512),[[k,t.detalleFofi.monto]])])])]),e("div",fTe,[e("div",bTe,[e("div",gTe,[_Te,vTe,f(e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"foto",class:"form-control",onChange:s[15]||(s[15]=(...h)=>d.getImage&&d.getImage(...h))},null,544),[[o,t.errors.foto]])])]),t.fotoMiniatura!=""?(l(),r("div",$Te,[e("figure",null,[e("img",{width:"100",height:"100",src:d.imagen,alt:"Foto Miniatura"},null,8,yTe)])])):m("",!0)]),t.modoeditar==!1?(l(),r("a",{key:0,onClick:s[16]||(s[16]=h=>d.agregarDetalle()),class:"btn btn-dark-grey float-right"},"Agregar detalle")):m("",!0),t.modoeditar==!0?(l(),r("a",{key:1,onClick:s[17]||(s[17]=h=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar detalle")):m("",!0),p("   "),t.modoeditar==!0?(l(),r("a",{key:2,onClick:s[18]||(s[18]=h=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),CTe,e("div",wTe,[e("table",kTe,[xTe,e("tbody",null,[t.fields.cantidadGastos==0?(l(),r("tr",PTe,TTe)):(l(!0),r(P,{key:1},E(t.detalles,h=>(l(),r("tr",{key:h},[e("td",null,[e("p",DTe,i(h.idDetalle+1),1)]),e("td",null,[(l(!0),r(P,null,E(t.tiposDoc,b=>(l(),r("div",{key:b.id},[h.idTipoDocumento==b.id?(l(),r("p",BTe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",OTe,i(h.fecha),1)]),h.nroDocumento!=""?(l(),r("td",MTe,[e("p",STe,i(h.nroDocumento),1)])):(l(),r("td",RTe,"---")),h.rut!=""?(l(),r("td",ATe,[e("p",FTe,i(h.rut),1)])):(l(),r("td",zTe,"---")),e("td",null,[(l(!0),r(P,null,E(t.tiposGastos,b=>(l(),r("div",{key:b.id},[h.idTipoGasto==b.id?(l(),r("p",UTe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[(l(!0),r(P,null,E(t.gastos,b=>(l(),r("div",{key:b.id},[h.idGasto==b.id?(l(),r("p",VTe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",LTe,i(t.formatMoneyCLP(h.monto)),1)]),e("td",null,[e("p",jTe,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:b=>d.editarDetalle(h.idDetalle)},ITe,8,NTe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:b=>d.eliminarDetalle(h)},KTe,8,GTe)])])]))),128))])])])])]),e("div",XTe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-dark-grey float-end",onClick:s[19]||(s[19]=h=>d.crearFofi()),disabled:t.buttonDisable},i(t.buttonText),9,JTe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const WTe=U(cEe,[["render",ZTe]]),YTe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,fondosFijosAutorizar:null,errors:[],tablaFondoFijoAutorizar:null,checkAll1:!1,usuariosFondosFijos:[]}),created(){this.getFondosFijosAutorizables()},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getFondosFijosAutorizables(){let t={userID:this.userID};_.post("api/fofis/autorizables",t).then(s=>{this.fondosFijosAutorizar=s.data,this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(s=>console.log(s))},async saveAuth(){if(await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})){var s=[];s.push(this.fondosFijosAutorizar),s.push(this.userID),_.post("api/fofis/autorizar",s).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.fondosFijosAutorizar.forEach(c=>{this.usuariosFondosFijos.includes(c.idUsuario)||this.usuariosFondosFijos.push(c.idUsuario)}),this.usuariosFondosFijos.forEach(c=>{var n=[],d=[];this.fondosFijosAutorizar.forEach(u=>{u.idUsuario==c&&u.autorizado!=null&&d.push(u)}),d.length!=0&&(n.push(d),n.push(c),_.post("api/fofis/sendEmailFondoFijoAutorizado",n).then(u=>{this.toast.success("Correo informativo enviado!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(u=>{console.log(u)}))}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},QTe={name:"modal"},eDe={class:"modal-mask"},tDe={class:"modal-wrapper"},sDe={class:"modal-container-2xl"},oDe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},aDe={class:"modal-body"},lDe={class:"table-responsive p-0",id:"espaciadoTablaGastos",style:{"min-height":"300px","max-height":"500px"}},iDe={class:"loader"},rDe={class:"table align-items-center mb-0",id:"tableDesign"},nDe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Gastos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fondo Fijo Asignado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Observaciones"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Objeciones")])],-1),dDe={key:0},cDe=e("td",{colspan:"10"}," No hay información disponible. ",-1),uDe=[cDe],hDe={class:"text-sm mb-0"},mDe={class:"text-sm mb-0"},pDe={class:"text-sm mb-0"},fDe={class:"text-sm mb-0"},bDe={class:"text-sm mb-0"},gDe={class:"text-sm mb-0"},_De={class:"text-sm mb-0"},vDe=["onUpdate:modelValue"],$De={class:"form-check"},yDe=["onUpdate:modelValue"],CDe=e("label",{style:{"margin-right":"15px"}},"Si",-1),wDe=["onUpdate:modelValue"],kDe=e("label",null,"No",-1),xDe=["onUpdate:modelValue"],PDe=e("label",null,"Pendiente",-1),EDe={class:"text-sm mb-0"},TDe=["onUpdate:modelValue"],DDe={class:"modal-footer"},BDe=["disabled"];function ODe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",QTe,[e("div",eDe,[e("div",tDe,[e("div",sDe,[e("div",oDe,[C(t.$slots,"header",{},()=>[p(" Autorizar: ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",aDe,[C(t.$slots,"body",{},()=>[e("div",lDe,[f(e("div",iDe,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",rDe,[nDe,e("tbody",null,[t.fondosFijosAutorizar==0?(l(),r("tr",dDe,uDe)):(l(!0),r(P,{key:1},E(t.fondosFijosAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",hDe,i(o.id),1)]),e("td",null,[e("p",mDe,i(o.folioFofi),1)]),e("td",null,[e("p",pDe,i(t.thisDate(o.fecha)),1)]),e("td",null,[e("p",fDe,i(o.usuario.name),1)]),e("td",null,[e("p",bDe,i(o.cantidadGastos),1)]),e("td",null,[e("p",gDe,i(t.formatMoneyCLP(o.fofiAsignado)),1)]),e("td",null,[e("p",_De,i(t.formatMoneyCLP(o.montoTotal)),1)]),e("td",null,[f(e("textarea",{readonly:"",class:"form-control",style:{"text-align":"justify","min-width":"150px",height:"40px","word-wrap":"break-word",overflow:"hidden"},"onUpdate:modelValue":h=>o.observaciones=h},null,8,vDe),[[k,o.observaciones]])]),e("td",null,[e("div",$De,[f(e("input",{style:{"-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"true","onUpdate:modelValue":h=>o.autorizado=h},null,8,yDe),[[we,o.autorizado]]),CDe,f(e("input",{style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"false","onUpdate:modelValue":h=>o.autorizado=h},null,8,wDe),[[we,o.autorizado]]),kDe,f(e("input",{selected:"",checked:"",style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"null","onUpdate:modelValue":h=>o.autorizado=h},null,8,xDe),[[we,o.autorizado]]),PDe])]),e("td",null,[e("p",EDe,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.objeciones=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,TDe),[[k,o.objeciones]])])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),e("div",DDe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[1]||(s[1]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,BDe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const MDe=U(YTe,[["render",ODe]]);let Ls=document.head.querySelector('meta[name="user"]');const SDe={components:{modalautorizar:MDe,modalcrear:WTe,modalver:nEe,modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{fofis:null,fofisAux:null,showCrearFofi:!1,showDetalleFofi:!1,mostrarTabla:!1,mostrarCarga:!0,table:null,foto:null,fofi:null,showAutorizarFondosFijos:!1,usuario:JSON.parse(Ls.content).name,idUsuario:JSON.parse(Ls.content).id,roles:null,fechaInicio:null,fechaTermino:null}},created(){this.getFofis(this.idUsuario)},methods:{recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.fofis=null,this.getFofis(this.idUsuario),this.fechaInicio=null,this.fechaTermino=null):(this.table.destroy(),this.crearTabla("#MyTableFoFis"))},async filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.fofis=this.fofisAux.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},getFofis(t){_.get(`api/fofis/${t}`).then(s=>{this.fofis=s.data,this.fofisAux=s.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableFoFis")}).catch(s=>console.log(s))},verFofi(t){this.fofi=t,this.showDetalleFofi=!0},async deleteFofi(t){await this.$refs.confirmation.show({title:"Borrar Fondo Fijo",message:`¿Está seguro/a que desea eliminar el fondo fijo con la id '${t}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/fofis/${t}`).then(a=>{this.toast.success("Fondo Fijo eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},RDe={class:"row mt-4 mx-4"},ADe={class:"col-12"},FDe={class:"card mb-4"},zDe={class:"row pb-0 p-4"},UDe={class:"col-4"},VDe={class:"row"},LDe={class:"col-5"},jDe={class:"col-5"},NDe={class:"col-auto pt-3"},HDe=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),IDe=[HDe],GDe={class:"col-8"},qDe={class:"d-flex justify-content-end"},KDe=e("i",{class:"fa-solid fa-file-signature"},null,-1),XDe=e("i",{class:"fa-solid fa-rotate"},null,-1),JDe=[XDe],ZDe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},WDe={class:"container"},YDe={class:"table-responsive p-0"},QDe={class:"loader-sm"},e6e={class:"table align-items-center mb-0",id:"MyTableFoFis"},t6e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha "),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Gastos"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fondos Asignados"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),s6e=e("td",null,null,-1),o6e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},a6e={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},l6e={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},i6e={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},r6e={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},n6e={class:"text-sm mb-0"},d6e={class:"text-sm mb-0"},c6e={class:"text-sm mb-0"},u6e={class:"text-sm mb-0"},h6e={class:"text-sm mb-0"},m6e={class:"text-sm mb-0"},p6e={class:"text-sm mb-0"},f6e={class:"align-middle"},b6e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},g6e=["onClick"],_6e=e("i",{class:"fa-regular fa-eye"},null,-1),v6e=[_6e],$6e=["onClick"],y6e=e("i",{class:"fa fa-fw fa-trash"},null,-1),C6e=[y6e],w6e=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),k6e=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function x6e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalver"),h=y("modalcrear"),b=y("modalautorizar");return l(),r("div",RDe,[e("div",ADe,[e("div",FDe,[e("div",zDe,[e("div",UDe,[e("div",VDe,[e("div",LDe,[e("label",null,[p("Fecha Inicio: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=v=>n.fechaInicio=v)},null,512),[[k,n.fechaInicio]])])]),e("div",jDe,[e("label",null,[p("Fecha Término: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=v=>n.fechaTermino=v)},null,512),[[k,n.fechaTermino]])])]),e("div",NDe,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=v=>d.filtrarFecha())},IDe)])])]),e("div",GDe,[e("div",qDe,[t.can("Fondos Fijos_Autorizar")?(l(),r("a",{key:0,class:"btn btn-spacing btn-closed",id:"show-autorizarModal",onClick:s[3]||(s[3]=v=>n.showAutorizarFondosFijos=!0)},[KDe,p(" Autorizar")])):m("",!0),p("   "),t.can("Fondos Fijos_Crear")?(l(),r("a",{key:1,class:"btn btn-continue btn-spacing",id:"show-modal1",onClick:s[4]||(s[4]=v=>n.showCrearFofi=!0)},"Nuevo")):m("",!0),p("   "),e("a",{class:"btn btn-search-blue btn-spacing",onClick:s[5]||(s[5]=v=>d.recargarTabla("General"))},JDe)])])]),e("div",ZDe,[e("div",WDe,[e("div",YDe,[f(e("div",QDe,null,512),[[H,n.mostrarCarga]]),f(e("table",e6e,[t6e,e("tbody",null,[(l(!0),r(P,null,E(n.fofis,v=>(l(),r("tr",{key:v.id},[s6e,e("td",null,[e("p",o6e,i(v.id),1)]),e("td",null,[v.estado=="Pendiente"?(l(),r("p",a6e,i(v.estado),1)):m("",!0),v.estado=="Rechazado"?(l(),r("p",l6e,i(v.estado),1)):m("",!0),v.estado=="Aprobado"?(l(),r("p",i6e,i(v.estado),1)):m("",!0),v.estado=="Retirado"?(l(),r("p",r6e,i(v.estado),1)):m("",!0)]),e("td",null,[e("p",n6e,i(v.folioFofi),1)]),e("td",null,[e("p",d6e,i(t.thisDate(v.fecha)),1)]),e("td",null,[e("p",c6e,i(v.usuario.name),1)]),e("td",null,[e("p",u6e,i(v.cantidadGastos),1)]),e("td",null,[e("p",h6e,i(t.formatMoneyCLP(v.fofiAsignado)),1)]),e("td",null,[e("p",m6e,i(t.formatMoneyCLP(v.montoTotal)),1)]),e("td",null,[e("p",p6e,i(t.formatMoneyCLP(v.fofiAsignado-v.montoTotal)),1)]),e("td",f6e,[e("div",b6e,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:z=>d.verFofi(v)},v6e,8,g6e),p("   "),t.can("Fondos Fijos_Modificar")?(l(),r("a",{key:0,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteFofi(v.id)},C6e,8,$6e)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]]),w6e])])])]),k6e,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showDetalleFofi?(l(),T(o,{key:0,fofi:n.fofi,onClose:s[6]||(s[6]=v=>n.showDetalleFofi=!1)},null,8,["fofi"])):m("",!0),n.showCrearFofi?(l(),T(h,{key:1,onClose:s[7]||(s[7]=v=>n.showCrearFofi=!1),onRecarga:s[8]||(s[8]=v=>d.recargarTabla("General"))})):m("",!0),n.showAutorizarFondosFijos?(l(),T(b,{key:2,onClose:s[9]||(s[9]=v=>n.showAutorizarFondosFijos=!1),onRecarga:s[10]||(s[10]=v=>d.recargarTabla("General"))})):m("",!0)])])}const P6e=U(SDe,[["render",x6e]]),E6e={components:{modalconfirmacion:j,modalalerta:N,modalfoto:us},mixins:[V],data:()=>({rendi1:{folio:"",colaborador:"",montoSoli:"",montoRendi:"",idUsuarioSoli:"",idUsuarioRendi:"",fechaSoli:"",fechaRendi:"",detalleSoli:"",detalleRendi:"",idTipoMoneda:"",tipoImposicion:""},id:null,errors:[],detalles:[],detalle:null,showFotoRendicion:!1,abrMoneda:"",nombreUsuarioSoli:"",nombreUsuarioRendi:""}),props:{rendi:Object},created(){this.rendi1.folio=this.rendi.folio,this.rendi1.colaborador=this.rendi.colaborador,this.rendi1.montoSoli=this.rendi.montoSoli,this.rendi1.montoRendi=this.rendi.montoRendi,this.rendi1.idUsuarioSoli=this.rendi.idUsuarioSoli,this.rendi1.idUsuarioRendi=this.rendi.idUsuarioRendi,this.rendi1.fechaSoli=this.rendi.fechaSoli,this.rendi1.fechaRendi=this.rendi.fechaRendi,this.rendi1.detalleSoli=this.rendi.detalleSoli,this.rendi1.detalleRendi=this.rendi.detalleRendi,this.rendi1.idTipoMoneda=this.rendi.idTipoMoneda,this.rendi1.tipoImposicion=this.rendi.tipoImposicion,this.nombreUsuarioSoli=this.rendi.usuario_soli.name,this.nombreUsuarioRendi=this.rendi.usuario_rendi.name,this.abrMoneda=this.rendi.moneda.abreviacion,this.id=this.rendi.id,this.detalles=this.rendi.detalles},methods:{verFoto(t){this.detalle=t,this.showFotoRendicion=!0}}},T6e={name:"modal"},D6e={class:"modal-mask"},B6e={class:"modal-wrapper"},O6e={class:"modal-container-xl"},M6e={class:"modal-header fw-bold",style:{color:"#444444"}},S6e={class:"modal-body"},R6e=e("h5",null,"Rendición",-1),A6e={id:"tableDesign",class:"table align-items-center mb-0"},F6e=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Moneda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia")])],-1),z6e={class:"text-sm mb-0"},U6e={class:"text-sm mb-0"},V6e=["title"],L6e={class:"text-sm mb-0",style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},j6e=["title"],N6e={class:"text-sm mb-0",style:{width:"200px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},H6e={class:"text-sm mb-0"},I6e={class:"text-sm mb-0"},G6e={class:"text-sm mb-0"},q6e={class:"text-sm mb-0"},K6e={class:"text-sm mb-0"},X6e={class:"text-sm mb-0"},J6e=e("hr",{size:"4",class:"separador"},null,-1),Z6e={class:"row"},W6e={class:"col-9"},Y6e=e("br",null,null,-1),Q6e={class:"col-3"},e8e={key:0},t8e={key:1},s8e={key:2},o8e=e("br",null,null,-1),a8e=e("br",null,null,-1),l8e=e("hr",{size:"4",class:"separador"},null,-1),i8e=e("h5",null,"Detalles Rendición",-1),r8e={class:"row"},n8e={id:"tableDesign",class:"table align-items-center mb-0"},d8e=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Detalle"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Foto")])],-1),c8e={class:"text-sm mb-0"},u8e={class:"text-sm mb-0"},h8e={class:"text-sm mb-0"},m8e={key:0},p8e={class:"text-sm mb-0"},f8e={key:1},b8e=e("p",{class:"text-sm mb-0"},"---",-1),g8e=[b8e],_8e={key:2},v8e={class:"text-sm mb-0"},$8e={key:3},y8e=e("p",{class:"text-sm mb-0"},"---",-1),C8e=[y8e],w8e={class:"text-sm mb-0"},k8e={class:"text-sm mb-0"},x8e={class:"text-sm mb-0"},P8e={class:"text-sm mb-0"},E8e=["onUpdate:modelValue"],T8e={class:"text-sm mb-0"},D8e=["onClick"],B8e=e("i",{class:"fa-solid fa-images"},null,-1),O8e=[B8e],M8e=e("br",null,null,-1),S8e=e("hr",{size:"4",class:"separador"},null,-1);function R8e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalfoto");return l(),T(G,{name:"modalver"},{default:I(()=>[e("div",T6e,[e("div",D6e,[e("div",B6e,[e("div",O6e,[e("div",M6e,[C(t.$slots,"header",{},()=>[p(" Ver Rendición ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",S6e,[C(t.$slots,"body",{},()=>[R6e,e("table",A6e,[F6e,e("tbody",null,[e("tr",null,[e("td",null,[e("p",z6e,i(this.rendi1.folio),1)]),e("td",null,[e("p",U6e,i(this.rendi1.colaborador),1)]),e("td",{title:t.nombreUsuarioSoli},[e("p",L6e,i(t.nombreUsuarioSoli),1)],8,V6e),e("td",{title:t.nombreUsuarioRendi},[e("p",N6e,i(t.nombreUsuarioRendi),1)],8,j6e),e("td",null,[e("p",H6e,i(t.thisDate(this.rendi1.fechaSoli)),1)]),e("td",null,[e("p",I6e,i(t.thisDate(this.rendi1.fechaRendi)),1)]),e("td",null,[e("p",G6e,i(t.formatMoneyCLP(this.rendi1.montoSoli)),1)]),e("td",null,[e("p",q6e,i(t.formatMoneyCLP(this.rendi1.montoRendi)),1)]),e("td",null,[e("p",K6e,i(t.abrMoneda),1)]),e("td",null,[e("p",X6e,i(t.formatMoneyCLP(this.rendi1.montoSoli-this.rendi1.montoRendi)),1)])])])]),J6e,e("div",Z6e,[e("div",W6e,[e("label",null,[p("Detalle Solicitud: "),e("p",null,i(this.rendi1.detalleSoli),1)]),Y6e]),e("div",Q6e,[e("label",null,[p("Tipo Imposicion: "),this.rendi1.tipoImposicion=="Falto"?(l(),r("p",e8e,"Devolución de dinero")):this.rendi1.tipoImposicion=="Sobro"?(l(),r("p",t8e,"Entrega de dinero")):(l(),r("p",s8e,"Ninguna"))]),o8e])]),e("label",null,[p("Detalle Rendición: "),e("p",null,i(this.rendi1.detalleRendi),1)]),a8e,l8e,i8e,e("div",r8e,[e("table",n8e,[d8e,e("tbody",null,[(l(!0),r(P,null,E(t.detalles,h=>(l(),r("tr",{key:h.nroDocumento},[e("td",null,[e("p",c8e,i(h.id),1)]),e("td",null,[e("p",u8e,i(h.tipo_doc.nombre),1)]),e("td",null,[e("p",h8e,i(t.thisDate(h.fecha)),1)]),h.nroDocumento!=null?(l(),r("td",m8e,[e("p",p8e,i(h.nroDocumento),1)])):(l(),r("td",f8e,g8e)),h.rut!=null?(l(),r("td",_8e,[e("p",v8e,i(h.rut),1)])):(l(),r("td",$8e,C8e)),e("td",null,[e("p",w8e,i(h.tipo_gasto.nombre),1)]),e("td",null,[e("p",k8e,i(h.gasto.nombre),1)]),e("td",null,[e("p",x8e,i(t.formatMoneyCLP(h.monto)),1)]),e("td",null,[e("p",P8e,[f(e("textarea",{readonly:"",class:"form-control",style:{"text-align":"justify","min-width":"200px",height:"40px","word-wrap":"break-word",overflow:"hidden"},"onUpdate:modelValue":b=>h.observaciones=b},null,8,E8e),[[k,h.observaciones]])])]),e("td",null,[e("p",T8e,[e("a",{class:"btn btn-dark-grey btn-xs",onClick:b=>d.verFoto(h.foto)},O8e,8,D8e)])])]))),128))])]),M8e,S8e])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),t.showFotoRendicion?(l(),T(o,{key:0,detalle:t.detalle,onClose:s[1]||(s[1]=h=>t.showFotoRendicion=!1)},null,8,["detalle"])):m("",!0)])])])])]),_:3})}const A8e=U(E6e,[["render",R8e]]);let js=document.head.querySelector('meta[name="user"]'),F8e=document.head.querySelector('meta[name="roles"]');const z8e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({solicitud:{folio:"",fecha:"",usuario:JSON.parse(js.content).id,monto:"",colaborador:"",detallesoli:"",moneda:""},rendicion:{monto:0,detalleRendi:""},detalleRendicion:{idTipoDocumento:"",fecha:"",nroDocumento:"",rut:"",tipoGasto:"",gasto:"",monto:"",foto:null,observaciones:""},fotoMiniatura:"",buttonText:"Crear Rendicion",buttonDisable1:!1,buttonDisable2:!1,tiposGastos:[],monedas:[],gastos:[],gastosSelect:[],tiposDoc:[],detalles:[],errors:[],errorsRendi:[],errorsSoli:[],cantidadDetalles:0,nombreUsuario:"",modoeditar:!1,administrador:!1,selectDisabled:!1,usuarios:[],idEditar:"",rendicionEstado:!1}),created(){this.getDatos(this.solicitud.usuario),this.getUsuarios(),this.comprobarRol(JSON.parse(F8e.content),JSON.parse(js.content).name),this.getTipoGasto(),this.getGastos(),this.getTipoDoc(),this.getMonedas()},methods:{validateInput(){this.detalleRendicion.rut=this.detalleRendicion.rut.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&this.detalleRendicion.rut.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},verificarFecha(){const t=new Date().toISOString().slice(0,10);this.detalleRendicion.fecha>t&&(this.detalleRendicion.fecha="",this.toast.warning("La fecha ingresada es mayor a la fecha actual.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))},getUsuarios(){_.get("api/usuarios").then(t=>{this.usuarios=t.data}).catch(t=>console.log(t))},comprobarRol(t,s){t.forEach(a=>{a=="Administrador"&&(this.administrador=!0)}),this.administrador==!1&&(this.selectDisabled=!0,this.solicitud.colaborador=s)},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.detalleRendicion.rut!=""){this.detalleRendicion.rut.replace(".","");var t=this.detalleRendicion.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.detalleRendicion.rut=s+"-"+a}},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.rendicion.cantidadDetalles=this.rendicion.cantidadDetalles-1,this.rendicion.monto=0,this.detalles.forEach(a=>{this.rendicion.monto=Number(this.rendicion.monto)+Number(a.monto)}))},cancelarEditar(){this.modoeditar=!1,this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoeditar=!0;var s=this.detalles[t];this.detalleRendicion.idTipoDocumento=s.idTipoDocumento,this.detalleRendicion.fecha=s.fecha,this.detalleRendicion.rut=s.rut,this.detalleRendicion.nroDocumento=s.nroDocumento,this.detalleRendicion.tipoGasto=s.idTipoGasto,this.getGastosSelect(s.idTipoGasto),this.detalleRendicion.gasto=s.idGasto,this.detalleRendicion.monto=s.monto,this.detalleRendicion.foto=s.foto;var a=document.querySelector("#foto");const c=new DataTransfer;c.items.add(s.foto),a.files=c.files,this.detalleRendicion.observaciones=s.observaciones,this.chargeImage(s.foto)},async guardarEdicion(t){this.errors=[];var s=!1;for(const u in this.detalleRendicion)(this.detalleRendicion[u]===""||this.detalleRendicion[u]===0)&&(u=="rut"||u=="nroDocumento"?this.detalleRendicion.idTipoDocumento==1&&u=="rut"||this.detalleRendicion.idTipoDocumento==1&&u=="nroDocumento"||this.detalleRendicion.idTipoDocumento==2&&u=="rut"||this.errors.push(u):this.errors.push(u)),this.fotoMiniatura==""&&s==!1&&(this.errors.push("foto"),s=!0);if(this.detalleRendicion.rut!=""){var a=this.validarRut(this.detalleRendicion.rut);a==!1&&this.errors.push("rut invalido")}if(this.detalleRendicion.idTipoDocumento==3||this.detalleRendicion.idTipoDocumento==4||this.detalleRendicion.idTipoDocumento==5){let u=[];u[0]=this.detalleRendicion.nroDocumento,u[1]=this.formatoRut(this.detalleRendicion.rut);var c=await _.post("api/verificarDetalleRendi",u).then(function(g){return g.data}.bind(this)).catch(function(g){console.log(g)});if(c>0)this.errors.push("detalleExistente");else if(this.cantidadDetalles>0){var n=!1;this.detalles.forEach(g=>{u[0]==g.nroDocumento&&u[1]==g.rut&&n==!1&&(this.errors.push("detalleExistente"),n=!0)})}}var d="";if(this.errors.length!=0&&(this.errors.forEach(u=>{u=="rut invalido"?d=d+`El rut ingresado es invalido
`:u=="idTipoDocumento"?d=d+`El campo Tipo Documento es requerido
`:u=="fechaRetiro"?d=d+`El campo Fecha Retiro es requerido
`:u=="nroDocumento"?d=d+`El campo Nº Documento es requerido
`:u=="tipoGasto"?d=d+`El campo Tipo Gasto es requerido
`:u=="detalleExistente"?d=d+`El documento ingresado ya existe
`:d=d+"El campo "+this.capitalizeFirstLetter(u)+` es requerido
`}),this.toast.warning(d,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let u={idDetalle:this.idEditar,idTipoDocumento:this.detalleRendicion.idTipoDocumento,fecha:this.detalleRendicion.fecha,nroDocumento:this.detalleRendicion.nroDocumento,rut:this.formatoRut(this.detalleRendicion.rut),idTipoGasto:this.detalleRendicion.tipoGasto,idGasto:this.detalleRendicion.gasto,monto:this.detalleRendicion.monto,foto:this.detalleRendicion.foto,observaciones:this.detalleRendicion.observaciones};this.detalles[t]=u,this.rendicion.monto=0,this.detalles.forEach(g=>{this.rendicion.monto=Number(this.rendicion.monto)+Number(g.monto)}),this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoeditar=!1}},async crearRendicion(){this.errorsRendi=[];for(const a in this.solicitud)(this.solicitud[a]===""||this.solicitud[a]===0)&&this.errorsRendi.push(a);for(const a in this.rendicion)(this.rendicion[a]===""||this.rendicion[a]===0)&&this.errorsRendi.push(a);this.cantidadDetalles==0&&(this.errorsRendi.push("detalles"),this.toast.warning("No puede crear una Rendición sin detalles",{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}));var t="";if(this.errorsRendi.length!=0&&(this.errorsRendi.forEach(a=>{a!="detalles"&&(a=="rut invalido"?t=t+`El rut ingresado es invalido
`:a=="detallesoli"?t=t+`El campo Detalle Solicitud es requerido
`:a=="detalleRendi"?t=t+`El campo Detalle Rendición es requerido
`:t=t+"El campo "+this.capitalizeFirstLetter(a)+` es requerido
`)}),this.toast.warning(t,{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errorsRendi.length===0&&await this.$refs.confirmation.show({title:"Crear Rendición",message:"¿Está seguro/a que desea crear esta Rendición ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const c=[];var s="";this.solicitud.monto-this.rendicion.monto==0&&(s="Ninguno"),this.solicitud.monto-this.rendicion.monto>0&&(s="Sobro"),this.solicitud.monto-this.rendicion.monto<0&&(s="Falto");let n={folio:this.solicitud.folio,fechaSoli:this.solicitud.fecha,fechaRendi:this.solicitud.fecha,idUsuarioSoli:this.solicitud.usuario,idUsuarioRendi:this.solicitud.usuario,montoSoli:this.solicitud.monto,montoRendi:this.rendicion.monto,colaborador:this.solicitud.colaborador,detalleSoli:this.solicitud.detallesoli,detalleRendi:this.rendicion.detalleRendi,idTipoMoneda:this.solicitud.moneda,pendiente:0,tipoImposicion:s};c.push(n),c.push(this.detalles),_.post("api/storeRendiciones",c,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{this.buttonText="Guardando...",this.buttonDisable1=!0,this.toast.success("Rendición guardada con éxito!",{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/rendiciones/sendEmailRendir",c,{headers:{"Content-Type":"multipart/form-data"}}).then(u=>{this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(u=>{console.log(u)})}).catch(d=>{d.response.status==422&&(this.errors=d.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},getTipoDoc(){_.get("api/getTipoDoc").then(t=>{this.tiposDoc=t.data}).catch(t=>console.log(t))},getGastos(){_.get("api/getGastos").then(t=>{this.gastos=t.data}).catch(t=>console.log(t))},getGastosSelect(t){this.gastosSelect=[],this.detalleRendicion.gasto="",this.gastos.forEach(s=>{s.idTipoGasto==t&&this.gastosSelect.push(s)})},getTipoGasto(){_.get("api/getTipoGasto").then(t=>{this.tiposGastos=t.data}).catch(t=>console.log(t))},getMonedas(){_.get("api/getMonedas").then(t=>{this.monedas=t.data}).catch(t=>console.log(t))},async crearSolicitud(){this.errorsSoli=[];for(const s in this.solicitud)(this.solicitud[s]===""||this.solicitud[s]===0)&&this.errorsSoli.push(s);var t="";if(this.errorsSoli.length!=0&&(this.errorsSoli.forEach(s=>{s=="detallesoli"?t=t+`El campo Detalle Solicitud es requerido
`:s=="detalleRendi"?t=t+`El campo Detalle Rendición es requerido
`:t=t+"El campo "+this.capitalizeFirstLetter(s)+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errorsSoli.length===0&&await this.$refs.confirmation.show({title:"Crear Solicitud",message:"¿Está seguro/a que desea crear esta solicitud ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){let a={folio:this.solicitud.folio,fechaSoli:this.solicitud.fecha,idUsuarioSoli:this.solicitud.usuario,montoSoli:this.solicitud.monto,colaborador:this.solicitud.colaborador,detalleSoli:this.solicitud.detallesoli,idTipoMoneda:this.solicitud.moneda,pendiente:1};_.post("api/rendiciones",a).then(c=>{this.buttonText="Guardando...",this.buttonDisable2=!0,this.toast.success("Solicitud guardada con éxito!",{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/rendiciones/sendEmail",a,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{console.log(n)})}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async agregarDetalle(){this.errors=[];var t=!1;for(const d in this.detalleRendicion)(this.detalleRendicion[d]===""||this.detalleRendicion[d]===0)&&(d=="rut"||d=="nroDocumento"?this.detalleRendicion.idTipoDocumento==1&&d=="rut"||this.detalleRendicion.idTipoDocumento==1&&d=="nroDocumento"||this.detalleRendicion.idTipoDocumento==2&&d=="rut"||this.errors.push(d):this.errors.push(d)),this.fotoMiniatura==""&&t==!1&&(this.errors.push("foto"),t=!0);if(this.detalleRendicion.rut!=""){var s=this.validarRut(this.detalleRendicion.rut);s==!1&&this.errors.push("rut invalido")}if(this.detalleRendicion.idTipoDocumento==3||this.detalleRendicion.idTipoDocumento==4||this.detalleRendicion.idTipoDocumento==5){let d=[];d[0]=this.detalleRendicion.nroDocumento,d[1]=this.formatoRut(this.detalleRendicion.rut);var a=await _.post("api/verificarDetalleRendi",d).then(function(u){return u.data}.bind(this)).catch(function(u){console.log(u)});if(a>0)this.errors.push("detalleExistente");else if(this.cantidadDetalles>0){var c=!1;this.detalles.forEach(u=>{d[0]==u.nroDocumento&&d[1]==u.rut&&c==!1&&(this.errors.push("detalleExistente"),c=!0)})}}var n="";if(this.errors.length!=0&&(this.errors.forEach(d=>{d=="rut invalido"?n=n+`El rut ingresado es invalido
`:d=="idTipoDocumento"?n=n+`El campo Tipo Documento es requerido
`:d=="fechaRetiro"?n=n+`El campo Fecha Retiro es requerido
`:d=="nroDocumento"?n=n+`El campo Nº Documento es requerido
`:d=="tipoGasto"?n=n+`El campo Tipo Gasto es requerido
`:d=="detalleExistente"?n=n+`El documento ingresado ya existe
`:n=n+"El campo "+this.capitalizeFirstLetter(d)+` es requerido
`}),this.toast.warning(n,{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let d={idDetalle:this.cantidadDetalles,idTipoDocumento:this.detalleRendicion.idTipoDocumento,fecha:this.detalleRendicion.fecha,nroDocumento:this.detalleRendicion.nroDocumento,rut:this.formatoRut(this.detalleRendicion.rut),idTipoGasto:this.detalleRendicion.tipoGasto,idGasto:this.detalleRendicion.gasto,monto:this.detalleRendicion.monto,foto:this.detalleRendicion.foto,observaciones:this.detalleRendicion.observaciones};this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(d),this.rendicion.monto=0,this.detalles.forEach(u=>{this.rendicion.monto=Number(this.rendicion.monto)+Number(u.monto)}),this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getDatos(t){_.get(`api/getDataRendi/${t}`).then(s=>{this.solicitud.folio=s.data[0],this.solicitud.fecha=s.data[1],this.nombreUsuario=s.data[2]}).catch(s=>console.log(s))},async getImage(t){this.detalleRendicion.foto=t.target.files[0];let s=[];await this.compressImages(this.detalleRendicion.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.detalleRendicion.foto=a,this.chargeImage(this.detalleRendicion.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},U8e={name:"modal"},V8e={class:"modal-mask"},L8e={class:"modal-wrapper"},j8e={class:"modal-container"},N8e={class:"modal-header fw-bold",style:{color:"#444444"}},H8e={class:"modal-body"},I8e={id:"tableDesign",class:"table align-items-center mb-0"},G8e=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud")])],-1),q8e={class:"text-sm mb-0"},K8e={class:"text-sm mb-0"},X8e={class:"text-sm mb-0"},J8e=e("br",null,null,-1),Z8e={class:"row"},W8e={class:"col-3"},Y8e={class:"form-group"},Q8e=e("label",{for:"colaborador"},"Colaborador: ",-1),eBe=e("br",null,null,-1),tBe=["disabled"],sBe=e("option",{disabled:"",value:""},"Seleccione un colaborador",-1),oBe=["value"],aBe={class:"col-3"},lBe={class:"form-group"},iBe=e("label",{for:"detalleSoli"},"Detalle Solicitud: ",-1),rBe=e("br",null,null,-1),nBe={class:"col-3"},dBe={class:"form-group"},cBe=e("label",{for:"monto"},"Monto: ",-1),uBe=e("br",null,null,-1),hBe={class:"col-3"},mBe={class:"form-group"},pBe=e("label",{for:"monedas"},"Monedas: ",-1),fBe=e("br",null,null,-1),bBe=e("option",{disabled:"",value:""},"Seleccione una divisa",-1),gBe=["value"],_Be={key:0,class:"form-check"},vBe={class:"form-check-label"},$Be=e("hr",{size:"4",class:"separador"},null,-1),yBe={key:1},CBe=e("h5",null,"Rendición",-1),wBe={id:"tableDesign",class:"table align-items-center mb-0"},kBe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Rendición")])],-1),xBe={class:"text-sm mb-0"},PBe={class:"text-sm mb-0"},EBe={class:"text-sm mb-0"},TBe={class:"text-sm mb-0"},DBe=e("br",null,null,-1),BBe=e("label",{for:"txtArea"},"Detalle Rendición:",-1),OBe=e("hr",{size:"4",class:"separador"},null,-1),MBe={enctype:"multipart/form-data"},SBe=e("h5",null,"Detalles Rendición",-1),RBe={class:"row"},ABe={class:"col-3"},FBe={class:"form-group"},zBe=e("label",{for:"idTipoDocumento"},"Tipo Documento: ",-1),UBe=e("br",null,null,-1),VBe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),LBe=["value"],jBe={class:"col-2"},NBe={class:"form-group"},HBe=e("label",{for:"fecha"},"Fecha: ",-1),IBe=e("br",null,null,-1),GBe={class:"col-2"},qBe={class:"form-group"},KBe=e("label",{for:"nroDocumento"},"N° Documento: ",-1),XBe=e("br",null,null,-1),JBe={class:"col-2"},ZBe={class:"form-group"},WBe=e("label",{for:"rut"},"Rut Documento: ",-1),YBe=e("br",null,null,-1),QBe={class:"col-3"},eOe={class:"form-group"},tOe=e("label",{for:"observaciones"},"Detalle: ",-1),sOe=e("br",null,null,-1),oOe={class:"row"},aOe={class:"col-3"},lOe={class:"form-group"},iOe=e("label",{for:"tipoGasto"},"Tipo Gasto: ",-1),rOe=e("br",null,null,-1),nOe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),dOe=["value"],cOe={class:"col-3"},uOe={class:"form-group"},hOe=e("label",{for:"gasto"},"Gasto: ",-1),mOe=e("br",null,null,-1),pOe=e("option",{disabled:"",value:""},"Seleccione un gasto",-1),fOe=["value"],bOe={class:"col-3"},gOe={class:"form-group"},_Oe=e("label",{for:"monto"},"Monto: ",-1),vOe=e("br",null,null,-1),$Oe={class:"row"},yOe={class:"col-4"},COe={class:"form-group"},wOe=e("label",{for:"foto"},"Foto: ",-1),kOe=e("br",null,null,-1),xOe={key:0,class:"col-4"},POe=["src"],EOe=e("hr",{size:"4",class:"separador"},null,-1),TOe={class:"row"},DOe={id:"tableDesign",class:"table align-items-center mb-0"},BOe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"TipoGasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),OOe={key:0},MOe=e("td",{colspan:"10"}," No hay información disponible. ",-1),SOe=[MOe],ROe={class:"text-sm mb-0"},AOe={key:0,class:"text-sm mb-0"},FOe={class:"text-sm mb-0"},zOe={key:0},UOe={class:"text-sm mb-0"},VOe={key:1},LOe={key:2},jOe={class:"text-sm mb-0"},NOe={key:3},HOe={key:0,class:"text-sm mb-0"},IOe={key:0,class:"text-sm mb-0"},GOe={class:"text-sm mb-0"},qOe={class:"text-sm mb-0"},KOe=["onClick"],XOe=e("i",{class:"fa fa-fw fa-edit"},null,-1),JOe=[XOe],ZOe=["onClick"],WOe=e("i",{class:"fa fa-fw fa-trash"},null,-1),YOe=[WOe],QOe={class:"modal-footer"},eMe=["disabled"],tMe=["disabled"];function sMe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=ot("has-error");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",U8e,[e("div",V8e,[e("div",L8e,[e("div",j8e,[e("div",N8e,[C(t.$slots,"header",{},()=>[p(" Nueva Solicitud Rendición ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",H8e,[C(t.$slots,"body",{},()=>[e("table",I8e,[G8e,e("tbody",null,[e("tr",null,[e("td",null,[e("p",q8e,i(t.solicitud.folio),1)]),e("td",null,[e("p",K8e,i(t.solicitud.fecha),1)]),e("td",null,[e("p",X8e,i(t.nombreUsuario),1)])])])]),J8e,e("form",null,[e("div",Z8e,[e("div",W8e,[e("div",Y8e,[Q8e,eBe,f(e("select",{disabled:t.selectDisabled,class:"form-select","onUpdate:modelValue":s[1]||(s[1]=h=>t.solicitud.colaborador=h)},[sBe,(l(!0),r(P,null,E(t.usuarios,h=>(l(),r("option",{key:h.id,value:h.name},i(h.name),9,oBe))),128))],8,tBe),[[A,t.solicitud.colaborador]])])]),e("div",aBe,[e("div",lBe,[iBe,rBe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=h=>t.solicitud.detallesoli=h)},null,512),[[k,t.solicitud.detallesoli]])])]),e("div",nBe,[e("div",dBe,[cBe,uBe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=h=>t.solicitud.monto=h)},null,512),[[k,t.solicitud.monto]])])]),e("div",hBe,[e("div",mBe,[pBe,fBe,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=h=>t.solicitud.moneda=h)},[bBe,(l(!0),r(P,null,E(t.monedas,h=>(l(),r("option",{key:h.id,value:h.id},i(h.abreviacion),9,gBe))),128))],512),[[A,t.solicitud.moneda]])])])])]),t.administrador==!0?(l(),r("div",_Be,[e("label",vBe,[f(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=h=>t.rendicionEstado=h)},null,512),[[ne,t.rendicionEstado]]),p(" Agregar Rendición ")])])):m("",!0),$Be,t.rendicionEstado==!0?(l(),r("div",yBe,[CBe,e("table",wBe,[kBe,e("tbody",null,[e("tr",null,[e("td",null,[e("p",xBe,i(t.solicitud.folio),1)]),e("td",null,[e("p",PBe,i(t.solicitud.fecha),1)]),e("td",null,[e("p",EBe,i(t.nombreUsuario),1)]),e("td",null,[e("p",TBe,i(t.formatMoneyCLP(t.rendicion.monto)),1)])])])]),DBe,BBe,p("   "),f(e("textarea",{style:{resize:"none","vertical-align":"middle"},class:"form-control",id:"txtArea",rows:"1",cols:"50","onUpdate:modelValue":s[6]||(s[6]=h=>t.rendicion.detalleRendi=h)},null,512),[[k,t.rendicion.detalleRendi]]),OBe,e("form",MBe,[SBe,e("div",RBe,[e("div",ABe,[e("div",FBe,[zBe,UBe,f(e("select",{class:"form-select","onUpdate:modelValue":s[7]||(s[7]=h=>t.detalleRendicion.idTipoDocumento=h)},[VBe,(l(!0),r(P,null,E(t.tiposDoc,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,LBe))),128))],512),[[A,t.detalleRendicion.idTipoDocumento]])])]),e("div",jBe,[e("div",NBe,[HBe,IBe,f(e("input",{type:"date",class:"form-control",onChange:s[8]||(s[8]=h=>d.verificarFecha()),"onUpdate:modelValue":s[9]||(s[9]=h=>t.detalleRendicion.fecha=h)},null,544),[[k,t.detalleRendicion.fecha]])])]),e("div",GBe,[e("div",qBe,[KBe,XBe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=h=>t.detalleRendicion.nroDocumento=h)},null,512),[[k,t.detalleRendicion.nroDocumento]])])]),e("div",JBe,[e("div",ZBe,[WBe,YBe,f(e("input",{type:"text",class:"form-control",onKeyup:s[11]||(s[11]=h=>d.checkRut()),onInput:s[12]||(s[12]=(...h)=>d.validateInput&&d.validateInput(...h)),onKeypress:s[13]||(s[13]=(...h)=>d.isNumberOrDash&&d.isNumberOrDash(...h)),"onUpdate:modelValue":s[14]||(s[14]=h=>t.detalleRendicion.rut=h)},null,544),[[k,t.detalleRendicion.rut]])])]),e("div",QBe,[e("div",eOe,[tOe,sOe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=h=>t.detalleRendicion.observaciones=h)},null,512),[[k,t.detalleRendicion.observaciones]])])])]),e("div",oOe,[e("div",aOe,[e("div",lOe,[iOe,rOe,f(e("select",{class:"form-select",onChange:s[16]||(s[16]=h=>d.getGastosSelect(h.target.value)),"onUpdate:modelValue":s[17]||(s[17]=h=>t.detalleRendicion.tipoGasto=h)},[nOe,(l(!0),r(P,null,E(t.tiposGastos,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,dOe))),128))],544),[[A,t.detalleRendicion.tipoGasto]])])]),e("div",cOe,[e("div",uOe,[hOe,mOe,f(e("select",{class:"form-select","onUpdate:modelValue":s[18]||(s[18]=h=>t.detalleRendicion.gasto=h)},[pOe,(l(!0),r(P,null,E(t.gastosSelect,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,fOe))),128))],512),[[A,t.detalleRendicion.gasto]])])]),e("div",bOe,[e("div",gOe,[_Oe,vOe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[19]||(s[19]=h=>t.detalleRendicion.monto=h)},null,512),[[k,t.detalleRendicion.monto]])])])]),e("div",$Oe,[e("div",yOe,[e("div",COe,[wOe,kOe,f(e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"foto",class:"form-control",onChange:s[20]||(s[20]=(...h)=>d.getImage&&d.getImage(...h))},null,544),[[o,t.errors.foto]])])]),t.fotoMiniatura!=""?(l(),r("div",xOe,[e("figure",null,[e("img",{width:"100",height:"100",src:d.imagen,alt:"Foto Miniatura"},null,8,POe)])])):m("",!0)]),t.modoeditar==!1?(l(),r("a",{key:0,onClick:s[21]||(s[21]=h=>d.agregarDetalle()),class:"btn btn-dark-grey"},"Agregar detalle")):m("",!0),t.modoeditar==!0?(l(),r("a",{key:1,onClick:s[22]||(s[22]=h=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar detalle")):m("",!0),p("   "),t.modoeditar==!0?(l(),r("a",{key:2,onClick:s[23]||(s[23]=h=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),EOe,e("div",TOe,[e("table",DOe,[BOe,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",OOe,SOe)):(l(!0),r(P,{key:1},E(t.detalles,h=>(l(),r("tr",{key:h},[e("td",null,[e("p",ROe,i(h.idDetalle+1),1)]),e("td",null,[(l(!0),r(P,null,E(t.tiposDoc,b=>(l(),r("div",{key:b.id},[h.idTipoDocumento==b.id?(l(),r("p",AOe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",FOe,i(h.fecha),1)]),h.nroDocumento!=""?(l(),r("td",zOe,[e("p",UOe,i(h.nroDocumento),1)])):(l(),r("td",VOe,"---")),h.rut!=""?(l(),r("td",LOe,[e("p",jOe,i(h.rut),1)])):(l(),r("td",NOe,"---")),e("td",null,[(l(!0),r(P,null,E(t.tiposGastos,b=>(l(),r("div",{key:b.id},[h.idTipoGasto==b.id?(l(),r("p",HOe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[(l(!0),r(P,null,E(t.gastos,b=>(l(),r("div",{key:b.id},[h.idGasto==b.id?(l(),r("p",IOe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",GOe,i(t.formatMoneyCLP(h.monto)),1)]),e("td",null,[e("p",qOe,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:b=>d.editarDetalle(h.idDetalle)},JOe,8,KOe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:b=>d.eliminarDetalle(h)},YOe,8,ZOe)])])]))),128))])])])])):m("",!0)])]),e("div",QOe,[C(t.$slots,"footer",{},()=>[t.rendicionEstado==!0?(l(),r("button",{key:0,class:"btn btn-dark-grey float-end",onClick:s[24]||(s[24]=h=>d.crearRendicion()),disabled:t.buttonDisable1},i(t.buttonText),9,eMe)):m("",!0),t.rendicionEstado==!1?(l(),r("button",{key:1,class:"btn btn-dark-grey float-end",onClick:s[25]||(s[25]=h=>d.crearSolicitud()),disabled:t.buttonDisable2},"Crear Solicitud",8,tMe)):m("",!0)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const oMe=U(z8e,[["render",sMe]]);let aMe=document.head.querySelector('meta[name="user"]');const lMe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({rendi1:{folio:"",colaborador:"",montoSoli:"",montoRendi:0,idUsuarioSoli:"",idUsuarioRendi:JSON.parse(aMe.content).id,fechaSoli:"",fechaRendi:"",detalleSoli:"",detalleRendi:"",idTipoMoneda:""},detalleRendicion:{idTipoDocumento:"",fecha:"",nroDocumento:"",rut:"",tipoGasto:"",gasto:"",monto:"",foto:null,observaciones:""},id:null,fotoMiniatura:"",buttonText:"Crear Rendición",buttonDisable:!1,abrMoneda:"",tiposGastos:[],gastos:[],gastosSelect:[],tiposDoc:[],detalles:[],errors:[],errorsRendi:[],nombreUsuario:"",nombreUsuarioSoli:"",modoeditar:!1,cantidadDetalles:0,idEditar:""}),props:{rendi:Object},created(){this.rendi1.folio=this.rendi.folio,this.rendi1.colaborador=this.rendi.colaborador,this.rendi1.montoSoli=this.rendi.montoSoli,this.rendi1.idUsuarioSoli=this.rendi.idUsuarioSoli,this.rendi1.fechaSoli=this.rendi.fechaSoli,this.rendi1.fechaRendi=this.rendi.fechaRendi,this.rendi1.detalleSoli=this.rendi.detalleSoli,this.rendi1.idTipoMoneda=this.rendi.idTipoMoneda,this.abrMoneda=this.rendi.moneda.abreviacion,this.id=this.rendi.id,this.getDatos(this.userID),this.getNomUsuarioSoli(this.rendi.idUsuarioSoli),this.getTipoGasto(),this.getGastos(),this.getTipoDoc()},methods:{validateInput(){this.detalleRendicion.rut=this.detalleRendicion.rut.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&detalleRendicion.rut.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},verificarFecha(){const t=new Date().toISOString().slice(0,10);this.detalleRendicion.fecha>t&&(this.detalleRendicion.fecha="",this.toast.warning("La fecha ingresada es mayor a la fecha actual.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},checkRut(){if(this.detalleRendicion.rut!=""){this.detalleRendicion.rut.replace(".","");var t=this.detalleRendicion.rut.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.detalleRendicion.rut=s+"-"+a}},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cantidadDetalles=this.cantidadDetalles-1,this.rendi1.montoRendi=0,this.detalles.forEach(a=>{this.rendi1.montoRendi=Number(this.rendi1.montoRendi)+Number(a.monto)}))},cancelarEditar(){this.modoeditar=!1,this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoeditar=!0;var s=this.detalles[t];this.detalleRendicion.idTipoDocumento=s.idTipoDocumento,this.detalleRendicion.fecha=s.fecha,this.detalleRendicion.rut=s.rut,this.detalleRendicion.nroDocumento=s.nroDocumento,this.detalleRendicion.tipoGasto=s.idTipoGasto,this.getGastosSelect(s.idTipoGasto),this.detalleRendicion.gasto=s.idGasto,this.detalleRendicion.monto=s.monto,this.detalleRendicion.foto=s.foto;var a=document.querySelector("#foto");const c=new DataTransfer;c.items.add(s.foto),a.files=c.files,this.detalleRendicion.observaciones=s.observaciones,this.chargeImage(s.foto)},async guardarEdicion(t){this.errors=[];var s=!1;for(const u in this.detalleRendicion)(this.detalleRendicion[u]===""||this.detalleRendicion[u]===0)&&(u=="rut"||u=="nroDocumento"?this.detalleRendicion.idTipoDocumento==1&&u=="rut"||this.detalleRendicion.idTipoDocumento==1&&u=="nroDocumento"||this.detalleRendicion.idTipoDocumento==2&&u=="rut"||this.errors.push(u):this.errors.push(u)),this.fotoMiniatura==""&&s==!1&&(this.errors.push("foto"),s=!0);if(this.detalleRendicion.rut!=""){var a=this.validarRut(this.detalleRendicion.rut);a==!1&&this.errors.push("rut invalido")}if(this.detalleRendicion.idTipoDocumento==3||this.detalleRendicion.idTipoDocumento==4||this.detalleRendicion.idTipoDocumento==5){let u=[];u[0]=this.detalleRendicion.nroDocumento,u[1]=this.formatoRut(this.detalleRendicion.rut);var c=await _.post("api/verificarDetalleRendi",u).then(function(g){return g.data}.bind(this)).catch(function(g){console.log(g)});if(c>0)this.errors.push("detalleExistente");else if(this.cantidadDetalles>0){var n=!1;this.detalles.forEach(g=>{u[0]==g.nroDocumento&&u[1]==g.rut&&n==!1&&(this.errors.push("detalleExistente"),n=!0)})}}var d="";if(this.errors.length!=0&&(this.errors.forEach(u=>{u=="rut invalido"?d=d+`El rut ingresado es invalido
`:u=="idTipoDocumento"?d=d+`El campo Tipo Documento es requerido
`:u=="fechaRetiro"?d=d+`El campo Fecha Retiro es requerido
`:u=="nroDocumento"?d=d+`El campo Nº Documento es requerido
`:u=="tipoGasto"?d=d+`El campo Tipo Gasto es requerido
`:u=="detalleExistente"?d=d+`El documento ingresado ya existe
`:d=d+"El campo "+this.capitalizeFirstLetter(u)+` es requerido
`}),this.toast.warning(d,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let u={idDetalle:this.idEditar,idTipoDocumento:this.detalleRendicion.idTipoDocumento,fecha:this.detalleRendicion.fecha,nroDocumento:this.detalleRendicion.nroDocumento,rut:this.formatoRut(this.detalleRendicion.rut),idTipoGasto:this.detalleRendicion.tipoGasto,idGasto:this.detalleRendicion.gasto,monto:this.detalleRendicion.monto,foto:this.detalleRendicion.foto,observaciones:this.detalleRendicion.observaciones};this.detalles[t]=u,this.rendi1.montoRendi=0,this.detalles.forEach(g=>{this.rendi1.montoRendi=Number(this.rendi1.montoRendi)+Number(g.monto)}),this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoeditar=!1}},async crearRendicion(){if(this.errorsRendi=[],this.rendi1.detalleRendi==""&&(this.errorsRendi.push("detalleRendi"),this.toast.warning("El detalle de la Rendición es requerido",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.rendi1.tipoImposicion==""&&(this.errorsRendi.push("tipo imposicion"),this.toast.warning("El campo tipo imposicion es requerido",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.cantidadDetalles==0&&(this.errorsRendi.push("detalles"),this.toast.warning("No puede crear una Rendición sin detalles",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errorsRendi.length===0&&await this.$refs.confirmation.show({title:"Crear Rendición",message:"¿Está seguro/a que desea crear esta Rendición ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const a=[];var t="";this.rendi1.montoSoli-this.rendi1.montoRendi==0&&(t="Ninguno"),this.rendi1.montoSoli-this.rendi1.montoRendi>0&&(t="Sobro"),this.rendi1.montoSoli-this.rendi1.montoRendi<0&&(t="Falto");let c={folio:this.rendi1.folio,colaborador:this.rendi1.colaborador,montoSoli:this.rendi1.montoSoli,montoRendi:this.rendi1.montoRendi,idUsuarioSoli:this.rendi1.idUsuarioSoli,idUsuarioRendi:this.rendi1.idUsuarioRendi,fechaSoli:this.rendi1.fechaSoli,fechaRendi:this.rendi1.fechaRendi,detalleSoli:this.rendi1.detalleSoli,detalleRendi:this.rendi1.detalleRendi,pendiente:0,tipoImposicion:t};a.push(c),a.push(this.detalles),_.post("api/storeRendir",a,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{console.log(n.data),this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Rendición guardada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/rendiciones/sendEmailRendir",a,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(d=>{console.log(d)})}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async agregarDetalle(){this.errors=[];var t=!1;for(const d in this.detalleRendicion)(this.detalleRendicion[d]===""||this.detalleRendicion[d]===0)&&(d=="rut"||d=="nroDocumento"?this.detalleRendicion.idTipoDocumento==1&&d=="rut"||this.detalleRendicion.idTipoDocumento==1&&d=="nroDocumento"||this.detalleRendicion.idTipoDocumento==2&&d=="rut"||this.errors.push(d):this.errors.push(d)),this.fotoMiniatura==""&&t==!1&&(this.errors.push("foto"),t=!0);if(this.detalleRendicion.rut!=""){var s=this.validarRut(this.detalleRendicion.rut);s==!1&&this.errors.push("rut invalido")}if(this.detalleRendicion.idTipoDocumento==3||this.detalleRendicion.idTipoDocumento==4||this.detalleRendicion.idTipoDocumento==5){let d=[];d[0]=this.detalleRendicion.nroDocumento,d[1]=this.formatoRut(this.detalleRendicion.rut);var a=await _.post("api/verificarDetalleRendi",d).then(function(u){return u.data}.bind(this)).catch(function(u){console.log(u)});if(a>0)this.errors.push("detalleExistente");else if(this.cantidadDetalles>0){var c=!1;this.detalles.forEach(u=>{d[0]==u.nroDocumento&&d[1]==u.rut&&c==!1&&(this.errors.push("detalleExistente"),c=!0)})}}var n="";if(this.errors.length!=0&&(this.errors.forEach(d=>{d=="rut invalido"?n=n+`El rut ingresado es invalido
`:d=="idTipoDocumento"?n=n+`El campo Tipo Documento es requerido
`:d=="fechaRetiro"?n=n+`El campo Fecha Retiro es requerido
`:d=="nroDocumento"?n=n+`El campo Nº Documento es requerido
`:d=="tipoGasto"?n=n+`El campo Tipo Gasto es requerido
`:d=="detalleExistente"?n=n+`El documento ingresado ya existe
`:n=n+"El campo "+this.capitalizeFirstLetter(d)+` es requerido
`}),this.toast.warning(n,{position:"top-right",timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let d={idDetalle:this.cantidadDetalles,idTipoDocumento:this.detalleRendicion.idTipoDocumento,fecha:this.detalleRendicion.fecha,nroDocumento:this.detalleRendicion.nroDocumento,rut:this.formatoRut(this.detalleRendicion.rut),idTipoGasto:this.detalleRendicion.tipoGasto,idGasto:this.detalleRendicion.gasto,monto:this.detalleRendicion.monto,foto:this.detalleRendicion.foto,observaciones:this.detalleRendicion.observaciones};this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(d),this.rendi1.montoRendi=0,this.detalles.forEach(u=>{this.rendi1.montoRendi=Number(this.rendi1.montoRendi)+Number(u.monto)}),this.detalleRendicion.idTipoDocumento="",this.detalleRendicion.fecha="",this.detalleRendicion.rut="",this.detalleRendicion.nroDocumento="",this.detalleRendicion.tipoGasto="",this.detalleRendicion.gasto="",this.detalleRendicion.monto="",this.detalleRendicion.foto=null,this.detalleRendicion.observaciones="",this.fotoMiniatura="",this.clearInput("foto"),this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getTipoDoc(){_.get("api/getTipoDoc").then(t=>{this.tiposDoc=t.data}).catch(t=>console.log(t))},getDatos(t){_.get(`api/getDataRendi/${t}`).then(s=>{this.rendi1.fechaRendi=s.data[1],this.nombreUsuario=s.data[2]}).catch(s=>console.log(s))},getGastos(){_.get("api/getGastos").then(t=>{this.gastos=t.data}).catch(t=>console.log(t))},getGastosSelect(t){this.gastosSelect=[],this.gastos.forEach(s=>{s.idTipoGasto==t&&this.gastosSelect.push(s)})},getTipoGasto(){_.get("api/getTipoGasto").then(t=>{this.tiposGastos=t.data}).catch(t=>console.log(t))},getNomUsuarioSoli(t){_.get(`api/getNomUsuarioSoli/${t}`).then(s=>{this.nombreUsuarioSoli=s.data}).catch(s=>console.log(s))},async getImage(t){this.detalleRendicion.foto=t.target.files[0];let s=[];await this.compressImages(this.detalleRendicion.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.detalleRendicion.foto=a,this.chargeImage(this.detalleRendicion.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},iMe={name:"modal"},rMe={class:"modal-mask"},nMe={class:"modal-wrapper"},dMe={class:"modal-container"},cMe={class:"modal-header fw-bold",style:{color:"#444444"}},uMe={class:"modal-body"},hMe=e("h4",null,"Solicitud",-1),mMe=e("br",null,null,-1),pMe={id:"tableDesign",class:"table align-items-center mb-0"},fMe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Moneda")])],-1),bMe={class:"text-sm mb-0"},gMe={class:"text-sm mb-0"},_Me=["title"],vMe={class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},$Me=["title"],yMe={class:"text-sm mb-0",style:{width:"100px","word-wrap":"break-word",overflow:"hidden","text-overflow":"ellipsis"}},CMe={class:"text-sm mb-0"},wMe={class:"text-sm mb-0"},kMe={class:"text-sm mb-0"},xMe={class:"text-sm mb-0"},PMe={class:"text-sm mb-0"},EMe=e("hr",{size:"4",class:"separador"},null,-1),TMe=e("label",null," Detalle Solicitud: ",-1),DMe=e("br",null,null,-1),BMe=e("label",{style:{"vertical-align":"top"},for:"txtArea"},"Detalle Rendición:",-1),OMe=e("hr",{size:"4",class:"separador"},null,-1),MMe={enctype:"multipart/form-data"},SMe=e("h5",null,"Detalles Rendición",-1),RMe={class:"row"},AMe={class:"col-3"},FMe={class:"form-group"},zMe=e("label",{for:"idTipoDocumento"},"Tipo Documento: ",-1),UMe=e("br",null,null,-1),VMe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),LMe=["value"],jMe={class:"col-2"},NMe={class:"form-group"},HMe=e("label",{for:"fecha"},"Fecha: ",-1),IMe=e("br",null,null,-1),GMe={class:"col-2"},qMe={class:"form-group"},KMe=e("label",{for:"nroDocumento"},"N° Documento: ",-1),XMe=e("br",null,null,-1),JMe={class:"col-2"},ZMe={class:"form-group"},WMe=e("label",{for:"rut"},"Rut Documento: ",-1),YMe=e("br",null,null,-1),QMe={class:"col-3"},eSe={class:"form-group"},tSe=e("label",{for:"observaciones"},"Detalle: ",-1),sSe=e("br",null,null,-1),oSe={class:"row"},aSe={class:"col-3"},lSe={class:"form-group"},iSe=e("label",{for:"tipoGasto"},"Tipo Gasto: ",-1),rSe=e("br",null,null,-1),nSe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),dSe=["value"],cSe={class:"col-3"},uSe={class:"form-group"},hSe=e("label",{for:"gasto"},"Gasto: ",-1),mSe=e("br",null,null,-1),pSe=e("option",{disabled:"",value:""},"Seleccione un gasto",-1),fSe=["value"],bSe={class:"col-3"},gSe={class:"form-group"},_Se=e("label",{for:"monto"},"Monto: ",-1),vSe=e("br",null,null,-1),$Se={class:"row"},ySe={class:"col-4"},CSe={class:"form-group"},wSe=e("label",{for:"foto"},"Foto: ",-1),kSe=e("br",null,null,-1),xSe={key:0,class:"col-4"},PSe=["src"],ESe={class:"justify-content-end"},TSe=e("hr",{size:"4",class:"separador"},null,-1),DSe={class:"row"},BSe={id:"tableDesign",class:"table align-items-center mb-0"},OSe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Doc."),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N° Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut Documento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"TipoGasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Gasto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),MSe={key:0},SSe=e("td",{colspan:"10"}," No hay información disponible. ",-1),RSe=[SSe],ASe={class:"text-sm mb-0"},FSe={key:0,class:"text-sm mb-0"},zSe={class:"text-sm mb-0"},USe={key:0},VSe={class:"text-sm mb-0"},LSe={key:1},jSe={key:2},NSe={class:"text-sm mb-0"},HSe={key:3},ISe={key:0,class:"text-sm mb-0"},GSe={key:0,class:"text-sm mb-0"},qSe={class:"text-sm mb-0"},KSe={class:"text-sm mb-0"},XSe=["onClick"],JSe=e("i",{class:"fa fa-fw fa-edit"},null,-1),ZSe=[JSe],WSe=["onClick"],YSe=e("i",{class:"fa fa-fw fa-trash"},null,-1),QSe=[YSe],eRe={class:"modal-footer"},tRe=["disabled"];function sRe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=ot("has-error");return l(),T(G,{name:"modalver"},{default:I(()=>[e("div",iMe,[e("div",rMe,[e("div",nMe,[e("div",dMe,[e("div",cMe,[C(t.$slots,"header",{},()=>[p(" Rendir Solicitud ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=h=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",uMe,[C(t.$slots,"body",{},()=>[hMe,mMe,e("table",pMe,[fMe,e("tbody",null,[e("tr",null,[e("td",null,[e("p",bMe,i(t.rendi1.folio),1)]),e("td",null,[e("p",gMe,i(t.rendi1.colaborador),1)]),e("td",{title:t.nombreUsuarioSoli},[e("p",vMe,i(t.nombreUsuarioSoli),1)],8,_Me),e("td",{title:t.nombreUsuario},[e("p",yMe,i(t.nombreUsuario),1)],8,$Me),e("td",null,[e("p",CMe,i(t.thisDate(t.rendi1.fechaSoli)),1)]),e("td",null,[e("p",wMe,i(t.rendi1.fechaRendi),1)]),e("td",null,[e("p",kMe,i(t.formatMoneyCLP(t.rendi1.montoSoli)),1)]),e("td",null,[e("p",xMe,i(t.formatMoneyCLP(t.rendi1.montoRendi)),1)]),e("td",null,[e("p",PMe,i(t.abrMoneda),1)])])])]),EMe,TMe,e("p",null,i(this.rendi1.detalleSoli),1),DMe,BMe,p("  "),f(e("textarea",{style:{resize:"none"},class:"form-control",id:"txtArea",rows:"1",cols:"50","onUpdate:modelValue":s[1]||(s[1]=h=>t.rendi1.detalleRendi=h)},null,512),[[k,t.rendi1.detalleRendi]]),OMe,e("form",MMe,[SMe,e("div",RMe,[e("div",AMe,[e("div",FMe,[zMe,UMe,f(e("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=h=>t.detalleRendicion.idTipoDocumento=h)},[VMe,(l(!0),r(P,null,E(t.tiposDoc,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,LMe))),128))],512),[[A,t.detalleRendicion.idTipoDocumento]])])]),e("div",jMe,[e("div",NMe,[HMe,IMe,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=h=>t.detalleRendicion.fecha=h),onChange:s[4]||(s[4]=h=>d.verificarFecha())},null,544),[[k,t.detalleRendicion.fecha]])])]),e("div",GMe,[e("div",qMe,[KMe,XMe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=h=>t.detalleRendicion.nroDocumento=h)},null,512),[[k,t.detalleRendicion.nroDocumento]])])]),e("div",JMe,[e("div",ZMe,[WMe,YMe,f(e("input",{type:"text",class:"form-control",onInput:s[6]||(s[6]=(...h)=>d.validateInput&&d.validateInput(...h)),onKeypress:s[7]||(s[7]=(...h)=>d.isNumberOrDash&&d.isNumberOrDash(...h)),onKeyup:s[8]||(s[8]=h=>d.checkRut()),"onUpdate:modelValue":s[9]||(s[9]=h=>t.detalleRendicion.rut=h)},null,544),[[k,t.detalleRendicion.rut]])])]),e("div",QMe,[e("div",eSe,[tSe,sSe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=h=>t.detalleRendicion.observaciones=h)},null,512),[[k,t.detalleRendicion.observaciones]])])])]),e("div",oSe,[e("div",aSe,[e("div",lSe,[iSe,rSe,f(e("select",{class:"form-select",onChange:s[11]||(s[11]=h=>d.getGastosSelect(h.target.value)),"onUpdate:modelValue":s[12]||(s[12]=h=>t.detalleRendicion.tipoGasto=h)},[nSe,(l(!0),r(P,null,E(t.tiposGastos,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,dSe))),128))],544),[[A,t.detalleRendicion.tipoGasto]])])]),e("div",cSe,[e("div",uSe,[hSe,mSe,f(e("select",{class:"form-select","onUpdate:modelValue":s[13]||(s[13]=h=>t.detalleRendicion.gasto=h)},[pSe,(l(!0),r(P,null,E(t.gastosSelect,h=>(l(),r("option",{key:h.id,value:h.id},i(h.nombre),9,fSe))),128))],512),[[A,t.detalleRendicion.gasto]])])]),e("div",bSe,[e("div",gSe,[_Se,vSe,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=h=>t.detalleRendicion.monto=h)},null,512),[[k,t.detalleRendicion.monto]])])])]),e("div",$Se,[e("div",ySe,[e("div",CSe,[wSe,kSe,f(e("input",{type:"file",accept:".jpg, .jpeg, .png, .heif, .heic",id:"foto",class:"form-control",onChange:s[15]||(s[15]=(...h)=>d.getImage&&d.getImage(...h))},null,544),[[o,t.errors.foto]])])]),t.fotoMiniatura!=""?(l(),r("div",xSe,[e("figure",null,[e("img",{width:"100",height:"100",src:d.imagen,alt:"Foto Miniatura"},null,8,PSe)])])):m("",!0)]),e("div",ESe,[t.modoeditar==!1?(l(),r("a",{key:0,onClick:s[16]||(s[16]=h=>d.agregarDetalle()),class:"btn btn-dark-grey"},"Agregar detalle")):m("",!0),t.modoeditar==!0?(l(),r("a",{key:1,onClick:s[17]||(s[17]=h=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar detalle")):m("",!0),p("   "),t.modoeditar==!0?(l(),r("a",{key:2,onClick:s[18]||(s[18]=h=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)])]),TSe,e("div",DSe,[e("table",BSe,[OSe,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",MSe,RSe)):(l(!0),r(P,{key:1},E(t.detalles,h=>(l(),r("tr",{key:h},[e("td",null,[e("p",ASe,i(h.idDetalle+1),1)]),e("td",null,[(l(!0),r(P,null,E(t.tiposDoc,b=>(l(),r("div",{key:b.id},[h.idTipoDocumento==b.id?(l(),r("p",FSe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",zSe,i(h.fecha),1)]),h.nroDocumento!=""?(l(),r("td",USe,[e("p",VSe,i(h.nroDocumento),1)])):(l(),r("td",LSe,"---")),h.rut!=""?(l(),r("td",jSe,[e("p",NSe,i(h.rut),1)])):(l(),r("td",HSe,"---")),e("td",null,[(l(!0),r(P,null,E(t.tiposGastos,b=>(l(),r("div",{key:b.id},[h.idTipoGasto==b.id?(l(),r("p",ISe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[(l(!0),r(P,null,E(t.gastos,b=>(l(),r("div",{key:b.id},[h.idGasto==b.id?(l(),r("p",GSe,i(b.nombre),1)):m("",!0)]))),128))]),e("td",null,[e("p",qSe,i(t.formatMoneyCLP(h.monto)),1)]),e("td",null,[e("p",KSe,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:b=>d.editarDetalle(h.idDetalle)},ZSe,8,XSe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:b=>d.eliminarDetalle(h)},QSe,8,WSe)])])]))),128))])])])])]),e("div",eRe,[C(t.$slots,"footer",{},()=>[e("a",{class:"btn btn-dark-grey float-end",onClick:s[19]||(s[19]=h=>d.crearRendicion()),disabled:t.buttonDisable},i(t.buttonText),9,tRe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const oRe=U(lMe,[["render",sRe]]),aRe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Rendición",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,rendisAutorizar:null,errors:[],tablaFondoFijoAutorizar:null,checkAll1:!1,usuariosRendiciones:[]}),created(){this.getRendis(this.userID)},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRendis(t){_.get(`api/rendiciones/${t}`).then(s=>{this.rendisAutorizar=s.data,this.rendisAutorizar=this.rendisAutorizar.filter(a=>a.estado=="PendAutRen"),this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(s=>console.log(s))},async saveAuth(){if(this.rendisAutorizar==0)this.toast.warning("No hay nada que autorizar",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})){var t=[];t.push(this.rendisAutorizar),t.push(this.userID),_.post("api/rendiciones/autorizarRendi",t).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},lRe={name:"modal"},iRe={class:"modal-mask"},rRe={class:"modal-wrapper"},nRe={class:"modal-container-xl"},dRe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},cRe={class:"modal-body"},uRe={class:"table-responsive p-0",id:"espaciadoTablaGastos",style:{"min-height":"300px","max-height":"500px"}},hRe={class:"loader"},mRe={class:"table align-items-center mb-0",id:"tableDesign"},pRe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Moneda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Objeciones")])],-1),fRe={key:0},bRe=e("td",{colspan:"10"}," No hay información disponible. ",-1),gRe=[bRe],_Re={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},vRe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},$Re={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},yRe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},CRe={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},wRe={class:"text-sm mb-0"},kRe={class:"text-sm mb-0"},xRe={class:"text-sm mb-0"},PRe={class:"text-sm mb-0"},ERe={class:"text-sm mb-0"},TRe={class:"text-sm mb-0"},DRe={class:"form-check"},BRe=["onUpdate:modelValue"],ORe=e("label",{style:{"margin-right":"15px"}},"Si",-1),MRe=["onUpdate:modelValue"],SRe=e("label",null,"No",-1),RRe=["onUpdate:modelValue"],ARe=e("label",null,"Pendiente",-1),FRe={class:"text-sm mb-0"},zRe=["onUpdate:modelValue"],URe={class:"modal-footer"},VRe=["disabled"];function LRe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",lRe,[e("div",iRe,[e("div",rRe,[e("div",nRe,[e("div",dRe,[C(t.$slots,"header",{},()=>[p(" Autorizar Rendición: ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",cRe,[C(t.$slots,"body",{},()=>[e("div",uRe,[f(e("div",hRe,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",mRe,[pRe,e("tbody",null,[t.rendisAutorizar==0?(l(),r("tr",fRe,gRe)):(l(!0),r(P,{key:1},E(t.rendisAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",_Re,i(o.id),1)]),e("td",null,[o.estado=="PendRen"?(l(),r("p",vRe," Pendiente Rendición ")):o.estado=="PendAutRen"?(l(),r("p",$Re," Pendiente Auth Rendición ")):o.estado=="PendAutPag"?(l(),r("p",yRe," Pendiente Auth Pago ")):o.estado=="Rendida"?(l(),r("p",CRe," Rendida ")):m("",!0)]),e("td",null,[e("p",wRe,i(o.folio),1)]),e("td",null,[e("p",kRe,i(o.colaborador),1)]),e("td",null,[e("p",xRe,i(t.formatMoneyCLP(o.montoSoli)),1)]),e("td",null,[e("p",PRe,i(o.moneda.abreviacion),1)]),e("td",null,[e("p",ERe,i(o.usuario_soli.name),1)]),e("td",null,[e("p",TRe,i(t.thisDate(o.fechaSoli)),1)]),e("td",null,[e("div",DRe,[f(e("input",{style:{"-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"true","onUpdate:modelValue":h=>o.autorizadoRendi=h},null,8,BRe),[[we,o.autorizadoRendi]]),ORe,f(e("input",{style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"false","onUpdate:modelValue":h=>o.autorizadoRendi=h},null,8,MRe),[[we,o.autorizadoRendi]]),SRe,f(e("input",{selected:"",checked:"",style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"null","onUpdate:modelValue":h=>o.autorizadoRendi=h},null,8,RRe),[[we,o.autorizadoRendi]]),ARe])]),e("td",null,[e("p",FRe,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.objecionesRendi=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,zRe),[[k,o.objecionesRendi]])])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),e("div",URe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[1]||(s[1]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,VRe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const jRe=U(aRe,[["render",LRe]]),NRe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Rendición",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,rendisAutorizar:null,errors:[],tablaFondoFijoAutorizar:null,checkAll1:!1,usuariosRendiciones:[]}),created(){this.getRendis(this.userID)},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getRendis(t){_.get(`api/rendiciones/${t}`).then(s=>{this.rendisAutorizar=s.data,this.rendisAutorizar=this.rendisAutorizar.filter(a=>a.estado=="PendAutPag"),this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(s=>console.log(s))},async saveAuth(){if(this.rendisAutorizar==0)this.toast.warning("No hay nada que autorizar",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})){var t=[];t.push(this.rendisAutorizar),t.push(this.userID),_.post("api/rendiciones/autorizarPago",t).then(a=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},HRe={name:"modal"},IRe={class:"modal-mask"},GRe={class:"modal-wrapper"},qRe={class:"modal-container-xl"},KRe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},XRe={class:"modal-body"},JRe={class:"table-responsive p-0",id:"espaciadoTablaGastos",style:{"min-height":"300px","max-height":"500px"}},ZRe={class:"loader"},WRe={class:"table align-items-center mb-0",id:"tableDesign"},YRe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Moneda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Objeciones")])],-1),QRe={key:0},eAe=e("td",{colspan:"14"}," No hay información disponible. ",-1),tAe=[eAe],sAe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oAe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},aAe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},lAe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},iAe={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},rAe={class:"text-sm mb-0"},nAe={class:"text-sm mb-0"},dAe={class:"text-sm mb-0"},cAe={class:"text-sm mb-0"},uAe={class:"text-sm mb-0"},hAe={class:"text-sm mb-0"},mAe={class:"text-sm mb-0"},pAe={class:"text-sm mb-0"},fAe={class:"text-sm mb-0"},bAe={class:"text-sm mb-0"},gAe={class:"form-check"},_Ae=["onUpdate:modelValue"],vAe=e("label",{style:{"margin-right":"15px"}},"Si",-1),$Ae=["onUpdate:modelValue"],yAe=e("label",null,"No",-1),CAe=["onUpdate:modelValue"],wAe=e("label",null,"Pendiente",-1),kAe={class:"text-sm mb-0"},xAe=["onUpdate:modelValue"],PAe={class:"modal-footer"},EAe=["disabled"];function TAe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",HRe,[e("div",IRe,[e("div",GRe,[e("div",qRe,[e("div",KRe,[C(t.$slots,"header",{},()=>[p(" Autorizar Pagos: ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",XRe,[C(t.$slots,"body",{},()=>[e("div",JRe,[f(e("div",ZRe,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",WRe,[YRe,e("tbody",null,[t.rendisAutorizar==0?(l(),r("tr",QRe,tAe)):(l(!0),r(P,{key:1},E(t.rendisAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",sAe,i(o.id),1)]),e("td",null,[o.estado=="PendRen"?(l(),r("p",oAe," Pendiente Rendición ")):o.estado=="PendAutRen"?(l(),r("p",aAe," Pendiente Auth Rendición ")):o.estado=="PendAutPag"?(l(),r("p",lAe," Pendiente Auth Pago ")):o.estado=="Rendida"?(l(),r("p",iAe," Rendida ")):m("",!0)]),e("td",null,[e("p",rAe,i(o.folio),1)]),e("td",null,[e("p",nAe,i(o.colaborador),1)]),e("td",null,[e("p",dAe,i(t.formatMoneyCLP(o.montoSoli)),1)]),e("td",null,[e("p",cAe,i(t.formatMoneyCLP(o.montoRendi)),1)]),e("td",null,[e("p",uAe,i(t.formatMoneyCLP(o.montoSoli-o.montoRendi)),1)]),e("td",null,[e("p",hAe,i(o.moneda.abreviacion),1)]),e("td",null,[e("p",mAe,i(o.usuario_soli.name),1)]),e("td",null,[e("p",pAe,i(o.usuario_rendi.name),1)]),e("td",null,[e("p",fAe,i(t.thisDate(o.fechaSoli)),1)]),e("td",null,[e("p",bAe,i(t.thisDate(o.fechaRendi)),1)]),e("td",null,[e("div",gAe,[f(e("input",{style:{"-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"true","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,_Ae),[[we,o.autorizadoPago]]),vAe,f(e("input",{style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"false","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,$Ae),[[we,o.autorizadoPago]]),yAe,f(e("input",{selected:"",checked:"",style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"null","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,CAe),[[we,o.autorizadoPago]]),wAe])]),e("td",null,[e("p",kAe,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.objecionesRendi=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}}," ",8,xAe),[[k,o.objecionesRendi]])])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),e("div",PAe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[1]||(s[1]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,EAe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const DAe=U(NRe,[["render",TAe]]),BAe={components:{modalcrear:oMe,modalver:A8e,modalconfirmacion:j,modalalerta:N,modalrendir:oRe,modalautorizarRendi:jRe,modalautorizarPago:DAe},mixins:[V],data(){return{showCrearRendicion:!1,showDetalleRendicion:!1,showAutorizarRendicion:!1,showAutorizarPago:!1,showRendir:!1,mostrarTabla:!1,mostrarCarga:!0,rendis:null,rendisAux:null,rendi:null,table:null,fechaInicio:null,fechaTermino:null,fechaInicio2:null,fechaTermino2:null}},created(){this.getRendis(this.userID)},methods:{filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)if(this.fechaInicio2!=null&&this.fechaTermino2!=null){let t=new Date(this.fechaInicio2),s=new Date(this.fechaTermino2);this.rendis=this.rendisAux.filter(a=>{let c=new Date(a.fechaRendi);return c>=t&&c<=s}),this.recargarTabla()}else this.recargarTabla("General");else if(this.fechaInicio2==null||this.fechaTermino2==null){let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.rendis=this.rendisAux.filter(a=>{let c=new Date(a.fechaSoli);return c>=t&&c<=s}),this.recargarTabla()}else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino),a=new Date(this.fechaInicio2),c=new Date(this.fechaTermino2);this.rendis=this.rendisAux.filter(n=>{let d=new Date(n.fechaSoli),u=new Date(n.fechaRendi);return d>=t&&d<=s&&u>=a&&u<=c}),this.recargarTabla()}},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.rendis=null,this.getRendis(this.userID),this.fechaInicio=null,this.fechaTermino=null,this.fechaInicio2=null,this.fechaTermino2=null):(this.table.destroy(),this.crearTabla("#MyTableRendiciones"))},getRendis(t){_.get(`api/rendiciones/${t}`).then(s=>{this.rendis=s.data,this.rendisAux=s.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableRendiciones")}).catch(s=>console.log(s))},async deleteRendi(t){await this.$refs.confirmation.show({title:"Borrar Rendición",message:`¿Está seguro/a que desea eliminar la Rendición con la id '${t}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/rendiciones/${t}`).then(a=>{this.toast.success("Rendición eliminada con éxito!",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))},verRendi(t){this.rendi=t,this.showDetalleRendicion=!0},rendir(t){this.rendi=t,this.showRendir=!0}}},OAe={class:"row mt-4 mx-4"},MAe={class:"col-12"},SAe={class:"card mb-4"},RAe={class:"row pb-0 p-4"},AAe={class:"col-8"},FAe={class:"row"},zAe={class:"col-2"},UAe={class:"col-2"},VAe={class:"col-2"},LAe={class:"col-2"},jAe={class:"col-1 pt-3"},NAe=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),HAe=[NAe],IAe={class:"col-4"},GAe={class:"d-flex justify-content-end"},qAe=e("i",{class:"fa-solid fa-rotate"},null,-1),KAe=[qAe],XAe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},JAe={class:"container"},ZAe={class:"table-responsive p-0"},WAe={class:"loader-sm"},YAe={class:"table align-items-center mb-0",id:"MyTableRendiciones"},QAe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Folio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Moneda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Solicitud"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha Rendición"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),eFe=e("td",null,null,-1),tFe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sFe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},oFe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},aFe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},lFe={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},iFe={class:"text-sm mb-0"},rFe={class:"text-sm mb-0"},nFe={class:"text-sm mb-0"},dFe={key:0,class:"text-sm mb-0"},cFe={key:1,class:"text-sm mb-0"},uFe={class:"text-sm mb-0"},hFe={key:0,class:"text-sm mb-0"},mFe={key:1,class:"text-sm mb-0"},pFe={class:"text-sm mb-0"},fFe={class:"text-sm mb-0"},bFe={key:0,class:"text-sm mb-0"},gFe={key:1,class:"text-sm mb-0"},_Fe={class:"text-sm mb-0"},vFe={class:"text-sm mb-0"},$Fe={class:"align-middle"},yFe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},CFe=["onClick"],wFe=e("i",{class:"fa-regular fa-eye"},null,-1),kFe=[wFe],xFe=["onClick"],PFe=e("i",{class:"fa-solid fa-file-signature"},null,-1),EFe=[PFe],TFe=["onClick"],DFe=e("i",{class:"fa fa-fw fa-trash"},null,-1),BFe=[DFe],OFe=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),MFe=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function SFe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalrendir"),h=y("modalver"),b=y("modalcrear"),v=y("modalautorizarRendi"),z=y("modalautorizarPago");return l(),r("div",OAe,[e("div",MAe,[e("div",SAe,[e("div",RAe,[e("div",AAe,[e("div",FAe,[e("div",zAe,[e("label",null,[p("Fecha Inicio Soli.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=S=>n.fechaInicio=S)},null,512),[[k,n.fechaInicio]])])]),e("div",UAe,[e("label",null,[p("Fecha Término Soli.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=S=>n.fechaTermino=S)},null,512),[[k,n.fechaTermino]])])]),p("   "),e("div",VAe,[e("label",null,[p("Fecha Inicio Rend.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[2]||(s[2]=S=>n.fechaInicio2=S)},null,512),[[k,n.fechaInicio2]])])]),e("div",LAe,[e("label",null,[p("Fecha Término Rend.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[3]||(s[3]=S=>n.fechaTermino2=S)},null,512),[[k,n.fechaTermino2]])])]),p("   "),e("div",jAe,[e("a",{class:"btn btn-search-blue",onClick:s[4]||(s[4]=S=>d.filtrarFecha())},HAe)])])]),e("div",IAe,[e("div",GAe,[t.can("Rendiciones_Autorizar")?(l(),r("a",{key:0,class:"btn btn-closed",id:"show-autorizarModal",onClick:s[5]||(s[5]=S=>n.showAutorizarPago=!0)},"Auth Pago")):m("",!0),p("   "),t.can("Rendiciones_Autorizar")?(l(),r("a",{key:1,class:"btn btn-closed",id:"show-autorizarModal",onClick:s[6]||(s[6]=S=>n.showAutorizarRendicion=!0)},"Auth Rendis")):m("",!0),p("   "),t.can("Rendiciones_Crear")?(l(),r("a",{key:2,class:"btn btn-continue",id:"show-modal1",onClick:s[7]||(s[7]=S=>n.showCrearRendicion=!0)},"Nueva Solicitud")):m("",!0),p("   "),e("a",{class:"btn btn-search-blue",onClick:s[8]||(s[8]=S=>d.recargarTabla("General"))},KAe)])])]),e("div",XAe,[e("div",JAe,[e("div",ZAe,[f(e("div",WAe,null,512),[[H,n.mostrarCarga]]),f(e("table",YAe,[QAe,e("tbody",null,[(l(!0),r(P,null,E(n.rendis,S=>(l(),r("tr",{key:S.id},[eFe,e("td",null,[e("p",tFe,i(S.id),1)]),e("td",null,[S.estado=="PendRen"?(l(),r("p",sFe," Pendiente Rendicion ")):S.estado=="PendAutRen"?(l(),r("p",oFe," Pendiente Auth Rendicion ")):S.estado=="PendAutPag"?(l(),r("p",aFe," Pendiente Auth Pago ")):S.estado=="Rendida"?(l(),r("p",lFe," Rendida ")):m("",!0)]),e("td",null,[e("p",iFe,i(S.folio),1)]),e("td",null,[e("p",rFe,i(S.colaborador),1)]),e("td",null,[e("p",nFe,i(t.formatMoneyCLP(S.montoSoli)),1)]),e("td",null,[S.montoRendi==null?(l(),r("p",dFe,"---")):(l(),r("p",cFe,i(t.formatMoneyCLP(S.montoRendi)),1))]),e("td",uFe,[S.montoRendi==null?(l(),r("p",hFe,"---")):(l(),r("p",mFe,i(t.formatMoneyCLP(S.montoSoli-S.montoRendi)),1))]),e("td",null,[e("p",pFe,i(S.moneda.abreviacion),1)]),e("td",null,[e("p",fFe,i(S.usuario_soli.name),1)]),e("td",null,[S.idUsuarioRendi==null?(l(),r("p",bFe,"---")):(l(),r("p",gFe,i(S.usuario_rendi.name),1))]),e("td",null,[e("p",_Fe,i(t.thisDate(S.fechaSoli)),1)]),e("td",null,[e("p",vFe,i(t.thisDate(S.fechaRendi)),1)]),e("td",$Fe,[e("div",yFe,[S.pendiente==!1?(l(),r("a",{key:0,class:"btn btn-success btn-xs",title:"Detalle",onClick:F=>d.verRendi(S)},kFe,8,CFe)):m("",!0),S.estado=="PendRen"&&t.can("Rendiciones_Modificar")?(l(),r("a",{key:1,onClick:F=>d.rendir(S),title:"Rendir",class:"btn btn-purple btn-xs"},EFe,8,xFe)):m("",!0),p("   "),t.can("Rendiciones_Modificar")?(l(),r("a",{key:2,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:F=>d.deleteRendi(S.id)},BFe,8,TFe)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]]),OFe])])])]),MFe,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showRendir?(l(),T(o,{key:0,rendi:n.rendi,onClose:s[9]||(s[9]=S=>n.showRendir=!1),onRecarga:s[10]||(s[10]=S=>d.recargarTabla("General"))},null,8,["rendi"])):m("",!0),n.showDetalleRendicion?(l(),T(h,{key:1,rendi:n.rendi,onClose:s[11]||(s[11]=S=>n.showDetalleRendicion=!1)},null,8,["rendi"])):m("",!0),n.showCrearRendicion?(l(),T(b,{key:2,onClose:s[12]||(s[12]=S=>n.showCrearRendicion=!1),onRecarga:s[13]||(s[13]=S=>d.recargarTabla("General"))})):m("",!0),n.showAutorizarRendicion?(l(),T(v,{key:3,onClose:s[14]||(s[14]=S=>n.showAutorizarRendicion=!1),onRecarga:s[15]||(s[15]=S=>d.recargarTabla("General"))})):m("",!0),n.showAutorizarPago?(l(),T(z,{key:4,onClose:s[16]||(s[16]=S=>n.showAutorizarPago=!1),onRecarga:s[17]||(s[17]=S=>d.recargarTabla("General"))})):m("",!0)])])}const RFe=U(BAe,[["render",SFe]]),AFe={},FFe={class:"row mt-4 mx-4"},zFe=ve('<div class="col-12"><div class="card mb-4"><div class="row"><div class="col-10"><div class="card-header pb-0"><h6>ERROR!</h6></div></div></div><div class="card-body px-0 pt-0 pb-2" style="min-height:400px;"><div class="alert text-center"><h2>Error!</h2><p>Oops! Algo salió mal.</p><img src="https://media.tenor.com/x0aVfq95-JYAAAAC/jasorry.gif"><br><br></div></div><p style="margin:10px;font-size:12px;">Si esta web debiese estár funcionando, por favor contacte al área de informática de la empresa.</p></div></div>',1),UFe=[zFe];function VFe(t,s){return l(),r("div",FFe,UFe)}const LFe=U(AFe,[["render",VFe]]);let jFe=document.head.querySelector('meta[name="user"]'),NFe=document.head.querySelector('meta[name="roles"]');const HFe={components:{Multiselect:Ye,modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({fields:{idTipoRobo:null,idTienda:null,idUsuario:JSON.parse(jFe.content).id,fecha:null,hora:null,observacion:null,idSupervisor:"",montoRobado:0},detalleRobo:{item:null,descripcion:null,cantidad:null,monto:null},fotoMiniatura:"",buttonText:"Crear Robo",buttonDisable:!1,tiposRobos:[],supervisores:[],supervisorSelect:"",detalles:[],cantidadDetalles:0,errors:[],errorsRobo:[],nombreUsuario:"",modoeditar:!1,idEditar:"",tiendas:null,tienda:!1,productos:null,colaboradores:null}),created(){this.getDatos(this.fields.idUsuario),this.getTipoRobo(),this.getProductos(),this.getTiendas(),this.getSupervisores(),this.getColaboradores(),this.comprobarRol(JSON.parse(NFe.content))},methods:{getColaboradores(){_.get("api/colaboradores").then(t=>{this.colaboradores=t.data}).catch(t=>console.log(t))},verificarFecha(){const t=new Date().toISOString().slice(0,10);this.fields.fecha>t&&(this.fields.fecha="",this.toast.warning("La fecha ingresada es mayor a la fecha actual.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},getProductos(){_.get("api/sap/productos").then(t=>{this.productos=t.data}).catch(t=>console.log(t))},comprobarRol(t){t.forEach(s=>{s=="Administrador"&&(this.administrador=!0),s=="Tiendas"&&(this.tienda=!0)})},getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data,this.tienda==!0&&this.tiendas.forEach(s=>{s.idUsuario==this.fields.idUsuario&&(this.fields.idTienda=s.id,this.getSupervisoresSelect(s.id))})}).catch(t=>console.log(t))},getSupervisoresSelect(t){this.supervisorSelect=[],this.supervisores.forEach(s=>{s.idSucursal==t&&this.supervisorSelect.push(s)})},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cantidadDetalles=this.cantidadDetalles-1,this.fields.montoRobado=0,this.detalles.forEach(a=>{this.fields.montoRobado=Number(this.fields.montoRobado)+Number(a.monto)*Number(a.cantidad)}))},cancelarEditar(){this.detalleRobo.item=null,this.detalleRobo.descripcion=null,this.detalleRobo.cantidad=null,this.detalleRobo.monto=null,this.modoeditar=!1,this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoeditar=!0;var s=this.detalles[t];this.detalleRobo.item=s.item,this.detalleRobo.descripcion=s.descripcion,this.detalleRobo.cantidad=s.cantidad,this.detalleRobo.monto=s.monto},guardarEdicion(t){this.errors=[];for(const a in this.detalleRobo)(this.detalleRobo[a]===""||this.detalleRobo[a]===0||this.detalleRobo[a]===null)&&this.errors.push(a);var s="";if(this.errors.length!=0&&(this.errors.forEach(a=>{s=s+"El campo "+a+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let a={idDetalle:this.idEditar,item:this.detalleRobo.item,descripcion:this.detalleRobo.descripcion,cantidad:this.detalleRobo.cantidad,monto:this.detalleRobo.monto};this.detalles[t]=a,this.fields.montoRobado=0,this.detalles.forEach(c=>{this.fields.montoRobado=Number(this.fields.montoRobado)+Number(c.monto)*Number(c.cantidad)}),this.detalleRobo.item=null,this.detalleRobo.descripcion=null,this.detalleRobo.cantidad=null,this.detalleRobo.monto=null,this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoeditar=!1}},async crearRobo(){this.errorsRobo=[],this.cantidadDetalles==0&&(this.errorsRobo.push("detalles"),this.toast.warning("No puedes registrar un robo sin detalles",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}));for(const s in this.fields)(this.fields[s]===""||this.fields[s]===0||this.fields[s]===null)&&(s=="montoRobado"||s=="observacion"||this.errorsRobo.push(s));var t="";if(this.errorsRobo.length!=0&&(this.errorsRobo.forEach(s=>{s=="detalles"||(s=="idTipoRobo"?t=t+`El campo tipo robo es requerido
`:s=="idSupervisor"?t=t+`El campo supervisor es requerido
`:s=="idTienda"?t=t+`El campo tienda es requerido
`:t=t+"El campo "+s+` es requerido
`)}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errorsRobo.length===0&&await this.$refs.confirmation.show({title:"Crear Registro Robo",message:"¿Está seguro/a que desea registrar este robo ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const a=[];let c={idTipoRobo:this.fields.idTipoRobo,idTienda:this.fields.idTienda,idUsuario:this.fields.idUsuario,fecha:this.fields.fecha,hora:this.fields.hora,observacion:this.fields.observacion,idSupervisor:this.fields.idSupervisor,montoRobado:this.fields.montoRobado,estado:"Pendiente",autorizado:null};a.push(c),a.push(this.detalles),_.post("api/robos",a).then(n=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Robo registrado creado con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/robos/sendEmailSupervisor",a).then(d=>{this.toast.success("Correo enviado al supervisor!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}).catch(d=>{console.log(d)}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},getSupervisores(){_.get("api/supervisores").then(t=>{this.supervisores=t.data}).catch(t=>console.log(t))},getTipoRobo(){_.get("api/getTipoRobo").then(t=>{this.tiposRobos=t.data}).catch(t=>console.log(t))},agregarDetalle(){this.errors=[];for(const s in this.detalleRobo)(this.detalleRobo[s]===""||this.detalleRobo[s]===0||this.detalleRobo[s]===null)&&this.errors.push(s);var t="";if(this.errors.length!=0&&(this.errors.forEach(s=>{t=t+"El campo "+s+` es requerido
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let s={idDetalle:this.cantidadDetalles,item:this.detalleRobo.item,descripcion:this.detalleRobo.descripcion,cantidad:this.detalleRobo.cantidad,monto:this.detalleRobo.monto};this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(s),this.fields.montoRobado=0,this.detalles.forEach(a=>{this.fields.montoRobado=Number(this.fields.montoRobado)+Number(a.monto)*Number(a.cantidad)}),this.detalleRobo.item="",this.detalleRobo.descripcion="",this.detalleRobo.cantidad="",this.detalleRobo.monto="",this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getDatos(t){_.get(`api/dataFofi/${t}`).then(s=>{this.nombreUsuario=s.data[2]}).catch(s=>console.log(s))}}},IFe={name:"modal"},GFe={class:"modal-mask"},qFe={class:"modal-wrapper"},KFe={class:"modal-container"},XFe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},JFe={class:"modal-body"},ZFe={id:"tableDesign",class:"table align-items-center mb-0"},WFe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Total Robado")])],-1),YFe={class:"text-sm mb-0"},QFe={class:"text-sm mb-0"},e7e=e("br",null,null,-1),t7e={class:"row"},s7e={class:"col-4"},o7e={class:"form-group"},a7e=e("label",{for:"idTienda"},"Tienda: ",-1),l7e=e("br",null,null,-1),i7e=["disabled"],r7e=e("option",{disabled:"",value:""},"Seleccione una tienda",-1),n7e=["value"],d7e={class:"col-4"},c7e={class:"form-group"},u7e=e("label",{for:"supervisor"},"Supervisor:",-1),h7e=e("br",null,null,-1),m7e=e("option",{disabled:"",value:""},"Seleccione un supervisor",-1),p7e=["value"],f7e={class:"col-4"},b7e={class:"form-group"},g7e=e("label",{for:"colaborador"},"Colaborador:",-1),_7e=e("br",null,null,-1),v7e=e("option",{disabled:"",value:""},"Seleccione un colaborador",-1),$7e=["value"],y7e={class:"col-3"},C7e={class:"form-group"},w7e=e("label",{for:"tipoRobo"},"Tipo de Robo: ",-1),k7e=e("br",null,null,-1),x7e=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),P7e=["value"],E7e={class:"col-2"},T7e={class:"form-group"},D7e=e("label",{for:"fecha"},"Fecha: ",-1),B7e=e("br",null,null,-1),O7e={class:"col-2"},M7e={class:"form-group"},S7e=e("label",{for:"hora"},"Hora: ",-1),R7e=e("br",null,null,-1),A7e={class:"col-auto"},F7e={class:"form-group"},z7e=e("label",{for:"observacion"},"Observacion: ",-1),U7e=e("br",null,null,-1),V7e=e("hr",{size:"4",class:"separador"},null,-1),L7e={enctype:"multipart/form-data"},j7e={class:"row"},N7e={key:0,class:"col-6"},H7e={key:0,class:"form-group"},I7e={class:"form-group"},G7e=e("label",{for:""},"Producto: ",-1),q7e=e("br",null,null,-1),K7e={key:1,class:"form-group"},X7e=e("label",{for:"insumo"},"Insumo: ",-1),J7e=e("br",null,null,-1),Z7e={key:2,class:"form-group"},W7e=e("label",{for:"roboColaborador"},"Robo Colaborador: ",-1),Y7e=e("br",null,null,-1),Q7e={key:3,class:"form-group"},eze=e("label",{for:"roboCliente"},"Robo Cliente: ",-1),tze=e("br",null,null,-1),sze={key:4,class:"form-group"},oze=e("label",{for:"dinero"},"Dinero: ",-1),aze=e("br",null,null,-1),lze=e("option",{disabled:"",value:""},"Seleccione a que corresponde",-1),ize=e("option",{value:"Caja"},"Caja",-1),rze=[lze,ize],nze={class:"col-2"},dze={key:0,class:"form-group"},cze=e("label",{for:"name"},"Rut: ",-1),uze=e("br",null,null,-1),hze={key:1,class:"form-group"},mze=e("label",{for:"name"},"Número de Guía: ",-1),pze=e("br",null,null,-1),fze={class:"col-2"},bze={class:"form-group"},gze=e("label",{for:"monto"},"Monto: ",-1),_ze=e("br",null,null,-1),vze={class:"col-2"},$ze={class:"form-group"},yze=e("label",{for:"cantidad"},"Cantidad: ",-1),Cze=e("br",null,null,-1),wze={class:"col-12"},kze={class:"form-group"},xze=e("label",{for:"descripcion"},"Descripción: ",-1),Pze=e("br",null,null,-1),Eze=e("hr",{size:"4",class:"separador"},null,-1),Tze={class:"row"},Dze={id:"tableDesign",class:"table align-items-center mb-0"},Bze=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Item"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Descripción"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto de Unidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Detalle"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),Oze={key:0},Mze=e("td",{colspan:"10"}," No hay información disponible. ",-1),Sze=[Mze],Rze={class:"text-sm mb-0"},Aze={class:"text-sm mb-0"},Fze={class:"text-sm mb-0"},zze=["onUpdate:modelValue"],Uze={class:"text-sm mb-0"},Vze={class:"text-sm mb-0"},Lze={class:"text-sm mb-0"},jze={class:"text-sm mb -0"},Nze=["onClick"],Hze=e("i",{class:"fa fa-fw fa-edit"},null,-1),Ize=[Hze],Gze=["onClick"],qze=e("i",{class:"fa fa-fw fa-trash"},null,-1),Kze=[qze],Xze={class:"modal-footer"},Jze=["disabled"];function Zze(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",IFe,[e("div",GFe,[e("div",qFe,[e("div",KFe,[e("div",XFe,[C(t.$slots,"header",{},()=>[p(" Nuevo Robo ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",JFe,[C(t.$slots,"body",{},()=>[e("table",ZFe,[WFe,e("tbody",null,[e("tr",null,[e("td",null,[e("p",YFe,i(t.nombreUsuario),1)]),e("td",null,[e("p",QFe,i(t.formatMoneyCLP(t.fields.montoRobado)),1)])])])]),e7e,e("div",t7e,[e("div",s7e,[e("div",o7e,[a7e,l7e,f(e("select",{class:"form-select",disabled:t.tienda==!0&t.administrador==!1,"onUpdate:modelValue":s[1]||(s[1]=o=>t.fields.idTienda=o),onChange:s[2]||(s[2]=o=>d.getSupervisoresSelect(o.target.value))},[r7e,(l(!0),r(P,null,E(t.tiendas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.codigo)+" - "+i(o.nombre),9,n7e))),128))],40,i7e),[[A,t.fields.idTienda]])])]),e("div",d7e,[e("div",c7e,[u7e,h7e,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.fields.idSupervisor=o)},[m7e,(l(!0),r(P,null,E(t.supervisorSelect,o=>(l(),r("option",{key:o.idUsuario,value:o.idUsuario},i(o.usuario.name),9,p7e))),128))],512),[[A,t.fields.idSupervisor]])])]),e("div",f7e,[e("div",b7e,[g7e,_7e,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.fields.idColaborador=o)},[v7e,(l(!0),r(P,null,E(t.colaboradores,o=>(l(),r("option",{key:o.idUsuario,value:o.idUsuario},i(o.identificador)+" - "+i(o.nombre1)+" "+i(o.nombre2)+" "+i(o.apellido1)+" "+i(o.apellido2),9,$7e))),128))],512),[[A,t.fields.idColaborador]])])]),e("div",y7e,[e("div",C7e,[w7e,k7e,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.fields.idTipoRobo=o)},[x7e,(l(!0),r(P,null,E(t.tiposRobos,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,P7e))),128))],512),[[A,t.fields.idTipoRobo]])])]),e("div",E7e,[e("div",T7e,[D7e,B7e,f(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.fields.fecha=o),onChange:s[7]||(s[7]=o=>d.verificarFecha())},null,544),[[k,t.fields.fecha]])])]),e("div",O7e,[e("div",M7e,[S7e,R7e,f(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=o=>t.fields.hora=o)},null,512),[[k,t.fields.hora]])])]),e("div",A7e,[e("div",F7e,[z7e,U7e,f(e("textarea",{cols:"52",rows:"1",type:"text",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=o=>t.fields.observacion=o)},`
                            `,512),[[k,t.fields.observacion]])])])]),V7e,e("form",L7e,[e("div",j7e,[t.fields.idTipoRobo!=null?(l(),r("div",N7e,[t.fields.idTipoRobo==1?(l(),r("div",H7e,[e("div",I7e,[G7e,q7e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=o=>t.detalleRobo.item=o)},null,512),[[k,t.detalleRobo.item]])])])):m("",!0),t.fields.idTipoRobo==2?(l(),r("div",K7e,[X7e,J7e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=o=>t.detalleRobo.item=o)},null,512),[[k,t.detalleRobo.item]])])):m("",!0),t.fields.idTipoRobo==3?(l(),r("div",Z7e,[W7e,Y7e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=o=>t.detalleRobo.item=o)},null,512),[[k,t.detalleRobo.item]])])):m("",!0),t.fields.idTipoRobo==4?(l(),r("div",Q7e,[eze,tze,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=o=>t.detalleRobo.item=o)},null,512),[[k,t.detalleRobo.item]])])):m("",!0),t.fields.idTipoRobo==5?(l(),r("div",sze,[oze,aze,f(e("select",{class:"form-select","onUpdate:modelValue":s[14]||(s[14]=o=>t.detalleRobo.item=o)},rze,512),[[A,t.detalleRobo.item]])])):m("",!0)])):m("",!0),e("div",nze,[t.fields.idTipoRobo==3||t.fields.idTipoRobo==4?(l(),r("div",dze,[cze,uze,e("input",{type:"text",class:"form-control",onKeyup:s[15]||(s[15]=o=>t.checkRut())},null,32)])):m("",!0),t.fields.idTipoRobo==1||t.fields.idTipoRobo==2?(l(),r("div",hze,[mze,pze,e("input",{type:"text",class:"form-control",onKeyup:s[16]||(s[16]=o=>t.checkRut())},null,32)])):m("",!0)]),e("div",fze,[e("div",bze,[gze,_ze,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=o=>t.detalleRobo.monto=o)},null,512),[[k,t.detalleRobo.monto]])])]),e("div",vze,[e("div",$ze,[yze,Cze,f(e("input",{type:"number",class:"form-control","onUpdate:modelValue":s[18]||(s[18]=o=>t.detalleRobo.cantidad=o)},null,512),[[k,t.detalleRobo.cantidad]])])]),e("div",wze,[e("div",kze,[xze,Pze,f(e("textarea",{class:"form-control",cols:"30",rows:"2","onUpdate:modelValue":s[19]||(s[19]=o=>t.detalleRobo.descripcion=o)},null,512),[[k,t.detalleRobo.descripcion]])])])]),t.modoeditar==!1?(l(),r("a",{key:0,onClick:s[20]||(s[20]=o=>d.agregarDetalle()),class:"btn btn-dark-grey float-right"},"Agregar detalle")):m("",!0),t.modoeditar==!0?(l(),r("a",{key:1,onClick:s[21]||(s[21]=o=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar detalle")):m("",!0),p("   "),t.modoeditar==!0?(l(),r("a",{key:2,onClick:s[22]||(s[22]=o=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),Eze,e("div",Tze,[e("table",Dze,[Bze,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",Oze,Sze)):(l(!0),r(P,{key:1},E(t.detalles,o=>(l(),r("tr",{key:o},[e("td",null,[e("p",Rze,i(o.idDetalle+1),1)]),e("td",null,[e("p",Aze,i(o.item),1)]),e("td",null,[e("p",Fze,[f(e("textarea",{class:"form-control","onUpdate:modelValue":h=>o.descripcion=h,style:{"min-width":"200px",height:"40px",overflow:"hidden","text-align":"justify"}},null,8,zze),[[k,o.descripcion]])])]),e("td",null,[e("p",Uze,i(o.cantidad),1)]),e("td",null,[e("p",Vze,i(t.formatMoneyCLP(o.monto)),1)]),e("td",null,[e("p",Lze,i(t.formatMoneyCLP(o.monto*o.cantidad)),1)]),e("td",null,[e("p",jze,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:h=>d.editarDetalle(o.idDetalle)},Ize,8,Nze),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:h=>d.eliminarDetalle(o)},Kze,8,Gze)])])]))),128))])])])])]),e("div",Xze,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-dark-grey float-end",onClick:s[23]||(s[23]=o=>d.crearRobo()),disabled:t.buttonDisable},i(t.buttonText),9,Jze)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const Wze=U(HFe,[["render",Zze]]),Yze={components:{modalcrear:Wze,modaleditar:mt,modalconfirmacion:j,modaldetalle:fo,modalalerta:N},mixins:[V],data(){return{robos:null,robosAux:null,showCrearRobo:!1,showEditarUsuario:!1,showDetallesRobo:!1,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0,detalles:null,roles:null,table:null,fechaInicio:null,fechaTermino:null}},created(){this.getRobos()},methods:{filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.robos=this.robosAux.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},roboDetalle(t){this.detalles=t,this.showDetallesRobo=!0},getRobos(){_.get("api/robos").then(t=>{this.robos=t.data,this.robosAux=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableRobos")}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.robos=null,this.getRobos(),this.fechaInicio=null,this.fechaTermino=null):(this.table.destroy(),this.crearTabla("#MyTableRobos"))},usuarioEditar(t){this.usuarioeditar=t,this.showEditarUsuario=!0},async deleteRobo(t){await this.$refs.confirmation.show({title:"Borrar Registro de robo",message:"¿Está seguro/a que desea eliminar este registro de robo? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/robos/${t}`).then(a=>{this.toast.success("Registro de robo eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},Qze={class:"row mt-4 mx-4"},e9e={class:"col-12"},t9e={class:"card mb-4"},s9e={class:"row pb-0 p-4"},o9e={class:"col-4"},a9e={class:"row"},l9e={class:"col-5"},i9e={class:"col-5"},r9e={class:"col-auto pt-3"},n9e=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),d9e=[n9e],c9e={class:"col-8"},u9e={class:"d-flex justify-content-end"},h9e=e("i",{class:"fa-solid fa-rotate"},null,-1),m9e=[h9e],p9e={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},f9e={class:"container"},b9e={class:"table-responsive p-0"},g9e={class:"loader-sm"},_9e={class:"table align-items-center mb-0",id:"MyTableRobos"},v9e=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Supervisor"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Robado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),$9e=e("td",null,null,-1),y9e={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},C9e={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},w9e={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},k9e={class:"text-sm mb-0"},x9e={class:"text-sm mb-0"},P9e={class:"text-sm mb-0"},E9e={class:"text-sm mb-0"},T9e={class:"text-sm mb-0"},D9e={class:"align-middle text-end"},B9e={class:"d-flex px-3 py-1 justify-content-center align-items-center"},O9e=["onClick"],M9e=e("i",{class:"fa-regular fa-eye"},null,-1),S9e=[M9e],R9e=["onClick"],A9e=e("i",{class:"fa fa-fw fa-trash"},null,-1),F9e=[A9e],z9e=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function U9e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modalcrear"),b=y("modaldetalle");return l(),r("div",Qze,[e("div",e9e,[e("div",t9e,[e("div",s9e,[e("div",o9e,[e("div",a9e,[e("div",l9e,[e("label",null,[p("Fecha Inicio: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=v=>n.fechaInicio=v)},null,512),[[k,n.fechaInicio]])])]),e("div",i9e,[e("label",null,[p("Fecha Término: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=v=>n.fechaTermino=v)},null,512),[[k,n.fechaTermino]])])]),e("div",r9e,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=v=>d.filtrarFecha())},d9e)])])]),e("div",c9e,[e("div",u9e,[t.can("Robos_Crear")?(l(),r("a",{key:0,class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:s[3]||(s[3]=v=>n.showCrearRobo=!0)},"Ingresar Robo")):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[4]||(s[4]=v=>d.recargarTabla("General"))},m9e)])])]),e("div",p9e,[e("div",f9e,[e("div",b9e,[f(e("div",g9e,null,512),[[H,n.mostrarCarga]]),f(e("table",_9e,[v9e,e("tbody",null,[(l(!0),r(P,null,E(n.robos,v=>(l(),r("tr",{key:v.id},[$9e,e("td",null,[e("p",y9e,i(v.id),1)]),e("td",null,[v.estado=="Ingresado"?(l(),r("p",C9e,i(v.estado),1)):m("",!0),v.estado=="Cerrado"?(l(),r("p",w9e,i(v.estado),1)):m("",!0)]),e("td",null,[e("p",k9e,i(v.tipo_robo.nombre),1)]),e("td",null,[e("p",x9e,i(v.tienda.codigo)+" - "+i(v.tienda.nombre),1)]),e("td",null,[e("p",P9e,i(v.fecha),1)]),e("td",null,[e("p",E9e,i(v.supervisor.name),1)]),e("td",null,[e("p",T9e,i(t.formatMoneyCLP(v.montoRobado)),1)]),e("td",D9e,[e("div",B9e,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:z=>d.roboDetalle(v)},S9e,8,O9e),p("   "),t.can("Robos_Modificar")?(l(),r("a",{key:0,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:z=>d.deleteRobo(v.id)},F9e,8,R9e)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]]),z9e])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showEditarUsuario?(l(),T(o,{key:0,usuario:n.usuarioeditar,onClose:s[5]||(s[5]=v=>n.showEditarUsuario=!1),onRecarga:s[6]||(s[6]=v=>d.recargarTabla("General"))},null,8,["usuario"])):m("",!0),n.showCrearRobo?(l(),T(h,{key:1,onClose:s[7]||(s[7]=v=>n.showCrearRobo=!1),onRecarga:s[8]||(s[8]=v=>d.recargarTabla("General"))})):m("",!0),n.showDetallesRobo?(l(),T(b,{key:2,robo:n.detalles,onClose:s[9]||(s[9]=v=>n.showDetallesRobo=!1)},null,8,["robo"])):m("",!0)])])}const V9e=U(Yze,[["render",U9e]]),L9e={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Editar Afp",buttonDisable:!1,id:"",nombre:"",errors:[]}),props:{afp1:Object},created(){this.nombre=this.afp1.nombre,this.id=this.afp1.id},methods:{cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async editarAfps(){if(await this.$refs.confirmation.show({title:"Editar Afp",message:`¿Está seguro/a que desea editar la Afp '${this.nombre}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let a={nombre:this.nombre};var s=this.id;_.put(`api/afp/${s}`,a).then(c=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Afp editada con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(c=>{c.response.status==422&&(this.errors=c.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},j9e={name:"modal"},N9e={class:"modal-mask"},H9e={class:"modal-wrapper"},I9e={class:"modal-container-xs"},G9e={class:"modal-header fw-bold",style:{color:"#444444"}},q9e={class:"modal-body"},K9e={class:"form-group"},X9e=e("label",{for:"nombre"},"Nombre: ",-1),J9e=e("br",null,null,-1),Z9e={key:0,class:"error"},W9e={class:"modal-footer"},Y9e=["disabled"];function Q9e(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modaleditar"},{default:I(()=>[e("div",j9e,[e("div",N9e,[e("div",H9e,[e("div",I9e,[e("div",G9e,[C(t.$slots,"header",{},()=>[p(" Editar AFPs ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",q9e,[C(t.$slots,"body",{},()=>[e("div",K9e,[X9e,J9e,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.nombre=o)},null,512),[[k,t.nombre]]),t.errors&&t.errors.nombre?(l(),r("div",Z9e,i(t.errors.nombre[0]),1)):m("",!0)]),e("div",W9e,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-continue",onClick:s[2]||(s[2]=o=>d.editarAfps()),disabled:t.buttonDisable},i(t.buttonText),9,Y9e)])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])]),_:3})}const eUe=U(L9e,[["render",Q9e]]),tUe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({}),props:{invConc:Object},created(){},methods:{}},sUe={name:"modal"},oUe={class:"modal-mask"},aUe={class:"modal-wrapper"},lUe={class:"modal-container"},iUe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},rUe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Detalle del Robo:",-1),nUe={class:"col-3 m-0",style:{"font-size":"15px","text-align":"right"}},dUe={key:0,class:"fs-7 fw-bold",style:{color:"#28A745"}},cUe={key:1,class:"fs-7 fw-bold",style:{color:"#B80F0A"}},uUe={key:2,class:"fs-7 fw-bold",style:{color:"#FFC107"}},hUe={key:3,class:"fs-7 fw-bold",style:{color:"#8392AB"}},mUe={key:4,class:"fs-7 fw-bold",style:{color:"#1520A6"}},pUe={class:"modal-body"},fUe={class:"form-group"},bUe={class:"row"},gUe=e("div",{class:"text-uppercase"},"Información Sucursal:",-1),_Ue={class:"col-6 m-0 fs-8"},vUe={class:"fw-normal",style:{"font-size":"14px"}},$Ue={class:"col-6 m-0 fs-8"},yUe={class:"fw-normal",style:{"font-size":"14px"}},CUe={class:"col-6 m-0 fs-8"},wUe={class:"fw-normal",style:{"font-size":"14px"}},kUe=e("hr",{size:"4",class:"separador"},null,-1),xUe=e("div",{class:"text-uppercase"},"Revisión y Comisión Responsable:",-1),PUe={class:"col-6 m-0 fs-8"},EUe={class:"fw-normal",style:{"font-size":"14px"}},TUe={class:"col-6 m-0 fs-8"},DUe={class:"fw-normal",style:{"font-size":"14px"}},BUe={key:0,class:"col-6 m-0 fs-8"},OUe={class:"fw-normal",style:{"font-size":"14px"}},MUe={key:1,class:"col-6 m-0 fs-8"},SUe={class:"fw-normal",style:{"font-size":"14px"}},RUe=e("hr",{size:"4",class:"separador"},null,-1),AUe=e("div",{class:"text-uppercase"},"Detalles de Inventario:",-1),FUe={class:"col-6 m-0 fs-8"},zUe={class:"fw-normal",style:{"font-size":"14px"}},UUe={class:"col-6 m-0 fs-8"},VUe={class:"fw-normal",style:{"font-size":"14px"}},LUe={key:2,class:"col-6 m-0 fs-8"},jUe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),NUe={key:3,class:"col-6 m-0 fs-8"},HUe={class:"fw-normal",style:{"font-size":"14px"}},IUe={key:4,class:"col-6 m-0 fs-8"},GUe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),qUe={key:5,class:"col-6 m-0 fs-8"},KUe={class:"fw-normal",style:{"font-size":"14px"}},XUe={key:6,class:"col-6 m-0 fs-8"},JUe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),ZUe={key:7,class:"col-6 m-0 fs-8"},WUe={class:"fw-normal",style:{"font-size":"14px"}},YUe={key:8,class:"col-6 m-0 fs-8"},QUe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),eVe={key:9,class:"col-6 m-0 fs-8"},tVe={class:"fw-normal",style:{"font-size":"14px"}},sVe={key:10,class:"col-6 m-0 fs-8"},oVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),aVe={key:11,class:"col-6 m-0 fs-8"},lVe={class:"fw-normal",style:{"font-size":"14px"}},iVe=e("div",{class:"text-uppercase"},"Detalles Autorizaciones:",-1),rVe={key:12,class:"col-6 m-0 fs-8"},nVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Si",-1),dVe={key:13,class:"col-6 m-0 fs-8"},cVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"No",-1),uVe={key:14,class:"col-6 m-0 fs-8"},hVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Pendiente",-1),mVe={key:15,class:"col-12 m-0 fs-8"},pVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),fVe={key:16,class:"col-12 m-0 fs-8"},bVe={class:"fw-normal",style:{"font-size":"14px"}},gVe={key:17,class:"col-12 m-0 fs-8"},_Ve=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),vVe={key:18,class:"col-12 m-0 fs-8"},$Ve={class:"fw-normal",style:{"font-size":"14px"}},yVe={key:19,class:"col-6 m-0 fs-8"},CVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Si",-1),wVe={key:20,class:"col-6 m-0 fs-8"},kVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"No",-1),xVe={key:21,class:"col-6 m-0 fs-8"},PVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"Pendiente",-1),EVe={key:22,class:"col-12 m-0 fs-8"},TVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),DVe={key:23,class:"col-12 m-0 fs-8"},BVe={class:"fw-normal",style:{"font-size":"14px"}},OVe={key:24,class:"col-12 m-0 fs-8"},MVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),SVe={key:25,class:"col-12 m-0 fs-8"},RVe={class:"fw-normal",style:{"font-size":"14px"}},AVe=e("hr",{size:"4",class:"separador"},null,-1),FVe={key:26,class:"col-12 m-0 fs-8"},zVe=e("label",{class:"fw-normal",style:{"font-size":"14px"}},"---",-1),UVe={key:27,class:"col-12 m-0 fs-8"},VVe={class:"fw-normal",style:{"font-size":"14px"}};function LVe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",sUe,[e("div",oUe,[e("div",aUe,[e("div",lUe,[e("div",iUe,[C(t.$slots,"header",{},()=>[rUe,e("label",nUe,[p(" Estado: "),a.invConc.estado=="Finalizado"?(l(),r("label",dUe,i(a.invConc.estado),1)):m("",!0),a.invConc.estado=="Rechazado"?(l(),r("label",cUe,i(a.invConc.estado),1)):m("",!0),a.invConc.estado=="Ingresado"?(l(),r("label",uUe,i(a.invConc.estado),1)):m("",!0),a.invConc.estado=="En Proceso"?(l(),r("label",hUe,i(a.invConc.estado),1)):m("",!0),a.invConc.estado=="Confirmado"?(l(),r("label",mUe,i(a.invConc.estado),1)):m("",!0)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close"))},"X")]),e("div",pUe,[C(t.$slots,"body",{},()=>[e("div",fUe,[e("div",bUe,[gUe,e("label",_Ue,[p(" Sucursal: "),e("label",vUe,i(a.invConc.sucursal.codigo)+" - "+i(a.invConc.sucursal.nombre),1)]),e("label",$Ue,[p(" Supervisora: "),e("label",yUe,i(a.invConc.supervisor.usuario.name),1)]),e("label",CUe,[p(" Promotor: "),e("label",wUe,i(a.invConc.promotor.usuario.name),1)]),kUe,xUe,e("label",PUe,[p(" Fecha: "),e("label",EUe,i(a.invConc.fecha),1)]),e("label",TUe,[p(" Hora: "),e("label",DUe,i(a.invConc.hora),1)]),a.invConc.comision.usuario!=null?(l(),r("label",BUe,[p(" Comisión: "),e("label",OUe,i(a.invConc.comision.usuario.name),1)])):(l(),r("label",MUe,[p(" Comisión: "),e("label",SUe,i(a.invConc.comision.nombre),1)])),RUe,AUe,e("label",FUe,[p(" Super Familia: "),e("label",zUe,i(a.invConc.superFamilia),1)]),e("label",UUe,[p(" Tipo de Inventario: "),e("label",VUe,i(a.invConc.tipo_inv.nombre),1)]),a.invConc.recuento==null?(l(),r("label",LUe,[p(" Recuento: "),jUe])):(l(),r("label",NUe,[p(" Recuento: "),e("label",HUe,i(a.invConc.recuento),1)])),a.invConc.inventario==null?(l(),r("label",IUe,[p(" Inventario: "),GUe])):(l(),r("label",qUe,[p(" Inventario: "),e("label",KUe,i(a.invConc.inventario),1)])),a.invConc.contabilizacion==null?(l(),r("label",XUe,[p(" Contabilización: "),JUe])):(l(),r("label",ZUe,[p(" Contabilización: "),e("label",WUe,i(a.invConc.contabilizacion),1)])),a.invConc.diferencia==null?(l(),r("label",YUe,[p(" Diferencia: "),QUe])):(l(),r("label",eVe,[p(" Diferencia: "),e("label",tVe,i(a.invConc.diferencia),1)])),a.invConc.observacion==null?(l(),r("label",sVe,[p(" Observación: "),oVe])):(l(),r("label",aVe,[p(" Observación: "),e("label",lVe,i(a.invConc.observacion),1)])),iVe,a.invConc.autorizadoSupervisora==!0?(l(),r("label",rVe,[p(" ¿Autorizado por Supervisora?: "),nVe])):m("",!0),a.invConc.autorizadoSupervisora==!1?(l(),r("label",dVe,[p(" ¿Autorizado por Supervisora?: "),cVe])):(l(),r("label",uVe,[p(" ¿Autorizado por Supervisora?: "),hVe])),a.invConc.fechaAutSup==null?(l(),r("label",mVe,[p(" Fecha Autorización Supervisora: "),pVe])):(l(),r("label",fVe,[p(" Fecha Autorización Supervisora: "),e("label",bVe,i(a.invConc.fechaAutSup),1)])),a.invConc.observacionesSupervisora==null?(l(),r("label",gVe,[p(" Observación Autorización Supervisora: "),_Ve])):(l(),r("label",vVe,[p(" Observación Autorización Supervisora: "),e("label",$Ve,i(a.invConc.observacionesSupervisora),1)])),a.invConc.autorizadoComision==!0?(l(),r("label",yVe,[p(" ¿Autorizado por Comisión?: "),CVe])):m("",!0),a.invConc.autorizadoComision==!1?(l(),r("label",wVe,[p(" ¿Autorizado por Comisión?: "),kVe])):(l(),r("label",xVe,[p(" ¿Autorizado por Comisión?: "),PVe])),a.invConc.fechaAutCom==null?(l(),r("label",EVe,[p(" Fecha Autorización Comisión: "),TVe])):(l(),r("label",DVe,[p(" Fecha Autorización Comisión: "),e("label",BVe,i(a.invConc.fechaAutCom),1)])),a.invConc.observacionesComision==null?(l(),r("label",OVe,[p(" Observación Autorización Comisión: "),MVe])):(l(),r("label",SVe,[p(" Observación Autorización Comisión: "),e("label",RVe,i(a.invConc.observacionesComision),1)])),AVe,a.invConc.fechaFinalizacion==null?(l(),r("label",FVe,[p(" Fecha Finalización: "),zVe])):(l(),r("label",UVe,[p(" Fecha Finalización: "),e("label",VVe,i(a.invConc.fechaFinalizacion),1)]))])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const jVe=U(tUe,[["render",LVe]]),NVe={components:{modalconfirmacion:j,modalalerta:N,modaldetalle:jVe,modaleditar:eUe},mixins:[V],data(){return{inventarios:null,showEditarInvConc:!1,showDetallesInvConc:!1,invConcEditar:null,detalles:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getInventarios()},methods:{getInventarios(){_.get("api/inventario").then(t=>{this.inventarios=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableInventarios")}).catch(t=>console.log(t))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.inventarios=null,this.getInventarios()):(this.table.destroy(),this.crearTabla("#MyTableInventarios"))},invConcDetalle(t){this.detalles=t,this.showDetallesInvConc=!0},invConcesionesEditar(t){this.usuarioeditar=t,this.showEditarInvConc=!0},async deleteInvConc(t){await this.$refs.confirmation.show({title:"Borrar Inventario de Concesión",message:"¿Está seguro/a que desea eliminar el inventario de concesión? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/inventario/${t}`).then(a=>{this.toast.success("Inventario de Concesión eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},HVe={class:"row mt-4 mx-4"},IVe={class:"col-12"},GVe={class:"card mb-4"},qVe={class:"row pb-0 p-4"},KVe={class:"col-4"},XVe={class:"row"},JVe={class:"col-5"},ZVe={class:"col-5"},WVe={class:"col-auto pt-3"},YVe=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),QVe=[YVe],eLe={class:"col-8"},tLe={class:"d-flex justify-content-end"},sLe=e("i",{class:"fa-solid fa-file-signature"},null,-1),oLe=e("i",{class:"fa-solid fa-upload"},null,-1),aLe=e("i",{class:"fa-solid fa-rotate"},null,-1),lLe=[aLe],iLe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},rLe={class:"container"},nLe={class:"table-responsive p-0"},dLe={class:"loader-sm"},cLe={class:"table align-items-center mb-0",id:"MyTableInventarios"},uLe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo inventario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Super familia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Supervisor"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Sucursal "),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Promotor"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Comisión"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Hora"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Recuento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Inventario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Contabilizacion"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Diferencia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Observación"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),hLe=e("td",null,null,-1),mLe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},pLe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},fLe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},bLe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},gLe={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},_Le={key:4,class:"text-sm font-weight-bolder mb-0",style:{color:"#1520A6"}},vLe={class:"text-sm mb-0"},$Le={class:"text-sm mb-0"},yLe={class:"text-sm mb-0"},CLe={class:"text-sm mb-0"},wLe={class:"text-sm mb-0"},kLe={key:0,class:"text-sm mb-0"},xLe={key:1,class:"text-sm mb-0"},PLe={class:"text-sm mb-0"},ELe={class:"text-sm mb-0"},TLe={class:"text-sm mb-0"},DLe={class:"text-sm mb-0"},BLe={class:"text-sm mb-0"},OLe={class:"text-sm mb-0"},MLe={class:"text-sm mb-0"},SLe={class:"align-middle text-end"},RLe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},ALe=["onClick"],FLe=e("i",{class:"fa-regular fa-eye"},null,-1),zLe=[FLe],ULe=["onClick"],VLe=e("i",{class:"fa fa-fw fa-edit"},null,-1),LLe=[VLe],jLe=["onClick"],NLe=e("i",{class:"fa fa-fw fa-trash"},null,-1),HLe=[NLe],ILe=ve('<div class="row"><div class="col-3"><label style="font-weight:500;">Estos botones utilizan los elementos seleccionados en la tabla, en caso de no existir ninguno seleccionará todos los registros. </label></div><div class="col-auto"><label title="Para seleccionar UN solo registro de la tabla basta con hacer \r click en el recuadro de la primera columna, para seleccionar \r varios consecutivos mantener SHIFT, para seleccionar varios \r no consecutivos mantener CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),GLe=e("div",{class:"row"},[e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"}),e("div",{class:"col-4 align-left text-center float-end"})],-1);function qLe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modaleditar"),h=y("modaldetalle");return l(),r("div",HVe,[e("div",IVe,[e("div",GVe,[e("div",qVe,[e("div",KVe,[e("div",XVe,[e("div",JVe,[e("label",null,[p("Fecha Inicio Doc.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=b=>t.fechaInicio=b)},null,512),[[k,t.fechaInicio]])])]),e("div",ZVe,[e("label",null,[p("Fecha Término Doc.: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=b=>t.fechaTermino=b)},null,512),[[k,t.fechaTermino]])])]),e("div",WVe,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=b=>t.filtrarFecha())},QVe)])])]),e("div",eLe,[e("div",tLe,[t.is("Tiendas_Jefatura")&&t.can("Inventario Concesiones_Modificar")?(l(),r("a",{key:0,class:"btn btn-spacing btn-closed",id:"show-autorizarModal",onClick:s[3]||(s[3]=b=>t.showAutorizarInvConciones=!0)},[sLe,p(" Autorizar")])):m("",!0),p("   "),t.can("Inventario Concesiones_Crear")?(l(),r("a",{key:1,class:"btn btn-spacing btn-alert",id:"show-uploadDataModal",onClick:s[4]||(s[4]=b=>t.showUploadDataInvConciones=!0)},[oLe,p(" Subir Datos")])):m("",!0),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[5]||(s[5]=b=>d.recargarTabla("General"))},lLe)])])]),e("div",iLe,[e("div",rLe,[e("div",nLe,[f(e("div",dLe,null,512),[[H,n.mostrarCarga]]),f(e("table",cLe,[uLe,e("tbody",null,[(l(!0),r(P,null,E(n.inventarios,b=>(l(),r("tr",{key:b.id},[hLe,e("td",null,[e("p",mLe,i(b.id),1)]),e("td",null,[b.estado=="Finalizado"?(l(),r("p",pLe,i(b.estado),1)):m("",!0),b.estado=="Rechazado"?(l(),r("p",fLe,i(b.estado),1)):m("",!0),b.estado=="Ingresado"?(l(),r("p",bLe,i(b.estado),1)):m("",!0),b.estado=="En Proceso"?(l(),r("p",gLe,i(b.estado),1)):m("",!0),b.estado=="Confirmado"?(l(),r("p",_Le,i(b.estado),1)):m("",!0)]),e("td",null,[e("p",vLe,i(b.tipo_inv.nombre),1)]),e("td",null,[e("p",$Le,i(b.superFamilia),1)]),e("td",null,[e("p",yLe,i(b.supervisor.usuario.name),1)]),e("td",null,[e("p",CLe,i(b.sucursal.codigo)+" - "+i(b.sucursal.nombre),1)]),e("td",null,[e("p",wLe,i(b.promotor.usuario.name),1)]),e("td",null,[b.comision.usuario!=null?(l(),r("p",kLe,i(b.comision.usuario.name),1)):(l(),r("p",xLe,i(b.comision.nombre),1))]),e("td",null,[e("p",PLe,i(b.fecha),1)]),e("td",null,[e("p",ELe,i(b.hora),1)]),e("td",null,[e("p",TLe,i(b.recuento),1)]),e("td",null,[e("p",DLe,i(b.inventario),1)]),e("td",null,[e("p",BLe,i(b.contabilizacion),1)]),e("td",null,[e("p",OLe,i(b.diferencia),1)]),e("td",null,[e("p",MLe,i(b.observacion),1)]),e("td",SLe,[e("div",RLe,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:v=>d.invConcDetalle(b)},zLe,8,ALe),p("   "),t.can("Inventario Concesiones_Modificar")&&b.autorizadoComision==null?(l(),r("a",{key:0,class:"btn btn-alert btn-xs",title:"Editar",onClick:v=>d.invConcesionesEditar(b)},LLe,8,ULe)):m("",!0),p("   "),t.can("Inventario Concesiones_Modificar")&&b.autorizadoSupervisora==null?(l(),r("a",{key:1,class:"btn btn-closed btn-xs",title:"Eliminar",onClick:v=>d.deleteInvConc(b.id)},HLe,8,jLe)):m("",!0)])])]))),128))])],512),[[H,n.mostrarTabla]]),ILe])])])]),GLe,x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showEditarInvConc?(l(),T(o,{key:0,invConc:n.invConcEditar,onClose:s[6]||(s[6]=b=>n.showEditarInvConc=!1),onRecarga:s[7]||(s[7]=b=>d.recargarTabla("General"))},null,8,["invConc"])):m("",!0),n.showDetallesInvConc?(l(),T(h,{key:1,invConc:n.detalles,onClose:s[8]||(s[8]=b=>n.showDetallesInvConc=!1),onRecarga:s[9]||(s[9]=b=>d.recargarTabla("General"))},null,8,["invConc"])):m("",!0)])])}const KLe=U(NVe,[["render",qLe]]);let Ns=document.head.querySelector('meta[name="user"]'),XLe=document.head.querySelector('meta[name="roles"]');const JLe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({ncv:{fecha:"",tienda:"",usuario:JSON.parse(Ns.content).id,numNCV:"",numBoleta:"",montoNCV:"",montoBoleta:"",cantidadArtNCV:"",cantidadArtBoleta:"",rutCliente:"",nomCliente:"",motivo:"",otro:""},detallePago:{tipoPago:"",banco:"",tipoCuenta:"",cuenta:"",rutPago:""},idUsuario:JSON.parse(Ns.content).id,buttonText:"Crear Solicitud",buttonDisable:!1,inputsBloqueados:!1,detalles:[],productos:[],errors:[],errorsTipo:[],nombreUsuario:"",modoeditar:!1,modoEditarDetalle:!1,idEditar:"",tienda:!1,administrador:!1,nombreTienda:"",tiendas:[],bancos:[],tiposCuentaBanco:[],dataNCV:"",nNCVAux:"",cantidadDetalles:0,confirmarDatos:!1}),created(){this.getDatos(this.idUsuario),this.getTiendas(),this.getBancos(),this.getTiposCuenta(),this.comprobarRol(JSON.parse(XLe.content))},methods:{async buscarNCV(t){if(this.ncv.numNCV==this.nNCVAux)this.toast.warning("El N° de Nota de Crédito ya fue ingresado ",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(this.ncv.numNCV!="")try{const s=await _.get(`api/datosNCV/${t}`);this.dataNCV=JSON.parse(s.data),this.dataNCV.value.length!=0?(this.tiendas.forEach(a=>{a.codigo==this.dataNCV.value[0].Invoices.CardCode&&(this.ncv.tienda=a.id,this.nombreTienda=a.nombre)}),this.ncv.numBoleta=this.dataNCV.value[0].Invoices.FolioNumber,this.ncv.montoBoleta=this.dataNCV.value[0].Invoices.DocTotal,this.ncv.montoNCV=this.dataNCV.value[0].U_GSP_TPVCAP.U_GSP_CATOTA,this.productos=[],this.dataNCV.value.forEach(a=>{this.productos.push(a.U_GSP_TPVLIN)}),this.ncv.rutCliente=this.dataNCV.value[0].U_GSP_TPVCAP.U_GSP_CANIF,this.ncv.nomCliente=this.dataNCV.value[0].U_GSP_TPVCAP.U_GSP_CACLNOM,this.ncv.cantidadArtBoleta=this.productos.length,this.ncv.cantidadArtNCV=this.productos.length,this.confirmarDatos=!0,this.nNCVAux=this.ncv.numNCV):(this.toast.warning("La Nota de Crédito ingresada no existe",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),await this.$refs.confirmation.show({title:"La Nota de Crédito ingresada no existe",message:"¿ Desea ingresar los datos de forma manual ?.",okButton:"Ingresar Manual",cancelButton:"Cancelar"})&&(this.inputsBloqueados=!0))}catch(s){console.error(s),this.toast.warning("La Nota de Crédito ingresada no existe",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}else this.toast.warning("El campo de N° de Nota de Crédito es requerido",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},getTiposCuenta(){_.get("api/tiposCuentaBanco").then(t=>{this.tiposCuentaBanco=t.data}).catch(t=>console.log(t))},getBancos(){_.get("api/bancos").then(t=>{this.bancos=t.data}).catch(t=>console.log(t))},getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data,this.tienda==!0&&this.administrador==!1&&this.tiendas.forEach(s=>{s.idUsuario==this.idUsuario&&(this.ncv.tienda=s.id,this.nombreTienda=s.nombre)})}).catch(t=>console.log(t))},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},validateInput(t){t=="Cliente"?this.ncv.rutCliente=this.ncv.rutCliente.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1"):this.detallePago.rutPago=this.detallePago.rutPago.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&this.ncv.rutCliente.indexOf("-")!==-1||s===45&&this.detallePago.rutPago.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},checkRut(t){if(t=="Cliente"){if(this.ncv.rutCliente!=""){this.ncv.rutCliente.replace(".","");var s=this.ncv.rutCliente.replace(".","");s=s.replace("-","");var a=s.slice(0,-1),c=s.slice(-1).toUpperCase();this.ncv.rutCliente=a+"-"+c}}else if(this.detallePago.rutPago!=""){this.detallePago.rutPago.replace(".","");var s=this.detallePago.rutPago.replace(".","");s=s.replace("-","");var a=s.slice(0,-1),c=s.slice(-1).toUpperCase();this.detallePago.rutPago=a+"-"+c}},confirmarNCV(){this.errors=[];for(const a in this.ncv)(this.ncv[a]===""||this.ncv[a]===0)&&(a=="numNCV"||a=="numBoleta"||a=="tienda")&&this.errors.push(a);var t="";if(this.errors.length!=0&&(this.errors.forEach(a=>{a=="numNCV"?t=t+`El campo de N° de Nota de Crédito es requerido
`:a=="numBoleta"?t=t+`El campo de N° de Boleta es requerido
`:a=="tienda"&&(t=t+`El campo de Tienda es requerido
`)}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){if(this.tienda==!1||this.administrador==!0){var s=document.getElementById("selectTienda");this.nombreTienda=s.options[s.selectedIndex].text}this.confirmarDatos=!0,this.modoeditar=!1}},editarNCV(){this.modoeditar=!0,this.confirmarDatos=!1},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},comprobarRol(t){t.forEach(s=>{s=="Administrador"&&(this.administrador=!0),s=="Tiendas"&&(this.tienda=!0)})},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cantidadDetalles=this.cantidadDetalles-1)},cancelarEditar(){this.modoEditarDetalle=!1,this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoEditarDetalle=!0;var s=this.detalles[t];this.detallePago.tipoPago=s.tipoPago,this.detallePago.banco=s.banco,this.detallePago.tipoCuenta=s.tipoCuenta,this.detallePago.cuenta=s.cuenta,this.detallePago.rutPago=s.rut},guardarEdicion(t){this.errors=[];for(const c in this.detallePago)(this.detallePago[c]===""||this.detallePago[c]===0)&&(this.detallePago.tipoPago=="Transferencia"?this.errors.push(c):this.detallePago.tipoPago==""&&c=="tipoPago"&&this.errors.push(c));if(this.detallePago.rutPago!=""){var s=this.validarRut(this.detallePago.rutPago);s==!1&&this.errors.push("rut invalido")}var a="";if(this.errors.length!=0&&(this.errors.forEach(c=>{c=="rut invalido"?a=a+`El Rut ingresado es invalido
`:c=="tipoCuenta"?a=a+`El campo Tipo de Cuenta es requerido
`:c=="rutPago"?a=a+`El campo Rut es requerido
`:a=a+"El campo "+this.capitalizeFirstLetter(c)+` es requerido
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let c={idDetalle:this.cantidadDetalles,tipoPago:this.detallePago.tipoPago,banco:this.detallePago.banco,tipoCuenta:this.detallePago.tipoCuenta,cuenta:this.detallePago.cuenta,rut:this.detallePago.rutPago};this.detalles[t]=c,this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoEditarDetalle=!1}},async crearNCV(){this.errors=[];for(const c in this.ncv)this.ncv.motivo=="Otro"&&c=="otro"&&this.errors.push(c),(this.ncv[c]===""||this.ncv[c]===0)&&c!="otro"&&this.errors.push(c);if(this.ncv.rutCliente!=""){var t=this.validarRut(this.ncv.rutCliente);t==!1&&this.errors.push("rut invalido")}var s="";if(this.errors.length!=0&&(this.errors.forEach(c=>{c=="rut invalido"?s=s+`El Rut ingresado es invalido
`:c=="numNCV"?s=s+`El campo N° de Nota de Crédito es requerido
`:c=="numBoleta"?s=s+`El campo N° de Boleta es requerido
`:c=="montoNCV"?s=s+`El campo monto de Nota de Crédito es requerido
`:c=="montoBoleta"?s=s+`El campo monto de Boleta es requerido
`:c=="cantidadArtNCV"?s=s+`El campo cantidad de Artículos NCV es requerido
`:c=="cantidadArtBoleta"?s=s+`El campo cantidad de Artículos de Boleta es requerido
`:c=="rutCliente"?s=s+`El campo Rut del Cliente es requerido
`:c=="nomCliente"?s=s+`El campo Nombre del Cliente es requerido
`:s=s+"El campo "+this.capitalizeFirstLetter(c)+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.cantidadDetalles==0&&(this.errors.push("detalles"),this.toast.warning("No puede crear una solicitud sin detalles",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Crear Nota de Crédito",message:"¿Está seguro/a que desea crear esta Nota de Crédito ? Esta acción no puede ser desecha.",okButton:"Crear",cancelButton:"Volver"})){const n=[];var a="";this.ncv.motivo=="Otro"?a=this.ncv.motivo+":"+this.ncv.otro:a=this.ncv.motivo;let d={fecha:this.ncv.fecha,idTienda:this.ncv.tienda,idUsuario:this.ncv.usuario,notaCredito:this.ncv.numNCV,boleta:this.ncv.numBoleta,montoNotaCredito:this.ncv.montoNCV,montoBoleta:this.ncv.montoBoleta,cantidadArtNCV:this.ncv.cantidadArtNCV,cantidadArtBoleta:this.ncv.cantidadArtBoleta,rutCliente:this.ncv.rutCliente,nomCliente:this.ncv.nomCliente,motivo:a};n.push(d),n.push(this.detalles),_.post("api/ncv",n).then(u=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Nota de Crédito creada con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),_.post("api/ncv/sendEmail",n).then(g=>{console.log(g.data),this.toast.success("Correo enviado!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(g=>{console.log(g)})}).catch(u=>{u.response.status==422&&(this.errors=u.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},agregarDetalle(){this.errors=[];for(const a in this.detallePago)(this.detallePago[a]===""||this.detallePago[a]===0)&&(this.detallePago.tipoPago=="Transferencia"?this.errors.push(a):this.detallePago.tipoPago==""&&a=="tipoPago"&&this.errors.push(a));if(this.detallePago.rutPago!=""){var t=this.validarRut(this.detallePago.rutPago);t==!1&&this.errors.push("rut invalido")}var s="";if(this.errors.length!=0&&(this.errors.forEach(a=>{a=="rut invalido"?s=s+`El Rut ingresado es invalido
`:a=="tipoPago"?s=s+`El campo Tipo de Pago es requerido
`:a=="tipoCuenta"?s=s+`El campo Tipo de Cuenta es requerido
`:a=="rutPago"?s=s+`El campo Rut es requerido
`:s=s+"El campo "+this.capitalizeFirstLetter(a)+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let a={idDetalle:this.cantidadDetalles,tipoPago:this.detallePago.tipoPago,banco:this.detallePago.banco,tipoCuenta:this.detallePago.tipoCuenta,cuenta:this.detallePago.cuenta,rut:this.detallePago.rutPago};this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(a),this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},getDatos(t){_.get(`api/dataNCV/${t}`).then(s=>{this.ncv.fecha=s.data[1],this.nombreUsuario=s.data[2]}).catch(s=>console.log(s))}}},ZLe={name:"modal"},WLe={class:"modal-mask"},YLe={class:"modal-wrapper"},QLe={class:"modal-container"},eje={class:"modal-header pb-1",style:{"font-weight":"bold",color:"#444444"}},tje={class:"modal-body"},sje={id:"tableDesign",class:"table align-items-center mb-0"},oje=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Usuario"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N°NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"N°Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),aje={class:"text-sm mb-0"},lje=["disabled"],ije=e("option",{disabled:"",value:""},"Seleccione una tienda",-1),rje=["value"],nje={key:1,class:"text-sm mb-0"},dje={class:"text-sm mb-0"},cje={key:1,class:"text-sm mb-0"},uje=["disabled"],hje={key:1,class:"text-sm mb-0"},mje={class:"text-sm mb-0"},pje=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),fje=[pje],bje=e("i",{class:"fa-solid fa-check"},null,-1),gje=[bje],_je=e("i",{class:"fa fa-fw fa-edit"},null,-1),vje=[_je],$je=e("br",null,null,-1),yje={enctype:"multipart/form-data"},Cje={class:"row"},wje={class:"col-2"},kje={class:"form-group"},xje=e("label",{for:""},"Monto NCV: ",-1),Pje=e("br",null,null,-1),Eje=["disabled"],Tje={class:"col-sm-2"},Dje={class:"form-group"},Bje=e("label",{for:""},"Monto Boleta: ",-1),Oje=e("br",null,null,-1),Mje=["disabled"],Sje={class:"col-sm-2"},Rje={class:"form-group"},Aje=e("label",{for:""},"Artículos NCV: ",-1),Fje=e("br",null,null,-1),zje=["disabled"],Uje={class:"col-sm-2"},Vje={class:"form-group"},Lje=e("label",{for:""},"Artículos Boleta: ",-1),jje=e("br",null,null,-1),Nje=["disabled"],Hje={class:"col-sm-2"},Ije={class:"form-group"},Gje=e("label",{for:""},"Rut Cliente: ",-1),qje=e("br",null,null,-1),Kje=["disabled"],Xje={class:"col-sm-2"},Jje={class:"form-group"},Zje=e("label",{for:""},"Nombre Cliente: ",-1),Wje=e("br",null,null,-1),Yje=["disabled"],Qje={class:"row"},eNe={class:"col-3"},tNe={class:"form-group"},sNe=e("label",{for:""},"Motivo: ",-1),oNe=e("br",null,null,-1),aNe=e("option",{disabled:"",value:""},"Seleccione un motivo",-1),lNe=e("option",null,"No me gusto",-1),iNe=e("option",null,"Error de fabrica",-1),rNe=e("option",null,"Otro",-1),nNe=[aNe,lNe,iNe,rNe],dNe={key:0,class:"col-3"},cNe={class:"form-group"},uNe=e("label",{for:""},"Otro: ",-1),hNe=e("br",null,null,-1),mNe={key:0},pNe=e("hr",{size:"4",class:"separador"},null,-1),fNe=e("h6",{style:{"font-weight":"bold",color:"#444444"}},"Productos",-1),bNe={class:"row"},gNe={id:"tableDesign",class:"table align-items-center mb-0"},_Ne=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Código"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Precio")])],-1),vNe={key:0},$Ne=e("td",{colspan:"10"}," No hay información disponible. ",-1),yNe=[$Ne],CNe={class:"text-sm mb-0"},wNe={class:"text-sm mb-0"},kNe={class:"text-sm mb-0"},xNe={class:"text-sm mb-0"},PNe={class:"text-sm mb-0"},ENe=e("hr",{size:"4",class:"separador"},null,-1),TNe={enctype:"multipart/form-data"},DNe=e("h6",{style:{"font-weight":"bold",color:"#444444"}},"Detalles pagos",-1),BNe={class:"row"},ONe={class:"col-3"},MNe={class:"form-group"},SNe=e("label",{for:""},"Tipo Pago: ",-1),RNe=e("br",null,null,-1),ANe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),FNe=e("option",null,"Transferencia",-1),zNe=e("option",null,"Devolución Credito",-1),UNe=[ANe,FNe,zNe],VNe={class:"col-3"},LNe={class:"form-group"},jNe=e("label",{for:""},"Banco: ",-1),NNe=e("br",null,null,-1),HNe=e("option",{disabled:"",value:""},"Seleccione un banco",-1),INe=["value"],GNe={class:"col-2"},qNe={class:"form-group"},KNe=e("label",{for:""},"Tipo Cuenta: ",-1),XNe=e("br",null,null,-1),JNe=e("option",{disabled:"",value:""},"Seleccione uno",-1),ZNe=["value"],WNe={class:"col-2"},YNe={class:"form-group"},QNe=e("label",{for:""},"Cuenta: ",-1),eHe=e("br",null,null,-1),tHe={class:"col-2"},sHe={class:"form-group"},oHe=e("label",{for:""},"Rut: ",-1),aHe=e("br",null,null,-1),lHe=e("hr",{size:"4",class:"separador"},null,-1),iHe={class:"row"},rHe={id:"tableDesign",class:"table align-items-center mb-0"},nHe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Pago"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Banco"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),dHe={key:0},cHe=e("td",{colspan:"10"}," No hay información disponible. ",-1),uHe=[cHe],hHe={class:"text-sm mb-0"},mHe={class:"text-sm mb-0"},pHe={key:0,class:"text-sm mb-0"},fHe={key:1,class:"text-sm mb-0"},bHe={key:0,class:"text-sm mb-0"},gHe={key:1,class:"text-sm mb-0"},_He={key:0,class:"text-sm mb-0"},vHe={key:1,class:"text-sm mb-0"},$He={key:0,class:"text-sm mb-0"},yHe={key:1,class:"text-sm mb-0"},CHe={class:"text-sm mb-0"},wHe=["onClick"],kHe=e("i",{class:"fa fa-fw fa-edit"},null,-1),xHe=[kHe],PHe=["onClick"],EHe=e("i",{class:"fa fa-fw fa-trash"},null,-1),THe=[EHe],DHe={class:"modal-footer"},BHe=["disabled"];function OHe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",ZLe,[e("div",WLe,[e("div",YLe,[e("div",QLe,[e("div",eje,[C(t.$slots,"header",{},()=>[p(" Nueva Nota de Crédito ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",tje,[C(t.$slots,"body",{},()=>[e("table",sje,[oje,e("tbody",null,[e("tr",null,[e("td",null,[e("p",aje,i(this.ncv.fecha),1)]),e("td",null,[t.tienda==!1&&(t.confirmarDatos==!1||t.modoeditar==!0)||t.tienda==!0&&t.administrador==!0&&(t.confirmarDatos==!1||t.modoeditar==!0)?f((l(),r("select",{key:0,disabled:t.inputsBloqueados==!1,id:"selectTienda",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=o=>t.ncv.tienda=o)},[ije,(l(!0),r(P,null,E(t.tiendas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.codigo)+" - "+i(o.nombre),9,rje))),128))],8,lje)),[[A,t.ncv.tienda]]):(l(),r("p",nje,i(t.nombreTienda),1))]),e("td",null,[e("p",dje,i(t.nombreUsuario),1)]),e("td",null,[t.confirmarDatos==!1||t.modoeditar==!0?f((l(),r("input",{key:0,type:"number",class:"form-control-xs","onUpdate:modelValue":s[2]||(s[2]=o=>t.ncv.numNCV=o)},null,512)),[[k,t.ncv.numNCV]]):(l(),r("p",cje,i(t.ncv.numNCV),1))]),e("td",null,[t.confirmarDatos==!1||t.modoeditar==!0?f((l(),r("input",{key:0,disabled:t.inputsBloqueados==!1,type:"number",class:"form-control-xs","onUpdate:modelValue":s[3]||(s[3]=o=>t.ncv.numBoleta=o)},null,8,uje)),[[k,t.ncv.numBoleta]]):(l(),r("p",hje,i(t.ncv.numBoleta),1))]),e("td",null,[e("p",mje,[t.confirmarDatos==!1||t.modoeditar==!0?(l(),r("a",{key:0,class:"btn btn-search-blue btn-xs",title:"Buscar",onClick:s[4]||(s[4]=o=>d.buscarNCV(t.ncv.numNCV))},fje)):m("",!0),p("   "),t.confirmarDatos==!1||t.modoeditar==!0?(l(),r("a",{key:1,class:"btn btn-success btn-xs",title:"Confirmar",onClick:s[5]||(s[5]=o=>d.confirmarNCV())},gje)):(l(),r("a",{key:2,class:"btn btn-alert btn-xs",title:"Editar",onClick:s[6]||(s[6]=o=>d.editarNCV())},vje))])])])])]),$je,e("form",yje,[e("div",Cje,[e("div",wje,[e("div",kje,[xje,Pje,f(e("input",{type:"number",disabled:t.inputsBloqueados==!1,class:"form-control-small","onUpdate:modelValue":s[7]||(s[7]=o=>t.ncv.montoNCV=o)},null,8,Eje),[[k,t.ncv.montoNCV]])])]),e("div",Tje,[e("div",Dje,[Bje,Oje,f(e("input",{type:"number",disabled:t.inputsBloqueados==!1,class:"form-control-small","onUpdate:modelValue":s[8]||(s[8]=o=>t.ncv.montoBoleta=o)},null,8,Mje),[[k,t.ncv.montoBoleta]])])]),e("div",Sje,[e("div",Rje,[Aje,Fje,f(e("input",{type:"number",disabled:t.inputsBloqueados==!1,class:"form-control-small","onUpdate:modelValue":s[9]||(s[9]=o=>t.ncv.cantidadArtNCV=o)},null,8,zje),[[k,t.ncv.cantidadArtNCV]])])]),e("div",Uje,[e("div",Vje,[Lje,jje,f(e("input",{type:"number",disabled:t.inputsBloqueados==!1,class:"form-control-small","onUpdate:modelValue":s[10]||(s[10]=o=>t.ncv.cantidadArtBoleta=o)},null,8,Nje),[[k,t.ncv.cantidadArtBoleta]])])]),e("div",Hje,[e("div",Ije,[Gje,qje,f(e("input",{type:"text",disabled:t.inputsBloqueados==!1,class:"form-control-small",onInput:s[11]||(s[11]=(...o)=>d.validateInput&&d.validateInput(...o)),onKeypress:s[12]||(s[12]=(...o)=>d.isNumberOrDash&&d.isNumberOrDash(...o)),onKeyup:s[13]||(s[13]=o=>d.checkRut("Cliente")),"onUpdate:modelValue":s[14]||(s[14]=o=>t.ncv.rutCliente=o)},null,40,Kje),[[k,t.ncv.rutCliente]])])]),e("div",Xje,[e("div",Jje,[Zje,Wje,f(e("input",{type:"text",disabled:t.inputsBloqueados==!1,class:"form-control-small","onUpdate:modelValue":s[15]||(s[15]=o=>t.ncv.nomCliente=o)},null,8,Yje),[[k,t.ncv.nomCliente]])])])]),e("div",Qje,[e("div",eNe,[e("div",tNe,[sNe,oNe,f(e("select",{class:"form-select","onUpdate:modelValue":s[16]||(s[16]=o=>t.ncv.motivo=o)},nNe,512),[[A,t.ncv.motivo]])])]),t.ncv.motivo=="Otro"?(l(),r("div",dNe,[e("div",cNe,[uNe,hNe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=o=>t.ncv.otro=o)},null,512),[[k,t.ncv.otro]])])])):m("",!0)])]),t.productos.length>0?(l(),r("div",mNe,[pNe,fNe,e("div",bNe,[e("table",gNe,[_Ne,e("tbody",null,[t.productos.length==0?(l(),r("tr",vNe,yNe)):(l(!0),r(P,{key:1},E(t.productos,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",CNe,i(h+1),1)]),e("td",null,[e("p",wNe,i(o.U_GSP_LIARTI),1)]),e("td",null,[e("p",kNe,i(o.U_GSP_LIDES1),1)]),e("td",null,[e("p",xNe,i(o.U_GSP_LIQUAN),1)]),e("td",null,[e("p",PNe,i(t.formatMoneyCLP(o.U_GSP_LIIMPRML)),1)])]))),128))])])])])):m("",!0),ENe,e("form",TNe,[DNe,e("div",BNe,[e("div",ONe,[e("div",MNe,[SNe,RNe,f(e("select",{class:"form-select","onUpdate:modelValue":s[18]||(s[18]=o=>t.detallePago.tipoPago=o)},UNe,512),[[A,t.detallePago.tipoPago]])])]),f(e("div",VNe,[e("div",LNe,[jNe,NNe,f(e("select",{class:"form-select","onUpdate:modelValue":s[19]||(s[19]=o=>t.detallePago.banco=o)},[HNe,(l(!0),r(P,null,E(t.bancos,o=>(l(),r("option",{key:o.id,value:o.nombre},i(o.nombre),9,INe))),128))],512),[[A,t.detallePago.banco]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",GNe,[e("div",qNe,[KNe,XNe,f(e("select",{class:"form-select","onUpdate:modelValue":s[20]||(s[20]=o=>t.detallePago.tipoCuenta=o)},[JNe,(l(!0),r(P,null,E(t.tiposCuentaBanco,o=>(l(),r("option",{key:o.id,value:o.nombre},i(o.nombre),9,ZNe))),128))],512),[[A,t.detallePago.tipoCuenta]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",WNe,[e("div",YNe,[QNe,eHe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[21]||(s[21]=o=>t.detallePago.cuenta=o)},null,512),[[k,t.detallePago.cuenta]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",tHe,[e("div",sHe,[oHe,aHe,f(e("input",{type:"text",class:"form-control",onKeyup:s[22]||(s[22]=o=>d.checkRut("Pago")),onInput:s[23]||(s[23]=(...o)=>d.validateInput&&d.validateInput(...o)),onKeypress:s[24]||(s[24]=(...o)=>d.isNumberOrDash&&d.isNumberOrDash(...o)),"onUpdate:modelValue":s[25]||(s[25]=o=>t.detallePago.rutPago=o)},null,544),[[k,t.detallePago.rutPago]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]])]),t.modoEditarDetalle==!1?(l(),r("a",{key:0,onClick:s[26]||(s[26]=o=>d.agregarDetalle()),class:"btn btn-dark-grey float-right"},"Agregar pago")):m("",!0),t.modoEditarDetalle==!0?(l(),r("a",{key:1,onClick:s[27]||(s[27]=o=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar pago")):m("",!0),p("   "),t.modoEditarDetalle==!0?(l(),r("a",{key:2,onClick:s[28]||(s[28]=o=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),lHe,e("div",iHe,[e("table",rHe,[nHe,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",dHe,uHe)):(l(!0),r(P,{key:1},E(t.detalles,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",hHe,i(h+1),1)]),e("td",null,[e("p",mHe,i(o.tipoPago),1)]),e("td",null,[o.banco!=""?(l(),r("p",pHe,i(o.banco),1)):(l(),r("p",fHe," --- "))]),e("td",null,[o.tipoCuenta!=""?(l(),r("p",bHe,i(o.tipoCuenta),1)):(l(),r("p",gHe," --- "))]),e("td",null,[o.cuenta!=""?(l(),r("p",_He,i(o.cuenta),1)):(l(),r("p",vHe," --- "))]),e("td",null,[o.rut!=""?(l(),r("p",$He,i(o.rut),1)):(l(),r("p",yHe," --- "))]),e("td",null,[e("p",CHe,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:b=>d.editarDetalle(o.idDetalle)},xHe,8,wHe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:b=>d.eliminarDetalle(o)},THe,8,PHe)])])]))),128))])])])])]),e("div",DHe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-dark-grey float-end",onClick:s[29]||(s[29]=o=>d.crearNCV()),disabled:t.buttonDisable},i(t.buttonText),9,BHe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const MHe=U(JLe,[["render",OHe]]),SHe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({fotoMiniatura:"",foto:""}),props:{ncv:Object},created(){},methods:{guardarImagen(){var t=[];console.log(this.foto),t.push(this.foto),t.push(this.userID),_.post("api/ncv/añadirImagen",t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{console.log(s.data),this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Imagen añadida con exito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{s.response.status==422&&(this.errors=s.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})},async compressImages(t,s){return new Promise(async function(a){const c=t;await new Promise(n=>{new Ue(c,{quality:.5,success(d){s.push(d),n()}})}),a()})},async getImage(t){this.foto=t.target.files[0];let s=[];await this.compressImages(this.foto,s);var a=new File([s[0]],s[0].name,{type:s[0].type});this.foto=a,this.chargeImage(this.foto)},chargeImage(t){let s=new FileReader;s.onload=a=>{this.fotoMiniatura=a.target.result},s.readAsDataURL(t)}},computed:{imagen(){return this.fotoMiniatura}}},RHe={name:"modal"},AHe={class:"modal-mask"},FHe={class:"modal-wrapper"},zHe={class:"modal-container"},UHe={class:"modal-header pb-1",style:{"font-weight":"bold",color:"#444444"}},VHe={class:"col-7 m-0",style:{"font-size":"17px"}},LHe={class:"modal-body"},jHe={class:"form-group"},NHe={class:"row"},HHe=e("div",{class:"text-uppercase pb-2"},"Información General:",-1),IHe={class:"col-4 m-0 fs-8"},GHe={class:"fw-normal",style:{"font-size":"14px"}},qHe={class:"col-4 m-0 fs-8"},KHe={class:"fw-normal",style:{"font-size":"14px"}},XHe={class:"col-4 m-0 fs-8"},JHe={class:"fw-normal",style:{"font-size":"14px"}},ZHe={class:"col-4 m-0 fs-8"},WHe={class:"fw-normal",style:{"font-size":"14px"}},YHe={class:"col-4 m-0 fs-8"},QHe={class:"fw-normal",style:{"font-size":"14px"}},eIe={class:"col-4 m-0 fs-8"},tIe={class:"fw-normal",style:{"font-size":"14px"}},sIe={class:"col-4 m-0 fs-8"},oIe={class:"fw-normal",style:{"font-size":"14px"}},aIe={class:"col-4 m-0 fs-8"},lIe={class:"fw-normal",style:{"font-size":"14px"}},iIe={class:"col-4 m-0 fs-8 pb-2"},rIe={class:"fw-normal",style:{"font-size":"14px"}},nIe={class:"col-4 m-0 fs-8 pb-2"},dIe={class:"fw-normal",style:{"font-size":"14px"}},cIe=e("hr",{size:"4",class:"separador"},null,-1),uIe=e("div",{class:"text-uppercase pb-2"},"Productos:",-1),hIe={class:"row pb-2"},mIe={id:"tableDesign",class:"table align-items-center mb-0"},pIe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Código"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Precio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Numero Linea"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Motivo")])],-1),fIe={key:0},bIe=e("td",{colspan:"10"}," No hay información disponible. ",-1),gIe=[bIe],_Ie={class:"text-sm mb-0"},vIe={class:"text-sm mb-0"},$Ie={class:"text-sm mb-0"},yIe={class:"text-sm mb-0"},CIe={class:"text-sm mb-0"},wIe={class:"text-sm mb-0"},kIe={class:"text-sm mb-0"},xIe=e("hr",{size:"4",class:"separador"},null,-1),PIe=e("div",{class:"text-uppercase pb-2"},"Detalles Pago:",-1),EIe={id:"tableDesign",class:"table align-items-center mb-0"},TIe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Pago"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Banco"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut")])],-1),DIe={class:"text-sm mb-0"},BIe={class:"text-sm mb-0"},OIe={key:0,class:"text-sm mb-0"},MIe={key:1,class:"text-sm mb-0"},SIe={key:0,class:"text-sm mb-0"},RIe={key:1,class:"text-sm mb-0"},AIe={key:0,class:"text-sm mb-0"},FIe={key:1,class:"text-sm mb-0"},zIe={key:0,class:"text-sm mb-0"},UIe={key:1,class:"text-sm mb-0"};function VIe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",RHe,[e("div",AHe,[e("div",FHe,[e("div",zHe,[e("div",UHe,[C(t.$slots,"header",{},()=>[e("label",VHe,"Detalle de la Nota de Crédito: "+i(t.foto),1)]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",LHe,[C(t.$slots,"body",{},()=>[e("div",jHe,[e("div",NHe,[HHe,e("label",IHe,[p(" Tienda: "),e("label",GHe,i(a.ncv.tienda.nombre),1)]),e("label",qHe,[p(" Usuario: "),e("label",KHe,i(a.ncv.usuario.name),1)]),e("label",XHe,[p(" NºNCV: "),e("label",JHe,i(a.ncv.notaCredito),1)]),e("label",ZHe,[p(" NºBoleta: "),e("label",WHe,i(a.ncv.boleta),1)]),e("label",YHe,[p(" Monto NCV: "),e("label",QHe,i(t.formatMoneyCLP(a.ncv.montoNotaCredito)),1)]),e("label",eIe,[p(" Monto Boleta: "),e("label",tIe,i(t.formatMoneyCLP(a.ncv.montoBoleta)),1)]),e("label",sIe,[p(" Rut Cliente: "),e("label",oIe,i(a.ncv.rutCliente),1)]),e("label",aIe,[p(" Nombre Cliente: "),e("label",lIe,i(a.ncv.nomCliente),1)]),e("label",iIe,[p(" Motivo: "),e("label",rIe,i(a.ncv.motivo),1)]),e("label",nIe,[p(" Tipo Pago: "),e("label",dIe,i(a.ncv.metodoPago),1)]),cIe,uIe,e("div",hIe,[e("table",mIe,[pIe,e("tbody",null,[a.ncv.productos.length==0?(l(),r("tr",fIe,gIe)):(l(!0),r(P,{key:1},E(a.ncv.productos,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",_Ie,i(h+1),1)]),e("td",null,[e("p",vIe,i(o.codigo),1)]),e("td",null,[e("p",$Ie,i(o.descripcion),1)]),e("td",null,[e("p",yIe,i(o.cantidad),1)]),e("td",null,[e("p",CIe,i(t.formatMoneyCLP(o.precio)),1)]),e("td",null,[e("p",wIe,i(o.nroLinea),1)]),e("td",null,[e("p",kIe,i(o.motivo),1)])]))),128))])])]),xIe,PIe,e("table",EIe,[TIe,e("tbody",null,[(l(!0),r(P,null,E(a.ncv.detalles,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",DIe,i(h+1),1)]),e("td",null,[e("p",BIe,i(o.tipoPago),1)]),e("td",null,[o.banco!=null?(l(),r("p",OIe,i(o.banco),1)):(l(),r("p",MIe," --- "))]),e("td",null,[o.tipoCuenta!=null?(l(),r("p",SIe,i(o.tipoCuenta),1)):(l(),r("p",RIe," --- "))]),e("td",null,[o.cuenta!=null?(l(),r("p",AIe,i(o.cuenta),1)):(l(),r("p",FIe," --- "))]),e("td",null,[o.rut!=null?(l(),r("p",zIe,i(o.rut),1)):(l(),r("p",UIe," --- "))])]))),128))])])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const LIe=U(SHe,[["render",VIe]]),jIe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({buttonText:"Guardar Autorización de Pago",buttonDisable:!1,mostrarCargaAutorizar:!0,mostrarTablaAutorizar:!1,ncvsAutorizar:null,errors:[],checkAll1:!1}),created(){this.getNCVs(this.userID)},methods:{getNCVs(t){_.get(`api/ncv/${t}`).then(s=>{this.ncvsAutorizar=s.data,this.ncvsAutorizar=this.ncvsAutorizar.filter(a=>a.estado=="Procesado"),this.mostrarCargaAutorizar=!1,this.mostrarTablaAutorizar=!0}).catch(s=>console.log(s))},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async saveAuth(){if(this.ncvsAutorizar==0)this.toast.warning("No hay nada que autorizar",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1});else if(await this.$refs.confirmation.show({title:"Autorizar",message:"¿Está seguro/a que desea realizar estas autorizaciones? Esta acción no puede ser desecha.",okButton:"Autorizar",cancelButton:"Volver"})){var t=[];t.push(this.ncvsAutorizar),t.push(this.userID),_.post("api/ncv/autorizarPago",t).then(a=>{console.log(a.data),this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Autorizaciones exitosas!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(a=>{a.response.status==422&&(this.errors=a.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},NIe={name:"modal"},HIe={class:"modal-mask"},IIe={class:"modal-wrapper"},GIe={class:"modal-container-xl"},qIe={class:"modal-header",style:{"font-weight":"bold",color:"#444444"}},KIe={class:"modal-body"},XIe={class:"table-responsive p-0",id:"espaciadoTablaGastos",style:{"min-height":"300px","max-height":"500px"}},JIe={class:"loader"},ZIe={class:"table align-items-center mb-0",id:"tableDesign"},WIe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nº NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nº Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Art NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Art Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Autorizar")])],-1),YIe={key:0},QIe=e("td",{colspan:"14"}," No hay información disponible. ",-1),eGe=[QIe],tGe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},sGe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},oGe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},aGe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},lGe={class:"text-sm mb-0"},iGe={class:"text-sm mb-0"},rGe={class:"text-sm mb-0"},nGe={class:"text-sm mb-0"},dGe={class:"text-sm mb-0"},cGe={class:"text-sm mb-0"},uGe={class:"text-sm mb-0"},hGe={class:"text-sm mb-0"},mGe={class:"form-check"},pGe=["onUpdate:modelValue"],fGe=e("label",{style:{"margin-right":"15px"}},"Si",-1),bGe=["onUpdate:modelValue"],gGe=e("label",null,"No",-1),_Ge=["onUpdate:modelValue"],vGe=e("label",null,"Pendiente",-1),$Ge={class:"modal-footer"},yGe=["disabled"];function CGe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",NIe,[e("div",HIe,[e("div",IIe,[e("div",GIe,[e("div",qIe,[C(t.$slots,"header",{},()=>[p(" Autorizar Pagos: ")]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",KIe,[C(t.$slots,"body",{},()=>[e("div",XIe,[f(e("div",JIe,null,512),[[H,t.mostrarCargaAutorizar]]),f(e("table",ZIe,[WIe,e("tbody",null,[t.ncvsAutorizar==0?(l(),r("tr",YIe,eGe)):(l(!0),r(P,{key:1},E(t.ncvsAutorizar,o=>(l(),r("tr",{key:o.id},[e("td",null,[e("p",tGe,i(o.id),1)]),e("td",null,[o.estado=="Ingresado"?(l(),r("p",sGe,i(o.estado),1)):m("",!0),o.estado=="Procesado"?(l(),r("p",oGe,i(o.estado),1)):m("",!0),o.estado=="Pagado"?(l(),r("p",aGe,i(o.estado),1)):m("",!0)]),e("td",null,[e("p",lGe,i(o.fecha),1)]),e("td",null,[e("p",iGe,i(o.tienda.nombre),1)]),e("td",null,[e("p",rGe,i(o.notaCredito),1)]),e("td",null,[e("p",nGe,i(o.boleta),1)]),e("td",null,[e("p",dGe,i(t.formatMoneyCLP(o.montoNotaCredito)),1)]),e("td",null,[e("p",cGe,i(t.formatMoneyCLP(o.montoBoleta)),1)]),e("td",null,[e("p",uGe,i(o.cantidadArtNCV),1)]),e("td",null,[e("p",hGe,i(o.cantidadArtBoleta),1)]),e("td",null,[e("div",mGe,[f(e("input",{style:{"-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"true","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,pGe),[[we,o.autorizadoPago]]),fGe,f(e("input",{style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"false","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,bGe),[[we,o.autorizadoPago]]),gGe,f(e("input",{selected:"",checked:"",style:{"margin-left":"15px","-webkit-transform":"scale(1.2)",transform:"scale(1.2)"},type:"radio",value:"null","onUpdate:modelValue":h=>o.autorizadoPago=h},null,8,_Ge),[[we,o.autorizadoPago]]),vGe])])]))),128))])],512),[[H,t.mostrarTablaAutorizar]])])])]),e("div",$Ge,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-alert float-end",onClick:s[1]||(s[1]=o=>d.saveAuth()),disabled:t.buttonDisable},"Guardar",8,yGe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const wGe=U(jIe,[["render",CGe]]);document.head.querySelector('meta[name="user"]');document.head.querySelector('meta[name="roles"]');const kGe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data:()=>({ncv2:{motivo:""},detallePago:{tipoPago:"",banco:"",tipoCuenta:"",cuenta:"",rutPago:""},buttonText:"Agregar Detalle",buttonDisable:!1,detalles:[],errors:[],errorsTipo:[],modoEditarDetalle:!1,idEditar:"",bancos:[],tiposCuentaBanco:[],cantidadDetalles:0}),props:{ncv:Object},created(){this.getBancos(),this.getTiposCuenta()},methods:{selectMotivo(){this.ncv.productos.forEach(t=>{t.motivo=this.ncv2.motivo})},getTiposCuenta(){_.get("api/tiposCuentaBanco").then(t=>{this.tiposCuentaBanco=t.data}).catch(t=>console.log(t))},getBancos(){_.get("api/bancos").then(t=>{this.bancos=t.data}).catch(t=>console.log(t))},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},validateInput(){this.detallePago.rutPago=this.detallePago.rutPago.replace(/[^0-9\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(t){const s=t.which?t.which:t.keyCode;(s===45&&this.detallePago.rutPago.indexOf("-")!==-1||s>31&&(s<48||s>57)&&s!==45)&&t.preventDefault()},checkRut(){if(this.detallePago.rutPago!=""){this.detallePago.rutPago.replace(".","");var t=this.detallePago.rutPago.replace(".","");t=t.replace("-","");var s=t.slice(0,-1),a=t.slice(-1).toUpperCase();this.detallePago.rutPago=s+"-"+a}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},async eliminarDetalle(t){await this.$refs.confirmation.show({title:"Eliminar Detalle ",message:"¿Está seguro/a que desea crear este detalle ? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&(this.detalles=this.detalles.filter(a=>a!==t),this.toast.success("Detalle Eliminado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.cantidadDetalles=this.cantidadDetalles-1)},cancelarEditar(){this.modoEditarDetalle=!1,this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.idEditar=""},editarDetalle(t){this.idEditar="",this.idEditar=t,this.modoEditarDetalle=!0;var s=this.detalles[t];this.detallePago.tipoPago=s.tipoPago,this.detallePago.banco=s.banco,this.detallePago.tipoCuenta=s.tipoCuenta,this.detallePago.cuenta=s.cuenta,this.detallePago.rutPago=s.rut},guardarEdicion(t){this.errors=[];for(const c in this.detallePago)(this.detallePago[c]===""||this.detallePago[c]===0)&&(this.detallePago.tipoPago=="Transferencia"?this.errors.push(c):this.detallePago.tipoPago==""&&c=="tipoPago"&&this.errors.push(c));if(this.detallePago.rutPago!=""){var s=this.validarRut(this.detallePago.rutPago);s==!1&&this.errors.push("rut invalido")}var a="";if(this.errors.length!=0&&(this.errors.forEach(c=>{c=="rut invalido"?a=a+`El Rut ingresado es invalido
`:c=="tipoCuenta"?a=a+`El campo Tipo de Cuenta es requerido
`:c=="rutPago"?a=a+`El campo Rut es requerido
`:a=a+"El campo "+this.capitalizeFirstLetter(c)+` es requerido
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let c={idDetalle:this.cantidadDetalles,tipoPago:this.detallePago.tipoPago,banco:this.detallePago.banco,tipoCuenta:this.detallePago.tipoCuenta,cuenta:this.detallePago.cuenta,rut:this.detallePago.rutPago};this.detalles[t]=c,this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.toast.success("Detalle Editado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.modoEditarDetalle=!1}},async crearNCV(){this.errors=[];for(const a in this.ncv2)(this.ncv2[a]===""||this.ncv[a]===0)&&this.errors.push(a);var t=!1;this.ncv.productos.forEach(a=>{a.motivo==null&&t==!1&&(this.errors.push("motivoProducto"),t=!0)});var s="";if(this.errors.length!=0&&(this.errors.forEach(a=>{a=="motivoProducto"?s=s+`El campo Motivo en cada producto es requerido
`:s=s+"El campo "+this.capitalizeFirstLetter(a)+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.cantidadDetalles==0&&this.ncv.credito==!1&&(this.errors.push("detalles"),this.toast.warning("No puede actualizar una Nota de Crédito sin detalles ",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Agregar Detalle a Nota de Crédito",message:"¿Está seguro/a que desea agregar detalle a esta Nota de Crédito ? Esta acción no puede ser desecha.",okButton:"Agregar",cancelButton:"Volver"})){const c=[];let n={estado:"Procesado",motivo:this.ncv2.motivo};c.push(n),c.push(this.detalles),_.put(`api/ncv/${this.ncv.id}`,c).then(d=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Detalle agregado con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}),_.post("api/ncv/editarProductos",this.ncv.productos).then(d=>{console.log(d.data),this.toast.success("Productos modificados con éxito!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(d=>{d.response.status==422&&(this.errors=d.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}},agregarDetalle(){this.errors=[];for(const a in this.detallePago)(this.detallePago[a]===""||this.detallePago[a]===0)&&(this.detallePago.tipoPago=="Transferencia"?this.errors.push(a):this.detallePago.tipoPago==""&&a=="tipoPago"&&this.errors.push(a));if(this.detallePago.rutPago!=""){var t=this.validarRut(this.detallePago.rutPago);t==!1&&this.errors.push("rut invalido")}var s="";if(this.errors.length!=0&&(this.errors.forEach(a=>{a=="rut invalido"?s=s+`El Rut ingresado es invalido
`:a=="tipoPago"?s=s+`El campo Tipo de Pago es requerido
`:a=="tipoCuenta"?s=s+`El campo Tipo de Cuenta es requerido
`:a=="rutPago"?s=s+`El campo Rut es requerido
`:s=s+"El campo "+this.capitalizeFirstLetter(a)+` es requerido
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0){let a={idDetalle:this.cantidadDetalles,tipoPago:this.detallePago.tipoPago,banco:this.detallePago.banco,tipoCuenta:this.detallePago.tipoCuenta,cuenta:this.detallePago.cuenta,rut:this.detallePago.rutPago};this.cantidadDetalles=this.cantidadDetalles+1,this.detalles.push(a),this.detallePago.tipoPago="",this.detallePago.banco="",this.detallePago.tipoCuenta="",this.detallePago.cuenta="",this.detallePago.rutPago="",this.toast.success("Detalle agregado correctamente!",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}}}},xGe={name:"modal"},PGe={class:"modal-mask"},EGe={class:"modal-wrapper"},TGe={class:"modal-container"},DGe={class:"modal-header pb-1",style:{"font-weight":"bold",color:"#444444"}},BGe=e("label",{class:"col-5 m-0",style:{"font-size":"17px"}},"Agregar Detalle a Nota de Crédito: ",-1),OGe={class:"col-5 m-0 fs-8 pt-2"},MGe={class:"fw-normal",style:{"font-size":"14px"}},SGe={class:"modal-body"},RGe={class:"form-group"},AGe={class:"row"},FGe=e("div",{class:"text-uppercase pb-2"},"Información General:",-1),zGe={class:"col-3 m-0 fs-8"},UGe={class:"fw-normal",style:{"font-size":"14px"}},VGe={class:"col-3 m-0 fs-8"},LGe={class:"fw-normal",style:{"font-size":"14px"}},jGe={class:"col-3 m-0 fs-8"},NGe={class:"fw-normal",style:{"font-size":"14px"}},HGe={class:"col-3 m-0 fs-8"},IGe={class:"fw-normal",style:{"font-size":"14px"}},GGe={class:"col-3 m-0 fs-8"},qGe={class:"fw-normal",style:{"font-size":"14px"}},KGe={class:"col-3 m-0 fs-8"},XGe={class:"fw-normal",style:{"font-size":"14px"}},JGe={class:"col-5 m-0 fs-8"},ZGe={class:"fw-normal",style:{"font-size":"14px"}},WGe={class:"col-5 m-0 fs-8"},YGe={class:"fw-normal",style:{"font-size":"14px"}},QGe=e("option",{disabled:"",value:""},"Seleccione un motivo",-1),eqe=e("optgroup",{label:"Decisión del cliente"},[e("option",{value:"Por gusto"},"Por gusto"),e("option",{value:"Características diferentes"},"Características diferentes"),e("option",{value:"No cumple las expectativas"},"No cumple las expectativas")],-1),tqe=e("optgroup",{label:"Error"},[e("option",{value:"Emisión de boleta por error"},"Emisión de boleta por error")],-1),sqe=e("optgroup",{label:"Por falla"},[e("option",{value:"Falla de material"},"Falla de material"),e("option",{value:"Mal manufacturado"},"Mal manufacturado"),e("option",{value:"Articulo sucio"},"Articulo sucio"),e("option",{value:"Fruncidos de costuras"},"Fruncidos de costuras"),e("option",{value:"Daño por plastiflechas o sensores"},"Daño por plastiflechas o sensores"),e("option",{value:"Presencia de hongos"},"Presencia de hongos"),e("option",{value:"Mal olor"},"Mal olor"),e("option",{value:"Perdida de accesorios"},"Perdida de accesorios"),e("option",{value:"Perdida de accesorios metalizados"},"Perdida de accesorios metalizados")],-1),oqe=[QGe,eqe,tqe,sqe],aqe={class:"col-4 m-0 fs-8"},lqe={class:"fw-normal",style:{"font-size":"14px"}},iqe=e("hr",{size:"4",class:"separador"},null,-1),rqe=e("div",{class:"text-uppercase pb-2"},"Productos:",-1),nqe={class:"row pb-2"},dqe={id:"tableDesign",class:"table align-items-center mb-0"},cqe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Código"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Precio"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Numero Linea"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Motivo")])],-1),uqe={key:0},hqe=e("td",{colspan:"10"}," No hay información disponible. ",-1),mqe=[hqe],pqe={class:"text-sm mb-0"},fqe={class:"text-sm mb-0"},bqe={class:"text-sm mb-0"},gqe={class:"text-sm mb-0"},_qe={class:"text-sm mb-0"},vqe={class:"text-sm mb-0"},$qe={class:"text-sm mb-0"},yqe=["onUpdate:modelValue"],Cqe=e("option",{disabled:"",value:null},"Seleccione un motivo",-1),wqe=e("optgroup",{label:"Decisión del cliente"},[e("option",{value:"Por gusto"},"Por gusto"),e("option",{value:"Características diferentes"},"Características diferentes"),e("option",{value:"No cumple las expectativas"},"No cumple las expectativas")],-1),kqe=e("optgroup",{label:"Error"},[e("option",{value:"Emisión de boleta por error"},"Emisión de boleta por error")],-1),xqe=e("optgroup",{label:"Por falla"},[e("option",{value:"Falla de material"},"Falla de material"),e("option",{value:"Mal manufacturado"},"Mal manufacturado"),e("option",{value:"Articulo sucio"},"Articulo sucio"),e("option",{value:"Fruncidos de costuras"},"Fruncidos de costuras"),e("option",{value:"Daño por plastiflechas o sensores"},"Daño por plastiflechas o sensores"),e("option",{value:"Presencia de hongos"},"Presencia de hongos"),e("option",{value:"Mal olor"},"Mal olor"),e("option",{value:"Perdida de accesorios"},"Perdida de accesorios"),e("option",{value:"Perdida de accesorios metalizados"},"Perdida de accesorios metalizados")],-1),Pqe=[Cqe,wqe,kqe,xqe],Eqe=e("br",null,null,-1),Tqe=e("hr",{size:"4",class:"separador"},null,-1),Dqe=e("div",{class:"text-uppercase pb-2"},"Detalles Pagos:",-1),Bqe={key:0},Oqe={enctype:"multipart/form-data",class:"pb-2"},Mqe={class:"row"},Sqe={class:"col-3"},Rqe={class:"form-group"},Aqe=e("label",{for:""},"Tipo Pago: ",-1),Fqe=e("br",null,null,-1),zqe=e("option",{disabled:"",value:""},"Seleccione un tipo",-1),Uqe=e("option",null,"Transferencia",-1),Vqe=e("option",null,"Devolución Credito",-1),Lqe=[zqe,Uqe,Vqe],jqe={class:"col-3"},Nqe={class:"form-group"},Hqe=e("label",{for:""},"Banco: ",-1),Iqe=e("br",null,null,-1),Gqe=e("option",{disabled:"",value:""},"Seleccione un banco",-1),qqe=["value"],Kqe={class:"col-2"},Xqe={class:"form-group"},Jqe=e("label",{for:""},"Tipo Cuenta: ",-1),Zqe=e("br",null,null,-1),Wqe=e("option",{disabled:"",value:""},"Seleccione uno",-1),Yqe=["value"],Qqe={class:"col-2"},eKe={class:"form-group"},tKe=e("label",{for:""},"Cuenta: ",-1),sKe=e("br",null,null,-1),oKe={class:"col-2"},aKe={class:"form-group"},lKe=e("label",{for:""},"Rut: ",-1),iKe=e("br",null,null,-1),rKe=e("hr",{size:"4",class:"separador"},null,-1),nKe={class:"row"},dKe={id:"tableDesign",class:"table align-items-center mb-0"},cKe=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Pago"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Banco"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cuenta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Rut"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),uKe={key:0},hKe=e("td",{colspan:"10"}," No hay información disponible. ",-1),mKe=[hKe],pKe={class:"text-sm mb-0"},fKe={class:"text-sm mb-0"},bKe={key:0,class:"text-sm mb-0"},gKe={key:1,class:"text-sm mb-0"},_Ke={key:0,class:"text-sm mb-0"},vKe={key:1,class:"text-sm mb-0"},$Ke={key:0,class:"text-sm mb-0"},yKe={key:1,class:"text-sm mb-0"},CKe={key:0,class:"text-sm mb-0"},wKe={key:1,class:"text-sm mb-0"},kKe={class:"text-sm mb-0"},xKe=["onClick"],PKe=e("i",{class:"fa fa-fw fa-edit"},null,-1),EKe=[PKe],TKe=["onClick"],DKe=e("i",{class:"fa fa-fw fa-trash"},null,-1),BKe=[DKe],OKe={key:1},MKe=e("div",{class:"row"},[e("table",{id:"tableDesign",class:"table align-items-center mb-0"},[e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tipo Pago")])]),e("tbody",null,[e("tr",null,[e("td",null,[e("p",{class:"text-sm mb-0"},"1")]),e("td",null,[e("p",{class:"text-sm mb-0"},"Devolución Credito")])])])])],-1),SKe=[MKe],RKe={class:"modal-footer"},AKe=["disabled"];function FKe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),T(G,{name:"modalcrear"},{default:I(()=>[e("div",xGe,[e("div",PGe,[e("div",EGe,[e("div",TGe,[e("div",DGe,[C(t.$slots,"header",{},()=>[BGe,e("label",OGe,[p(" Usuario: "),e("label",MGe,i(a.ncv.usuario.name),1)])]),e("a",{class:"btn btn-closed",onClick:s[0]||(s[0]=o=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",SGe,[C(t.$slots,"body",{},()=>[e("div",RGe,[e("div",AGe,[FGe,e("label",zGe,[p(" Tienda: "),e("label",UGe,i(a.ncv.tienda.nombre),1)]),e("label",VGe,[p(" NºNCV: "),e("label",LGe,i(a.ncv.notaCredito),1)]),e("label",jGe,[p(" Monto NCV: "),e("label",NGe,i(t.formatMoneyCLP(a.ncv.montoNotaCredito)),1)]),e("label",HGe,[p(" NºBoleta: "),e("label",IGe,i(a.ncv.boleta),1)]),e("label",GGe,[p(" Monto Boleta: "),e("label",qGe,i(t.formatMoneyCLP(a.ncv.montoBoleta)),1)]),e("label",KGe,[p(" Rut Cliente: "),e("label",XGe,i(a.ncv.rutCliente),1)]),e("label",JGe,[p(" Nombre Cliente: "),e("label",ZGe,i(a.ncv.nomCliente),1)]),e("label",WGe,[p(" Motivo: "),e("label",YGe,[f(e("select",{onChange:s[1]||(s[1]=o=>d.selectMotivo()),class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>t.ncv2.motivo=o)},oqe,544),[[A,t.ncv2.motivo]])])]),e("label",aqe,[p(" Tipo Pago: "),e("label",lqe,i(a.ncv.metodoPago),1)]),iqe,rqe,e("div",nqe,[e("table",dqe,[cqe,e("tbody",null,[a.ncv.productos.length==0?(l(),r("tr",uqe,mqe)):(l(!0),r(P,{key:1},E(a.ncv.productos,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",pqe,i(h+1),1)]),e("td",null,[e("p",fqe,i(o.codigo),1)]),e("td",null,[e("p",bqe,i(o.descripcion),1)]),e("td",null,[e("p",gqe,i(o.cantidad),1)]),e("td",null,[e("p",_qe,i(t.formatMoneyCLP(o.precio)),1)]),e("td",null,[e("p",vqe,i(o.nroLinea),1)]),e("td",null,[e("p",$qe,[f(e("select",{class:"form-select","onUpdate:modelValue":b=>o.motivo=b},Pqe,8,yqe),[[A,o.motivo]])])])]))),128))])])]),Eqe,Tqe,Dqe,a.ncv.credito==!1?(l(),r("div",Bqe,[e("form",Oqe,[e("div",Mqe,[e("div",Sqe,[e("div",Rqe,[Aqe,Fqe,f(e("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=o=>t.detallePago.tipoPago=o)},Lqe,512),[[A,t.detallePago.tipoPago]])])]),f(e("div",jqe,[e("div",Nqe,[Hqe,Iqe,f(e("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=o=>t.detallePago.banco=o)},[Gqe,(l(!0),r(P,null,E(t.bancos,o=>(l(),r("option",{key:o.id,value:o.nombre},i(o.nombre),9,qqe))),128))],512),[[A,t.detallePago.banco]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",Kqe,[e("div",Xqe,[Jqe,Zqe,f(e("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=o=>t.detallePago.tipoCuenta=o)},[Wqe,(l(!0),r(P,null,E(t.tiposCuentaBanco,o=>(l(),r("option",{key:o.id,value:o.nombre},i(o.nombre),9,Yqe))),128))],512),[[A,t.detallePago.tipoCuenta]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",Qqe,[e("div",eKe,[tKe,sKe,f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.detallePago.cuenta=o)},null,512),[[k,t.detallePago.cuenta]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]]),f(e("div",oKe,[e("div",aKe,[lKe,iKe,f(e("input",{type:"text",class:"form-control",onKeyup:s[7]||(s[7]=o=>d.checkRut("Pago")),onInput:s[8]||(s[8]=(...o)=>d.validateInput&&d.validateInput(...o)),onKeypress:s[9]||(s[9]=(...o)=>d.isNumberOrDash&&d.isNumberOrDash(...o)),"onUpdate:modelValue":s[10]||(s[10]=o=>t.detallePago.rutPago=o)},null,544),[[k,t.detallePago.rutPago]])])],512),[[H,t.detallePago.tipoPago=="Transferencia"]])]),t.modoEditarDetalle==!1?(l(),r("a",{key:0,onClick:s[11]||(s[11]=o=>d.agregarDetalle()),class:"btn btn-dark-grey float-right pb-2"},"Agregar pago")):m("",!0),t.modoEditarDetalle==!0?(l(),r("a",{key:1,onClick:s[12]||(s[12]=o=>d.guardarEdicion(t.idEditar)),class:"btn btn-dark-grey"},"Editar pago")):m("",!0),p("   "),t.modoEditarDetalle==!0?(l(),r("a",{key:2,onClick:s[13]||(s[13]=o=>d.cancelarEditar()),class:"btn btn-grey"},"Cancelar")):m("",!0)]),rKe,e("div",nKe,[e("table",dKe,[cKe,e("tbody",null,[t.cantidadDetalles==0?(l(),r("tr",uKe,mKe)):(l(!0),r(P,{key:1},E(t.detalles,(o,h)=>(l(),r("tr",{key:o},[e("td",null,[e("p",pKe,i(h+1),1)]),e("td",null,[e("p",fKe,i(o.tipoPago),1)]),e("td",null,[o.banco!=""?(l(),r("p",bKe,i(o.banco),1)):(l(),r("p",gKe," --- "))]),e("td",null,[o.tipoCuenta!=""?(l(),r("p",_Ke,i(o.tipoCuenta),1)):(l(),r("p",vKe," --- "))]),e("td",null,[o.cuenta!=""?(l(),r("p",$Ke,i(o.cuenta),1)):(l(),r("p",yKe," --- "))]),e("td",null,[o.rut!=""?(l(),r("p",CKe,i(o.rut),1)):(l(),r("p",wKe," --- "))]),e("td",null,[e("p",kKe,[e("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:b=>d.editarDetalle(o.idDetalle)},EKe,8,xKe),p("   "),e("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:b=>d.eliminarDetalle(o)},BKe,8,TKe)])])]))),128))])])])])):(l(),r("div",OKe,SKe))])])])]),e("div",RKe,[C(t.$slots,"footer",{},()=>[e("button",{class:"btn btn-dark-grey float-end",onClick:s[14]||(s[14]=o=>d.crearNCV()),disabled:t.buttonDisable},i(t.buttonText),9,AKe)])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])])])]),_:3})}const zKe=U(kGe,[["render",FKe]]);let UKe=document.head.querySelector('meta[name="user"]');const VKe={components:{modalconfirmacion:j,modalalerta:N,modalNuevoNCV:MHe,modalDetalleNCV:LIe,modalAgregarDetalle:zKe,modalautorizarPago:wGe},mixins:[V],data(){return{idUsuario:JSON.parse(UKe.content).id,NCVs:[],NCVsAux:[],mostrarTabla:!1,mostrarCarga:!0,showNuevoNVC:!1,showAutorizarPago:!1,ncvDetalle1:null,showDetalleNCV:!1,showAgregarDetalle:!1,ncv:null,table:null,fechaInicio:null,fechaTermino:null}},created(){this.getNCVs(this.idUsuario)},methods:{agregarDetalle(t){this.ncv=t,this.showAgregarDetalle=!0},async verificarRegistros(){var t=await _.get("api/verificarRegistros").then(function(s){return s.data}.bind(this)).catch(function(s){console.log(s)});t>0?(this.toast.success("Se han encontrado "+t+" Nuevos",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.recargarTabla("General")},1500)):this.toast.warning("No se han encontrado registros nuevos",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},getNCVs(t){_.get(`api/ncv/${t}`).then(s=>{this.NCVs=s.data,this.NCVsAux=s.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableNCVs")}).catch(s=>console.log(s))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.NCVs=null,this.getNCVs(this.idUsuario),this.fechaInicio=null,this.fechaTermino=null):(this.table.destroy(),this.crearTabla("#MyTableNCVs"))},filtrarFecha(){if(this.fechaInicio==null||this.fechaTermino==null)this.recargarTabla("General");else{let t=new Date(this.fechaInicio),s=new Date(this.fechaTermino);this.NCVs=this.NCVsAux.filter(a=>{let c=new Date(a.fecha);return c>=t&&c<=s}),this.recargarTabla()}},ncvDetalle(t){this.ncvDetalle1=t,this.showDetalleNCV=!0},async deleteNCV(t){await this.$refs.confirmation.show({title:"Borrar Nota de Crédito",message:"¿Está seguro/a que desea eliminar este Nota de Crédito? Esta acción no puede ser desecha.",okButton:"Eliminar",cancelButton:"Volver"})&&_.delete(`api/ncv/${t}`).then(a=>{this.toast.success("Nota de Crédito eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},LKe={class:"row mt-4 mx-4"},jKe={class:"col-12"},NKe={class:"card mb-4"},HKe={class:"row pb-0 p-4"},IKe={class:"col-9"},GKe={class:"row"},qKe={class:"col-2"},KKe={class:"col-2"},XKe={class:"col-auto pt-3"},JKe=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),ZKe=[JKe],WKe={class:"col-3"},YKe={class:"d-flex justify-content-end"},QKe=e("i",{class:"fa-solid fa-square-plus"},null,-1),eXe=[QKe],tXe=e("i",{class:"fa-solid fa-rotate"},null,-1),sXe=[tXe],oXe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},aXe={class:"container"},lXe={class:"table-responsive p-0"},iXe={class:"loader-sm"},rXe={class:"table align-items-center mb-0",id:"MyTableNCVs"},nXe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Estado"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Fecha"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tienda"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nº NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nº Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Monto Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Art NCV"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Cantidad Art Boleta"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),dXe=e("td",null,null,-1),cXe={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},uXe={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#8392AB"}},hXe={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#ff071c"}},mXe={key:2,class:"text-sm font-weight-bolder mb-0",style:{color:"#FFC107"}},pXe={key:3,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},fXe={class:"text-sm mb-0"},bXe={class:"text-sm mb-0"},gXe={class:"text-sm mb-0"},_Xe={class:"text-sm mb-0"},vXe={class:"text-sm mb-0"},$Xe={class:"text-sm mb-0"},yXe={class:"text-sm mb-0"},CXe={class:"text-sm mb-0"},wXe={class:"align-middle text-end"},kXe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},xXe=["onClick"],PXe=e("i",{class:"fa-solid fa-file-signature"},null,-1),EXe=[PXe],TXe=["onClick"],DXe=e("i",{class:"fa-regular fa-eye"},null,-1),BXe=[DXe];function OXe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta"),o=y("modalautorizarPago"),h=y("modalNuevoNCV"),b=y("modalDetalleNCV"),v=y("modalAgregarDetalle");return l(),r("div",LKe,[e("div",jKe,[e("div",NKe,[e("div",HKe,[e("div",IKe,[e("div",GKe,[e("div",qKe,[e("label",null,[p("Fecha Inicio: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Inicial","onUpdate:modelValue":s[0]||(s[0]=z=>n.fechaInicio=z)},null,512),[[k,n.fechaInicio]])])]),e("div",KKe,[e("label",null,[p("Fecha Término: "),f(e("input",{type:"date",class:"form-control form-control-sm",placeholder:"Fecha Termino","onUpdate:modelValue":s[1]||(s[1]=z=>n.fechaTermino=z)},null,512),[[k,n.fechaTermino]])])]),e("div",XKe,[e("a",{class:"btn btn-search-blue",onClick:s[2]||(s[2]=z=>d.filtrarFecha())},ZKe)])])]),e("div",WKe,[e("div",YKe,[e("a",{class:"btn btn-spacing btn-closed",id:"show-autorizarModal",onClick:s[3]||(s[3]=z=>n.showAutorizarPago=!0)},"Auth Pagos"),p("   "),e("a",{class:"btn btn-spacing btn-continue",onClick:s[4]||(s[4]=z=>d.verificarRegistros())},eXe),p("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[5]||(s[5]=z=>d.recargarTabla("General"))},sXe)])])]),e("div",oXe,[e("div",aXe,[e("div",lXe,[f(e("div",iXe,null,512),[[H,n.mostrarCarga]]),f(e("table",rXe,[nXe,e("tbody",null,[(l(!0),r(P,null,E(n.NCVs,z=>(l(),r("tr",{key:z.id},[dXe,e("td",null,[e("p",cXe,i(z.id),1)]),e("td",null,[z.estado=="Ingresado"?(l(),r("p",uXe,i(z.estado),1)):m("",!0),z.estado=="Rechazado"?(l(),r("p",hXe,i(z.estado),1)):m("",!0),z.estado=="Procesado"?(l(),r("p",mXe,i(z.estado),1)):m("",!0),z.estado=="Pagado"?(l(),r("p",pXe,i(z.estado),1)):m("",!0)]),e("td",null,[e("p",fXe,i(z.fecha),1)]),e("td",null,[e("p",bXe,i(z.tienda.nombre),1)]),e("td",null,[e("p",gXe,i(z.notaCredito),1)]),e("td",null,[e("p",_Xe,i(z.boleta),1)]),e("td",null,[e("p",vXe,i(t.formatMoneyCLP(z.montoNotaCredito)),1)]),e("td",null,[e("p",$Xe,i(t.formatMoneyCLP(z.montoBoleta)),1)]),e("td",null,[e("p",yXe,i(z.cantidadArtNCV),1)]),e("td",null,[e("p",CXe,i(z.cantidadArtBoleta),1)]),e("td",wXe,[e("div",kXe,[z.motivo==null?(l(),r("a",{key:0,onClick:S=>d.agregarDetalle(z),title:"Agregar Detalle",class:"btn btn-purple btn-xs"},EXe,8,xXe)):(l(),r("a",{key:1,class:"btn btn-success btn-xs",title:"Detalle",onClick:S=>d.ncvDetalle(z)},BXe,8,TXe))])])]))),128))])],512),[[H,n.mostrarTabla]])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512),n.showAutorizarPago?(l(),T(o,{key:0,onClose:s[6]||(s[6]=z=>n.showAutorizarPago=!1),onRecarga:s[7]||(s[7]=z=>d.recargarTabla("General"))})):m("",!0),n.showNuevoNVC?(l(),T(h,{key:1,onClose:s[8]||(s[8]=z=>n.showNuevoNVC=!1),onRecarga:s[9]||(s[9]=z=>d.recargarTabla("General"))})):m("",!0),n.showDetalleNCV?(l(),T(b,{key:2,ncv:n.ncvDetalle1,onClose:s[10]||(s[10]=z=>n.showDetalleNCV=!1)},null,8,["ncv"])):m("",!0),n.showAgregarDetalle?(l(),T(v,{key:3,ncv:n.ncv,onClose:s[11]||(s[11]=z=>n.showAgregarDetalle=!1),onRecarga:s[12]||(s[12]=z=>d.recargarTabla("General"))},null,8,["ncv"])):m("",!0)])])}const MXe=U(VKe,[["render",OXe]]);pe.locale("es");const SXe={components:{modalconfirmacion:j,modalalerta:N},mixins:[V],data(){return{mostrarTablaMensual:!1,mostrarTablaDiarias:!1,mostrarTablaColaborador:!1,mostrarCargaMensual:!0,mostrarCargaDiarias:!0,mostrarCargaColaborador:!0,metaTiendaMensual:null,metaTiendaDiaria:null,metasColaboradores:null,meta_total_acumulada_mensual:1e6,meta_total_acumulada_diaria:1e6,meta_total_acumulada_colaborador:1e6,meta_carteras_acumulada:1e6,meta_marroquineria_acumulada:1e6,meta_calzado_acumulada:1e6,meta_perfumes_acumulada:1e6,meta_vestimenta_acumulada:1e6,fechaAño:pe().format("YYYY"),fechaMes:pe().format("M"),fechaDia:pe().format("D"),filtroTienda:null,verificadoTienda:!1,años:[{value:2e3},{value:2001},{value:2002},{value:2003},{value:2004},{value:2005},{value:2006},{value:2007},{value:2008},{value:2009},{value:2010},{value:2011},{value:2012},{value:2013},{value:2014},{value:2015},{value:2016},{value:2017},{value:2018},{value:2019},{value:2020},{value:2021},{value:2022},{value:2023},{value:2024},{value:2025},{value:2026},{value:2027},{value:2028},{value:2029},{value:2030},{value:2031},{value:2032},{value:2033},{value:2034},{value:2035},{value:2036},{value:2037},{value:2038},{value:2039},{value:2040},{value:2041},{value:2042},{value:2043},{value:2044},{value:2045},{value:2046},{value:2047},{value:2048},{value:2049},{value:2050}],meses:[{value:1,nombre:"Enero"},{value:2,nombre:"Febrero"},{value:3,nombre:"Marzo"},{value:4,nombre:"Abril"},{value:5,nombre:"Mayo"},{value:6,nombre:"Junio"},{value:7,nombre:"Julio"},{value:8,nombre:"Agosto"},{value:9,nombre:"Septiembre"},{value:10,nombre:"Octubre"},{value:11,nombre:"Noviembre"},{value:12,nombre:"Diciembre"}],dias:[{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8},{value:9},{value:10},{value:11},{value:12},{value:13},{value:14},{value:15},{value:16},{value:17},{value:18},{value:19},{value:20},{value:21},{value:22},{value:23},{value:24},{value:25},{value:26},{value:27},{value:28},{value:29},{value:30},{value:31}],tiendas:[]}},created(){this.getTiendas(),this.getMetasTienda(),this.getMetasDiarias(),this.getMetasColaborador()},methods:{getTiendas(){_.get("api/getTiendas").then(t=>{this.tiendas=t.data,this.tiendas.forEach(s=>{s.idUsuario==this.userID&&(this.filtroTienda=s.id,this.verificadoTienda=!0)})}).catch(t=>console.log(t))},getMetasTienda(){let t={idTienda:this.filtroTienda,mes:this.fechaMes,año:this.fechaAño};_.post("api/metasTienda/getMetasMensualesTienda",t).then(s=>{this.metaTiendaMensual=s.data[0],this.mostrarCargaMensual=!1,this.mostrarTablaMensual=!0}).catch(s=>console.log(s))},getMetasDiarias(){let t={idTienda:this.filtroTienda,dia:this.fechaDia,mes:this.fechaMes,año:this.fechaAño};_.post("api/metasDiarias/getMetasDiariasTienda",t).then(s=>{this.metaTiendaDiaria=s.data[0],this.mostrarCargaDiarias=!1,this.mostrarTablaDiarias=!0}).catch(s=>console.log(s))},getMetasColaborador(){let t={idTienda:this.filtroTienda,mes:this.fechaMes,año:this.fechaAño};_.post("api/metasColaborador/getMetasColaboradoresTienda",t).then(s=>{this.metasColaboradores=s.data,this.mostrarCargaColaborador=!1,this.mostrarTablaColaborador=!0}).catch(s=>console.log(s))},recargarTabla(){this.mostrarCargaMensual=!0,this.mostrarCargaDiarias=!0,this.mostrarCargaColaborador=!0,this.getMetasTienda(),this.getMetasDiarias(),this.getMetasColaborador()},aplicarFiltro(){this.recargarTabla()}}},RXe={class:"row mt-4 mx-4"},AXe={class:"col-12"},FXe={class:"card mb-4"},zXe={class:"row pb-0 p-4"},UXe={class:"col-9"},VXe={class:"row"},LXe={class:"col-auto"},jXe=e("option",{selected:"",disabled:"",value:""},"Seleccione un año:",-1),NXe=["value"],HXe={class:"col-auto"},IXe=e("option",{selected:"",disabled:"",value:""},"Seleccione un mes:",-1),GXe=["value"],qXe={class:"col-auto"},KXe=e("option",{selected:"",disabled:"",value:""},"Seleccione un día:",-1),XXe=["value"],JXe={class:"col-auto"},ZXe=["disabled"],WXe=e("option",{selected:"",disabled:"",value:""},"Seleccione una tienda:",-1),YXe=["value"],QXe={class:"col-auto pt-3"},eJe=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),tJe=[eJe],sJe={class:"col-3"},oJe={class:"d-flex justify-content-end"},aJe=e("i",{class:"fa-solid fa-rotate"},null,-1),lJe=[aJe],iJe=e("hr",{size:"4",class:"separador"},null,-1),rJe={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},nJe={class:"container"},dJe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Meta Acumulada en el Mes",-1),cJe={class:"table-responsive p-0"},uJe={class:"loader-sm"},hJe={class:"table align-items-center mb-0",id:"tableDesign"},mJe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Mensual"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Acumuladas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Faltantes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Porcentaje de Cumplimiento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Días Restantes del Mes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),pJe={key:0},fJe=e("td",{colspan:"6"}," No hay información disponible. ",-1),bJe=[fJe],gJe={key:1},_Je={key:0,class:"text-sm mb-0"},vJe={key:1,class:"text-sm mb-0"},$Je={key:0,class:"text-sm mb-0"},yJe={key:1,class:"text-sm mb-0"},CJe={key:0,class:"text-sm mb-0"},wJe={key:1,class:"text-sm mb-0"},kJe={key:2,class:"text-sm mb-0"},xJe={key:0,class:"text-sm mb-0"},PJe={key:1,class:"text-sm mb-0"},EJe={key:0,class:"text-sm mb-0"},TJe={key:1,class:"text-sm mb-0"},DJe={class:"align-middle text-end"},BJe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},OJe=e("i",{class:"fa-regular fa-eye"},null,-1),MJe=[OJe],SJe=e("hr",{class:"separador"},null,-1),RJe={class:"container"},AJe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Metas por Categoría",-1),FJe={class:"table-responsive p-0"},zJe={class:"loader-sm"},UJe={class:"table align-items-center mb-0",id:"tableDesign"},VJe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Categoria"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Mensual"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Acumuladas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Faltantes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Porcentaje de Cumplimiento")])],-1),LJe={key:0},jJe=e("td",{colspan:"5"}," No hay información disponible. ",-1),NJe=[jJe],HJe={key:1},IJe=e("td",null,[e("p",{class:"text-sm mb-0 fw-bold"},"Carteras")],-1),GJe={key:0,class:"text-sm mb-0"},qJe={key:1,class:"text-sm mb-0"},KJe={key:0,class:"text-sm mb-0"},XJe={key:1,class:"text-sm mb-0"},JJe={key:0,class:"text-sm mb-0"},ZJe={key:1,class:"text-sm mb-0"},WJe={key:2,class:"text-sm mb-0"},YJe={key:0,class:"text-sm mb-0"},QJe={key:1,class:"text-sm mb-0"},eZe={key:2},tZe=e("td",null,[e("p",{class:"text-sm mb-0 fw-bold"},"Marroquineria")],-1),sZe={key:0,class:"text-sm mb-0"},oZe={key:1,class:"text-sm mb-0"},aZe={key:0,class:"text-sm mb-0"},lZe={key:1,class:"text-sm mb-0"},iZe={key:0,class:"text-sm mb-0"},rZe={key:1,class:"text-sm mb-0"},nZe={key:2,class:"text-sm mb-0"},dZe={key:0,class:"text-sm mb-0"},cZe={key:1,class:"text-sm mb-0"},uZe={key:3},hZe=e("td",null,[e("p",{class:"text-sm mb-0 fw-bold"},"Calzado")],-1),mZe={key:0,class:"text-sm mb-0"},pZe={key:1,class:"text-sm mb-0"},fZe={key:0,class:"text-sm mb-0"},bZe={key:1,class:"text-sm mb-0"},gZe={key:0,class:"text-sm mb-0"},_Ze={key:1,class:"text-sm mb-0"},vZe={key:2,class:"text-sm mb-0"},$Ze={key:0,class:"text-sm mb-0"},yZe={key:1,class:"text-sm mb-0"},CZe={key:4},wZe=e("td",null,[e("p",{class:"text-sm mb-0 fw-bold"},"Perfumes")],-1),kZe={key:0,class:"text-sm mb-0"},xZe={key:1,class:"text-sm mb-0"},PZe={key:0,class:"text-sm mb-0"},EZe={key:1,class:"text-sm mb-0"},TZe={key:0,class:"text-sm mb-0"},DZe={key:1,class:"text-sm mb-0"},BZe={key:2,class:"text-sm mb-0"},OZe={key:0,class:"text-sm mb-0"},MZe={key:1,class:"text-sm mb-0"},SZe={key:5},RZe=e("td",null,[e("p",{class:"text-sm mb-0 fw-bold"},"Vestimenta")],-1),AZe={key:0,class:"text-sm mb-0"},FZe={key:1,class:"text-sm mb-0"},zZe={key:0,class:"text-sm mb-0"},UZe={key:1,class:"text-sm mb-0"},VZe={key:0,class:"text-sm mb-0"},LZe={key:1,class:"text-sm mb-0"},jZe={key:2,class:"text-sm mb-0"},NZe={key:0,class:"text-sm mb-0"},HZe={key:1,class:"text-sm mb-0"},IZe=e("hr",{class:"separador"},null,-1),GZe={class:"container"},qZe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Metas Diarias",-1),KZe={class:"table-responsive p-0"},XZe={class:"loader-sm"},JZe={class:"table align-items-center mb-0",id:"tableDesign"},ZZe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Diaria"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Acumulada Dia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Faltantes Dia"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Porcentaje de Cumplimiento")])],-1),WZe={key:0},YZe=e("td",{colspan:"6"}," No hay información disponible. ",-1),QZe=[YZe],eWe={key:1},tWe={key:0,class:"text-sm mb-0"},sWe={key:1,class:"text-sm mb-0"},oWe={key:0,class:"text-sm mb-0"},aWe={key:1,class:"text-sm mb-0"},lWe={key:0,class:"text-sm mb-0"},iWe={key:1,class:"text-sm mb-0"},rWe={key:2,class:"text-sm mb-0"},nWe={key:0,class:"text-sm mb-0"},dWe={key:1,class:"text-sm mb-0"},cWe=e("hr",{class:"separador"},null,-1),uWe={class:"container"},hWe=e("label",{class:"col-7 m-0",style:{"font-size":"17px"}},"Meta Mensual por Colaborador",-1),mWe={class:"table-responsive p-0"},pWe={class:"loader-sm"},fWe={class:"table align-items-center mb-0",id:"tableDesign"},bWe=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Colaborador"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Meta Mensual"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Acumuladas"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ventas Faltantes"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Porcentaje de Cumplimiento"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),gWe={key:0},_We=e("td",{colspan:"6"}," No hay información disponible. ",-1),vWe=[_We],$We={key:0,class:"text-sm mb-0"},yWe={key:1,class:"text-sm mb-0"},CWe={key:0,class:"text-sm mb-0"},wWe={key:1,class:"text-sm mb-0"},kWe={key:0,class:"text-sm mb-0"},xWe={key:1,class:"text-sm mb-0"},PWe={key:0,class:"text-sm mb-0"},EWe={key:1,class:"text-sm mb-0"},TWe={key:2,class:"text-sm mb-0"},DWe={key:0,class:"text-sm mb-0"},BWe={key:1,class:"text-sm mb-0"},OWe={class:"align-middle text-end"},MWe={class:"d-flex px-3 py-1 justify-content-center align-items-center"},SWe=e("i",{class:"fa-regular fa-eye"},null,-1),RWe=[SWe];function AWe(t,s,a,c,n,d){const u=y("modalconfirmacion"),g=y("modalalerta");return l(),r("div",RXe,[e("div",AXe,[e("div",FXe,[e("div",zXe,[e("div",UXe,[e("div",VXe,[e("div",LXe,[e("label",null,[p("Año: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Año","onUpdate:modelValue":s[0]||(s[0]=o=>n.fechaAño=o)},[jXe,(l(!0),r(P,null,E(n.años,o=>(l(),r("option",{key:o.value,value:o.value},i(o.value),9,NXe))),128))],512),[[A,n.fechaAño]])])]),e("div",HXe,[e("label",null,[p("Mes: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Mes","onUpdate:modelValue":s[1]||(s[1]=o=>n.fechaMes=o)},[IXe,(l(!0),r(P,null,E(n.meses,o=>(l(),r("option",{key:o.value,value:o.value},i(o.nombre),9,GXe))),128))],512),[[A,n.fechaMes]])])]),e("div",qXe,[e("label",null,[p("Día: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Día","onUpdate:modelValue":s[2]||(s[2]=o=>n.fechaDia=o)},[KXe,(l(!0),r(P,null,E(n.dias,o=>(l(),r("option",{key:o.value,value:o.value},i(o.value),9,XXe))),128))],512),[[A,n.fechaDia]])])]),e("div",JXe,[e("label",null,[p("Tienda: "),f(e("select",{class:"form-control form-control-sm",placeholder:"Tienda","onUpdate:modelValue":s[3]||(s[3]=o=>n.filtroTienda=o),disabled:n.verificadoTienda},[WXe,(l(!0),r(P,null,E(n.tiendas,o=>(l(),r("option",{key:o.id,value:o.id},i(o.nombre),9,YXe))),128))],8,ZXe),[[A,n.filtroTienda]])])]),e("div",QXe,[e("a",{class:"btn btn-search-blue",onClick:s[4]||(s[4]=o=>d.aplicarFiltro())},tJe)])])]),e("div",sJe,[e("div",oJe,[e("a",{class:"btn btn-spacing btn-search-blue",onClick:s[5]||(s[5]=o=>d.recargarTabla())},lJe)])])]),iJe,e("div",rJe,[e("div",nJe,[dJe,e("div",cJe,[f(e("div",uJe,null,512),[[H,n.mostrarCargaMensual]]),f(e("table",hJe,[mJe,e("tbody",null,[n.metaTiendaMensual==null?(l(),r("tr",pJe,bJe)):(l(),r("tr",gJe,[e("td",null,[n.metaTiendaMensual.meta_total!=null?(l(),r("p",_Je,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_total)),1)):(l(),r("p",vJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_total_acumulada_mensual!=null?(l(),r("p",$Je,i(t.formatMoneyCLP(n.meta_total_acumulada_mensual)),1)):(l(),r("p",yJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_total!=null&&n.meta_total_acumulada_mensual!=null&&t.meta_total_acumulada<n.metaTiendaMensual.meta_total?(l(),r("p",CJe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_total-n.meta_total_acumulada_mensual)),1)):n.metaTiendaMensual.meta_total!=null&&n.meta_total_acumulada_mensual!=null&&t.meta_total_acumulada>n.metaTiendaMensual.meta_total?(l(),r("p",wJe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",kJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_total!=null&&n.meta_total_acumulada_mensual!=null?(l(),r("p",xJe,i((n.meta_total_acumulada_mensual*100/n.metaTiendaMensual.meta_total).toFixed(3)+"%"),1)):(l(),r("p",PJe,i("0%")))]),e("td",null,[n.fechaMes!=null&&n.fechaDia!=null?(l(),r("p",EJe,i(t.daysInMonth(n.fechaMes)-n.fechaDia),1)):(l(),r("p",TJe,"-----"))]),e("td",DJe,[e("div",BJe,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:s[6]||(s[6]=o=>t.cierreCajaDetalle())},MJe)])])]))])],512),[[H,n.mostrarTablaMensual]])])]),SJe,e("div",RJe,[AJe,e("div",FJe,[f(e("div",zJe,null,512),[[H,n.mostrarCargaMensual]]),f(e("table",UJe,[VJe,e("tbody",null,[n.metaTiendaMensual==null?(l(),r("tr",LJe,NJe)):m("",!0),n.metaTiendaMensual!=null?(l(),r("tr",HJe,[IJe,e("td",null,[n.metaTiendaMensual.meta_carteras!=null?(l(),r("p",GJe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_carteras)),1)):(l(),r("p",qJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_carteras_acumulada!=null?(l(),r("p",KJe,i(t.formatMoneyCLP(n.meta_carteras_acumulada)),1)):(l(),r("p",XJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_carteras!=null&&n.meta_carteras_acumulada!=null&&n.meta_carteras_acumulada<n.metaTiendaMensual.meta_carteras?(l(),r("p",JJe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_carteras-n.meta_carteras_acumulada)),1)):n.metaTiendaMensual.meta_carteras!=null&&n.meta_carteras_acumulada!=null&&n.meta_carteras_acumulada>n.metaTiendaMensual.meta_carteras?(l(),r("p",ZJe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",WJe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_carteras!=null&&n.meta_carteras_acumulada!=null?(l(),r("p",YJe,i((n.meta_carteras_acumulada*100/n.metaTiendaMensual.meta_carteras).toFixed(3)+"%"),1)):(l(),r("p",QJe,i("0%")))])])):m("",!0),n.metaTiendaMensual!=null?(l(),r("tr",eZe,[tZe,e("td",null,[n.metaTiendaMensual.meta_marroquineria!=null?(l(),r("p",sZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_marroquineria)),1)):(l(),r("p",oZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_marroquineria_acumulada!=null?(l(),r("p",aZe,i(t.formatMoneyCLP(n.meta_marroquineria_acumulada)),1)):(l(),r("p",lZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_marroquineria!=null&&n.meta_marroquineria_acumulada!=null&&n.meta_marroquineria_acumulada<n.metaTiendaMensual.meta_marroquineria?(l(),r("p",iZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_marroquineria-n.meta_marroquineria_acumulada)),1)):n.metaTiendaMensual.meta_marroquineria!=null&&n.meta_marroquineria_acumulada!=null&&n.meta_marroquineria_acumulada>n.metaTiendaMensual.meta_marroquineria?(l(),r("p",rZe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",nZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_marroquineria!=null&&n.meta_marroquineria_acumulada!=null?(l(),r("p",dZe,i((n.meta_marroquineria_acumulada*100/n.metaTiendaMensual.meta_marroquineria).toFixed(3)+"%"),1)):(l(),r("p",cZe,i("0%")))])])):m("",!0),n.metaTiendaMensual!=null?(l(),r("tr",uZe,[hZe,e("td",null,[n.metaTiendaMensual.meta_calzado!=null?(l(),r("p",mZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_calzado)),1)):(l(),r("p",pZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_calzado_acumulada!=null?(l(),r("p",fZe,i(t.formatMoneyCLP(n.meta_calzado_acumulada)),1)):(l(),r("p",bZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_calzado!=null&&n.meta_calzado_acumulada!=null&&n.meta_calzado_acumulada<n.metaTiendaMensual.meta_calzado?(l(),r("p",gZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_calzado-n.meta_calzado_acumulada)),1)):n.metaTiendaMensual.meta_calzado!=null&&n.meta_calzado_acumulada!=null&&n.meta_calzado_acumulada>n.metaTiendaMensual.meta_calzado?(l(),r("p",_Ze,i(t.formatMoneyCLP(0)),1)):(l(),r("p",vZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_calzado!=null&&n.meta_calzado_acumulada!=null?(l(),r("p",$Ze,i((n.meta_calzado_acumulada*100/n.metaTiendaMensual.meta_calzado).toFixed(3)+"%"),1)):(l(),r("p",yZe,i("0%")))])])):m("",!0),n.metaTiendaMensual!=null?(l(),r("tr",CZe,[wZe,e("td",null,[n.metaTiendaMensual.meta_perfumes!=null?(l(),r("p",kZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_perfumes)),1)):(l(),r("p",xZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_perfumes_acumulada!=null?(l(),r("p",PZe,i(t.formatMoneyCLP(n.meta_perfumes_acumulada)),1)):(l(),r("p",EZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_perfumes!=null&&n.meta_perfumes_acumulada!=null&&n.meta_perfumes_acumulada<n.metaTiendaMensual.meta_perfumes?(l(),r("p",TZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_perfumes-n.meta_perfumes_acumulada)),1)):n.metaTiendaMensual.meta_perfumes!=null&&n.meta_perfumes_acumulada!=null&&n.meta_perfumes_acumulada>n.metaTiendaMensual.meta_perfumes?(l(),r("p",DZe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",BZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_perfumes!=null&&n.meta_perfumes_acumulada!=null?(l(),r("p",OZe,i((n.meta_perfumes_acumulada*100/n.metaTiendaMensual.meta_perfumes).toFixed(3)+"%"),1)):(l(),r("p",MZe,i("0%")))])])):m("",!0),n.metaTiendaMensual!=null?(l(),r("tr",SZe,[RZe,e("td",null,[n.metaTiendaMensual.meta_vestimenta!=null?(l(),r("p",AZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_vestimenta)),1)):(l(),r("p",FZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_vestimenta_acumulada!=null?(l(),r("p",zZe,i(t.formatMoneyCLP(n.meta_vestimenta_acumulada)),1)):(l(),r("p",UZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_vestimenta!=null&&n.meta_vestimenta_acumulada!=null&&n.meta_vestimenta_acumulada<n.metaTiendaMensual.meta_vestimenta?(l(),r("p",VZe,i(t.formatMoneyCLP(n.metaTiendaMensual.meta_vestimenta-n.meta_vestimenta_acumulada)),1)):n.metaTiendaMensual.meta_vestimenta!=null&&n.meta_vestimenta_acumulada!=null&&n.meta_vestimenta_acumulada>n.metaTiendaMensual.meta_vestimenta?(l(),r("p",LZe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",jZe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaMensual.meta_vestimenta!=null&&n.meta_vestimenta_acumulada!=null?(l(),r("p",NZe,i((n.meta_vestimenta_acumulada*100/n.metaTiendaMensual.meta_vestimenta).toFixed(3)+"%"),1)):(l(),r("p",HZe,i("0%")))])])):m("",!0)])],512),[[H,n.mostrarTablaMensual]])])]),IZe,e("div",GZe,[qZe,e("div",KZe,[f(e("div",XZe,null,512),[[H,n.mostrarCargaDiarias]]),f(e("table",JZe,[ZZe,e("tbody",null,[n.metaTiendaDiaria==null?(l(),r("tr",WZe,QZe)):(l(),r("tr",eWe,[e("td",null,[n.metaTiendaDiaria.meta_total!=null?(l(),r("p",tWe,i(t.formatMoneyCLP(n.metaTiendaDiaria.meta_total)),1)):(l(),r("p",sWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_total_acumulada_diaria!=null?(l(),r("p",oWe,i(t.formatMoneyCLP(n.meta_total_acumulada_diaria)),1)):(l(),r("p",aWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaDiaria.meta_total!=null&&n.meta_total_acumulada_diaria!=null&&n.meta_total_acumulada_diaria<n.metaTiendaDiaria.meta_total?(l(),r("p",lWe,i(t.formatMoneyCLP(n.metaTiendaDiaria.meta_total-n.meta_total_acumulada_diaria)),1)):n.metaTiendaDiaria.meta_total!=null&&n.meta_total_acumulada_diaria!=null&&n.meta_total_acumulada_diaria>n.metaTiendaDiaria.meta_total?(l(),r("p",iWe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",rWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.metaTiendaDiaria.meta_total!=null&&n.meta_total_acumulada_diaria!=null?(l(),r("p",nWe,i((n.meta_total_acumulada_diaria*100/n.metaTiendaDiaria.meta_total).toFixed(3)+"%"),1)):(l(),r("p",dWe,i("0%")))])]))])],512),[[H,n.mostrarTablaDiarias]])])]),cWe,e("div",uWe,[hWe,e("div",mWe,[f(e("div",pWe,null,512),[[H,n.mostrarCargaColaborador]]),f(e("table",fWe,[bWe,e("tbody",null,[n.metasColaboradores==0?(l(),r("tr",gWe,vWe)):(l(!0),r(P,{key:1},E(n.metasColaboradores,o=>(l(),r("tr",{key:o},[e("td",null,[o.meta_total!=null?(l(),r("p",$We,i(o.colaborador.nombre1)+" "+i(o.colaborador.nombre2)+" "+i(o.colaborador.apellido1)+" "+i(o.colaborador.apellido2),1)):(l(),r("p",yWe,"-----"))]),e("td",null,[o.meta_total!=null?(l(),r("p",CWe,i(t.formatMoneyCLP(o.meta_total)),1)):(l(),r("p",wWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[n.meta_total_acumulada_colaborador!=null?(l(),r("p",kWe,i(t.formatMoneyCLP(n.meta_total_acumulada_colaborador)),1)):(l(),r("p",xWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[o.meta_total!=null&&n.meta_total_acumulada_colaborador!=null&&n.meta_total_acumulada_colaborador<o.meta_total?(l(),r("p",PWe,i(t.formatMoneyCLP(o.meta_total-n.meta_total_acumulada_colaborador)),1)):o.meta_total!=null&&n.meta_total_acumulada_colaborador!=null&&n.meta_total_acumulada_colaborador>o.meta_total?(l(),r("p",EWe,i(t.formatMoneyCLP(0)),1)):(l(),r("p",TWe,i(t.formatMoneyCLP(0)),1))]),e("td",null,[o.meta_total!=null&&n.meta_total_acumulada_colaborador!=null?(l(),r("p",DWe,i((n.meta_total_acumulada_colaborador*100/o.meta_total).toFixed(3)+"%"),1)):(l(),r("p",BWe,i("0%")))]),e("td",OWe,[e("div",MWe,[e("a",{class:"btn btn-success btn-xs",title:"Detalle",onClick:s[7]||(s[7]=h=>t.cierreCajaDetalle())},RWe)])])]))),128))])],512),[[H,n.mostrarTablaColaborador]])])])])]),x(u,{ref:"confirmation"},null,512),x(g,{ref:"alert"},null,512)])])}const FWe=U(SXe,[["render",AWe]]),Z=Ro({});Z.use(Fo);Z.use(Ao,{transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0});Z.component("informatica-component",ci);Z.mount("#informatica");Z.component("gestor-comex",bi);Z.mount("#gestor-comex");Z.component("remuneraciones-component",Zc);Z.mount("#remu");Z.component("gestor-oc",Su);Z.mount("#gestor-oc");Z.component("tables-component",Uu);Z.mount("#tables");Z.component("billing-component",Nu);Z.mount("#billing");Z.component("sign-in-component",Xu);Z.mount("#signin");Z.component("manuales-component",tf);Z.mount("#manuales-sistema");Z.component("facturas-component",Uw);Z.mount("#facturas");Z.component("dashboard-component",b4);Z.mount("#dashboard");Z.component("menu-gestion-tienda-component",k3);Z.mount("#mgt");Z.component("cierre-cajas-component",F8);Z.mount("#cierre-cajas");Z.component("solicitar-precios-component",YO);Z.mount("#solicitar-precios");Z.component("user-profile-component",zR);Z.mount("#userp");Z.component("admin-general",HR);Z.mount("#admin-general");Z.component("admin-general-empresa",hq);Z.mount("#admin-general-empresa");Z.component("admin-general-ubicacion",XY);Z.mount("#admin-general-ubicacion");Z.component("admin-general-tiendas",Kme);Z.mount("#admin-general-tiendas");Z.component("admin-general-usuarios",i0e);Z.mount("#admin-general-usuarios");Z.component("admin-general-otros",h0e);Z.mount("#admin-general-otros");Z.component("admin-colab",Oxe);Z.mount("#admin-colab");Z.component("admin-usuarios",v5e);Z.mount("#admin-usuarios");Z.component("admin-roles",W3e);Z.mount("#admin-roles");Z.component("fofi-component",P6e);Z.mount("#fofi");Z.component("rendiciones-component",RFe);Z.mount("#rendiciones");Z.component("error-component",LFe);Z.mount("#error");Z.component("gestion-robos",V9e);Z.mount("#gestion-robos");Z.component("gestion-inventario-concesiones",KLe);Z.mount("#gestion-inventario-concesiones");Z.component("ncv-component",MXe);Z.mount("#ncv");Z.component("ventas-vendedor-component",FWe);Z.mount("#ventas-vendedor");
