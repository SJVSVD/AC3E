import{o as p,c as O,w as j,a as g,b as s,r as C,d as B,T as G,e as w,t as _,m as Z,u as ct,f as ge,g as U,h as b,i as m,v,j as A,F as x,k as I,l as X,n as ne,p as D,q as ht,s as ft,x as mt}from"./main-1bb47543.js";const pt={install:(e,t)=>{e.config.globalProperties.can=function(o){if(window.Laravel.jsPermissions==0)return!1;let n=window.Laravel.jsPermissions.permissions,r=!1;return Array.isArray(n)?(o.includes("|")?o.split("|").forEach(function(l){n.includes(l.trim())&&(r=!0)}):o.includes("&")?(r=!0,o.split("&").forEach(function(l){n.includes(l.trim())||(r=!1)})):r=n.includes(o.trim()),r):!1},e.config.globalProperties.is=function(o){if(window.Laravel.jsPermissions==0)return!1;let n=window.Laravel.jsPermissions.roles,r=!1;return Array.isArray(n)?(o.includes("|")?o.split("|").forEach(function(l){n.includes(l.trim())&&(r=!0)}):o.includes("&")?(r=!0,o.split("&").forEach(function(l){n.includes(l.trim())||(r=!1)})):r=n.includes(o.trim()),r):!1}}};function je(e,t){return function(){return e.apply(t,arguments)}}const{toString:bt}=Object.prototype,{getPrototypeOf:Oe}=Object,fe=(e=>t=>{const o=bt.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),J=e=>(e=e.toLowerCase(),t=>fe(t)===e),me=e=>t=>typeof t===e,{isArray:te}=Array,oe=me("undefined");function _t(e){return e!==null&&!oe(e)&&e.constructor!==null&&!oe(e.constructor)&&z(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ze=J("ArrayBuffer");function $t(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ze(e.buffer),t}const gt=me("string"),z=me("function"),Ge=me("number"),pe=e=>e!==null&&typeof e=="object",vt=e=>e===!0||e===!1,ae=e=>{if(fe(e)!=="object")return!1;const t=Oe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yt=J("Date"),wt=J("File"),St=J("Blob"),Tt=J("FileList"),Pt=e=>pe(e)&&z(e.pipe),kt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||z(e.append)&&((t=fe(e))==="formdata"||t==="object"&&z(e.toString)&&e.toString()==="[object FormData]"))},Ct=J("URLSearchParams"),Et=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),te(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const l=o?Object.getOwnPropertyNames(e):Object.keys(e),a=l.length;let c;for(n=0;n<a;n++)c=l[n],t.call(null,e[c],c,e)}}function Ye(e,t){t=t.toLowerCase();const o=Object.keys(e);let n=o.length,r;for(;n-- >0;)if(r=o[n],t===r.toLowerCase())return r;return null}const Je=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ke=e=>!oe(e)&&e!==Je;function Pe(){const{caseless:e}=Ke(this)&&this||{},t={},o=(n,r)=>{const l=e&&Ye(t,r)||r;ae(t[l])&&ae(n)?t[l]=Pe(t[l],n):ae(n)?t[l]=Pe({},n):te(n)?t[l]=n.slice():t[l]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ie(arguments[n],o);return t}const Ot=(e,t,o,{allOwnKeys:n}={})=>(ie(t,(r,l)=>{o&&z(r)?e[l]=je(r,o):e[l]=r},{allOwnKeys:n}),e),Bt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ut=(e,t,o,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},Rt=(e,t,o,n)=>{let r,l,a;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)a=r[l],(!n||n(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=o!==!1&&Oe(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},Nt=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const n=e.indexOf(t,o);return n!==-1&&n===o},Dt=e=>{if(!e)return null;if(te(e))return e;let t=e.length;if(!Ge(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},At=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Oe(Uint8Array)),xt=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const l=r.value;t.call(e,l[0],l[1])}},It=(e,t)=>{let o;const n=[];for(;(o=e.exec(t))!==null;)n.push(o);return n},Ft=J("HTMLFormElement"),Lt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,r){return n.toUpperCase()+r}),De=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),Vt=J("RegExp"),We=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),n={};ie(o,(r,l)=>{t(r,l,e)!==!1&&(n[l]=r)}),Object.defineProperties(e,n)},Mt=e=>{We(e,(t,o)=>{if(z(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=e[o];if(z(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Ht=(e,t)=>{const o={},n=r=>{r.forEach(l=>{o[l]=!0})};return te(e)?n(e):n(String(e).split(t)),o},qt=()=>{},jt=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ve="abcdefghijklmnopqrstuvwxyz",Ae="0123456789",Xe={DIGIT:Ae,ALPHA:ve,ALPHA_DIGIT:ve+ve.toUpperCase()+Ae},zt=(e=16,t=Xe.ALPHA_DIGIT)=>{let o="";const{length:n}=t;for(;e--;)o+=t[Math.random()*n|0];return o};function Gt(e){return!!(e&&z(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Yt=e=>{const t=new Array(10),o=(n,r)=>{if(pe(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const l=te(n)?[]:{};return ie(n,(a,c)=>{const d=o(a,r+1);!oe(d)&&(l[c]=d)}),t[r]=void 0,l}}return n};return o(e,0)},Jt=J("AsyncFunction"),Kt=e=>e&&(pe(e)||z(e))&&z(e.then)&&z(e.catch),h={isArray:te,isArrayBuffer:ze,isBuffer:_t,isFormData:kt,isArrayBufferView:$t,isString:gt,isNumber:Ge,isBoolean:vt,isObject:pe,isPlainObject:ae,isUndefined:oe,isDate:yt,isFile:wt,isBlob:St,isRegExp:Vt,isFunction:z,isStream:Pt,isURLSearchParams:Ct,isTypedArray:At,isFileList:Tt,forEach:ie,merge:Pe,extend:Ot,trim:Et,stripBOM:Bt,inherits:Ut,toFlatObject:Rt,kindOf:fe,kindOfTest:J,endsWith:Nt,toArray:Dt,forEachEntry:xt,matchAll:It,isHTMLForm:Ft,hasOwnProperty:De,hasOwnProp:De,reduceDescriptors:We,freezeMethods:Mt,toObjectSet:Ht,toCamelCase:Lt,noop:qt,toFiniteNumber:jt,findKey:Ye,global:Je,isContextDefined:Ke,ALPHABET:Xe,generateString:zt,isSpecCompliantForm:Gt,toJSONObject:Yt,isAsyncFn:Jt,isThenable:Kt};function T(e,t,o,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),n&&(this.request=n),r&&(this.response=r)}h.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Qe=T.prototype,Ze={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ze[e]={value:e}});Object.defineProperties(T,Ze);Object.defineProperty(Qe,"isAxiosError",{value:!0});T.from=(e,t,o,n,r,l)=>{const a=Object.create(Qe);return h.toFlatObject(e,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),T.call(a,e.message,t,o,n,r),a.cause=e,a.name=e.name,l&&Object.assign(a,l),a};const Wt=null;function ke(e){return h.isPlainObject(e)||h.isArray(e)}function et(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function xe(e,t,o){return e?e.concat(t).map(function(r,l){return r=et(r),!o&&l?"["+r+"]":r}).join(o?".":""):t}function Xt(e){return h.isArray(e)&&!e.some(ke)}const Qt=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function be(e,t,o){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=h.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,F){return!h.isUndefined(F[S])});const n=o.metaTokens,r=o.visitor||u,l=o.dots,a=o.indexes,d=(o.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(r))throw new TypeError("visitor must be a function");function i(y){if(y===null)return"";if(h.isDate(y))return y.toISOString();if(!d&&h.isBlob(y))throw new T("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(y)||h.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,S,F){let L=y;if(y&&!F&&typeof y=="object"){if(h.endsWith(S,"{}"))S=n?S:S.slice(0,-2),y=JSON.stringify(y);else if(h.isArray(y)&&Xt(y)||(h.isFileList(y)||h.endsWith(S,"[]"))&&(L=h.toArray(y)))return S=et(S),L.forEach(function(le,ut){!(h.isUndefined(le)||le===null)&&t.append(a===!0?xe([S],ut,l):a===null?S:S+"[]",i(le))}),!1}return ke(y)?!0:(t.append(xe(F,S,l),i(y)),!1)}const f=[],E=Object.assign(Qt,{defaultVisitor:u,convertValue:i,isVisitable:ke});function P(y,S){if(!h.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(y),h.forEach(y,function(L,Q){(!(h.isUndefined(L)||L===null)&&r.call(t,L,h.isString(Q)?Q.trim():Q,S,E))===!0&&P(L,S?S.concat(Q):[Q])}),f.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return P(e),t}function Ie(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Be(e,t){this._pairs=[],e&&be(e,this,t)}const tt=Be.prototype;tt.append=function(t,o){this._pairs.push([t,o])};tt.toString=function(t){const o=t?function(n){return t.call(this,n,Ie)}:Ie;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function Zt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function st(e,t,o){if(!t)return e;const n=o&&o.encode||Zt,r=o&&o.serialize;let l;if(r?l=r(t,o):l=h.isURLSearchParams(t)?t.toString():new Be(t,o).toString(n),l){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class es{constructor(){this.handlers=[]}use(t,o,n){return this.handlers.push({fulfilled:t,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Fe=es,ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ts=typeof URLSearchParams<"u"?URLSearchParams:Be,ss=typeof FormData<"u"?FormData:null,os=typeof Blob<"u"?Blob:null,ns=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),is=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Y={isBrowser:!0,classes:{URLSearchParams:ts,FormData:ss,Blob:os},isStandardBrowserEnv:ns,isStandardBrowserWebWorkerEnv:is,protocols:["http","https","file","blob","url","data"]};function rs(e,t){return be(e,new Y.classes.URLSearchParams,Object.assign({visitor:function(o,n,r,l){return Y.isNode&&h.isBuffer(o)?(this.append(n,o.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function ls(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function as(e){const t={},o=Object.keys(e);let n;const r=o.length;let l;for(n=0;n<r;n++)l=o[n],t[l]=e[l];return t}function nt(e){function t(o,n,r,l){let a=o[l++];const c=Number.isFinite(+a),d=l>=o.length;return a=!a&&h.isArray(r)?r.length:a,d?(h.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!c):((!r[a]||!h.isObject(r[a]))&&(r[a]=[]),t(o,n,r[a],l)&&h.isArray(r[a])&&(r[a]=as(r[a])),!c)}if(h.isFormData(e)&&h.isFunction(e.entries)){const o={};return h.forEachEntry(e,(n,r)=>{t(ls(n),r,o,0)}),o}return null}const ds={"Content-Type":void 0};function us(e,t,o){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(o||JSON.stringify)(e)}const _e={transitional:ot,adapter:["xhr","http"],transformRequest:[function(t,o){const n=o.getContentType()||"",r=n.indexOf("application/json")>-1,l=h.isObject(t);if(l&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return r&&r?JSON.stringify(nt(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rs(t,this.formSerializer).toString();if((c=h.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return be(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||r?(o.setContentType("application/json",!1),us(t)):t}],transformResponse:[function(t){const o=this.transitional||_e.transitional,n=o&&o.forcedJSONParsing,r=this.responseType==="json";if(t&&h.isString(t)&&(n&&!this.responseType||r)){const a=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?T.from(c,T.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Y.classes.FormData,Blob:Y.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};h.forEach(["delete","get","head"],function(t){_e.headers[t]={}});h.forEach(["post","put","patch"],function(t){_e.headers[t]=h.merge(ds)});const Ue=_e,cs=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hs=e=>{const t={};let o,n,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),o=a.substring(0,r).trim().toLowerCase(),n=a.substring(r+1).trim(),!(!o||t[o]&&cs[o])&&(o==="set-cookie"?t[o]?t[o].push(n):t[o]=[n]:t[o]=t[o]?t[o]+", "+n:n)}),t},Le=Symbol("internals");function se(e){return e&&String(e).trim().toLowerCase()}function de(e){return e===!1||e==null?e:h.isArray(e)?e.map(de):String(e)}function fs(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(e);)t[n[1]]=n[2];return t}const ms=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ye(e,t,o,n,r){if(h.isFunction(n))return n.call(this,t,o);if(r&&(t=o),!!h.isString(t)){if(h.isString(n))return t.indexOf(n)!==-1;if(h.isRegExp(n))return n.test(t)}}function ps(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,n)=>o.toUpperCase()+n)}function bs(e,t){const o=h.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+o,{value:function(r,l,a){return this[n].call(this,t,r,l,a)},configurable:!0})})}class $e{constructor(t){t&&this.set(t)}set(t,o,n){const r=this;function l(c,d,i){const u=se(d);if(!u)throw new Error("header name must be a non-empty string");const f=h.findKey(r,u);(!f||r[f]===void 0||i===!0||i===void 0&&r[f]!==!1)&&(r[f||d]=de(c))}const a=(c,d)=>h.forEach(c,(i,u)=>l(i,u,d));return h.isPlainObject(t)||t instanceof this.constructor?a(t,o):h.isString(t)&&(t=t.trim())&&!ms(t)?a(hs(t),o):t!=null&&l(o,t,n),this}get(t,o){if(t=se(t),t){const n=h.findKey(this,t);if(n){const r=this[n];if(!o)return r;if(o===!0)return fs(r);if(h.isFunction(o))return o.call(this,r,n);if(h.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=se(t),t){const n=h.findKey(this,t);return!!(n&&this[n]!==void 0&&(!o||ye(this,this[n],n,o)))}return!1}delete(t,o){const n=this;let r=!1;function l(a){if(a=se(a),a){const c=h.findKey(n,a);c&&(!o||ye(n,n[c],c,o))&&(delete n[c],r=!0)}}return h.isArray(t)?t.forEach(l):l(t),r}clear(t){const o=Object.keys(this);let n=o.length,r=!1;for(;n--;){const l=o[n];(!t||ye(this,this[l],l,t,!0))&&(delete this[l],r=!0)}return r}normalize(t){const o=this,n={};return h.forEach(this,(r,l)=>{const a=h.findKey(n,l);if(a){o[a]=de(r),delete o[l];return}const c=t?ps(l):String(l).trim();c!==l&&delete o[l],o[c]=de(r),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return h.forEach(this,(n,r)=>{n!=null&&n!==!1&&(o[r]=t&&h.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const n=new this(t);return o.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[Le]=this[Le]={accessors:{}}).accessors,r=this.prototype;function l(a){const c=se(a);n[c]||(bs(r,a),n[c]=!0)}return h.isArray(t)?t.forEach(l):l(t),this}}$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.freezeMethods($e.prototype);h.freezeMethods($e);const K=$e;function we(e,t){const o=this||Ue,n=t||o,r=K.from(n.headers);let l=n.data;return h.forEach(e,function(c){l=c.call(o,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function it(e){return!!(e&&e.__CANCEL__)}function re(e,t,o){T.call(this,e??"canceled",T.ERR_CANCELED,t,o),this.name="CanceledError"}h.inherits(re,T,{__CANCEL__:!0});function _s(e,t,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?e(o):t(new T("Request failed with status code "+o.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const $s=Y.isStandardBrowserEnv?function(){return{write:function(o,n,r,l,a,c){const d=[];d.push(o+"="+encodeURIComponent(n)),h.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),h.isString(l)&&d.push("path="+l),h.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(o){const n=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function gs(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function rt(e,t){return e&&!gs(t)?vs(e,t):t}const ys=Y.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let n;function r(l){let a=l;return t&&(o.setAttribute("href",a),a=o.href),o.setAttribute("href",a),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return n=r(window.location.href),function(a){const c=h.isString(a)?r(a):a;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}();function ws(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ss(e,t){e=e||10;const o=new Array(e),n=new Array(e);let r=0,l=0,a;return t=t!==void 0?t:1e3,function(d){const i=Date.now(),u=n[l];a||(a=i),o[r]=d,n[r]=i;let f=l,E=0;for(;f!==r;)E+=o[f++],f=f%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),i-a<t)return;const P=u&&i-u;return P?Math.round(E*1e3/P):void 0}}function Ve(e,t){let o=0;const n=Ss(50,250);return r=>{const l=r.loaded,a=r.lengthComputable?r.total:void 0,c=l-o,d=n(c),i=l<=a;o=l;const u={loaded:l,total:a,progress:a?l/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&i?(a-l)/d:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Ts=typeof XMLHttpRequest<"u",Ps=Ts&&function(e){return new Promise(function(o,n){let r=e.data;const l=K.from(e.headers).normalize(),a=e.responseType;let c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}h.isFormData(r)&&(Y.isStandardBrowserEnv||Y.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.setContentType("multipart/form-data;",!1));let i=new XMLHttpRequest;if(e.auth){const P=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.set("Authorization","Basic "+btoa(P+":"+y))}const u=rt(e.baseURL,e.url);i.open(e.method.toUpperCase(),st(u,e.params,e.paramsSerializer),!0),i.timeout=e.timeout;function f(){if(!i)return;const P=K.from("getAllResponseHeaders"in i&&i.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?i.responseText:i.response,status:i.status,statusText:i.statusText,headers:P,config:e,request:i};_s(function(L){o(L),d()},function(L){n(L),d()},S),i=null}if("onloadend"in i?i.onloadend=f:i.onreadystatechange=function(){!i||i.readyState!==4||i.status===0&&!(i.responseURL&&i.responseURL.indexOf("file:")===0)||setTimeout(f)},i.onabort=function(){i&&(n(new T("Request aborted",T.ECONNABORTED,e,i)),i=null)},i.onerror=function(){n(new T("Network Error",T.ERR_NETWORK,e,i)),i=null},i.ontimeout=function(){let y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const S=e.transitional||ot;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),n(new T(y,S.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,e,i)),i=null},Y.isStandardBrowserEnv){const P=(e.withCredentials||ys(u))&&e.xsrfCookieName&&$s.read(e.xsrfCookieName);P&&l.set(e.xsrfHeaderName,P)}r===void 0&&l.setContentType(null),"setRequestHeader"in i&&h.forEach(l.toJSON(),function(y,S){i.setRequestHeader(S,y)}),h.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),a&&a!=="json"&&(i.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&i.addEventListener("progress",Ve(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&i.upload&&i.upload.addEventListener("progress",Ve(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=P=>{i&&(n(!P||P.type?new re(null,e,i):P),i.abort(),i=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const E=ws(u);if(E&&Y.protocols.indexOf(E)===-1){n(new T("Unsupported protocol "+E+":",T.ERR_BAD_REQUEST,e));return}i.send(r||null)})},ue={http:Wt,xhr:Ps};h.forEach(ue,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ks={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let o,n;for(let r=0;r<t&&(o=e[r],!(n=h.isString(o)?ue[o.toLowerCase()]:o));r++);if(!n)throw n===!1?new T(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(h.hasOwnProp(ue,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!h.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:ue};function Se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new re(null,e)}function Me(e){return Se(e),e.headers=K.from(e.headers),e.data=we.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ks.getAdapter(e.adapter||Ue.adapter)(e).then(function(n){return Se(e),n.data=we.call(e,e.transformResponse,n),n.headers=K.from(n.headers),n},function(n){return it(n)||(Se(e),n&&n.response&&(n.response.data=we.call(e,e.transformResponse,n.response),n.response.headers=K.from(n.response.headers))),Promise.reject(n)})}const He=e=>e instanceof K?e.toJSON():e;function ee(e,t){t=t||{};const o={};function n(i,u,f){return h.isPlainObject(i)&&h.isPlainObject(u)?h.merge.call({caseless:f},i,u):h.isPlainObject(u)?h.merge({},u):h.isArray(u)?u.slice():u}function r(i,u,f){if(h.isUndefined(u)){if(!h.isUndefined(i))return n(void 0,i,f)}else return n(i,u,f)}function l(i,u){if(!h.isUndefined(u))return n(void 0,u)}function a(i,u){if(h.isUndefined(u)){if(!h.isUndefined(i))return n(void 0,i)}else return n(void 0,u)}function c(i,u,f){if(f in t)return n(i,u);if(f in e)return n(void 0,i)}const d={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(i,u)=>r(He(i),He(u),!0)};return h.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=d[u]||r,E=f(e[u],t[u],u);h.isUndefined(E)&&f!==c||(o[u]=E)}),o}const lt="1.4.0",Re={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Re[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const qe={};Re.transitional=function(t,o,n){function r(l,a){return"[Axios v"+lt+"] Transitional option '"+l+"'"+a+(n?". "+n:"")}return(l,a,c)=>{if(t===!1)throw new T(r(a," has been removed"+(o?" in "+o:"")),T.ERR_DEPRECATED);return o&&!qe[a]&&(qe[a]=!0,console.warn(r(a," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(l,a,c):!0}};function Cs(e,t,o){if(typeof e!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const l=n[r],a=t[l];if(a){const c=e[l],d=c===void 0||a(c,l,e);if(d!==!0)throw new T("option "+l+" must be "+d,T.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new T("Unknown option "+l,T.ERR_BAD_OPTION)}}const Ce={assertOptions:Cs,validators:Re},W=Ce.validators;class he{constructor(t){this.defaults=t,this.interceptors={request:new Fe,response:new Fe}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=ee(this.defaults,o);const{transitional:n,paramsSerializer:r,headers:l}=o;n!==void 0&&Ce.assertOptions(n,{silentJSONParsing:W.transitional(W.boolean),forcedJSONParsing:W.transitional(W.boolean),clarifyTimeoutError:W.transitional(W.boolean)},!1),r!=null&&(h.isFunction(r)?o.paramsSerializer={serialize:r}:Ce.assertOptions(r,{encode:W.function,serialize:W.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let a;a=l&&h.merge(l.common,l[o.method]),a&&h.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),o.headers=K.concat(a,l);const c=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(o)===!1||(d=d&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const i=[];this.interceptors.response.forEach(function(S){i.push(S.fulfilled,S.rejected)});let u,f=0,E;if(!d){const y=[Me.bind(this),void 0];for(y.unshift.apply(y,c),y.push.apply(y,i),E=y.length,u=Promise.resolve(o);f<E;)u=u.then(y[f++],y[f++]);return u}E=c.length;let P=o;for(f=0;f<E;){const y=c[f++],S=c[f++];try{P=y(P)}catch(F){S.call(this,F);break}}try{u=Me.call(this,P)}catch(y){return Promise.reject(y)}for(f=0,E=i.length;f<E;)u=u.then(i[f++],i[f++]);return u}getUri(t){t=ee(this.defaults,t);const o=rt(t.baseURL,t.url);return st(o,t.params,t.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(t){he.prototype[t]=function(o,n){return this.request(ee(n||{},{method:t,url:o,data:(n||{}).data}))}});h.forEach(["post","put","patch"],function(t){function o(n){return function(l,a,c){return this.request(ee(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}he.prototype[t]=o(),he.prototype[t+"Form"]=o(!0)});const ce=he;class Ne{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(l){o=l});const n=this;this.promise.then(r=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](r);n._listeners=null}),this.promise.then=r=>{let l;const a=new Promise(c=>{n.subscribe(c),l=c}).then(r);return a.cancel=function(){n.unsubscribe(l)},a},t(function(l,a,c){n.reason||(n.reason=new re(l,a,c),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new Ne(function(r){t=r}),cancel:t}}}const Es=Ne;function Os(e){return function(o){return e.apply(null,o)}}function Bs(e){return h.isObject(e)&&e.isAxiosError===!0}const Ee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ee).forEach(([e,t])=>{Ee[t]=e});const Us=Ee;function at(e){const t=new ce(e),o=je(ce.prototype.request,t);return h.extend(o,ce.prototype,t,{allOwnKeys:!0}),h.extend(o,t,null,{allOwnKeys:!0}),o.create=function(r){return at(ee(e,r))},o}const R=at(Ue);R.Axios=ce;R.CanceledError=re;R.CancelToken=Es;R.isCancel=it;R.VERSION=lt;R.toFormData=be;R.AxiosError=T;R.Cancel=R.CanceledError;R.all=function(t){return Promise.all(t)};R.spread=Os;R.isAxiosError=Bs;R.mergeConfig=ee;R.AxiosHeaders=K;R.formToJSON=e=>nt(h.isHTMLForm(e)?new FormData(e):e);R.HttpStatusCode=Us;R.default=R;const k=R,N=(e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o},Rs={name:"reusableModal",data:()=>({isVisible:!1}),methods:{open(){this.isVisible=!0},close(){this.isVisible=!1}}},Ns={key:0,class:"reusable-modal"},Ds={class:"window"};function As(e,t,o,n,r,l){return p(),O(G,{name:"fade"},{default:j(()=>[e.isVisible?(p(),g("div",Ns,[s("div",Ds,[C(e.$slots,"default")])])):B("",!0)]),_:3})}const dt=N(Rs,[["render",As]]),xs={name:"ConfirmDialogue",components:{reusableModal:dt},data:()=>({title:void 0,message:void 0,okButton:void 0,cancelButton:void 0,resolvePromise:void 0,rejectPromise:void 0}),methods:{show(e={}){return this.title=e.title,this.message=e.message,this.okButton=e.okButton,e.cancelButton&&(this.cancelButton=e.cancelButton),this.$refs.reusable.open(),new Promise((t,o)=>{this.resolvePromise=t,this.rejectPromise=o})},_confirm(){this.$refs.reusable.close(),this.resolvePromise(!0)},_cancel(){this.$refs.reusable.close(),this.resolvePromise(!1)}}},Is={style:{"margin-top":"0"}},Fs={class:"btns"},Ls={class:"row"},Vs={class:"col-4"},Ms=s("div",{class:"col-4"},null,-1),Hs={class:"col-4"};function qs(e,t,o,n,r,l){const a=w("reusable-modal");return p(),O(a,{ref:"reusable"},{default:j(()=>[s("h2",Is,_(e.title),1),s("p",null,_(e.message),1),s("div",Fs,[s("div",Ls,[s("div",Vs,[s("a",{class:"btn btn-alert btn-sm",onClick:t[0]||(t[0]=(...c)=>l._cancel&&l._cancel(...c))},_(e.cancelButton),1)]),Ms,s("div",Hs,[s("a",{class:"btn btn-success btn-sm",onClick:t[1]||(t[1]=(...c)=>l._confirm&&l._confirm(...c))},_(e.okButton),1)])])])]),_:1},512)}const V=N(xs,[["render",qs]]),js={name:"ConfirmDialogue",components:{reusableModal:dt},data:()=>({title:void 0,message:void 0,okButton:void 0,cancelButton:void 0,resolvePromise:void 0,rejectPromise:void 0}),methods:{show(e={}){return this.title=e.title,this.message=e.message,this.okButton=e.okButton,e.cancelButton&&(this.cancelButton=e.cancelButton),this.$refs.reusable.open(),new Promise((t,o)=>{this.resolvePromise=t,this.rejectPromise=o})},_confirm(){this.$refs.reusable.close(),this.resolvePromise(!0)},_cancel(){this.$refs.reusable.close(),this.resolvePromise(!1)}}},zs={class:"mt-0"},Gs={class:"btns"};function Ys(e,t,o,n,r,l){const a=w("reusable-modal");return p(),O(a,{ref:"reusable"},{default:j(()=>[s("h2",zs,_(e.title),1),s("p",null,_(e.message),1),s("div",Gs,[s("span",{class:"btn-ok",onClick:t[0]||(t[0]=(...c)=>l._confirm&&l._confirm(...c))},_(e.okButton),1)])]),_:1},512)}const M=N(js,[["render",Ys]]);Z.locale("es");let Te=document.head.querySelector('meta[name="user"]'),Js=document.head.querySelector('meta[name="roles"]');const H={data:{toast:ct(),userName:JSON.parse(Te.content).name,userID:JSON.parse(Te.content).id,userEmail:JSON.parse(Te.content).email,userRoles:JSON.parse(Js.content)},created(){window.addEventListener("keydown",e=>{e.key=="Escape"})},computed:{todayDate(){return Z().format("DD-MM-YYYY")},todayDay(){return Z().format("DD")},todayMonth(){return Z().format("MM")},todayYear(){return Z().format("YYYY")},todayCalendar(){return Z().calendar()}},methods:{crearTabla(e){setTimeout(function(){this.table=$(e).DataTable({}),this.mostrarCarga=!1,this.mostrarTabla=!0,$("a.toggle-vis").on("click",function(t){t.preventDefault();var o=this.table.column($(this).attr("data-column"));o.visible(!o.visible())}),this.table.on("click","th.select-checkbox",function(){$("th.select-checkbox").hasClass("selected")?(this.table.rows().deselect(),$("th.select-checkbox").removeClass("selected")):(this.table.rows().select(),$("th.select-checkbox").addClass("selected"))}).on("select deselect",function(){this.table.rows({selected:!0}).count()!==this.table.rows().count()?$("th.select-checkbox").removeClass("selected"):$("th.select-checkbox").addClass("selected")})}.bind(this),100)},validarRut(e){var t=ge.validateRut(e);return t},formatoRut(e){var t=ge.formatRut(e,ge.RutFormat.DOTS_DASH);return t},clearInput(e){var t=document.getElementById(e);t.value!=""&&(t.value="")},formatMoneyCLP(e){return new Intl.NumberFormat("en-EN",{currency:"CLP",currencyDisplay:"narrowSymbol",style:"currency"}).format(e)}}},Ks={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data(){return{CLPRates:null,interval:null,time:null,weather:null,coords:null,usuariosActivos:[]}},beforeDestroy(){clearInterval(this.interval)},created(){this.getUsuariosActivos(),this.interval=setInterval(()=>{options={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},this.time=Intl.DateTimeFormat(navigator.language,options).format()},1e3)},mounted(){this.carouselInterval()},methods:{carouselInterval(){$(".carousel").carousel({interval:3e3})},getUsuariosActivos(){k.get("api/usuarios").then(e=>{this.usuariosActivos=e.data}).catch(e=>console.log(e))}}},Ws={class:"row"},Xs={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},Qs={class:"card overflow-hidden",style:{height:"160px"}},Zs={class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://fondosmil.com/fondo/10790.jpg')","min-height":"160px"}},eo={class:"row"},to={class:"col-12"},so={class:"numbers",style:{"min-height":"80px","text-align":"center","margin-top":"40px"}},oo=s("p",{class:"text-sm mb-0 text-uppercase text-white fw-bold"},"Welcome",-1),no={style:{color:"#ffff"},class:"fw-bolder"},io={class:"col-xl-3 col-sm-6 mb-xl-0 mb-4"},ro={class:"card overflow-hidden",style:{height:"160px"}},lo={class:"card-body p-3 text-white text-shadow-black background-size",style:{"background-image":"linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://fondosmil.com/fondo/10790.jpg')","min-height":"160px"}},ao={class:"row"},uo={class:"col-12"},co={class:"numbers",style:{"min-height":"80px","text-align":"center","margin-top":"40px"}},ho=s("p",{class:"text-sm mb-0 text-uppercase text-white fw-bold"},"Current date and time",-1),fo={style:{color:"orange"},class:"fw-bolder"};function mo(e,t,o,n,r,l){return p(),g("div",Ws,[s("div",Xs,[s("div",Qs,[s("div",Zs,[s("div",eo,[s("div",to,[s("div",so,[oo,s("h5",no,_(e.userName),1)])])])])])]),s("div",io,[s("div",ro,[s("div",lo,[s("div",ao,[s("div",uo,[s("div",co,[ho,s("h5",fo,_(r.time),1)])])])])])])])}const po=N(Ks,[["render",mo]]),bo={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({user:{name:"",email:"",password:"",confirmpassword:""},selectedRoles:[],selectedPermissions:[],buttonDisable:!1,selected:[],selected2:[],marcados:!1,marcados2:!1,errors:[],roles:null,permisos:null,buttonText:"Create User"}),created(){this.getRoles(),this.getPermisos()},methods:{cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},getRoles(){k.get("api/roles").then(e=>{this.roles=e.data}).catch(e=>console.log(e))},marcarTodos(){this.marcados==!1?(this.roles.forEach(e=>{this.selected.push(e.id)}),this.marcados=!0):(this.selected=[],this.marcados=!1)},getPermisos(){k.get("api/permisos").then(e=>{this.permisos=e.data}).catch(e=>console.log(e))},marcarTodos2(){this.marcados2==!1?(this.permisos.forEach(e=>{this.selected2.push(e.id)}),this.marcados2=!0):(this.selected2=[],this.marcados2=!1)},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async crearUsuario(){this.errors=[];for(const t in this.user)(this.user[t]===""||this.user[t]===0)&&this.errors.push(t);this.user.password!=this.user.confirmpassword&&this.errors.push("contraseñas diferentes");var e="";if(this.errors.length!=0&&(this.errors.forEach(t=>{t=="name"?e=e+`The name field is required
`:t=="email"?e=e+`The email field is required
`:t=="contraseñas diferentes"?e=e+`Passwords do not match
`:t=="password"?e=e+`The password field is required
`:t=="confirmpassword"?e=e+`The confirm password field is required
`:e=e+"The"+this.capitalizeFirstLetter(t)+`field is required
`}),this.toast.warning(e,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Create User",message:`¿Are you sure you want to create the user '${this.user.name}'?.`,okButton:"Create",cancelButton:"Return"})){let o={name:this.user.name,email:this.user.email,password:this.user.password,confirmpassword:this.user.confirmpassword,roles:this.selected,permisos:this.selected2};await k.post("api/usuarios",o).then(n=>{this.buttonDisable=!0,this.buttonText="Creating...",n.data=="email existente"?(this.toast.warning("There is already a user with the Email entered",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.buttonDisable=!1,this.buttonText="Create User"):(this.toast.success("User created successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500))}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},_o={name:"modal"},$o={class:"modal-mask"},go={class:"modal-wrapper"},vo={class:"modal-container-s"},yo={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},wo={class:"modal-body"},So={class:"row"},To={class:"col-3"},Po=s("label",{for:"name"},"Name: ",-1),ko=s("br",null,null,-1),Co={class:"col-3"},Eo=s("label",{for:"email"},"Email: ",-1),Oo=s("br",null,null,-1),Bo={class:"col-3"},Uo=s("label",{for:"password"},"Password: ",-1),Ro=s("br",null,null,-1),No={class:"col-3"},Do=s("label",{for:"confirm-password"}," Confirm Password: ",-1),Ao=s("br",null,null,-1),xo=s("br",null,null,-1),Io=s("hr",{size:"3",class:"separador"},null,-1),Fo={class:"row"},Lo={class:"col-6"},Vo=s("label",{for:""},"Roles:",-1),Mo={key:0,class:"form-check"},Ho={class:"form-check-label fw-bold"},qo={key:1,class:"form-check"},jo={class:"form-check-label fw-bold"},zo={class:"form-check-label"},Go=["id","value"],Yo={class:"col-6"},Jo=s("label",{for:""},"Permissions:",-1),Ko={key:0,class:"form-check"},Wo={class:"form-check-label fw-bold"},Xo={key:1,class:"form-check"},Qo={class:"form-check-label fw-bold"},Zo={class:"form-check-label"},en=["id","value"],tn={class:"modal-footer"},sn=["disabled"];function on(e,t,o,n,r,l){const a=w("modalfotoperfil"),c=w("modalconfirmacion"),d=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",_o,[s("div",$o,[s("div",go,[s("div",vo,[s("div",yo,[C(e.$slots,"header",{},()=>[b(" New User ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",wo,[C(e.$slots,"body",{},()=>[s("div",So,[s("div",To,[Po,ko,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.user.name=i)},null,512),[[v,e.user.name]])]),s("div",Co,[Eo,Oo,m(s("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=i=>e.user.email=i)},null,512),[[v,e.user.email]])]),s("div",Bo,[Uo,Ro,m(s("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=i=>e.user.password=i)},null,512),[[v,e.user.password]])]),s("div",No,[Do,Ao,m(s("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>e.user.confirmpassword=i)},null,512),[[v,e.user.confirmpassword]]),xo])]),Io,s("div",Fo,[s("div",Lo,[Vo,e.marcados==!1?(p(),g("div",Mo,[s("label",Ho,[m(s("input",{type:"checkbox",value:0,onChange:t[5]||(t[5]=i=>l.marcarTodos()),class:"form-check-input","onUpdate:modelValue":t[6]||(t[6]=i=>e.selected=i)},null,544),[[A,e.selected]]),b(" Check all ")])])):(p(),g("div",qo,[s("label",jo,[m(s("input",{type:"checkbox",value:0,onChange:t[7]||(t[7]=i=>l.marcarTodos()),class:"form-check-input","onUpdate:modelValue":t[8]||(t[8]=i=>e.selected=i)},null,544),[[A,e.selected]]),b(" Uncheck all ")])])),(p(!0),g(x,null,I(e.roles,i=>(p(),g("div",{key:i.id,class:"form-check"},[s("label",zo,[m(s("input",{type:"checkbox",class:"form-check-input",id:i.id,value:i.id,"onUpdate:modelValue":t[9]||(t[9]=u=>e.selected=u)},null,8,Go),[[A,e.selected]]),b(" "+_(i.name),1)])]))),128))]),s("div",Yo,[Jo,e.marcados2==!1?(p(),g("div",Ko,[s("label",Wo,[m(s("input",{type:"checkbox",value:0,onChange:t[10]||(t[10]=i=>l.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":t[11]||(t[11]=i=>e.selected2=i)},null,544),[[A,e.selected2]]),b(" Check all ")])])):(p(),g("div",Xo,[s("label",Qo,[m(s("input",{type:"checkbox",value:0,onChange:t[12]||(t[12]=i=>l.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":t[13]||(t[13]=i=>e.selected2=i)},null,544),[[A,e.selected2]]),b(" Uncheck all ")])])),(p(!0),g(x,null,I(e.permisos,i=>(p(),g("div",{key:i.id,class:"form-check"},[s("label",Zo,[m(s("input",{type:"checkbox",class:"form-check-input",id:i.id,value:i.id,"onUpdate:modelValue":t[14]||(t[14]=u=>e.selected2=u)},null,8,en),[[A,e.selected2]]),b(" "+_(i.name),1)])]))),128))])])])]),s("div",tn,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[15]||(t[15]=i=>l.crearUsuario()),disabled:e.buttonDisable},_(e.buttonText),9,sn)])]),e.showFotoPerfil?(p(),O(a,{key:0,onClose:t[16]||(t[16]=i=>e.showFotoPerfil=!1)})):B("",!0),U(c,{ref:"confirmation"},null,512),U(d,{ref:"alert"},null,512)])])])])]),_:3})}const nn=N(bo,[["render",on]]);document.head.querySelector('meta[name="roles"]');const rn={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({buttonText:"Edit User",buttonDisable:!1,user:{name:"",email:"",password:"",confirmpassword:""},selected:[],marcados:!1,selected2:[],marcados2:!1,id:"",errors:[],roles:"",permisos:"",rolesUsuario:null,permisosUsuario:null,revision:!1,revision2:!1,cambiarContraseña:!1}),props:{usuario:Object},created(){this.user.name=this.usuario.name,this.user.email=this.usuario.email,this.id=this.usuario.id,this.getRoles(),this.getPermisos()},methods:{cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},async getRoles(){await k.get("api/roles").then(e=>{this.roles=e.data}).catch(e=>console.log(e)),this.getRolesUsuario(this.id)},async getRolesUsuario(e){await k.get(`api/roles/${e}`).then(t=>{this.rolesUsuario=t.data}).catch(t=>console.log(t)),this.compararRoles()},compararRoles(){this.revision==!1&&this.roles.forEach(e=>{this.rolesUsuario.forEach(t=>{e.name==t.name&&this.selected.push(e.id)})}),this.revision=!0},marcarTodos(){this.marcados==!1?(this.roles.forEach(e=>{this.selected.push(e.id)}),this.marcados=!0):(this.selected=[],this.marcados=!1)},async getPermisos(){await k.get("api/permisos").then(e=>{this.permisos=e.data}).catch(e=>console.log(e)),this.getPermisosUsuario(this.id)},async getPermisosUsuario(e){await k.get(`api/permisos/${e}`).then(t=>{this.permisosUsuario=t.data}).catch(t=>console.log(t)),this.compararPermisos()},compararPermisos(){this.revision2==!1&&this.permisos.forEach(e=>{this.permisosUsuario.forEach(t=>{e.name==t.name&&this.selected2.push(e.id)})}),this.revision2=!0},marcarTodos2(){this.marcados2==!1?(this.permisos.forEach(e=>{this.selected2.push(e.id)}),this.marcados2=!0):(this.selected2=[],this.marcados2=!1)},async editarUsuario(){this.errors=[];for(const o in this.user)(this.user[o]===""||this.user[o]===0)&&((o=="password"||o=="confirmpassword")&&this.cambiarContraseña==!1||this.errors.push(o));this.user.password!=this.user.confirmpassword&&this.errors.push("contraseñas diferentes");var e="";if(this.errors.length!=0&&(this.errors.forEach(o=>{o=="name"?e=e+`The name field is required
`:o=="email"?e=e+`The email field is required
`:o=="contraseñas diferentes"?e=e+`Passwords do not match
`:o=="password"?e=e+`The password field is required
`:o=="confirmpassword"?e=e+`The confirm password field is required
`:e=e+"The"+this.capitalizeFirstLetter(o)+`field is required
`}),this.toast.warning(e,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit User",message:`¿Are you sure you want to edit the user '${this.user.name}'?.`,okButton:"Edit",cancelButton:"Return"})){let n={name:this.user.name,email:this.user.email,password:this.user.password,confirmpassword:this.user.confirmpassword,roles:this.selected,permisos:this.selected2};var t=this.id;k.post(`api/usuarios/updateUser/${t}`,n).then(r=>{console.log(r),this.buttonText="Editando...",this.buttonDisable=!0,r.data=="email existente"?(this.toast.warning("There is already a user with the Email entered",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.buttonDisable=!1,this.buttonText="Edit User"):(this.toast.success("User edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500))}).catch(r=>{r.response.status==422&&(this.errors=r.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},ln={name:"modal"},an={class:"modal-mask"},dn={class:"modal-wrapper"},un={class:"modal-container-s"},cn={class:"modal-header fw-bold",style:{color:"#444444"}},hn={class:"modal-body"},fn={class:"row"},mn={class:"col-3"},pn=s("label",{for:"name"},"Name: ",-1),bn=s("br",null,null,-1),_n={class:"col-3"},$n=s("label",{for:"email"},"Email: ",-1),gn=s("br",null,null,-1),vn={class:"col-3"},yn=s("label",{for:"password"},"Password: ",-1),wn=s("br",null,null,-1),Sn=["disabled"],Tn={class:"col-3"},Pn=s("label",{for:"confirm-password"}," Confirm Password: ",-1),kn=s("br",null,null,-1),Cn=["disabled"],En=s("br",null,null,-1),On={class:"form-check pt-2"},Bn={class:"form-check-label"},Un=s("hr",{size:"3",class:"separador"},null,-1),Rn={class:"row"},Nn={class:"col-6"},Dn=s("label",{for:""},"Roles:",-1),An={key:0,class:"form-check"},xn={class:"form-check-label fw-bold"},In={key:1,class:"form-check"},Fn={class:"form-check-label fw-bold"},Ln={class:"form-check-label"},Vn=["id","value"],Mn={class:"col-6"},Hn=s("label",{for:""},"Permissions:",-1),qn={key:0,class:"form-check"},jn={class:"form-check-label fw-bold"},zn={key:1,class:"form-check"},Gn={class:"form-check-label fw-bold"},Yn={class:"form-check-label"},Jn=["id","value"],Kn={class:"modal-footer"},Wn=["disabled"];function Xn(e,t,o,n,r,l){const a=w("modalfotoperfil"),c=w("modalconfirmacion"),d=w("modalalerta");return p(),O(G,{name:"modaleditar"},{default:j(()=>[s("div",ln,[s("div",an,[s("div",dn,[s("div",un,[s("div",cn,[C(e.$slots,"header",{},()=>[b(" Edit User ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",hn,[C(e.$slots,"body",{},()=>[s("div",fn,[s("div",mn,[pn,bn,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.user.name=i)},null,512),[[v,e.user.name]])]),s("div",_n,[$n,gn,m(s("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=i=>e.user.email=i)},null,512),[[v,e.user.email]])]),s("div",vn,[yn,wn,m(s("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=i=>e.user.password=i),disabled:e.cambiarContraseña==!1},null,8,Sn),[[v,e.user.password]])]),s("div",Tn,[Pn,kn,m(s("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>e.user.confirmpassword=i),disabled:e.cambiarContraseña==!1},null,8,Cn),[[v,e.user.confirmpassword]]),En]),s("div",On,[s("label",Bn,[m(s("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[5]||(t[5]=i=>e.cambiarContraseña=i),onChange:t[6]||(t[6]=i=>(e.user.password="",e.user.confirmpassword=""))},null,544),[[A,e.cambiarContraseña]]),b(" Update Password ")])])]),Un,s("div",Rn,[s("div",Nn,[Dn,e.marcados==!1?(p(),g("div",An,[s("label",xn,[m(s("input",{type:"checkbox",value:0,onChange:t[7]||(t[7]=i=>l.marcarTodos()),class:"form-check-input","onUpdate:modelValue":t[8]||(t[8]=i=>e.selected=i)},null,544),[[A,e.selected]]),b(" Check all ")])])):(p(),g("div",In,[s("label",Fn,[m(s("input",{type:"checkbox",value:0,onChange:t[9]||(t[9]=i=>l.marcarTodos()),class:"form-check-input","onUpdate:modelValue":t[10]||(t[10]=i=>e.selected=i)},null,544),[[A,e.selected]]),b(" Uncheck all ")])])),(p(!0),g(x,null,I(e.roles,i=>(p(),g("div",{key:i.id,class:"form-check"},[s("label",Ln,[m(s("input",{type:"checkbox",class:"form-check-input",id:i.id,value:i.id,"onUpdate:modelValue":t[11]||(t[11]=u=>e.selected=u)},null,8,Vn),[[A,e.selected]]),b(" "+_(i.name),1)])]))),128))]),s("div",Mn,[Hn,e.marcados2==!1?(p(),g("div",qn,[s("label",jn,[m(s("input",{type:"checkbox",value:0,onChange:t[12]||(t[12]=i=>l.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":t[13]||(t[13]=i=>e.selected2=i)},null,544),[[A,e.selected2]]),b(" Check all ")])])):(p(),g("div",zn,[s("label",Gn,[m(s("input",{type:"checkbox",value:0,onChange:t[14]||(t[14]=i=>l.marcarTodos2()),class:"form-check-input","onUpdate:modelValue":t[15]||(t[15]=i=>e.selected2=i)},null,544),[[A,e.selected2]]),b(" Uncheck all ")])])),(p(!0),g(x,null,I(e.permisos,i=>(p(),g("div",{key:i.id,class:"form-check"},[s("label",Yn,[m(s("input",{type:"checkbox",class:"form-check-input",id:i.id,value:i.id,"onUpdate:modelValue":t[16]||(t[16]=u=>e.selected2=u)},null,8,Jn),[[A,e.selected2]]),b(" "+_(i.name),1)])]))),128))])])])]),s("div",Kn,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[17]||(t[17]=i=>l.editarUsuario()),disabled:e.buttonDisable},_(e.buttonText),9,Wn)])])])]),e.showFotoPerfil?(p(),O(a,{key:0,onClose:t[18]||(t[18]=i=>e.showFotoPerfil=!1)})):B("",!0),U(c,{ref:"confirmation"},null,512),U(d,{ref:"alert"},null,512)])])]),_:3})}const Qn=N(rn,[["render",Xn]]),Zn={components:{modalcrear:nn,modaleditar:Qn,modalconfirmacion:V,modalalerta:M},mixins:[H],data(){return{usuarios:null,showCrearUsuario:!1,showEditarUsuario:!1,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0,permisos:null,table:null}},created(){this.getUsuarios()},methods:{recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.usuarios=null,this.getUsuarios()):(this.table.destroy(),this.crearTabla("#MyTableUsuarios"))},cambiarEstado(e){k.get(`api/cambiarEstadoUsuario/${e}`).then(t=>{this.toast.success("User has been successfully updated!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(t=>console.log(t))},getUsuarios(){k.get("api/usuarios").then(e=>{this.usuarios=e.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableUsuarios")}).catch(e=>console.log(e))},recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.usuarios=null,this.getUsuarios()):this.crearTabla("#MyTableUsuarios")},usuarioEditar(e){this.usuarioeditar=e,this.showEditarUsuario=!0},async deleteUsuario(e,t){await this.$refs.confirmation.show({title:"Delete User",message:`¿Are you sure you want to delete the user? '${t}'?.`,okButton:"Delete",cancelButton:"Return"})&&k.delete(`api/usuarios/${e}`).then(n=>{this.toast.success("User deleted successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(n=>console.log(n))}}},ei={class:"row mt-4 mx-4"},ti={class:"col-12"},si={class:"card mb-4"},oi={class:"row pb-0 p-4"},ni={class:"col-12"},ii={class:"d-flex justify-content-end"},ri=s("i",{class:"fa-solid fa-rotate"},null,-1),li=[ri],ai={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},di={class:"container"},ui={class:"table-responsive p-0"},ci={class:"loader-sm"},hi={class:"table align-items-center mb-0",id:"MyTableUsuarios"},fi=s("thead",null,[s("tr",{style:{color:"black"}},[s("th",{style:{"min-width":"16px"}}),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Email"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Roles"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Permissions"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions")])],-1),mi=s("td",null,null,-1),pi={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},bi={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},_i={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#B80F0A"}},$i={class:"text-sm mb-0"},gi={class:"text-sm mb-0"},vi={key:0},yi={key:1},wi={key:0},Si={key:1},Ti={class:"align-middle text-end"},Pi={class:"d-flex px-3 py-1 justify-content-center align-items-center"},ki=["onClick"],Ci=s("i",{class:"fa fa-fw fa-edit"},null,-1),Ei=[Ci],Oi=["onClick"],Bi=s("i",{class:"fa fa-fw fa-trash"},null,-1),Ui=[Bi],Ri=["onClick"],Ni=s("i",{class:"fa-solid fa-toggle-on"},null,-1),Di=[Ni],Ai=["onClick"],xi=s("i",{class:"fa-solid fa-toggle-off"},null,-1),Ii=[xi],Fi=ne('<div class="row"><div class="col-3"><label style="font-weight:500;">These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Li(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta"),d=w("modaleditar"),i=w("modalcrear");return p(),g("div",ei,[s("div",ti,[s("div",si,[s("div",oi,[s("div",ni,[s("div",ii,[s("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:t[0]||(t[0]=u=>r.showCrearUsuario=!0)},"New"),b("   "),s("a",{class:"btn btn-spacing btn-search-blue",onClick:t[1]||(t[1]=u=>l.recargarTabla("General"))},li)])])]),s("div",ai,[s("div",di,[s("div",ui,[m(s("div",ci,null,512),[[X,r.mostrarCarga]]),m(s("table",hi,[fi,s("tbody",null,[(p(!0),g(x,null,I(r.usuarios,u=>(p(),g("tr",{key:u.id},[mi,s("td",null,[s("p",pi,_(u.id),1)]),s("td",null,[u.estado==!0?(p(),g("p",bi,"Active")):(p(),g("p",_i,"Inactive"))]),s("td",null,[s("p",$i,_(u.name),1)]),s("td",null,[s("p",gi,_(u.email),1)]),s("td",null,[u.roles==""?(p(),g("div",vi,"---")):(p(),g("div",yi,[(p(!0),g(x,null,I(u.roles,f=>(p(),g("p",{key:f.id,class:"text-sm mb-0"},_(f.name),1))),128))]))]),s("td",null,[u.permissions==""?(p(),g("div",wi,"---")):(p(),g("div",Si,[(p(!0),g(x,null,I(u.permissions,f=>(p(),g("p",{key:f.id,class:"text-sm mb-0"},_(f.name),1))),128))]))]),s("td",Ti,[s("div",Pi,[s("a",{class:"btn btn-alert btn-xs",title:"Editar",onClick:f=>l.usuarioEditar(u)},Ei,8,ki),b("   "),s("a",{class:"btn btn-closed btn-xs",title:"Eliminar",onClick:f=>l.deleteUsuario(u.id,u.name)},Ui,8,Oi),b("   "),u.estado==!0?(p(),g("a",{key:0,onClick:f=>l.cambiarEstado(u.id),class:"btn btn-continue btn-xs"},Di,8,Ri)):(p(),g("a",{key:1,class:"btn btn-secondary btn-xs",onClick:f=>l.cambiarEstado(u.id)},Ii,8,Ai))])])]))),128))])],512),[[X,r.mostrarTabla]]),Fi])])])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512),r.showEditarUsuario?(p(),O(d,{key:0,usuario:r.usuarioeditar,onClose:t[2]||(t[2]=u=>r.showEditarUsuario=!1),onRecarga:t[3]||(t[3]=u=>l.recargarTabla("General"))},null,8,["usuario"])):B("",!0),r.showCrearUsuario?(p(),O(i,{key:1,onClose:t[4]||(t[4]=u=>r.showCrearUsuario=!1),onRecarga:t[5]||(t[5]=u=>l.recargarTabla("General"))})):B("",!0)])])}const Vi=N(Zn,[["render",Li]]),Mi={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({isiPublication:{authors:"",coauthor:"",articleTitle:"",journalName:"",doi:"",volume:"",firstPage:"",lastPage:"",yearPublished:""},currentYear:new Date().getFullYear(),coauthor:!1,buttonDisable:!1,errors:[],buttonText:"Send Publication"}),methods:{onInput(e){const t=e.target;this.isiPublication.yearPublished=t.value.slice(0,4)},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async crearPublicacion(){this.errors=[];for(const t in this.isiPublication)(this.isiPublication[t]===""||this.isiPublication[t]===0)&&(t=="coauthor"&&this.coauthor==!1||this.errors.push(t));var e="";if(this.errors.length!=0&&(this.errors.forEach(t=>{t=="articleTitle"?e=e+`The field Article Title is required
`:t=="journalName"?e=e+`The field Journal Name is required
`:t=="firstPage"?e=e+`The field First Page is required
`:t=="lastPage"?e=e+`The field Last Page is required
`:t=="yearPublished"?e=e+`The field Year Published is required
`:e=e+"The field "+this.capitalizeFirstLetter(t)+` is required
`}),this.toast.warning(e,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Send Publication",message:"¿Are you sure you want to send this publication?.",okButton:"Send",cancelButton:"Return"})){let o={idUsuario:this.userID,authors:this.isiPublication.authors,coauthor:this.isiPublication.coauthor,articleTitle:this.isiPublication.articleTitle,journalName:this.isiPublication.journalName,doi:this.isiPublication.doi,volume:this.isiPublication.volume,firstPage:this.isiPublication.firstPage,lastPage:this.isiPublication.lastPage,yearPublished:this.isiPublication.yearPublished};k.post("api/isiPublications",o).then(n=>{this.buttonDisable=!0,this.buttonText="Sending...",this.toast.success("Publication send successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Hi={name:"modal"},qi={class:"modal-mask"},ji={class:"modal-wrapper"},zi={class:"modal-container-s"},Gi={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},Yi={class:"modal-body"},Ji={class:"row"},Ki={class:"col-5"},Wi=s("label",{for:""},"Author(s): ",-1),Xi=s("br",null,null,-1),Qi={class:"col-3"},Zi=s("br",null,null,-1),er={class:"form-check pt-2"},tr={class:"form-check-label"},sr={class:"col-4"},or=s("label",{for:""},"Coauthor(s):",-1),nr=s("br",null,null,-1),ir=["disabled"],rr=s("br",null,null,-1),lr={class:"row"},ar={class:"col-4"},dr=s("label",{for:""},"Article Title:",-1),ur=s("br",null,null,-1),cr={class:"col-3"},hr=s("label",{for:""},"Journal Name:",-1),fr=s("br",null,null,-1),mr={class:"col-4"},pr=s("label",{for:""},"Digital Object Identifier (DOI):",-1),br=s("br",null,null,-1),_r={class:"col-1 pt-2"},$r=s("br",null,null,-1),gr=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),vr=[gr],yr=s("br",null,null,-1),wr={class:"row"},Sr={class:"col-3"},Tr=s("label",{for:""},"Volume:",-1),Pr=s("br",null,null,-1),kr={class:"col-3"},Cr=s("label",{for:""},"First Page:",-1),Er=s("br",null,null,-1),Or={class:"col-3"},Br=s("label",{for:""},"Last Page:",-1),Ur=s("br",null,null,-1),Rr={class:"col-3"},Nr=s("label",{for:""},"Year Published:",-1),Dr=s("br",null,null,-1),Ar=["max"],xr=s("hr",{size:"3",class:"separador"},null,-1),Ir={class:"modal-footer"},Fr=["disabled"];function Lr(e,t,o,n,r,l){const a=w("modalfotoperfil"),c=w("modalconfirmacion"),d=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",Hi,[s("div",qi,[s("div",ji,[s("div",zi,[s("div",Gi,[C(e.$slots,"header",{},()=>[b(" New Publication ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Yi,[C(e.$slots,"body",{},()=>[s("div",Ji,[s("div",Ki,[Wi,Xi,m(s("input",{title:"First Name and Last Name.",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.isiPublication.authors=i)},null,512),[[v,e.isiPublication.authors]])]),s("div",Qi,[Zi,s("div",er,[s("label",tr,[m(s("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=i=>e.coauthor=i)},null,512),[[A,e.coauthor]]),b(" ¿AC3E co-author? ")])])]),s("div",sr,[or,nr,m(s("input",{type:"text",disabled:e.coauthor==!1,class:"form-control","onUpdate:modelValue":t[3]||(t[3]=i=>e.isiPublication.coauthors=i)},null,8,ir),[[v,e.isiPublication.coauthors]])])]),rr,s("div",lr,[s("div",ar,[dr,ur,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>e.isiPublication.articleTitle=i)},null,512),[[v,e.isiPublication.articleTitle]])]),s("div",cr,[hr,fr,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=i=>e.isiPublication.journalName=i)},null,512),[[v,e.isiPublication.journalName]])]),s("div",mr,[pr,br,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=i=>e.isiPublication.doi=i)},null,512),[[v,e.isiPublication.doi]])]),s("div",_r,[$r,s("a",{class:"btn btn-search-blue",onClick:t[7]||(t[7]=i=>e.filtrarFecha())},vr)])]),yr,s("div",wr,[s("div",Sr,[Tr,Pr,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=i=>e.isiPublication.volume=i)},null,512),[[v,e.isiPublication.volume]])]),s("div",kr,[Cr,Er,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=i=>e.isiPublication.firstPage=i)},null,512),[[v,e.isiPublication.firstPage]])]),s("div",Or,[Br,Ur,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=i=>e.isiPublication.lastPage=i)},null,512),[[v,e.isiPublication.lastPage]])]),s("div",Rr,[Nr,Dr,m(s("input",{id:"yearInput",type:"number","onUpdate:modelValue":t[11]||(t[11]=i=>e.isiPublication.yearPublished=i),max:e.currentYear,onInput:t[12]||(t[12]=(...i)=>l.onInput&&l.onInput(...i)),class:"form-control"},null,40,Ar),[[v,e.isiPublication.yearPublished]])])]),xr])]),s("div",Ir,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[13]||(t[13]=i=>l.crearPublicacion()),disabled:e.buttonDisable},_(e.buttonText),9,Fr)])]),e.showFotoPerfil?(p(),O(a,{key:0,onClose:t[14]||(t[14]=i=>e.showFotoPerfil=!1)})):B("",!0),U(c,{ref:"confirmation"},null,512),U(d,{ref:"alert"},null,512)])])])])]),_:3})}const Vr=N(Mi,[["render",Lr]]),Mr={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({isiPublication:{authors:"",coauthor:"",articleTitle:"",journalName:"",doi:"",volume:"",firstPage:"",lastPage:"",yearPublished:""},id:null,coauthor:!1,currentYear:new Date().getFullYear(),buttonDisable:!1,errors:[],buttonText:"Edit Publication"}),props:{isiPublication1:Object},created(){this.id=this.isiPublication1.id,this.isiPublication.authors=this.isiPublication1.authors,this.isiPublication1.coauthor!=null&&(this.coauthor=!0,this.isiPublication.coauthor=this.isiPublication1.coauthor),this.isiPublication.articleTitle=this.isiPublication1.articleTitle,this.isiPublication.journalName=this.isiPublication1.journalName,this.isiPublication.doi=this.isiPublication1.doi,this.isiPublication.volume=this.isiPublication1.volume,this.isiPublication.firstPage=this.isiPublication1.firstPage,this.isiPublication.lastPage=this.isiPublication1.lastPage,this.isiPublication.yearPublished=this.isiPublication1.yearPublished},methods:{onInput(e){const t=e.target;this.isiPublication.yearPublished=t.value.slice(0,4)},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async editarPublicacion(){this.errors=[];for(const t in this.isiPublication)(this.isiPublication[t]===""||this.isiPublication[t]===0)&&(t=="coauthor"&&this.coauthor==!1||this.errors.push(t));var e="";if(this.errors.length!=0&&(this.errors.forEach(t=>{t=="articleTitle"?e=e+`The field Article Title is required
`:t=="journalName"?e=e+`The field Journal Name is required
`:t=="firstPage"?e=e+`The field First Page is required
`:t=="lastPage"?e=e+`The field Last Page is required
`:t=="yearPublished"?e=e+`The field Year Published is required
`:e=e+"The field "+this.capitalizeFirstLetter(t)+` is required
`}),this.toast.warning(e,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Publication",message:"¿Are you sure you want to edit this publication?.",okButton:"Send",cancelButton:"Return"})){let o={authors:this.isiPublication.authors,coauthor:this.isiPublication.coauthor,articleTitle:this.isiPublication.articleTitle,journalName:this.isiPublication.journalName,doi:this.isiPublication.doi,volume:this.isiPublication.volume,firstPage:this.isiPublication.firstPage,lastPage:this.isiPublication.lastPage,yearPublished:this.isiPublication.yearPublished};k.put(`api/isiPublications/${this.id}`,o).then(n=>{this.buttonDisable=!0,this.buttonText="Sending...",this.toast.success("Publication edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Hr={name:"modal"},qr={class:"modal-mask"},jr={class:"modal-wrapper"},zr={class:"modal-container-s"},Gr={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},Yr={class:"modal-body"},Jr={class:"row"},Kr={class:"col-5"},Wr=s("label",{for:""},"Author(s): ",-1),Xr=s("br",null,null,-1),Qr={class:"col-3"},Zr=s("br",null,null,-1),el={class:"form-check pt-2"},tl={class:"form-check-label"},sl={class:"col-4"},ol=s("label",{for:""},"Coauthor(s):",-1),nl=s("br",null,null,-1),il=["disabled"],rl=s("br",null,null,-1),ll={class:"row"},al={class:"col-4"},dl=s("label",{for:""},"Article Title:",-1),ul=s("br",null,null,-1),cl={class:"col-3"},hl=s("label",{for:""},"Journal Name:",-1),fl=s("br",null,null,-1),ml={class:"col-4"},pl=s("label",{for:""},"Digital Object Identifier (DOI):",-1),bl=s("br",null,null,-1),_l={class:"col-1 pt-2"},$l=s("br",null,null,-1),gl=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),vl=[gl],yl=s("br",null,null,-1),wl={class:"row"},Sl={class:"col-3"},Tl=s("label",{for:""},"Volume:",-1),Pl=s("br",null,null,-1),kl={class:"col-3"},Cl=s("label",{for:""},"First Page:",-1),El=s("br",null,null,-1),Ol={class:"col-3"},Bl=s("label",{for:""},"Last Page:",-1),Ul=s("br",null,null,-1),Rl={class:"col-3"},Nl=s("label",{for:""},"Year Published:",-1),Dl=s("br",null,null,-1),Al=["max"],xl={class:"modal-footer"},Il=["disabled"];function Fl(e,t,o,n,r,l){const a=w("modalfotoperfil"),c=w("modalconfirmacion"),d=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",Hr,[s("div",qr,[s("div",jr,[s("div",zr,[s("div",Gr,[C(e.$slots,"header",{},()=>[b(" Edit Publication ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Yr,[C(e.$slots,"body",{},()=>[s("div",Jr,[s("div",Kr,[Wr,Xr,m(s("input",{title:"First Name and Last Name.",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.isiPublication.authors=i)},null,512),[[v,e.isiPublication.authors]])]),s("div",Qr,[Zr,s("div",el,[s("label",tl,[m(s("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=i=>e.coauthor=i)},null,512),[[A,e.coauthor]]),b(" ¿AC3E co-author? ")])])]),s("div",sl,[ol,nl,m(s("input",{type:"text",disabled:e.coauthor==!1,class:"form-control","onUpdate:modelValue":t[3]||(t[3]=i=>e.isiPublication.coauthor=i)},null,8,il),[[v,e.isiPublication.coauthor]])])]),rl,s("div",ll,[s("div",al,[dl,ul,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=i=>e.isiPublication.articleTitle=i)},null,512),[[v,e.isiPublication.articleTitle]])]),s("div",cl,[hl,fl,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=i=>e.isiPublication.journalName=i)},null,512),[[v,e.isiPublication.journalName]])]),s("div",ml,[pl,bl,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=i=>e.isiPublication.doi=i)},null,512),[[v,e.isiPublication.doi]])]),s("div",_l,[$l,s("a",{class:"btn btn-search-blue",onClick:t[7]||(t[7]=i=>e.filtrarFecha())},vl)])]),yl,s("div",wl,[s("div",Sl,[Tl,Pl,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=i=>e.isiPublication.volume=i)},null,512),[[v,e.isiPublication.volume]])]),s("div",kl,[Cl,El,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=i=>e.isiPublication.firstPage=i)},null,512),[[v,e.isiPublication.firstPage]])]),s("div",Ol,[Bl,Ul,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=i=>e.isiPublication.lastPage=i)},null,512),[[v,e.isiPublication.lastPage]])]),s("div",Rl,[Nl,Dl,m(s("input",{id:"yearInput",type:"number","onUpdate:modelValue":t[11]||(t[11]=i=>e.isiPublication.yearPublished=i),max:e.currentYear,onInput:t[12]||(t[12]=(...i)=>l.onInput&&l.onInput(...i)),class:"form-control"},null,40,Al),[[v,e.isiPublication.yearPublished]])])])])]),s("div",xl,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[13]||(t[13]=i=>l.editarPublicacion()),disabled:e.buttonDisable},_(e.buttonText),9,Il)])]),e.showFotoPerfil?(p(),O(a,{key:0,onClose:t[14]||(t[14]=i=>e.showFotoPerfil=!1)})):B("",!0),U(c,{ref:"confirmation"},null,512),U(d,{ref:"alert"},null,512)])])])])]),_:3})}const Ll=N(Mr,[["render",Fl]]),Vl={components:{modalcrear:Vr,modaleditar:Ll,modalconfirmacion:V,modalalerta:M},mixins:[H],data(){return{isiPublications:null,showNewIsiPublication:!1,showEditIsiPublication:!1,isiPublicationEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getIsiPublications(this.userID)},methods:{getIsiPublications(e){k.get(`api/isiPublications/${e}`).then(t=>{this.isiPublications=t.data,this.isiPublicationsAux=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableIsiPublications")}).catch(t=>console.log(t))},recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.isiPublications=null,this.getIsiPublications(this.userID)):this.crearTabla("#MyTableIsiPublications")},editIsiPublication(e){this.isiPublicationEdit=e,this.showEditIsiPublication=!0},async deletePublication(e){await this.$refs.confirmation.show({title:"Delete Publication",message:"¿Are you sure you want to delete this Publication?.",okButton:"Delete",cancelButton:"Return"})&&k.delete(`api/isiPublications/${e}`).then(o=>{this.toast.success("Publication successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(o=>console.log(o))}}},Ml={class:"row mt-4 mx-4"},Hl={class:"col-12"},ql={class:"card mb-4"},jl={class:"row pb-0 p-4"},zl={class:"col-12"},Gl={class:"d-flex justify-content-end"},Yl=s("i",{class:"fa-solid fa-rotate"},null,-1),Jl=[Yl],Kl={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Wl={class:"container"},Xl={class:"table-responsive p-0"},Ql={class:"loader-sm"},Zl={class:"table align-items-center mb-0",id:"MyTableIsiPublications"},ea=s("thead",null,[s("tr",{style:{color:"black"}},[s("th",{style:{"min-width":"16px"}}),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Author(s)"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Coauthor(s) "),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Article Title"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Journal Name"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Doi"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Volume"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"First Page"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Last Page"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Year Published"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions")])],-1),ta=s("td",null,null,-1),sa={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},oa={class:"text-sm mb-0"},na={class:"text-sm mb-0"},ia={key:0,class:"text-sm mb-0"},ra={key:1,class:"text-sm mb-0"},la={class:"text-sm mb-0"},aa={class:"text-sm mb-0"},da={class:"text-sm mb-0"},ua={class:"text-sm mb-0"},ca={class:"text-sm mb-0"},ha={class:"text-sm mb-0"},fa={class:"text-sm mb-0"},ma={class:"align-middle text-end"},pa={class:"d-flex px-3 py-1 justify-content-center align-items-center"},ba=["onClick"],_a=s("i",{class:"fa fa-fw fa-edit"},null,-1),$a=[_a],ga=["onClick"],va=s("i",{class:"fa fa-fw fa-trash"},null,-1),ya=[va],wa=ne('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Sa(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta"),d=w("modaleditar"),i=w("modalcrear");return p(),g("div",Ml,[s("div",Hl,[s("div",ql,[s("div",jl,[s("div",zl,[s("div",Gl,[s("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:t[0]||(t[0]=u=>r.showNewIsiPublication=!0)},"New Publication"),b("   "),s("a",{class:"btn btn-spacing btn-search-blue",onClick:t[1]||(t[1]=u=>l.recargarTabla("General"))},Jl)])])]),s("div",Kl,[s("div",Wl,[s("div",Xl,[m(s("div",Ql,null,512),[[X,r.mostrarCarga]]),m(s("table",Zl,[ea,s("tbody",null,[(p(!0),g(x,null,I(r.isiPublications,u=>(p(),g("tr",{key:u.id},[ta,s("td",null,[s("p",sa,_(u.id),1)]),s("td",null,[s("p",oa,_(u.usuario.name),1)]),s("td",null,[s("p",na,_(u.authors),1)]),s("td",null,[u.coauthor==null?(p(),g("p",ia,"---")):(p(),g("p",ra,_(u.coauthor),1))]),s("td",null,[s("p",la,_(u.articleTitle),1)]),s("td",null,[s("p",aa,_(u.journalName),1)]),s("td",null,[s("p",da,_(u.doi),1)]),s("td",null,[s("p",ua,_(u.volume),1)]),s("td",null,[s("p",ca,_(u.firstPage),1)]),s("td",null,[s("p",ha,_(u.lastPage),1)]),s("td",null,[s("p",fa,_(u.yearPublished),1)]),s("td",ma,[s("div",pa,[s("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:f=>l.editIsiPublication(u)},$a,8,ba),b("   "),s("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:f=>l.deletePublication(u.id)},ya,8,ga)])])]))),128))])],512),[[X,r.mostrarTabla]]),wa])])])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512),r.showEditIsiPublication?(p(),O(d,{key:0,isiPublication1:r.isiPublicationEdit,onClose:t[2]||(t[2]=u=>r.showEditIsiPublication=!1),onRecarga:t[3]||(t[3]=u=>l.recargarTabla("General"))},null,8,["isiPublication1"])):B("",!0),r.showNewIsiPublication?(p(),O(i,{key:1,onClose:t[4]||(t[4]=u=>r.showNewIsiPublication=!1),onRecarga:t[5]||(t[5]=u=>l.recargarTabla("General"))})):B("",!0)])])}const Ta=N(Vl,[["render",Sa]]);/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */var Pa={exports:{}};(function(e){typeof window>"u"||function(t){var o=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return!!new Blob}catch{return!1}}(),r=n&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),l=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(n||l)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(d){var i,u,f,E,P,y,S,F,L;if(i=d.match(a),!i)throw new Error("invalid data URI");for(u=i[2]?i[1]:"text/plain"+(i[3]||";charset=US-ASCII"),f=!!i[4],E=d.slice(i[0].length),f?P=atob(E):P=decodeURIComponent(E),y=new ArrayBuffer(P.length),S=new Uint8Array(y),F=0;F<P.length;F+=1)S[F]=P.charCodeAt(F);return n?new Blob([r?S:y],{type:u}):(L=new l,L.append(y),L.getBlob(u))};t.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(d,i,u){var f=this;setTimeout(function(){u&&o.toDataURL&&c?d(c(f.toDataURL(i,u))):d(f.mozGetAsFile("blob",i))})}:o.toDataURL&&c&&(o.msToBlob?o.toBlob=function(d,i,u){var f=this;setTimeout(function(){(i&&i!=="image/png"||u)&&o.toDataURL&&c?d(c(f.toDataURL(i,u))):d(f.msToBlob(i))})}:o.toBlob=function(d,i,u){var f=this;setTimeout(function(){d(c(f.toDataURL(i,u)))})})),e.exports?e.exports=c:t.dataURLtoBlob=c}(window)})(Pa);const ka={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({}),props:{thesisStudent1:Object},created(){}},Ca={name:"modal"},Ea={class:"modal-mask"},Oa={class:"modal-wrapper"},Ba={class:"modal-container"},Ua={class:"modal-header pb-1",style:{"font-weight":"bold",color:"#444444"}},Ra=s("label",{class:"col-5 m-0",style:{"font-size":"17px"}},"Thesis Details:",-1),Na={class:"col-5 m-0 fs-8 pt-2"},Da=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Aa={class:"modal-body"},xa={class:"form-group"},Ia={class:"row"},Fa=s("div",{class:"text-uppercase pb-2"},"Personal information:",-1),La={class:"col-4 m-0 fs-8 pb-1"},Va=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Ma={class:"col-4 m-0 fs-8 pb-1"},Ha=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),qa={class:"col-4 m-0 fs-8 pb-1"},ja=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),za={class:"col-4 m-0 fs-8 pb-2"},Ga=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Ya=s("hr",{size:"4",class:"separador"},null,-1),Ja=s("div",{class:"text-uppercase pb-2"},"Thesis information:",-1),Ka={class:"col-6 m-0 fs-8 pb-1"},Wa=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Xa={class:"col-6 m-0 fs-8 pb-1"},Qa=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Za={class:"col-6 m-0 fs-8 pb-1"},ed=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),td={class:"col-6 m-0 fs-8 pb-2"},sd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),od=s("hr",{size:"4",class:"separador"},null,-1),nd=s("div",{class:"text-uppercase pb-2"},"Tutor information:",-1),id={class:"col-6 m-0 fs-8 pb-1"},rd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),ld={class:"col-6 m-0 fs-8 pb-2"},ad=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),dd=s("hr",{size:"4",class:"separador"},null,-1),ud=s("div",{class:"text-uppercase pb-2"},"Cotutor information:",-1),cd={class:"col-6 m-0 fs-8 pb-1"},hd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),fd={class:"col-6 m-0 fs-8 pb-2"},md=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),pd=s("hr",{size:"4",class:"separador"},null,-1),bd=s("div",{class:"text-uppercase pb-2"},"Other information:",-1),_d={class:"col-6 m-0 fs-8 pb-1"},$d=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),gd={class:"col-6 m-0 fs-8 pb-2"},vd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),yd=s("hr",{size:"4",class:"separador"},null,-1),wd=s("div",{class:"text-uppercase pb-2"},"Extra information:",-1),Sd={class:"col-4 m-0 fs-8 pb-1"},Td=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Pd={class:"col-4 m-0 fs-8 pb-1"},kd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Cd={class:"col-4 m-0 fs-8 pb-1"},Ed=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Od={class:"col-6 m-0 fs-8 pb-1"},Bd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Ud={class:"col-6 m-0 fs-8 pb-1"},Rd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Nd={class:"col-6 m-0 fs-8 pb-1"},Dd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1),Ad={class:"col-6 m-0 fs-8 pb-2"},xd=s("label",{class:"fw-normal",style:{"font-size":"14px"}},null,-1);function Id(e,t,o,n,r,l){return p(),O(G,{name:"modalver"},{default:j(()=>[s("div",Ca,[s("div",Ea,[s("div",Oa,[s("div",Ba,[s("div",Ua,[C(e.$slots,"header",{},()=>[Ra,s("label",Na,[b(" User: "),Da,b(_(o.thesisStudent1.usuario.name),1)])]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=a=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Aa,[C(e.$slots,"body",{},()=>[s("div",xa,[s("div",Ia,[Fa,s("label",La,[b(" Student Name: "),Va,b(_(o.thesisStudent1.studentName),1)]),s("label",Ma,[b(" Run or Passport: "),Ha,b(_(o.thesisStudent1.runOrPassport),1)]),s("label",qa,[b(" Gender: "),ja,b(_(o.thesisStudent1.gender),1)]),s("label",za,[b(" Student Mail: "),Ga,b(_(o.thesisStudent1.studentMail),1)]),Ya,Ja,s("label",Ka,[b(" Thesis Status: "),Wa,b(_(o.thesisStudent1.thesisStatus),1)]),s("label",Xa,[b(" Thesis Title: "),Qa,b(_(o.thesisStudent1.thesisTitle),1)]),s("label",Za,[b(" Academic Degree: "),ed,b(_(o.thesisStudent1.academicDegree),1)]),s("label",td,[b(" Degree Denomination: "),sd,b(_(o.thesisStudent1.degreeDenomination),1)]),od,nd,s("label",id,[b(" Tutor Name: "),rd,b(_(o.thesisStudent1.tutorName),1)]),s("label",ld,[b(" Tutor Institution: "),ad,b(_(o.thesisStudent1.tutorInstitution),1)]),dd,ud,s("label",cd,[b(" Cotutor Name: "),hd,b(_(o.thesisStudent1.cotutorName),1)]),s("label",fd,[b(" Cotutor Institution: "),md,b(_(o.thesisStudent1.cotutorInstitution),1)]),pd,bd,s("label",_d,[b(" Other Name: "),$d,b(_(o.thesisStudent1.otherName),1)]),s("label",gd,[b(" Other Institution: "),vd,b(_(o.thesisStudent1.otherInstitution),1)]),yd,wd,s("label",Sd,[b(" University: "),Td,b(_(o.thesisStudent1.university),1)]),s("label",Pd,[b(" Year in which student starts program: "),kd,b(_(o.thesisStudent1.yearStart),1)]),s("label",Cd,[b(" Year in which the thesis ends: "),Ed,b(_(o.thesisStudent1.yearThesisEnd),1)]),s("label",Od,[b(" Resources provided by the Center: "),Bd,b(_(o.thesisStudent1.resourcesCenter),1)]),s("label",Ud,[b(" Posterior working area: "),Rd,b(_(o.thesisStudent1.posteriorArea),1)]),s("label",Nd,[b(" Institution of Posterior working area: "),Dd,b(_(o.thesisStudent1.institutionPosteriorArea),1)]),s("label",Ad,[b(" Comments: "),xd,b(_(o.thesisStudent1.comments),1)])])])])])])])])])]),_:3})}const Fd=N(ka,[["render",Id]]),Ld={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({thesisStudent:{studentName:"",identification:"",passport:"",run:"",gender:"",studentMail:"",thesisStatus:"",thesisTitle:"",academicDegree:"",degreeDenomination:"",tutorName:"",tutorInstitution:"",cotutorName:"",cotutorInstitution:"",otherName:"",otherInstitution:"",university:"",yearStart:"",yearThesisEnd:"",resourcesCenter:"",posteriorArea:"",institutionPosteriorArea:"",comments:""},buttonDisable:!1,thesisExtract:null,errors:[],buttonText:"Send Thesis",years:[]}),mounted(){this.calculateYears()},methods:{clearFileInput(){this.$refs.fileInput.value=""},async getFile(e){this.thesisExtract=e.target.files[0]},calculateYears(){const t=new Date().getFullYear()-20;this.years=Array.from({length:21},(o,n)=>t+n)},checkRut(){if(this.thesisStudent.run!=""){this.thesisStudent.run.replace(".","");var e=this.thesisStudent.run.replace(".","");e=e.replace("-","");var t=e.slice(0,-1),o=e.slice(-1).toUpperCase();this.thesisStudent.run=t+"-"+o}},validateInput(){this.thesisStudent.run=this.thesisStudent.run.replace(/[^0-9Kk\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(e){const t=e.which?e.which:e.keyCode;(t===45&&this.thesisStudent.run.indexOf("-")!==-1||t>31&&t<48||t>57&&t<75||t>75&&t<107||t>107&&t!==109)&&e.preventDefault()},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async crearTesis(){this.errors=[];for(const n in this.thesisStudent)(this.thesisStudent[n]===""||this.thesisStudent[n]===0)&&(this.thesisStudent.identification==""&&n=="run"||this.thesisStudent.identification==""&&n=="passport"||this.thesisStudent.identification=="run"&&n=="passport"||this.thesisStudent.identification=="passport"&&n=="run"||this.errors.push(n));if(this.thesisStudent.identification=="run"&&this.thesisStudent.run!=""){var e=this.validarRut(this.thesisStudent.run);e==!1&&this.errors.push("invalidRut")}var t="";if(this.errors.length!=0&&(this.errors.forEach(n=>{n=="studentName"?t=t+`The field Student Name is required
`:n=="invalidRut"?t=t+`The entered run is invalid
`:n=="studentMail"?t=t+`The field Student Mail is required
`:n=="thesisStatus"?t=t+`The field Thesis Status is required
`:n=="thesisTitle"?t=t+`The field Thesis Title is required
`:n=="academicDegree"?t=t+`The field Academic Degree is required
`:n=="degreeDenomination"?t=t+`The field Degree Denomination is required
`:n=="tutorName"?t=t+`The field Tutor Name is required
`:n=="tutorInstitution"?t=t+`The field Tutor Institution is required
`:n=="cotutorName"?t=t+`The field Cotutor Name is required
`:n=="cotutorInstitution"?t=t+`The field Cotutor Institution is required
`:n=="otherName"?t=t+`The field Other Name is required
`:n=="otherInstitution"?t=t+`The field Other Institution is required
`:n=="academicDegree"?t=t+`The field Academic Degree is required
`:n=="yearStart"?t=t+`The field Year when starts is required
`:n=="yearThesisEnd"?t=t+`The field Year when thesis ends is required
`:n=="resourcesCenter"?t=t+`The field Resources provided is required
`:n=="posteriorArea"?t=t+`The field Posterior working area is required
`:n=="institutionPosteriorArea"?t=t+`The field Institution posterior area is required
`:t=t+"The field "+this.capitalizeFirstLetter(n)+` is required
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Send Thesis",message:"¿Are you sure you want to send this thesis?.",okButton:"Send",cancelButton:"Return"})){var o="";this.thesisStudent.identification=="run"?o=this.formatoRut(this.thesisStudent.run):o=this.thesisStudent.passport;let r={idUsuario:this.userID,identification:this.thesisStudent.identification,studentName:this.thesisStudent.studentName,runOrPassport:o,gender:this.thesisStudent.gender,studentMail:this.thesisStudent.studentMail,thesisStatus:this.thesisStudent.thesisStatus,thesisTitle:this.thesisStudent.thesisTitle,academicDegree:this.thesisStudent.academicDegree,degreeDenomination:this.thesisStudent.degreeDenomination,tutorName:this.thesisStudent.tutorName,tutorInstitution:this.thesisStudent.tutorInstitution,cotutorName:this.thesisStudent.cotutorName,cotutorInstitution:this.thesisStudent.cotutorInstitution,otherName:this.thesisStudent.otherName,otherInstitution:this.thesisStudent.otherInstitution,university:this.thesisStudent.university,yearStart:this.thesisStudent.yearStart,yearThesisEnd:this.thesisStudent.yearThesisEnd,resourcesCenter:this.thesisStudent.resourcesCenter,posteriorArea:this.thesisStudent.posteriorArea,institutionPosteriorArea:this.thesisStudent.institutionPosteriorArea,comments:this.thesisStudent.comments,thesisExtract:this.thesisExtract};k.post("api/thesisStudents",r,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{this.buttonDisable=!0,this.buttonText="Sending...",this.toast.success("Thesis send successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response.status==422&&(this.errors=l.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Vd={name:"modal"},Md={class:"modal-mask"},Hd={class:"modal-wrapper"},qd={class:"modal-container-s"},jd={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},zd={class:"modal-body"},Gd={class:"row"},Yd={class:"col-3"},Jd=s("label",{for:""},"Student Name: ",-1),Kd=s("br",null,null,-1),Wd={class:"col-3"},Xd=s("label",{for:""},"Gender(M/F): ",-1),Qd=s("br",null,null,-1),Zd=s("option",{disabled:"",value:""},"Select a Gender",-1),eu=s("option",{value:"M"},"Male",-1),tu=s("option",{value:"F"},"Female",-1),su=[Zd,eu,tu],ou={class:"col-3"},nu=s("label",{for:""},"Identification: ",-1),iu=s("br",null,null,-1),ru=s("option",{disabled:"",value:""},"Select One",-1),lu=s("option",{value:"run"},"Run",-1),au=s("option",{value:"passport"},"Passport",-1),du=[ru,lu,au],uu={key:0,class:"col-3"},cu=s("label",{for:""},"Run: ",-1),hu=s("br",null,null,-1),fu={key:1,class:"col-3"},mu=s("label",{for:""},"Passport: ",-1),pu=s("br",null,null,-1),bu=s("br",null,null,-1),_u={class:"row"},$u={class:"col-3"},gu=s("label",{for:""},"Student Mail: ",-1),vu=s("br",null,null,-1),yu={class:"col-5"},wu=s("label",{for:""},"Academic Degree: ",-1),Su=s("br",null,null,-1),Tu=s("option",{disabled:"",value:""},"Select a degree",-1),Pu=s("option",{value:"1"},"Undergraduate degree or profesional title",-1),ku=s("option",{value:"2"},"Master o equivalent",-1),Cu=s("option",{value:"3"},"PhD degree",-1),Eu=[Tu,Pu,ku,Cu],Ou={class:"col-4"},Bu=s("label",{for:""},"Degree Denomination: ",-1),Uu=s("br",null,null,-1),Ru=s("br",null,null,-1),Nu={class:"row"},Du={class:"col-4"},Au=s("label",{for:""},"Thesis Title: ",-1),xu=s("br",null,null,-1),Iu={class:"col-3"},Fu=s("label",{for:""},"Thesis Status: ",-1),Lu=s("br",null,null,-1),Vu=s("option",{disabled:"",value:""},"Select One",-1),Mu=s("option",{value:"1"},"Finished",-1),Hu=s("option",{value:"2"},"In progress",-1),qu=[Vu,Mu,Hu],ju={key:0,class:"col-4"},zu={class:"form-group"},Gu=s("label",{for:"archivo"},"Archivo: ",-1),Yu={key:1,class:"col-1 pt-2"},Ju=s("br",null,null,-1),Ku=s("i",{class:"fa-solid fa-ban"},null,-1),Wu=[Ku],Xu=s("hr",{size:"3",class:"separador"},null,-1),Qu={class:"row"},Zu=s("div",{class:"text-uppercase pb-2"},"Tutor",-1),ec={class:"col-6"},tc=s("label",{for:""},"Name: ",-1),sc=s("br",null,null,-1),oc={class:"col-6"},nc=s("label",{for:""},"Institution: ",-1),ic=s("br",null,null,-1),rc=s("hr",{size:"3",class:"separador"},null,-1),lc={class:"row"},ac=s("div",{class:"text-uppercase pb-2"},"Co-Tutor",-1),dc={class:"col-6"},uc=s("label",{for:""},"Name: ",-1),cc=s("br",null,null,-1),hc={class:"col-6"},fc=s("label",{for:""},"Institution: ",-1),mc=s("br",null,null,-1),pc=s("hr",{size:"3",class:"separador"},null,-1),bc={class:"row"},_c=s("div",{class:"text-uppercase pb-2"},"Other",-1),$c={class:"col-6"},gc=s("label",{for:""},"Name: ",-1),vc=s("br",null,null,-1),yc={class:"col-6"},wc=s("label",{for:""},"Institution: ",-1),Sc=s("br",null,null,-1),Tc=s("hr",{size:"3",class:"separador"},null,-1),Pc={class:"row"},kc={class:"col-3"},Cc=s("label",{for:""},"University that gives the Degree: ",-1),Ec=s("br",null,null,-1),Oc=s("option",{disabled:"",value:""},"Select an university",-1),Bc=s("option",{value:"Universidad de Concepción"},"Universidad de Concepción",-1),Uc=s("option",{value:"UTFSM"},"UTFSM",-1),Rc=s("option",{value:"Universidad de los Andes"},"Universidad de los Andes",-1),Nc=s("option",{value:"Universidad Diego Portales"},"Universidad Diego Portales",-1),Dc=[Oc,Bc,Uc,Rc,Nc],Ac={class:"col-3"},xc=s("label",{for:""},"Year in which student starts program: ",-1),Ic=s("br",null,null,-1),Fc=s("option",{disabled:"",value:""},"Select a year",-1),Lc=["value"],Vc={class:"col-3"},Mc=s("label",{for:""},"Year in which the thesis ends: ",-1),Hc=s("br",null,null,-1),qc=s("option",{disabled:"",value:""},"Select a year",-1),jc=["value"],zc={class:"col-3"},Gc=s("label",{for:""},"Resources provided by the Center: ",-1),Yc=s("br",null,null,-1),Jc=s("option",{disabled:"",value:""},"Select a resource",-1),Kc=s("option",{value:"1"},"Equipment",-1),Wc=s("option",{value:"2"},"Information",-1),Xc=s("option",{value:"3"},"Infrastructure",-1),Qc=s("option",{value:"4"},"Other",-1),Zc=[Jc,Kc,Wc,Xc,Qc],eh=s("br",null,null,-1),th={class:"row"},sh={class:"col-3"},oh=s("label",{for:""},"Posterior working area: ",-1),nh=s("br",null,null,-1),ih=s("option",{disabled:"",value:""},"Select an area",-1),rh=s("option",{value:"1"},"Private Education",-1),lh=s("option",{value:"2"},"Business",-1),ah=s("option",{value:"3"},"Own entrepreneurship",-1),dh=s("option",{value:"4"},"Government",-1),uh=s("option",{value:"5"},"Public Education",-1),ch=s("option",{value:"6"},"Social-ONG",-1),hh=s("option",{value:"7"},"In the Center",-1),fh=s("option",{value:"8"},"None of the above",-1),mh=[ih,rh,lh,ah,dh,uh,ch,hh,fh],ph={class:"col-4"},bh=s("label",{for:""},"Institution of Posterior working area: ",-1),_h=s("br",null,null,-1),$h={class:"col-5"},gh=s("label",{for:""},"Comments: ",-1),vh=s("br",null,null,-1),yh={class:"modal-footer"},wh=["disabled"];function Sh(e,t,o,n,r,l){const a=w("modalfotoperfil"),c=w("modalconfirmacion"),d=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",Vd,[s("div",Md,[s("div",Hd,[s("div",qd,[s("div",jd,[C(e.$slots,"header",{},()=>[b(" New Thesis ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",zd,[C(e.$slots,"body",{},()=>[s("div",Gd,[s("div",Yd,[Jd,Kd,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.thesisStudent.studentName=i)},null,512),[[v,e.thesisStudent.studentName]])]),s("div",Wd,[Xd,Qd,m(s("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=i=>e.thesisStudent.gender=i)},su,512),[[D,e.thesisStudent.gender]])]),s("div",ou,[nu,iu,m(s("select",{class:"form-select",onChange:t[3]||(t[3]=i=>{e.thesisStudent.run="",e.thesisStudent.passport=""}),"onUpdate:modelValue":t[4]||(t[4]=i=>e.thesisStudent.identification=i)},du,544),[[D,e.thesisStudent.identification]])]),e.thesisStudent.identification=="run"?(p(),g("div",uu,[cu,hu,m(s("input",{type:"text",class:"form-control",onInput:t[5]||(t[5]=(...i)=>l.validateInput&&l.validateInput(...i)),onKeypress:t[6]||(t[6]=(...i)=>l.isNumberOrDash&&l.isNumberOrDash(...i)),onKeyup:t[7]||(t[7]=i=>l.checkRut()),"onUpdate:modelValue":t[8]||(t[8]=i=>e.thesisStudent.run=i)},null,544),[[v,e.thesisStudent.run]])])):B("",!0),e.thesisStudent.identification=="passport"?(p(),g("div",fu,[mu,pu,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=i=>e.thesisStudent.passport=i)},null,512),[[v,e.thesisStudent.passport]])])):B("",!0)]),bu,s("div",_u,[s("div",$u,[gu,vu,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=i=>e.thesisStudent.studentMail=i)},null,512),[[v,e.thesisStudent.studentMail]])]),s("div",yu,[wu,Su,m(s("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=i=>e.thesisStudent.academicDegree=i)},Eu,512),[[D,e.thesisStudent.academicDegree]])]),s("div",Ou,[Bu,Uu,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=i=>e.thesisStudent.degreeDenomination=i)},null,512),[[v,e.thesisStudent.degreeDenomination]])])]),Ru,s("div",Nu,[s("div",Du,[Au,xu,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=i=>e.thesisStudent.thesisTitle=i)},null,512),[[v,e.thesisStudent.thesisTitle]])]),s("div",Iu,[Fu,Lu,m(s("select",{class:"form-select","onUpdate:modelValue":t[14]||(t[14]=i=>e.thesisStudent.thesisStatus=i)},qu,512),[[D,e.thesisStudent.thesisStatus]])]),e.thesisStudent.thesisStatus=="1"?(p(),g("div",ju,[s("div",zu,[Gu,s("input",{type:"file",ref:"fileInput",accept:".pdf",class:"form-control",onChange:t[15]||(t[15]=(...i)=>l.getFile&&l.getFile(...i))},null,544)])])):B("",!0),e.thesisStudent.thesisStatus=="1"?(p(),g("div",Yu,[Ju,s("a",{class:"btn btn-closed",title:"Clear Input",onClick:t[16]||(t[16]=(...i)=>l.clearFileInput&&l.clearFileInput(...i))},Wu)])):B("",!0)]),Xu,s("div",Qu,[Zu,s("div",ec,[tc,sc,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=i=>e.thesisStudent.tutorName=i)},null,512),[[v,e.thesisStudent.tutorName]])]),s("div",oc,[nc,ic,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=i=>e.thesisStudent.tutorInstitution=i)},null,512),[[v,e.thesisStudent.tutorInstitution]])])]),rc,s("div",lc,[ac,s("div",dc,[uc,cc,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[19]||(t[19]=i=>e.thesisStudent.cotutorName=i)},null,512),[[v,e.thesisStudent.cotutorName]])]),s("div",hc,[fc,mc,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[20]||(t[20]=i=>e.thesisStudent.cotutorInstitution=i)},null,512),[[v,e.thesisStudent.cotutorInstitution]])])]),pc,s("div",bc,[_c,s("div",$c,[gc,vc,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[21]||(t[21]=i=>e.thesisStudent.otherName=i)},null,512),[[v,e.thesisStudent.otherName]])]),s("div",yc,[wc,Sc,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[22]||(t[22]=i=>e.thesisStudent.otherInstitution=i)},null,512),[[v,e.thesisStudent.otherInstitution]])])]),Tc,s("div",Pc,[s("div",kc,[Cc,Ec,m(s("select",{class:"form-select","onUpdate:modelValue":t[23]||(t[23]=i=>e.thesisStudent.university=i)},Dc,512),[[D,e.thesisStudent.university]])]),s("div",Ac,[xc,Ic,m(s("select",{id:"yearSelect",class:"form-select","onUpdate:modelValue":t[24]||(t[24]=i=>e.thesisStudent.yearStart=i)},[Fc,(p(!0),g(x,null,I(e.years,i=>(p(),g("option",{key:i,value:i},_(i),9,Lc))),128))],512),[[D,e.thesisStudent.yearStart]])]),s("div",Vc,[Mc,Hc,m(s("select",{id:"yearSelect",class:"form-select","onUpdate:modelValue":t[25]||(t[25]=i=>e.thesisStudent.yearThesisEnd=i)},[qc,(p(!0),g(x,null,I(e.years,i=>(p(),g("option",{key:i,value:i},_(i),9,jc))),128))],512),[[D,e.thesisStudent.yearThesisEnd]])]),s("div",zc,[Gc,Yc,m(s("select",{class:"form-select","onUpdate:modelValue":t[26]||(t[26]=i=>e.thesisStudent.resourcesCenter=i)},Zc,512),[[D,e.thesisStudent.resourcesCenter]])])]),eh,s("div",th,[s("div",sh,[oh,nh,m(s("select",{class:"form-select","onUpdate:modelValue":t[27]||(t[27]=i=>e.thesisStudent.posteriorArea=i)},mh,512),[[D,e.thesisStudent.posteriorArea]])]),s("div",ph,[bh,_h,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[28]||(t[28]=i=>e.thesisStudent.institutionPosteriorArea=i)},null,512),[[v,e.thesisStudent.institutionPosteriorArea]])]),s("div",$h,[gh,vh,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[29]||(t[29]=i=>e.thesisStudent.comments=i)},null,512),[[v,e.thesisStudent.comments]])])])])]),s("div",yh,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[30]||(t[30]=i=>l.crearTesis()),disabled:e.buttonDisable},_(e.buttonText),9,wh)])]),e.showFotoPerfil?(p(),O(a,{key:0,onClose:t[31]||(t[31]=i=>e.showFotoPerfil=!1)})):B("",!0),U(c,{ref:"confirmation"},null,512),U(d,{ref:"alert"},null,512)])])])])]),_:3})}const Th=N(Ld,[["render",Sh]]),Ph={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({thesisStudent:{studentName:"",identification:"",passport:"",run:"",gender:"",studentMail:"",thesisTitle:"",academicDegree:"",degreeDenomination:"",tutorName:"",tutorInstitution:"",cotutorName:"",cotutorInstitution:"",otherName:"",otherInstitution:"",university:"",yearStart:"",yearThesisEnd:"",resourcesCenter:"",posteriorArea:"",institutionPosteriorArea:"",comments:""},buttonDisable:!1,id:null,errors:[],buttonText:"Edit Thesis",years:[]}),mounted(){this.calculateYears()},props:{thesisStudent1:Object},created(){this.id=this.thesisStudent1.id,this.thesisStudent.studentName=this.thesisStudent1.studentName,this.thesisStudent.identification=this.thesisStudent1.identification,this.thesisStudent1.identification=="run"?this.thesisStudent.run=this.thesisStudent1.runOrPassport:this.thesisStudent.passport=this.thesisStudent1.runOrPassport,this.thesisStudent.gender=this.thesisStudent1.gender,this.thesisStudent.studentMail=this.thesisStudent1.studentMail,this.thesisStudent.thesisTitle=this.thesisStudent1.thesisTitle,this.thesisStudent.academicDegree=this.thesisStudent1.academicDegree,this.thesisStudent.degreeDenomination=this.thesisStudent1.degreeDenomination,this.thesisStudent.tutorName=this.thesisStudent1.tutorName,this.thesisStudent.tutorInstitution=this.thesisStudent1.tutorInstitution,this.thesisStudent.cotutorName=this.thesisStudent1.cotutorName,this.thesisStudent.cotutorInstitution=this.thesisStudent1.cotutorInstitution,this.thesisStudent.otherName=this.thesisStudent1.otherName,this.thesisStudent.otherInstitution=this.thesisStudent1.otherInstitution,this.thesisStudent.university=this.thesisStudent1.university,this.thesisStudent.yearStart=this.thesisStudent1.yearStart,this.thesisStudent.yearThesisEnd=this.thesisStudent1.yearThesisEnd,this.thesisStudent.resourcesCenter=this.thesisStudent1.resourcesCenter,this.thesisStudent.posteriorArea=this.thesisStudent1.posteriorArea,this.thesisStudent.institutionPosteriorArea=this.thesisStudent1.institutionPosteriorArea,this.thesisStudent.comments=this.thesisStudent1.comments},methods:{clearFileInput(){this.$refs.fileInput.value=""},async getFile(e){this.thesisExtract=e.target.files[0]},calculateYears(){const t=new Date().getFullYear()-20;this.years=Array.from({length:21},(o,n)=>t+n)},checkRut(){if(this.thesisStudent.run!=""){this.thesisStudent.run.replace(".","");var e=this.thesisStudent.run.replace(".","");e=e.replace("-","");var t=e.slice(0,-1),o=e.slice(-1).toUpperCase();this.thesisStudent.run=t+"-"+o}},validateInput(){this.thesisStudent.run=this.thesisStudent.run.replace(/[^0-9Kk\-]/g,"").replace(/(\-)\-+/g,"$1")},isNumberOrDash(e){const t=e.which?e.which:e.keyCode;(t===45&&this.thesisStudent.run.indexOf("-")!==-1||t>31&&t<48||t>57&&t<75||t>75&&t<107||t>107&&t!==109)&&e.preventDefault()},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async editarThesis(){this.errors=[];for(const n in this.thesisStudent)(this.thesisStudent[n]===""||this.thesisStudent[n]===0)&&(this.thesisStudent.identification==""&&n=="run"||this.thesisStudent.identification==""&&n=="passport"||this.thesisStudent.identification=="run"&&n=="passport"||this.thesisStudent.identification=="passport"&&n=="run"||this.errors.push(n));if(this.thesisStudent.identification=="run"&&this.thesisStudent.run!=""){var e=this.validarRut(this.thesisStudent.run);e==!1&&this.errors.push("invalidRut")}var t="";if(this.errors.length!=0&&(this.errors.forEach(n=>{n=="studentName"?t=t+`The field Student Name is required
`:n=="invalidRut"?t=t+`The entered run is invalid
`:n=="studentMail"?t=t+`The field Student Mail is required
`:n=="thesisStatus"?t=t+`The field Thesis Status is required
`:n=="thesisTitle"?t=t+`The field Thesis Title is required
`:n=="academicDegree"?t=t+`The field Academic Degree is required
`:n=="degreeDenomination"?t=t+`The field Degree Denomination is required
`:n=="tutorName"?t=t+`The field Tutor Name is required
`:n=="tutorInstitution"?t=t+`The field Tutor Institution is required
`:n=="cotutorName"?t=t+`The field Cotutor Name is required
`:n=="cotutorInstitution"?t=t+`The field Cotutor Institution is required
`:n=="otherName"?t=t+`The field Other Name is required
`:n=="otherInstitution"?t=t+`The field Other Institution is required
`:n=="academicDegree"?t=t+`The field Academic Degree is required
`:n=="yearStart"?t=t+`The field Year when starts is required
`:n=="yearThesisEnd"?t=t+`The field Year when thesis ends is required
`:n=="resourcesCenter"?t=t+`The field Resources provided is required
`:n=="posteriorArea"?t=t+`The field Posterior working area is required
`:n=="institutionPosteriorArea"?t=t+`The field Institution posterior area is required
`:t=t+"The field "+this.capitalizeFirstLetter(n)+` is required
`}),this.toast.warning(t,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Thesis",message:"¿Are you sure you want to Edit this thesis?.",okButton:"Edit",cancelButton:"Return"})){var o="";this.thesisStudent.identification=="run"?o=this.formatoRut(this.thesisStudent.run):o=this.thesisStudent.passport;let r={idUsuario:this.userID,studentName:this.thesisStudent.studentName,runOrPassport:o,gender:this.thesisStudent.gender,studentMail:this.thesisStudent.studentMail,thesisStatus:this.thesisStudent.thesisStatus,thesisTitle:this.thesisStudent.thesisTitle,academicDegree:this.thesisStudent.academicDegree,degreeDenomination:this.thesisStudent.degreeDenomination,tutorName:this.thesisStudent.tutorName,tutorInstitution:this.thesisStudent.tutorInstitution,cotutorName:this.thesisStudent.cotutorName,cotutorInstitution:this.thesisStudent.cotutorInstitution,otherName:this.thesisStudent.otherName,otherInstitution:this.thesisStudent.otherInstitution,university:this.thesisStudent.university,yearStart:this.thesisStudent.yearStart,yearThesisEnd:this.thesisStudent.yearThesisEnd,resourcesCenter:this.thesisStudent.resourcesCenter,posteriorArea:this.thesisStudent.posteriorArea,institutionPosteriorArea:this.thesisStudent.institutionPosteriorArea,comments:this.thesisStudent.comments,thesisExtract:this.thesisExtract};k.put(`api/thesisStudents/${this.id}`,r).then(l=>{this.buttonDisable=!0,this.buttonText="Editing...",this.toast.success("Thesis edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response.status==422&&(this.errors=l.response.data.errors,this.toast.warning("There is an invalid value.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},kh={name:"modal"},Ch={class:"modal-mask"},Eh={class:"modal-wrapper"},Oh={class:"modal-container-s"},Bh={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},Uh={class:"modal-body"},Rh={class:"row"},Nh={class:"col-3"},Dh=s("label",{for:""},"Student Name: ",-1),Ah=s("br",null,null,-1),xh={class:"col-3"},Ih=s("label",{for:""},"Gender(M/F): ",-1),Fh=s("br",null,null,-1),Lh=s("option",{disabled:"",value:""},"Select a Gender",-1),Vh=s("option",{value:"M"},"Male",-1),Mh=s("option",{value:"F"},"Female",-1),Hh=[Lh,Vh,Mh],qh={class:"col-3"},jh=s("label",{for:""},"Identification: ",-1),zh=s("br",null,null,-1),Gh=s("option",{disabled:"",value:""},"Select One",-1),Yh=s("option",{value:"run"},"Run",-1),Jh=s("option",{value:"passport"},"Passport",-1),Kh=[Gh,Yh,Jh],Wh={key:0,class:"col-3"},Xh=s("label",{for:""},"Run: ",-1),Qh=s("br",null,null,-1),Zh={key:1,class:"col-3"},ef=s("label",{for:""},"Passport: ",-1),tf=s("br",null,null,-1),sf=s("br",null,null,-1),of={class:"row"},nf={class:"col-3"},rf=s("label",{for:""},"Student Mail: ",-1),lf=s("br",null,null,-1),af={class:"col-5"},df=s("label",{for:""},"Academic Degree: ",-1),uf=s("br",null,null,-1),cf=s("option",{disabled:"",value:""},"Select a degree",-1),hf=s("option",{value:"1"},"Undergraduate degree or profesional title",-1),ff=s("option",{value:"2"},"Master o equivalent",-1),mf=s("option",{value:"3"},"PhD degree",-1),pf=[cf,hf,ff,mf],bf={class:"col-4"},_f=s("label",{for:""},"Degree Denomination: ",-1),$f=s("br",null,null,-1),gf=s("br",null,null,-1),vf={class:"row"},yf={class:"col-6"},wf=s("label",{for:""},"Thesis Title: ",-1),Sf=s("br",null,null,-1),Tf=s("hr",{size:"3",class:"separador"},null,-1),Pf={class:"row"},kf=s("div",{class:"text-uppercase pb-2"},"Tutor",-1),Cf={class:"col-6"},Ef=s("label",{for:""},"Name: ",-1),Of=s("br",null,null,-1),Bf={class:"col-6"},Uf=s("label",{for:""},"Institution: ",-1),Rf=s("br",null,null,-1),Nf=s("hr",{size:"3",class:"separador"},null,-1),Df={class:"row"},Af=s("div",{class:"text-uppercase pb-2"},"Co-Tutor",-1),xf={class:"col-6"},If=s("label",{for:""},"Name: ",-1),Ff=s("br",null,null,-1),Lf={class:"col-6"},Vf=s("label",{for:""},"Institution: ",-1),Mf=s("br",null,null,-1),Hf=s("hr",{size:"3",class:"separador"},null,-1),qf={class:"row"},jf=s("div",{class:"text-uppercase pb-2"},"Other",-1),zf={class:"col-6"},Gf=s("label",{for:""},"Name: ",-1),Yf=s("br",null,null,-1),Jf={class:"col-6"},Kf=s("label",{for:""},"Institution: ",-1),Wf=s("br",null,null,-1),Xf=s("hr",{size:"3",class:"separador"},null,-1),Qf={class:"row"},Zf={class:"col-3"},em=s("label",{for:""},"University that gives the Degree: ",-1),tm=s("br",null,null,-1),sm=s("option",{disabled:"",value:""},"Select an university",-1),om=s("option",{value:"Universidad de Concepción"},"Universidad de Concepción",-1),nm=s("option",{value:"UTFSM"},"UTFSM",-1),im=s("option",{value:"Universidad de los Andes"},"Universidad de los Andes",-1),rm=s("option",{value:"Universidad Diego Portales"},"Universidad Diego Portales",-1),lm=[sm,om,nm,im,rm],am={class:"col-3"},dm=s("label",{for:""},"Year in which student starts program: ",-1),um=s("br",null,null,-1),cm=s("option",{disabled:"",value:""},"Select a year",-1),hm=["value"],fm={class:"col-3"},mm=s("label",{for:""},"Year in which the thesis ends: ",-1),pm=s("br",null,null,-1),bm=s("option",{disabled:"",value:""},"Select a year",-1),_m=["value"],$m={class:"col-3"},gm=s("label",{for:""},"Resources provided by the Center: ",-1),vm=s("br",null,null,-1),ym=s("option",{disabled:"",value:""},"Select a resource",-1),wm=s("option",{value:"1"},"Equipment",-1),Sm=s("option",{value:"2"},"Information",-1),Tm=s("option",{value:"3"},"Infrastructure",-1),Pm=s("option",{value:"4"},"Other",-1),km=[ym,wm,Sm,Tm,Pm],Cm=s("br",null,null,-1),Em={class:"row"},Om={class:"col-3"},Bm=s("label",{for:""},"Posterior working area: ",-1),Um=s("br",null,null,-1),Rm=s("option",{disabled:"",value:""},"Select an area",-1),Nm=s("option",{value:"1"},"Private Education",-1),Dm=s("option",{value:"2"},"Business",-1),Am=s("option",{value:"3"},"Own entrepreneurship",-1),xm=s("option",{value:"4"},"Government",-1),Im=s("option",{value:"5"},"Public Education",-1),Fm=s("option",{value:"6"},"Social-ONG",-1),Lm=s("option",{value:"7"},"In the Center",-1),Vm=s("option",{value:"8"},"None of the above",-1),Mm=[Rm,Nm,Dm,Am,xm,Im,Fm,Lm,Vm],Hm={class:"col-4"},qm=s("label",{for:""},"Institution of Posterior working area: ",-1),jm=s("br",null,null,-1),zm={class:"col-5"},Gm=s("label",{for:""},"Comments: ",-1),Ym=s("br",null,null,-1),Jm={class:"modal-footer"},Km=["disabled"];function Wm(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",kh,[s("div",Ch,[s("div",Eh,[s("div",Oh,[s("div",Bh,[C(e.$slots,"header",{},()=>[b(" Edit Thesis ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=d=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Uh,[C(e.$slots,"body",{},()=>[s("div",Rh,[s("div",Nh,[Dh,Ah,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=d=>e.thesisStudent.studentName=d)},null,512),[[v,e.thesisStudent.studentName]])]),s("div",xh,[Ih,Fh,m(s("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=d=>e.thesisStudent.gender=d)},Hh,512),[[D,e.thesisStudent.gender]])]),s("div",qh,[jh,zh,m(s("select",{class:"form-select",onChange:t[3]||(t[3]=d=>{e.thesisStudent.run="",e.thesisStudent.passport=""}),"onUpdate:modelValue":t[4]||(t[4]=d=>e.thesisStudent.identification=d)},Kh,544),[[D,e.thesisStudent.identification]])]),e.thesisStudent.identification=="run"?(p(),g("div",Wh,[Xh,Qh,m(s("input",{type:"text",class:"form-control",onInput:t[5]||(t[5]=(...d)=>l.validateInput&&l.validateInput(...d)),onKeypress:t[6]||(t[6]=(...d)=>l.isNumberOrDash&&l.isNumberOrDash(...d)),onKeyup:t[7]||(t[7]=d=>l.checkRut()),"onUpdate:modelValue":t[8]||(t[8]=d=>e.thesisStudent.run=d)},null,544),[[v,e.thesisStudent.run]])])):B("",!0),e.thesisStudent.identification=="passport"?(p(),g("div",Zh,[ef,tf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=d=>e.thesisStudent.passport=d)},null,512),[[v,e.thesisStudent.passport]])])):B("",!0)]),sf,s("div",of,[s("div",nf,[rf,lf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=d=>e.thesisStudent.studentMail=d)},null,512),[[v,e.thesisStudent.studentMail]])]),s("div",af,[df,uf,m(s("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=d=>e.thesisStudent.academicDegree=d)},pf,512),[[D,e.thesisStudent.academicDegree]])]),s("div",bf,[_f,$f,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=d=>e.thesisStudent.degreeDenomination=d)},null,512),[[v,e.thesisStudent.degreeDenomination]])])]),gf,s("div",vf,[s("div",yf,[wf,Sf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=d=>e.thesisStudent.thesisTitle=d)},null,512),[[v,e.thesisStudent.thesisTitle]])])]),Tf,s("div",Pf,[kf,s("div",Cf,[Ef,Of,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=d=>e.thesisStudent.tutorName=d)},null,512),[[v,e.thesisStudent.tutorName]])]),s("div",Bf,[Uf,Rf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=d=>e.thesisStudent.tutorInstitution=d)},null,512),[[v,e.thesisStudent.tutorInstitution]])])]),Nf,s("div",Df,[Af,s("div",xf,[If,Ff,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=d=>e.thesisStudent.cotutorName=d)},null,512),[[v,e.thesisStudent.cotutorName]])]),s("div",Lf,[Vf,Mf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=d=>e.thesisStudent.cotutorInstitution=d)},null,512),[[v,e.thesisStudent.cotutorInstitution]])])]),Hf,s("div",qf,[jf,s("div",zf,[Gf,Yf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=d=>e.thesisStudent.otherName=d)},null,512),[[v,e.thesisStudent.otherName]])]),s("div",Jf,[Kf,Wf,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[19]||(t[19]=d=>e.thesisStudent.otherInstitution=d)},null,512),[[v,e.thesisStudent.otherInstitution]])])]),Xf,s("div",Qf,[s("div",Zf,[em,tm,m(s("select",{class:"form-select","onUpdate:modelValue":t[20]||(t[20]=d=>e.thesisStudent.university=d)},lm,512),[[D,e.thesisStudent.university]])]),s("div",am,[dm,um,m(s("select",{id:"yearSelect",class:"form-select","onUpdate:modelValue":t[21]||(t[21]=d=>e.thesisStudent.yearStart=d)},[cm,(p(!0),g(x,null,I(e.years,d=>(p(),g("option",{key:d,value:d},_(d),9,hm))),128))],512),[[D,e.thesisStudent.yearStart]])]),s("div",fm,[mm,pm,m(s("select",{id:"yearSelect",class:"form-select","onUpdate:modelValue":t[22]||(t[22]=d=>e.thesisStudent.yearThesisEnd=d)},[bm,(p(!0),g(x,null,I(e.years,d=>(p(),g("option",{key:d,value:d},_(d),9,_m))),128))],512),[[D,e.thesisStudent.yearThesisEnd]])]),s("div",$m,[gm,vm,m(s("select",{class:"form-select","onUpdate:modelValue":t[23]||(t[23]=d=>e.thesisStudent.resourcesCenter=d)},km,512),[[D,e.thesisStudent.resourcesCenter]])])]),Cm,s("div",Em,[s("div",Om,[Bm,Um,m(s("select",{class:"form-select","onUpdate:modelValue":t[24]||(t[24]=d=>e.thesisStudent.posteriorArea=d)},Mm,512),[[D,e.thesisStudent.posteriorArea]])]),s("div",Hm,[qm,jm,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[25]||(t[25]=d=>e.thesisStudent.institutionPosteriorArea=d)},null,512),[[v,e.thesisStudent.institutionPosteriorArea]])]),s("div",zm,[Gm,Ym,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[26]||(t[26]=d=>e.thesisStudent.comments=d)},null,512),[[v,e.thesisStudent.comments]])])])])]),s("div",Jm,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue float-end",onClick:t[27]||(t[27]=d=>l.editarThesis()),disabled:e.buttonDisable},_(e.buttonText),9,Km)])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512)])])])])]),_:3})}const Xm=N(Ph,[["render",Wm]]),Qm={components:{modaleditar:Xm,modalcrear:Th,modalver:Fd,modalconfirmacion:V,modalalerta:M},mixins:[H],data(){return{thesisStudents:null,thesisStudent:null,showNewThesisStudent:!1,showDetailsThesis:!1,showEditThesisStudent:!1,thesisStudentEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getThesisStudents(this.userID)},methods:{descargarExtracto(e,t){k({url:`api/thesisDownload/${e}`,method:"GET",responseType:"arraybuffer"}).then(o=>{let n=new Blob([o.data],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=`${t}.pdf`,r.click()})},verThesis(e){this.thesisStudent=e,this.showDetailsThesis=!0},getThesisStudents(e){k.get(`api/thesisStudents/${e}`).then(t=>{this.thesisStudents=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableThesisStudents")}).catch(t=>console.log(t))},recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.thesisStudents=null,this.getThesisStudents(this.userID)):this.crearTabla("#MyTableThesisStudents")},editThesisStudent(e){this.thesisStudentEdit=e,this.showEditThesisStudent=!0},async deleteThesisStudent(e){await this.$refs.confirmation.show({title:"Delete Thesis",message:"¿Are you sure you want to delete this Thesis?.",okButton:"Delete",cancelButton:"Return"})&&k.delete(`api/thesisStudents/${e}`).then(o=>{this.toast.success("Thesis successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(o=>console.log(o))}}},Zm={class:"row mt-4 mx-4"},ep={class:"col-12"},tp={class:"card mb-4"},sp={class:"row pb-0 p-4"},op={class:"col-12"},np={class:"d-flex justify-content-end"},ip=s("i",{class:"fa-solid fa-rotate"},null,-1),rp=[ip],lp={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},ap={class:"container"},dp={class:"table-responsive p-0"},up={class:"loader-sm"},cp={class:"table align-items-center mb-0",id:"MyTableThesisStudents"},hp=s("thead",null,[s("tr",{style:{color:"black"}},[s("th",{style:{"min-width":"16px"}}),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Student Name"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Tutor Name"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Academic Degree"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"University"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions")])],-1),fp=s("td",null,null,-1),mp={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},pp={class:"text-sm mb-0"},bp={class:"text-sm mb-0"},_p={class:"text-sm mb-0"},$p={class:"text-sm mb-0"},gp={class:"text-sm mb-0"},vp={class:"align-middle text-end"},yp={class:"d-flex px-3 py-1 justify-content-center align-items-center"},wp=["onClick"],Sp=s("i",{class:"fa-solid fa-download"},null,-1),Tp=[Sp],Pp={key:1,class:"btn btn-grey btn-xs"},kp=s("i",{class:"fa-solid fa-download"},null,-1),Cp=[kp],Ep=["onClick"],Op=s("i",{class:"fa-regular fa-eye"},null,-1),Bp=[Op],Up=["onClick"],Rp=s("i",{class:"fa fa-fw fa-edit"},null,-1),Np=[Rp],Dp=["onClick"],Ap=s("i",{class:"fa fa-fw fa-trash"},null,-1),xp=[Ap],Ip=ne('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Fp(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta"),d=w("modalver"),i=w("modaleditar"),u=w("modalcrear");return p(),g("div",Zm,[s("div",ep,[s("div",tp,[s("div",sp,[s("div",op,[s("div",np,[s("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:t[0]||(t[0]=f=>r.showNewThesisStudent=!0)},"New Thesis"),b("   "),s("a",{class:"btn btn-spacing btn-search-blue",onClick:t[1]||(t[1]=f=>l.recargarTabla("General"))},rp)])])]),s("div",lp,[s("div",ap,[s("div",dp,[m(s("div",up,null,512),[[X,r.mostrarCarga]]),m(s("table",cp,[hp,s("tbody",null,[(p(!0),g(x,null,I(r.thesisStudents,f=>(p(),g("tr",{key:f.id},[fp,s("td",null,[s("p",mp,_(f.id),1)]),s("td",null,[s("p",pp,_(f.usuario.name),1)]),s("td",null,[s("p",bp,_(f.studentName),1)]),s("td",null,[s("p",_p,_(f.tutorName),1)]),s("td",null,[s("p",$p,_(f.academicDegree),1)]),s("td",null,[s("p",gp,_(f.university),1)]),s("td",vp,[s("div",yp,[f.thesisExtract!=null?(p(),g("a",{key:0,class:"btn btn-search-blue btn-xs",title:"Download Thesis Extract",onClick:E=>l.descargarExtracto(f.id,f.thesisTitle)},Tp,8,wp)):(p(),g("a",Pp,Cp)),b("   "),s("a",{class:"btn btn-success btn-xs",title:"Details",onClick:E=>l.verThesis(f)},Bp,8,Ep),b("   "),s("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:E=>l.editThesisStudent(f)},Np,8,Up),b("   "),s("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:E=>l.deleteThesisStudent(f.id)},xp,8,Dp)])])]))),128))])],512),[[X,r.mostrarTabla]]),Ip])])])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512),r.showDetailsThesis?(p(),O(d,{key:0,thesisStudent1:r.thesisStudent,onClose:t[2]||(t[2]=f=>r.showDetailsThesis=!1)},null,8,["thesisStudent1"])):B("",!0),r.showEditThesisStudent?(p(),O(i,{key:1,thesisStudent1:r.thesisStudentEdit,onClose:t[3]||(t[3]=f=>r.showEditThesisStudent=!1),onRecarga:t[4]||(t[4]=f=>l.recargarTabla("General"))},null,8,["thesisStudent1"])):B("",!0),r.showNewThesisStudent?(p(),O(u,{key:2,onClose:t[5]||(t[5]=f=>r.showNewThesisStudent=!1),onRecarga:t[6]||(t[6]=f=>l.recargarTabla("General"))})):B("",!0)])])}const Lp=N(Qm,[["render",Fp]]),Vp={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({buttonText:"Guardar Rol",buttonDisable:!1,name:"",errors:[],permisos:null,permissions:[]}),created(){this.getPermisos()},methods:{cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},getPermisos(){k.get("api/permisos").then(e=>{this.permisos=e.data}).catch(e=>console.log(e))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Rol",message:`¿Está seguro/a que desea crear el rol '${this.name}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let t={name:this.name,permission:this.permissions};k.post("api/roles",t).then(o=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Rol guardado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(o=>{o.response.status==422&&(this.errors=o.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Mp={name:"modal"},Hp={class:"modal-mask"},qp={class:"modal-wrapper"},jp={class:"modal-container-xs"},zp={class:"modal-header fw-bold",style:{color:"#444444"}},Gp={class:"modal-body"},Yp={class:"form-group"},Jp=s("label",{for:"name"},"Nombre del Rol: ",-1),Kp=s("br",null,null,-1),Wp={key:0,class:"error"},Xp=s("label",{for:""},"Permisos para este Rol: ",-1),Qp=s("br",null,null,-1),Zp={class:"form-check-label"},eb=["value"],tb={key:0,class:"error"},sb=s("br",null,null,-1),ob={class:"modal-footer"},nb=["disabled"];function ib(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta"),d=ht("has-error");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",Mp,[s("div",Hp,[s("div",qp,[s("div",jp,[s("div",zp,[C(e.$slots,"header",{},()=>[b(" Nuevo Rol ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=i=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Gp,[C(e.$slots,"body",{},()=>[s("div",Yp,[Jp,Kp,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>e.name=i)},null,512),[[d,e.errors.name],[v,e.name]]),e.errors&&e.errors.name?(p(),g("div",Wp,_(e.errors.name[0]),1)):B("",!0)]),Xp,Qp,(p(!0),g(x,null,I(e.permisos,i=>(p(),g("div",{key:i.id,class:"form-check"},[s("label",Zp,[m(s("input",{type:"checkbox",class:"form-check-input",value:i.id,"onUpdate:modelValue":t[2]||(t[2]=u=>e.permissions=u)},null,8,eb),[[A,e.permissions]]),b("  "+_(i.name),1)])]))),128)),e.errors&&e.errors.permission?(p(),g("div",tb,_(e.errors.permission[0]),1)):B("",!0),sb,s("div",ob,[C(e.$slots,"footer",{},()=>[s("button",{class:"btn btn-continue",onClick:t[3]||(t[3]=i=>l.crearRol()),disabled:e.buttonDisable},_(e.buttonText),9,nb)])])])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512)])])])])]),_:3})}const rb=N(Vp,[["render",ib]]),lb={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({buttonText:"Editar Rol",buttonDisable:!1,name:"",id:"",errors:[],permisos:[],permissions:[],permisosRol:[],revision:!1}),props:{rol:Object},created(){this.name=this.rol.name,this.id=this.rol.id,this.getPermisos(),this.getPermisosRol(this.id)},methods:{cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},compararPermisos(){this.revision==!1&&this.permisos.forEach(e=>{this.permisosRol.forEach(t=>{e.name==t&&this.permissions.push(e.id)})}),this.revision=!0},getPermisosRol(e){k.get(`api/getPermisosRol/${e}`).then(t=>{this.permisosRol=t.data,this.compararPermisos()}).catch(t=>console.log(t))},getPermisos(){k.get("api/permisos").then(e=>{this.permisos=e.data}).catch(e=>console.log(e))},async editarRol(){if(await this.$refs.confirmation.show({title:"Editar Rol",message:`¿Está seguro/a que desea editar al rol '${this.rol.name}'? Esta acción no puede ser desecha.`,okButton:"Editar",cancelButton:"Volver"})){let o={name:this.name,permission:this.permissions};var t=this.id;k.put(`api/roles/${t}`,o).then(n=>{this.buttonText="Guardando...",this.buttonDisable=!0,this.toast.success("Rol editado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response.status==422&&(this.errors=n.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},ab={name:"modal"},db={class:"modal-mask"},ub={class:"modal-wrapper"},cb={class:"modal-container-xs"},hb={class:"modal-header fw-bold",style:{color:"#444444"}},fb={class:"modal-body"},mb={class:"form-group"},pb=s("label",{for:"name"},"Nombre: ",-1),bb=s("br",null,null,-1),_b={key:0,class:"error"},$b=s("label",{for:""},"Permisos para este Rol: ",-1),gb=s("br",null,null,-1),vb={class:"form-check-label"},yb=["id","value"],wb=s("br",null,null,-1),Sb={class:"modal-footer"},Tb=["disabled"];function Pb(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta");return p(),O(G,{name:"modaleditar"},{default:j(()=>[s("div",ab,[s("div",db,[s("div",ub,[s("div",cb,[s("div",hb,[C(e.$slots,"header",{},()=>[b(" Editar Rol ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=d=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",fb,[C(e.$slots,"body",{},()=>[s("div",mb,[pb,bb,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=d=>e.name=d)},null,512),[[v,e.name]]),e.errors&&e.errors.name?(p(),g("div",_b,_(e.errors.name[0]),1)):B("",!0)]),$b,gb,(p(!0),g(x,null,I(e.permisos,d=>(p(),g("div",{key:d.id,class:"form-check"},[s("label",vb,[m(s("input",{type:"checkbox",class:"form-check-input",id:d.id,value:d.id,"onUpdate:modelValue":t[2]||(t[2]=i=>e.permissions=i)},null,8,yb),[[A,e.permissions]]),b("  "+_(d.name),1)])]))),128)),wb,s("div",Sb,[C(e.$slots,"footer",{},()=>[s("a",{class:"btn btn-continue",onClick:t[3]||(t[3]=d=>l.editarRol()),disabled:e.buttonDisable},_(e.buttonText),9,Tb)])])])])])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512)])])]),_:3})}const kb=N(lb,[["render",Pb]]),Cb={components:{modalconfirmacion:V,modalalerta:M},mixins:[H],data:()=>({buttonText:"Guardar Permiso",buttonDisable:!1,nombrePermiso:"",errors:[]}),created(){this.getPermisos()},methods:{cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},getPermisos(){k.get("api/permisos").then(e=>{this.permisos=e.data}).catch(e=>console.log(e))},async crearRol(){if(await this.$refs.confirmation.show({title:"Crear Permiso",message:`¿Está seguro/a que desea crear el permiso '${this.nombrePermiso}'? Esta acción no puede ser desecha.`,okButton:"Crear",cancelButton:"Volver"})){let t={name:this.nombrePermiso};k.post("api/permisos",t).then(o=>{this.buttonDisable=!0,this.buttonText="Guardando...",this.toast.success("Permiso guardado con éxito!",{position:"top-right",closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(o=>{o.response.status==422&&(this.errors=o.response.data.errors,this.toast.warning("Existe un valor inválido.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}))})}}}},Eb={name:"modal"},Ob={class:"modal-mask"},Bb={class:"modal-wrapper"},Ub={class:"modal-container-xs"},Rb={class:"modal-header fw-bold",style:{color:"#444444"}},Nb={class:"modal-body"},Db={class:"form-group"},Ab=s("label",{for:"name"},"Nombre del permiso: ",-1),xb=s("br",null,null,-1),Ib={key:0,class:"error"},Fb={class:"modal-footer"},Lb=["disabled"];function Vb(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta");return p(),O(G,{name:"modalcrear"},{default:j(()=>[s("div",Eb,[s("div",Ob,[s("div",Bb,[s("div",Ub,[s("div",Rb,[C(e.$slots,"header",{},()=>[b(" Nuevo Permiso ")]),s("a",{class:"btn btn-closed",onClick:t[0]||(t[0]=d=>e.$emit("close")),ref:"closeBtn"},"X",512)]),s("div",Nb,[C(e.$slots,"body",{},()=>[s("div",Db,[Ab,xb,m(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=d=>e.nombrePermiso=d)},null,512),[[v,e.nombrePermiso]])]),e.errors&&e.errors.name?(p(),g("div",Ib,_(e.errors.name[0]),1)):B("",!0)])]),s("div",Fb,[C(e.$slots,"footer",{},()=>[s("button",{class:"btn btn-continue",onClick:t[2]||(t[2]=d=>l.crearRol()),disabled:e.buttonDisable},_(e.buttonText),9,Lb)])]),U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512)])])])])]),_:3})}const Mb=N(Cb,[["render",Vb]]),Hb={components:{modalcrear2:rb,modaleditar2:kb,modalconfirmacion:V,modalalerta:M,modalpermisos:Mb},mixins:[H],data(){return{roles:null,showCrearRol:!1,showEditarRol:!1,showCrearPermiso:!1,roleditar:null,mostrarTabla:!1,mostrarCarga:!0,permisos:null,table:null}},created(){this.getRoles()},methods:{recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.roles=null,this.getRoles()):(this.table.destroy(),this.crearTabla("#MyTableRoles"))},getRoles(){k.get("api/roles").then(e=>{this.roles=e.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableRoles")}).catch(e=>console.log(e))},rolEditar(e){this.roleditar=e,this.showEditarRol=!0},async deleteRole(e,t){await this.$refs.confirmation.show({title:"Borrar Rol",message:`¿Está seguro/a que desea eliminar al rol '${t}'? Esta acción no puede ser desecha.`,okButton:"Eliminar",cancelButton:"Volver"})&&k.delete(`api/roles/${e}`).then(n=>{this.toast.success("Rol eliminado con éxito!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(n=>console.log(n))}}},qb={class:"row mt-4 mx-4"},jb={class:"col-12"},zb={class:"card mb-4"},Gb={class:"row pb-0 p-4"},Yb={class:"col-12"},Jb={class:"d-flex justify-content-end"},Kb=s("i",{class:"fa-solid fa-rotate"},null,-1),Wb=[Kb],Xb={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Qb={class:"container"},Zb={class:"table-responsive p-0"},e1={class:"loader-sm"},t1={class:"table align-items-center mb-0",id:"MyTableRoles"},s1=s("thead",null,[s("tr",{style:{color:"black"}},[s("th",{style:{"min-width":"16px"}}),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID-Rol"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Nombre"),s("th",{class:"text-uppercase text-xs font-weight-bolder"},"Acciones")])],-1),o1=s("td",null,null,-1),n1={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},i1={class:"text-sm mb-0"},r1={class:"align-middle text-end"},l1={class:"d-flex px-3 py-1 justify-content-center align-items-center"},a1=["onClick"],d1=s("i",{class:"fa fa-fw fa-edit"},null,-1),u1=[d1],c1=["onClick"],h1=s("i",{class:"fa fa-fw fa-trash"},null,-1),f1=[h1],m1=ne('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1),p1=s("div",{class:"row"},[s("div",{class:"col-4 align-left text-center float-end"}),s("div",{class:"col-4 align-left text-center float-end"}),s("div",{class:"col-4 align-left text-center float-end"})],-1);function b1(e,t,o,n,r,l){const a=w("modalconfirmacion"),c=w("modalalerta"),d=w("modaleditar2"),i=w("modalcrear2"),u=w("modalpermisos");return p(),g("div",qb,[s("div",jb,[s("div",zb,[s("div",Gb,[s("div",Yb,[s("div",Jb,[s("a",{class:"btn btn-continue",id:"show-modal1",onClick:t[0]||(t[0]=f=>r.showCrearRol=!0)},"Nuevo Rol"),b("   "),s("a",{class:"btn btn-continue",id:"show-modal1",onClick:t[1]||(t[1]=f=>r.showCrearPermiso=!0)},"Nuevo Permiso"),b("   "),s("a",{class:"btn btn-search-blue",onClick:t[2]||(t[2]=f=>l.recargarTabla("General"))},Wb)])])]),s("div",Xb,[s("div",Qb,[s("div",Zb,[m(s("div",e1,null,512),[[X,r.mostrarCarga]]),m(s("table",t1,[s1,s("tbody",null,[(p(!0),g(x,null,I(r.roles,f=>(p(),g("tr",{key:f.id},[o1,s("td",null,[s("p",n1,_(f.id),1)]),s("td",null,[s("p",i1,_(f.name),1)]),s("td",r1,[s("div",l1,[s("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:E=>l.rolEditar(f)},u1,8,a1),b("   "),s("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:E=>l.deleteRole(f.id,f.name)},f1,8,c1)])])]))),128))])],512),[[X,r.mostrarTabla]]),m1])])])]),p1,U(a,{ref:"confirmation"},null,512),U(c,{ref:"alert"},null,512),r.showEditarRol?(p(),O(d,{key:0,rol:r.roleditar,onClose:t[3]||(t[3]=f=>r.showEditarRol=!1),onRecarga:t[4]||(t[4]=f=>l.recargarTabla("General"))},null,8,["rol"])):B("",!0),r.showCrearRol?(p(),O(i,{key:1,onClose:t[5]||(t[5]=f=>r.showCrearRol=!1),onRecarga:t[6]||(t[6]=f=>l.recargarTabla("General"))})):B("",!0),r.showCrearPermiso?(p(),O(u,{key:2,onClose:t[7]||(t[7]=f=>r.showCrearPermiso=!1),onRecarga:t[8]||(t[8]=f=>l.recargarTabla("General"))})):B("",!0)])])}const _1=N(Hb,[["render",b1]]),$1={},g1={class:"row mt-4 mx-4"},v1=ne('<div class="col-12"><div class="card mb-4"><div class="row"><div class="col-10"><div class="card-header pb-0"><h6>ERROR!</h6></div></div></div><div class="card-body px-0 pt-0 pb-2" style="min-height:400px;"><div class="alert text-center"><br><br><h2>Error!</h2><p>Oops! Something went wrong.</p><br><br></div></div><p style="margin:10px;font-size:12px;">If this website should be working, please contact the company&#39;s IT area.</p></div></div>',1),y1=[v1];function w1(e,t){return p(),g("div",g1,y1)}const S1=N($1,[["render",w1]]),q=ft({});q.use(pt);q.use(mt,{transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0});q.component("dashboard-component",po);q.mount("#dashboard");q.component("admin-usuarios",Vi);q.mount("#admin-usuarios");q.component("isi-publications",Ta);q.mount("#isi-publications");q.component("thesis-students",Lp);q.mount("#thesis-students");q.component("admin-roles",_1);q.mount("#admin-roles");q.component("error-component",S1);q.mount("#error");
