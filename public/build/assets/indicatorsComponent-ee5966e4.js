import{m as v,a as n}from"./mixins-00a35343.js";import{m as x,a as y}from"./alertModal-064cb8ca.js";import{r as m,o as r,a as l,b as e,w as c,l as w,F as u,e as g,t as d,v as b,n as p,p as T}from"./index-a6b313c0.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const C={components:{modalconfirmacion:x,modalalerta:y},mixins:[v],data(){return{indicators:null,usuarioeditar:null,mostrarTabla:!1,mostrarCarga:!0,permisos:null,table:null,actualProgressReport:"",selectedProgress:"",progressNumbers:[]}},created(){this.getIndicators(),this.getProgressReport()},methods:{searchByProgressReport(){n.get(`api/getIndicators/${this.selectedProgress}`).then(t=>{console.log(t.data),this.indicators=t.data,this.recargarTabla("Search")}).catch(t=>console.log(t))},getProgressReport(){n.get("api/showProgressReport").then(t=>{this.actualProgressReport=t.data,this.selectedProgress=this.actualProgressReport,this.progressNumbers=this.createNumberArray(t.data)}).catch(t=>console.log(t))},createNumberArray(t){return Array.from({length:t},(o,h)=>h+1)},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.indicators=null,this.getIndicators()):(this.table.destroy(),this.crearTabla("#myTableIndicators"))},getIndicators(){n.get("api/getIndicators").then(t=>{this.indicators=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#myTableIndicators")}).catch(t=>console.log(t))}}},R={class:"row mt-4 mx-4"},I={class:"col-12"},k={class:"card mb-4"},N={class:"row pb-0 p-4"},S={class:"col-4"},B={class:"d-flex align-items-center"},V=e("option",{disabled:"",value:""},"Select a progress report ",-1),A=["value"],F=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),j=[F],D={class:"col-8"},G={class:"d-flex justify-content-end"},L=e("i",{class:"fa-solid fa-rotate"},null,-1),E=[L],H={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},M={class:"container"},U={class:"table-responsive p-0"},q={class:"loader-sm"},z={class:"table align-items-center mb-0",id:"myTableIndicators"},J=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Title"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Count")])],-1),K=e("td",null,null,-1),O={class:"text-sm font-weight-bolder mb-0"},Q={class:"text-sm font-weight-bolder mb-0"},W=T('<div class="row"><div class="col-3"><label style="font-weight:500;">These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function X(t,o,h,Y,a,i){const _=m("modalconfirmacion"),f=m("modalalerta");return r(),l("div",R,[e("div",I,[e("div",k,[e("div",N,[e("div",S,[e("div",B,[c(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>a.selectedProgress=s),class:"form-select form-select-sm me-2",style:{"min-width":"100px","max-width":"200px"}},[V,(r(!0),l(u,null,g(a.progressNumbers,s=>(r(),l("option",{value:s},d(s),9,A))),256))],512),[[w,a.selectedProgress]]),e("button",{class:"btn btn-spacing btn-search-blue mt-2",onClick:o[1]||(o[1]=(...s)=>i.searchByProgressReport&&i.searchByProgressReport(...s))},j)])]),e("div",D,[e("div",G,[e("a",{class:"btn btn-spacing btn-search-blue",onClick:o[2]||(o[2]=s=>i.recargarTabla("General"))},E)])])]),e("div",H,[e("div",M,[e("div",U,[c(e("div",q,null,512),[[b,a.mostrarCarga]]),c(e("table",z,[J,e("tbody",null,[(r(!0),l(u,null,g(a.indicators,s=>(r(),l("tr",{key:s.name},[K,e("td",null,[e("p",O,d(s.name),1)]),e("td",null,[e("p",Q,d(s.value),1)])]))),128))])],512),[[b,a.mostrarTabla]]),W])])])]),p(_,{ref:"confirmation"},null,512),p(f,{ref:"alert"},null,512)])])}const oe=P(C,[["render",X]]);export{oe as default};
