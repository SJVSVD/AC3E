import{m as B,a as y}from"./mixins-00a35343.js";import{m as L}from"./detailsScCollaborationsModal-f64e3cec.js";import{m as S,a as P}from"./alertModal-064cb8ca.js";import{m as N,s as U}from"./multiselect-040cdaf8.js";import{r as v,o as c,h as D,i as F,b as e,j as w,g as O,t as C,a as d,w as h,F as T,e as E,l as k,f as _,n as $,k as m,m as I,T as A,v as H,p as M}from"./index-a6b313c0.js";/* empty css                                                         */import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const q={components:{modalProgressYear:N,Multiselect:U,modalconfirmacion:S,modalalerta:P},mixins:[B],data:()=>({scCollaboration:{activityName:null,researcherInvolved:null,institutionCollaborates:"",countryOrigin:"",cityOrigin:"",countryDestination:"",cityDestination:"",beginningDate:"",endingDate:"",nameOfExternalResearcher:"",studentOrResearcher:"",collaborationStay:"",comments:"",progressReport:""},other:"",other2:"",draft:!1,showModalProgress:!1,researchers:"",researchers2:"",idResearcher:"",activityNames:["Visit in Chile (include students)","Visit abroad (include students)","Research Stay (Pasantia de investigacion) (include students)","Participation in R&D Projects directed by other Researcher (external)","Participation in R&D Projects directed by an AC3E Researcher","Other"],buttonDisable:!1,errors:[],buttonText:"Save Collaboration"}),mounted(){this.getUsuarios(),this.getUsuarios2(),this.getProgressReport()},methods:{handleFormSubmit1(t){this.scCollaboration.progressReport=t},getProgressReport(){y.get("api/showProgressReport").then(t=>{this.scCollaboration.progressReport=t.data}).catch(t=>console.log(t))},getUsuarios(){y.get("api/researchers").then(t=>{this.researchers=t.data}).catch(t=>console.log(t))},getUsuarios2(){y.get("api/usuarios").then(t=>{this.researchers2=t.data}).catch(t=>console.log(t))},clearFileInput(){this.$refs.fileInput.value=""},async getFile(t){this.participationSc.file=t.target.files[0]},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Save draft",message:"¿Are you sure you want to save this Sc Collaboration as a draft? this action cannot be undone.",okButton:"Save",cancelButton:"Return"})){var o="";this.scCollaboration.researcherInvolved!==null&&this.scCollaboration.researcherInvolved.length!==0&&this.scCollaboration.researcherInvolved.forEach((n,b)=>{o+=n.name,b===this.scCollaboration.researcherInvolved.length-1?o+=".":o+=", "});var f="",i=0,a="";this.scCollaboration.activityName!==null&&this.scCollaboration.activityName.length!==0&&this.scCollaboration.activityName.forEach((n,b)=>{a+=n.name,b===this.scCollaboration.activityName.length-1?a+=".":a+=", "}),this.scCollaboration.collaborationStay=="Other"?(f=this.other2,i=1):f=this.scCollaboration.collaborationStay;var u="";this.idResearcher!=""?u=this.idResearcher:u=this.userID;let g={idUsuario:u,status:"Draft",moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:o,studentOrResearcher:this.scCollaboration.studentOrResearcher,activityName:a,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:f,otherStay:i,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};y.post("api/scCollaborations",g,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.toast.success("Draft saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response?n.response.status===422?this.toast.warning(`Validation error: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},async createCollaboration(){this.errors=[];const t=["comments"];for(const r in this.scCollaboration)!t.includes(r)&&(this.scCollaboration[r]===""||this.scCollaboration[r]===0||this.scCollaboration[r]==null)&&this.errors.push(r);this.scCollaboration.collaborationStay=="Other"&&this.other2==""&&this.errors.push("other2");let o={status:"Finished",idUsuario:b,moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:a,studentOrResearcher:this.scCollaboration.studentOrResearcher,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:u,otherStay:g,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};var f=await y.post("../api/verifyCollaboration",o).then((function(r){return r.data}).bind(this)).catch(function(r){console.log(r)});f>0&&this.errors.push("duplicated");var i="";if(this.errors.length!=0&&(this.errors.forEach(r=>{r=="activityName"?i=i+`The field Activity Name is required
`:r=="researcherInvolved"?i=i+`The field Researcher Involved is required
`:r=="institutionCollaborates"?i=i+`The field Institution which collaborates is required
`:r=="countryOrigin"?i=i+`The field Country Origin is required
`:r=="cityOrigin"?i=i+`The field City Origin is required
`:r=="countryDestination"?i=i+`The field Country Destination is required
`:r=="cityDestination"?i=i+`The field City Destination is required
`:r=="beginningDate"?i=i+`The field Beginning Date is required
`:r=="endingDate"?i=i+`The field Ending Date is required
`:r=="progressReport"?i=i+`The field Progress Report line is required
`:r=="other"?i=i+`The field Other Activity is required
`:r=="other2"?i=i+`The field Other Stay is required
`:r=="duplicated"?i=i+`There is already a post with the same data, please try again.
`:i=i+"The field "+this.capitalizeFirstLetter(r)+` is required
`}),this.toast.warning(i,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Save Collaboration",message:"¿Are you sure you want to save this Sc Collaboration?.",okButton:"Save",cancelButton:"Return"})){var a="";this.scCollaboration.researcherInvolved!==null&&this.scCollaboration.researcherInvolved.length!==0&&this.scCollaboration.researcherInvolved.forEach((l,p)=>{a+=l.name,p===this.scCollaboration.researcherInvolved.length-1?a+=".":a+=", "});var u="",g=0,n="";this.scCollaboration.activityName!==null&&this.scCollaboration.activityName.length!==0&&this.scCollaboration.activityName.forEach((l,p)=>{n+=l.name,p===this.scCollaboration.activityName.length-1?n+=".":n+=", "}),this.scCollaboration.collaborationStay=="Other"?(u=this.other2,g=1):u=this.scCollaboration.collaborationStay;var b="";this.idResearcher!=""?b=this.idResearcher:b=this.userID;let s={status:"Finished",idUsuario:b,moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:a,studentOrResearcher:this.scCollaboration.studentOrResearcher,activityName:n,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:u,otherStay:g,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};console.log(s),y.post("api/scCollaborations",s,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{this.toast.success("Collaboration saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(l=>{l.response?l.response.status===422?this.toast.warning(`Validation error: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):l.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${l.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},x={name:"modal"},j={class:"modal-mask"},Y={class:"modal-wrapper"},z={class:"modal-container-xl"},G={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},W={for:""},X=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),J=[X],K={key:0,class:"col-5 m-0"},Q={class:"fw-normal",style:{"font-size":"14px"}},Z=e("option",{disabled:"",value:""},"Select a researcher",-1),ee=["value"],te={class:"modal-body"},oe={class:"row"},se={class:"col-md-6"},ae=e("label",{for:""},"AC3E researcher involved:",-1),re=e("label",{for:"",style:{color:"orange"}},"*",-1),le={class:"col-md-3"},ie=e("label",{for:""},"Collaboration Stay:",-1),ne=e("label",{for:"",style:{color:"orange"}},"*",-1),ce=e("option",{disabled:"",value:""},"Select a type",-1),ue=e("option",{value:"Short Visit (Up to two weeks)"},"Short Visit (Up to two weeks)",-1),de=e("option",{value:"Long Visit (More than two weeks)"},"Long Visit (More than two weeks)",-1),he=e("option",{value:"Other"},"Other",-1),be=[ce,ue,de,he],ge={key:0,class:"col-md-3"},me=e("label",{for:""},"Other Stay:",-1),fe=e("label",{for:"",style:{color:"orange"}},"*",-1),pe=e("br",null,null,-1),Ce=e("br",null,null,-1),ye={class:"row"},ve={class:"col-md-6"},_e=e("label",{for:""},"Activity Name:",-1),Oe=e("label",{for:"",style:{color:"orange"}},"*",-1),$e={class:"col-md-6"},De=e("label",{for:""},"Institution which the center collaborates:",-1),we=e("label",{for:"",style:{color:"orange"}},"*",-1),ke=e("br",null,null,-1),Re=e("br",null,null,-1),Be={class:"row"},Se={class:"col-md-3"},Pe={key:0,for:""},Te={key:1,for:""},Ee=e("label",{for:"",style:{color:"orange"}},"*",-1),Ve=e("br",null,null,-1),He={class:"col-md-3"},Ne=e("label",{for:""},"Student or Researcher:",-1),Ue=e("label",{for:"",style:{color:"orange"}},"*",-1),Fe=e("br",null,null,-1),Ie=e("option",{disabled:"",value:""},"Select a type",-1),Ae=e("option",{value:"Student"},"Student",-1),Le=e("option",{value:"Researcher"},"Researcher",-1),Me=[Ie,Ae,Le],qe={class:"col-md-3"},xe=e("label",{for:""},"Beginning Date:",-1),je=e("label",{for:"",style:{color:"orange"}},"*",-1),Ye=e("br",null,null,-1),ze={class:"col-md-3"},Ge=e("label",{for:""},"Ending Date:",-1),We=e("label",{for:"",style:{color:"orange"}},"*",-1),Xe=e("br",null,null,-1),Je=e("br",null,null,-1),Ke={class:"row"},Qe={class:"col-md-3"},Ze=e("label",{for:""},"Country Origin:",-1),et=e("label",{for:"",style:{color:"orange"}},"*",-1),tt=e("br",null,null,-1),ot={class:"col-md-3"},st=e("label",{for:""},"City Origin:",-1),at=e("label",{for:"",style:{color:"orange"}},"*",-1),rt=e("br",null,null,-1),lt={class:"col-md-3"},it=e("label",{for:""},"Country Destination:",-1),nt=e("label",{for:"",style:{color:"orange"}},"*",-1),ct=e("br",null,null,-1),ut={class:"col-md-3"},dt=e("label",{for:""},"City Destination:",-1),ht=e("label",{for:"",style:{color:"orange"}},"*",-1),bt=e("br",null,null,-1),gt=e("br",null,null,-1),mt={class:"row"},ft={class:"col-md-6"},pt=e("label",{for:""},"Comments:",-1),Ct=e("br",null,null,-1),yt={class:"modal-footer"},vt={class:"form-check-label"},_t=["disabled"],Ot=["disabled"];function $t(t,o,f,i,a,u){const g=v("Multiselect"),n=v("modalconfirmacion"),b=v("modalalerta"),r=v("modalProgressYear");return c(),D(A,{name:"modalcrear"},{default:F(()=>[e("div",x,[e("div",j,[e("div",Y,[e("div",z,[e("div",G,[w(t.$slots,"header",{},()=>[O(" New Sc Collaboration ")]),e("label",W,[O("Progress year: "+C(t.scCollaboration.progressReport)+"    ",1),e("a",{class:"btn",onClick:o[0]||(o[0]=s=>t.showModalProgress=!0)},J)]),t.is("Administrator")?(c(),d("label",K,[O(" Researcher: "),e("label",Q,[h(e("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.idResearcher=s)},[Z,(c(!0),d(T,null,E(t.researchers2,s=>(c(),d("option",{key:s.id,value:s.id},C(s.name),9,ee))),128))],512),[[k,t.idResearcher]])])])):_("",!0),e("a",{class:"btn btn-closed",onClick:o[2]||(o[2]=s=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",te,[w(t.$slots,"body",{},()=>[e("div",oe,[e("div",se,[ae,re,$(g,{placeholder:"Select the participants",modelValue:t.scCollaboration.researcherInvolved,"onUpdate:modelValue":o[3]||(o[3]=s=>t.scCollaboration.researcherInvolved=s),searchable:!0,"close-on-select":!1,createTag:!0,options:t.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),e("div",le,[ie,ne,h(e("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=s=>t.scCollaboration.collaborationStay=s)},be,512),[[k,t.scCollaboration.collaborationStay]])]),t.scCollaboration.collaborationStay=="Other"?(c(),d("div",ge,[me,fe,pe,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.other2=s)},null,512),[[m,t.other2]])])):_("",!0)]),Ce,e("div",ye,[e("div",ve,[_e,Oe,$(g,{placeholder:"Select the options",modelValue:t.scCollaboration.activityName,"onUpdate:modelValue":o[6]||(o[6]=s=>t.scCollaboration.activityName=s),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:t.activityNames,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),e("div",$e,[De,we,ke,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=s=>t.scCollaboration.institutionCollaborates=s)},null,512),[[m,t.scCollaboration.institutionCollaborates]])])]),Re,e("div",Be,[e("div",Se,[t.scCollaboration.studentOrResearcher=="Researcher"?(c(),d("label",Pe,"Name of external researcher:")):(c(),d("label",Te,"Name of external person:")),Ee,Ve,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=s=>t.scCollaboration.nameOfExternalResearcher=s)},null,512),[[m,t.scCollaboration.nameOfExternalResearcher]])]),e("div",He,[Ne,Ue,Fe,h(e("select",{class:"form-select","onUpdate:modelValue":o[9]||(o[9]=s=>t.scCollaboration.studentOrResearcher=s)},Me,512),[[k,t.scCollaboration.studentOrResearcher]])]),e("div",qe,[xe,je,Ye,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=s=>t.scCollaboration.beginningDate=s)},null,512),[[m,t.scCollaboration.beginningDate]])]),e("div",ze,[Ge,We,Xe,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=s=>t.scCollaboration.endingDate=s)},null,512),[[m,t.scCollaboration.endingDate]])])]),Je,e("div",Ke,[e("div",Qe,[Ze,et,tt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=s=>t.scCollaboration.countryOrigin=s)},null,512),[[m,t.scCollaboration.countryOrigin]])]),e("div",ot,[st,at,rt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=s=>t.scCollaboration.cityOrigin=s)},null,512),[[m,t.scCollaboration.cityOrigin]])]),e("div",lt,[it,nt,ct,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=s=>t.scCollaboration.countryDestination=s)},null,512),[[m,t.scCollaboration.countryDestination]])]),e("div",ut,[dt,ht,bt,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>t.scCollaboration.cityDestination=s)},null,512),[[m,t.scCollaboration.cityDestination]])])]),gt,e("div",mt,[e("div",ft,[pt,Ct,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=s=>t.scCollaboration.comments=s)},null,512),[[m,t.scCollaboration.comments]])])])])]),e("div",yt,[w(t.$slots,"footer",{},()=>[e("label",vt,[h(e("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":o[17]||(o[17]=s=>t.draft=s)},null,512),[[I,t.draft]]),O(" Save as a draft")]),t.draft==!1?(c(),d("a",{key:0,class:"btn btn-continue float-end",onClick:o[18]||(o[18]=s=>u.createCollaboration()),disabled:t.buttonDisable},C(t.buttonText),9,_t)):(c(),d("a",{key:1,class:"btn btn-continue float-end",onClick:o[19]||(o[19]=s=>u.guardarBorrador()),disabled:t.buttonDisable}," Save draft ",8,Ot))])]),$(n,{ref:"confirmation"},null,512),$(b,{ref:"alert"},null,512),t.showModalProgress?(c(),D(r,{key:0,progressYear:t.scCollaboration.progressReport,onClose:o[20]||(o[20]=s=>t.showModalProgress=!1),onSubmit:u.handleFormSubmit1},null,8,["progressYear","onSubmit"])):_("",!0)])])])])]),_:3})}const Dt=V(q,[["render",$t]]),wt={components:{modalProgressYear:N,Multiselect:U,modalconfirmacion:S,modalalerta:P},mixins:[B],data:()=>({scCollaboration:{activityName:null,researcherInvolved:null,institutionCollaborates:"",countryOrigin:"",cityOrigin:"",countryDestination:"",cityDestination:"",beginningDate:"",endingDate:"",progressReport:""},id:"",other:"",draft:!1,showModalProgress:!1,researchers:"",idResearcher:"",researchers2:[],buttonDisable:!1,activityNames:["Visit in Chile (include students)","Visit abroad (include students)","Research Stay (Pasantia de investigacion) (include students)","Participation in R&D Projects directed by other Researcher (external)","Participation in R&D Projects directed by an AC3E Researcher","Other"],errors:[],buttonText:"Edit Collaboration"}),mounted(){this.getUsuarios(),this.getUsuarios2()},props:{collaboration1:Object},created(){if(this.id=this.collaboration1.id,this.idResearcher=this.collaboration1.idUsuario,this.scCollaboration.institutionCollaborates=this.collaboration1.institutionCollaborates,this.scCollaboration.countryOrigin=this.collaboration1.countryOrigin,this.scCollaboration.cityOrigin=this.collaboration1.cityOrigin,this.scCollaboration.countryDestination=this.collaboration1.countryDestination,this.scCollaboration.cityDestination=this.collaboration1.cityDestination,this.scCollaboration.beginningDate=this.collaboration1.beginningDate,this.scCollaboration.endingDate=this.collaboration1.endingDate,this.scCollaboration.nameOfExternalResearcher=this.collaboration1.nameOfExternalResearcher,this.scCollaboration.comments=this.collaboration1.comments,this.scCollaboration.progressReport=this.collaboration1.progressReport,this.scCollaboration.studentOrResearcher=this.collaboration1.studentOrResearcher,this.collaboration1.researcherInvolved!=null){const t=this.collaboration1.researcherInvolved.split(",");this.scCollaboration.researcherInvolved=t.map((o,f)=>(o=o.trim(),o.endsWith(".")&&(o=o.slice(0,-1)),{value:o,name:o}))}if(this.collaboration1.activityName!=null){const t=this.collaboration1.activityName.split(",");this.scCollaboration.activityName=t.map((o,f)=>(o=o.trim(),o.endsWith(".")&&(o=o.slice(0,-1)),{value:o,name:o}))}this.collaboration1.otherStay==1?(this.scCollaboration.collaborationStay="Other",this.other2=this.collaboration1.collaborationStay):this.scCollaboration.collaborationStay=this.collaboration1.collaborationStay},methods:{getUsuarios2(){y.get("api/usuarios").then(t=>{this.researchers2=t.data}).catch(t=>console.log(t))},handleFormSubmit1(t){this.scCollaboration.progressReport=t},getUsuarios(){y.get("api/researchers").then(t=>{this.researchers=t.data}).catch(t=>console.log(t))},clearFileInput(){this.$refs.fileInput.value=""},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Edit draft",message:"¿Are you sure you want to edit this Sc Collaboration as a draft? this action cannot be undone.",okButton:"Edit",cancelButton:"Return"})){var o="";this.scCollaboration.researcherInvolved!==null&&this.scCollaboration.researcherInvolved.length!==0&&this.scCollaboration.researcherInvolved.forEach((n,b)=>{o+=n.name,b===this.scCollaboration.researcherInvolved.length-1?o+=".":o+=", "});var f="",i=0,a="";this.scCollaboration.activityName!==null&&this.scCollaboration.activityName.length!==0&&this.scCollaboration.activityName.forEach((n,b)=>{a+=n.name,b===this.scCollaboration.activityName.length-1?a+=".":a+=", "}),console.log(a),this.scCollaboration.collaborationStay=="Other"?(f=this.other2,i=1):f=this.scCollaboration.collaborationStay;var u="";this.idResearcher!=""?u=this.idResearcher:u=this.userID;let g={idUsuario:u,status:"Draft",moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:o,studentOrResearcher:this.scCollaboration.studentOrResearcher,activityName:a,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfAC3EMember:this.scCollaboration.nameOfAC3EMember,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:f,otherStay:i,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};y.put(`api/scCollaborations/${this.id}`,g).then(n=>{this.toast.success("Draft edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(n=>{n.response?n.response.status===422?this.toast.warning(`Validation error: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):n.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${n.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},cerrarModal(){const t=this.$refs.closeBtn;this.$emit("recarga"),t.click()},capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},async createCollaboration(){this.errors=[];const t=["comments"];for(const r in this.scCollaboration)!t.includes(r)&&(this.scCollaboration[r]===""||this.scCollaboration[r]===0||this.scCollaboration[r]==null)&&this.errors.push(r);var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID,this.scCollaboration.collaborationStay=="Other"&&this.other2==""&&this.errors.push("other2");let f={id:this.id,idUsuario:o,moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:u,studentOrResearcher:this.scCollaboration.studentOrResearcher,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfAC3EMember:this.scCollaboration.nameOfAC3EMember,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:g,otherStay:n,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};var i=await y.post("../api/verifyCollaboration",f).then((function(r){return r.data}).bind(this)).catch(function(r){console.log(r)});i>0&&this.errors.push("duplicated");var a="";if(this.errors.length!=0&&(this.errors.forEach(r=>{r=="activityName"?a=a+`The field Activity Name is required
`:r=="researcherInvolved"?a=a+`The field Researcher Involved is required
`:r=="institutionCollaborates"?a=a+`The field Institution which collaborates is required
`:r=="countryOrigin"?a=a+`The field Country Origin is required
`:r=="cityOrigin"?a=a+`The field City Origin is required
`:r=="countryDestination"?a=a+`The field Country Destination is required
`:r=="cityDestination"?a=a+`The field City Destination is required
`:r=="beginningDate"?a=a+`The field Beginning Date is required
`:r=="endingDate"?a=a+`The field Ending Date is required
`:r=="progressReport"?a=a+`The field Progress Report line is required
`:r=="other"?a=a+`The field Other Activity is required
`:r=="other2"?a=a+`The field Other Stay is required
`:r=="duplicated"?a=a+`There is already a post with the same data, please try again.
`:a=a+"The field "+this.capitalizeFirstLetter(r)+` is required
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Collaboration",message:"¿Are you sure you want to edit this Sc Collaboration?.",okButton:"Edit",cancelButton:"Return"})){var u="";this.scCollaboration.researcherInvolved!==null&&this.scCollaboration.researcherInvolved.length!==0&&this.scCollaboration.researcherInvolved.forEach((p,R)=>{u+=p.name,R===this.scCollaboration.researcherInvolved.length-1?u+=".":u+=", "});var g="",n=0,b="";this.scCollaboration.activityName!==null&&this.scCollaboration.activityName.length!==0&&this.scCollaboration.activityName.forEach((p,R)=>{b+=p.name,R===this.scCollaboration.activityName.length-1?b+=".":b+=", "}),this.scCollaboration.collaborationStay=="Other"?(g=this.other2,n=1):g=this.scCollaboration.collaborationStay;var o="";this.idResearcher!=""?o=this.idResearcher:o=this.userID;let l={idUsuario:o,status:"Finished",moduleType:0,institutionCollaborates:this.scCollaboration.institutionCollaborates,researcherInvolved:u,studentOrResearcher:this.scCollaboration.studentOrResearcher,activityName:b,countryOrigin:this.scCollaboration.countryOrigin,cityOrigin:this.scCollaboration.cityOrigin,countryDestination:this.scCollaboration.countryDestination,cityDestination:this.scCollaboration.cityDestination,beginningDate:this.scCollaboration.beginningDate,endingDate:this.scCollaboration.endingDate,nameOfAC3EMember:this.scCollaboration.nameOfAC3EMember,nameOfExternalResearcher:this.scCollaboration.nameOfExternalResearcher,collaborationStay:g,otherStay:n,comments:this.scCollaboration.comments,progressReport:this.scCollaboration.progressReport};console.log(l),y.put(`api/scCollaborations/${this.id}`,l).then(p=>{this.toast.success("Collaboration edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(p=>{p.response?p.response.status===422?this.toast.warning(`Validation error: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},kt={name:"modal"},Rt={class:"modal-mask"},Bt={class:"modal-wrapper"},St={class:"modal-container-xl"},Pt={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},Tt={for:""},Et=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),Vt=[Et],Ht={key:0,class:"col-5 m-0"},Nt={class:"fw-normal",style:{"font-size":"14px"}},Ut=e("option",{disabled:"",value:""},"Select a researcher",-1),Ft=["value"],It={class:"modal-body"},At={class:"row"},Lt={class:"col-md-6"},Mt=e("label",{for:""},"AC3E researcher involved:",-1),qt=e("label",{for:"",style:{color:"orange"}},"*",-1),xt={class:"col-md-3"},jt=e("label",{for:""},"Collaboration Stay:",-1),Yt=e("label",{for:"",style:{color:"orange"}},"*",-1),zt=e("option",{disabled:"",value:null},"Select a type",-1),Gt=e("option",{value:"Short Visit (up to two weeks)"},"Short Visit (Up to two weeks)",-1),Wt=e("option",{value:"Long Visit (more than two weeks)"},"Long Visit (More than two weeks)",-1),Xt=e("option",{value:"Other"},"Other",-1),Jt=[zt,Gt,Wt,Xt],Kt={key:0,class:"col-md-3"},Qt=e("label",{for:""},"Other Stay:",-1),Zt=e("label",{for:"",style:{color:"orange"}},"*",-1),eo=e("br",null,null,-1),to=e("br",null,null,-1),oo={class:"row"},so={class:"col-md-6"},ao=e("label",{for:""},"Activity Name:",-1),ro=e("label",{for:"",style:{color:"orange"}},"*",-1),lo={class:"col-md-6"},io=e("label",{for:""},"Institution which the center collaborates:",-1),no=e("label",{for:"",style:{color:"orange"}},"*",-1),co=e("br",null,null,-1),uo=e("br",null,null,-1),ho={class:"row"},bo={class:"col-md-3"},go={key:0,for:""},mo={key:1,for:""},fo=e("label",{for:"",style:{color:"orange"}},"*",-1),po=e("br",null,null,-1),Co={class:"col-md-3"},yo=e("label",{for:""},"Student or Researcher:",-1),vo=e("label",{for:"",style:{color:"orange"}},"*",-1),_o=e("br",null,null,-1),Oo=e("option",{disabled:"",value:null},"Select a type",-1),$o=e("option",{value:"Student"},"Student",-1),Do=e("option",{value:"Researcher"},"Researcher",-1),wo=[Oo,$o,Do],ko={class:"col-md-3"},Ro=e("label",{for:""},"Beginning Date:",-1),Bo=e("label",{for:"",style:{color:"orange"}},"*",-1),So=e("br",null,null,-1),Po={class:"col-md-3"},To=e("label",{for:""},"Ending Date:",-1),Eo=e("label",{for:"",style:{color:"orange"}},"*",-1),Vo=e("br",null,null,-1),Ho=e("br",null,null,-1),No={class:"row"},Uo={class:"col-md-3"},Fo=e("label",{for:""},"Country Origin:",-1),Io=e("label",{for:"",style:{color:"orange"}},"*",-1),Ao=e("br",null,null,-1),Lo={class:"col-md-3"},Mo=e("label",{for:""},"City Origin:",-1),qo=e("label",{for:"",style:{color:"orange"}},"*",-1),xo=e("br",null,null,-1),jo={class:"col-md-3"},Yo=e("label",{for:""},"Country Destination:",-1),zo=e("label",{for:"",style:{color:"orange"}},"*",-1),Go=e("br",null,null,-1),Wo={class:"col-md-3"},Xo=e("label",{for:""},"City Destination:",-1),Jo=e("label",{for:"",style:{color:"orange"}},"*",-1),Ko=e("br",null,null,-1),Qo=e("br",null,null,-1),Zo={class:"row"},es={class:"col-md-6"},ts=e("label",{for:""},"Comments:",-1),os=e("br",null,null,-1),ss={class:"modal-footer"},as={class:"form-check-label"},rs=["disabled"],ls=["disabled"];function is(t,o,f,i,a,u){const g=v("Multiselect"),n=v("modalconfirmacion"),b=v("modalalerta"),r=v("modalProgressYear");return c(),D(A,{name:"modalcrear"},{default:F(()=>[e("div",kt,[e("div",Rt,[e("div",Bt,[e("div",St,[e("div",Pt,[w(t.$slots,"header",{},()=>[O(" Edit Sc Collaboration ")]),e("label",Tt,[O("Progress year: "+C(t.scCollaboration.progressReport)+"    ",1),e("a",{class:"btn",onClick:o[0]||(o[0]=s=>t.showModalProgress=!0)},Vt)]),t.is("Administrator")?(c(),d("label",Ht,[O(" Researcher: "),e("label",Nt,[h(e("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.idResearcher=s)},[Ut,(c(!0),d(T,null,E(t.researchers2,s=>(c(),d("option",{key:s.id,value:s.id},C(s.name),9,Ft))),128))],512),[[k,t.idResearcher]])])])):_("",!0),e("a",{class:"btn btn-closed",onClick:o[2]||(o[2]=s=>t.$emit("close")),ref:"closeBtn"},"X",512)]),e("div",It,[w(t.$slots,"body",{},()=>[e("div",At,[e("div",Lt,[Mt,qt,$(g,{placeholder:"Select the participants",modelValue:t.scCollaboration.researcherInvolved,"onUpdate:modelValue":o[3]||(o[3]=s=>t.scCollaboration.researcherInvolved=s),searchable:!0,"close-on-select":!1,createTag:!0,options:t.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])]),e("div",xt,[jt,Yt,h(e("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=s=>t.scCollaboration.collaborationStay=s)},Jt,512),[[k,t.scCollaboration.collaborationStay]])]),t.scCollaboration.collaborationStay=="Other"?(c(),d("div",Kt,[Qt,Zt,eo,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.other2=s)},null,512),[[m,t.other2]])])):_("",!0)]),to,e("div",oo,[e("div",so,[ao,ro,$(g,{placeholder:"Select the options",modelValue:t.scCollaboration.activityName,"onUpdate:modelValue":o[6]||(o[6]=s=>t.scCollaboration.activityName=s),limit:"8",searchable:!0,"close-on-select":!1,createTag:!0,options:t.activityNames,mode:"tags",label:"name",trackBy:"name",object:!0},null,8,["modelValue","options"])]),e("div",lo,[io,no,co,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=s=>t.scCollaboration.institutionCollaborates=s)},null,512),[[m,t.scCollaboration.institutionCollaborates]])])]),uo,e("div",ho,[e("div",bo,[t.scCollaboration.studentOrResearcher=="Researcher"?(c(),d("label",go,"Name of external researcher:")):(c(),d("label",mo,"Name of external person:")),fo,po,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=s=>t.scCollaboration.nameOfExternalResearcher=s)},null,512),[[m,t.scCollaboration.nameOfExternalResearcher]])]),e("div",Co,[yo,vo,_o,h(e("select",{class:"form-select","onUpdate:modelValue":o[9]||(o[9]=s=>t.scCollaboration.studentOrResearcher=s)},wo,512),[[k,t.scCollaboration.studentOrResearcher]])]),e("div",ko,[Ro,Bo,So,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=s=>t.scCollaboration.beginningDate=s)},null,512),[[m,t.scCollaboration.beginningDate]])]),e("div",Po,[To,Eo,Vo,h(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=s=>t.scCollaboration.endingDate=s)},null,512),[[m,t.scCollaboration.endingDate]])])]),Ho,e("div",No,[e("div",Uo,[Fo,Io,Ao,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=s=>t.scCollaboration.countryOrigin=s)},null,512),[[m,t.scCollaboration.countryOrigin]])]),e("div",Lo,[Mo,qo,xo,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=s=>t.scCollaboration.cityOrigin=s)},null,512),[[m,t.scCollaboration.cityOrigin]])]),e("div",jo,[Yo,zo,Go,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=s=>t.scCollaboration.countryDestination=s)},null,512),[[m,t.scCollaboration.countryDestination]])]),e("div",Wo,[Xo,Jo,Ko,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>t.scCollaboration.cityDestination=s)},null,512),[[m,t.scCollaboration.cityDestination]])])]),Qo,e("div",Zo,[e("div",es,[ts,os,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=s=>t.scCollaboration.comments=s)},null,512),[[m,t.scCollaboration.comments]])])])])]),e("div",ss,[w(t.$slots,"footer",{},()=>[e("label",as,[h(e("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":o[17]||(o[17]=s=>t.draft=s)},null,512),[[I,t.draft]]),O(" Save as a draft")]),t.draft==!1?(c(),d("a",{key:0,class:"btn btn-continue float-end",onClick:o[18]||(o[18]=s=>u.createCollaboration()),disabled:t.buttonDisable},C(t.buttonText),9,rs)):(c(),d("a",{key:1,class:"btn btn-continue float-end",onClick:o[19]||(o[19]=s=>u.guardarBorrador()),disabled:t.buttonDisable}," Save draft ",8,ls))])]),$(n,{ref:"confirmation"},null,512),$(b,{ref:"alert"},null,512),t.showModalProgress?(c(),D(r,{key:0,progressYear:t.scCollaboration.progressReport,onClose:o[20]||(o[20]=s=>t.showModalProgress=!1),onSubmit:u.handleFormSubmit1},null,8,["progressYear","onSubmit"])):_("",!0)])])])])]),_:3})}const ns=V(wt,[["render",is]]),cs={components:{modalver:L,modalcrear:Dt,modaleditar:ns,modalconfirmacion:S,modalalerta:P},mixins:[B],data(){return{scCollaborations:null,scCollaboration:null,showDetailsScCollaboration:!1,showNewCollaboration:!1,showEditCollaboration:!1,collaborationEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getCollaborations(this.userID)},methods:{verCollaboration(t){this.scCollaboration=t,this.showDetailsScCollaboration=!0},getCollaborations(t){y.get(`api/scCollaborations/${t}`).then(o=>{this.scCollaborations=o.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#myTableCollaborations")}).catch(o=>console.log(o))},recargarTabla(t){this.mostrarCarga=!0,t=="General"?(this.scCollaborations=null,this.getCollaborations(this.userID)):this.crearTabla("#myTableCollaborations")},editCollaboration(t){this.collaborationEdit=t,this.showEditCollaboration=!0},async deleteCollaboration(t){await this.$refs.confirmation.show({title:"Delete Collaboration",message:"¿Are you sure you want to delete this Collaboration?.",okButton:"Delete",cancelButton:"Return"})&&y.delete(`api/scCollaborations/${t}`).then(f=>{this.toast.success("Collaboration successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(f=>console.log(f))}}},us={class:"row mt-4 mx-4"},ds={class:"col-12"},hs={class:"card mb-4"},bs={class:"row pb-0 p-4"},gs={class:"col-12"},ms={class:"d-flex justify-content-end"},fs=e("i",{class:"fa-solid fa-rotate"},null,-1),ps=[fs],Cs={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},ys={class:"container"},vs={class:"table-responsive p-0"},_s={class:"loader-sm"},Os={class:"table align-items-center mb-0",id:"myTableCollaborations"},$s=e("thead",null,[e("tr",{style:{color:"black"}},[e("th",{style:{"min-width":"16px"}}),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Activity Name"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name of AC3E Member"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Name of External Person"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Beggining Date"),e("th",{class:"text-uppercase text-xs font-weight-bolder"},"Ending Date")])],-1),Ds=e("td",null,null,-1),ws={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},ks={class:"align-middle text-end"},Rs={class:"d-flex px-3 py-1 justify-content-center align-items-center"},Bs=["onClick"],Ss=e("i",{class:"fa fa-fw fa-edit"},null,-1),Ps=[Ss],Ts=["onClick"],Es=e("i",{class:"fa-regular fa-eye"},null,-1),Vs=[Es],Hs=["onClick"],Ns=e("i",{class:"fa fa-fw fa-trash"},null,-1),Us=[Ns],Fs={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#878686"}},Is={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},As={class:"text-sm mb-0"},Ls={key:0,class:"text-sm mb-0"},Ms={key:1,class:"text-sm mb-0"},qs={key:0,class:"text-sm mb-0"},xs={key:1,class:"text-sm mb-0"},js={key:0,class:"text-sm mb-0"},Ys={key:1,class:"text-sm mb-0"},zs={key:0,class:"text-sm mb-0"},Gs={key:1,class:"text-sm mb-0"},Ws={key:0,class:"text-sm mb-0"},Xs={key:1,class:"text-sm mb-0"},Js=M('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function Ks(t,o,f,i,a,u){const g=v("modalconfirmacion"),n=v("modalalerta"),b=v("modalver"),r=v("modaleditar"),s=v("modalcrear");return c(),d("div",us,[e("div",ds,[e("div",hs,[e("div",bs,[e("div",gs,[e("div",ms,[e("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:o[0]||(o[0]=l=>a.showNewCollaboration=!0)},"New Collaboration"),O("   "),e("a",{class:"btn btn-spacing btn-search-blue",onClick:o[1]||(o[1]=l=>u.recargarTabla("General"))},ps)])])]),e("div",Cs,[e("div",ys,[e("div",vs,[h(e("div",_s,null,512),[[H,a.mostrarCarga]]),h(e("table",Os,[$s,e("tbody",null,[(c(!0),d(T,null,E(a.scCollaborations,l=>(c(),d("tr",{key:l.id},[Ds,e("td",null,[e("p",ws,C(l.id),1)]),e("td",ks,[e("div",Rs,[e("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:p=>u.editCollaboration(l)},Ps,8,Bs),O("   "),e("a",{class:"btn btn-success btn-xs",title:"Details",onClick:p=>u.verCollaboration(l)},Vs,8,Ts),O("   "),e("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:p=>u.deleteCollaboration(l.id)},Us,8,Hs)])]),e("td",null,[l.status=="Draft"?(c(),d("p",Fs,C(l.status),1)):_("",!0),l.status=="Finished"?(c(),d("p",Is,C(l.status),1)):_("",!0)]),e("td",null,[e("p",As,C(l.usuario.name),1)]),e("td",null,[l.activityName==null?(c(),d("p",Ls,"---")):(c(),d("p",Ms,C(l.activityName),1))]),e("td",null,[l.nameOfAC3EMember==null?(c(),d("p",qs,"---")):(c(),d("p",xs,C(l.nameOfAC3EMember),1))]),e("td",null,[l.nameOfExternalResearcher==null?(c(),d("p",js,"---")):(c(),d("p",Ys,C(l.nameOfExternalResearcher),1))]),e("td",null,[l.begginingDate==null?(c(),d("p",zs,"---")):(c(),d("p",Gs,C(l.begginingDate),1))]),e("td",null,[l.endingDate==null?(c(),d("p",Ws,"---")):(c(),d("p",Xs,C(l.endingDate),1))])]))),128))])],512),[[H,a.mostrarTabla]]),Js])])])]),$(g,{ref:"confirmation"},null,512),$(n,{ref:"alert"},null,512),a.showDetailsScCollaboration?(c(),D(b,{key:0,collaboration1:a.scCollaboration,onClose:o[2]||(o[2]=l=>a.showDetailsScCollaboration=!1)},null,8,["collaboration1"])):_("",!0),a.showEditCollaboration?(c(),D(r,{key:1,collaboration1:a.collaborationEdit,onClose:o[3]||(o[3]=l=>a.showEditCollaboration=!1),onRecarga:o[4]||(o[4]=l=>u.recargarTabla("General"))},null,8,["collaboration1"])):_("",!0),a.showNewCollaboration?(c(),D(s,{key:2,onClose:o[5]||(o[5]=l=>a.showNewCollaboration=!1),onRecarga:o[6]||(o[6]=l=>u.recargarTabla("General"))})):_("",!0)])])}const la=V(cs,[["render",Ks]]);export{la as default};
