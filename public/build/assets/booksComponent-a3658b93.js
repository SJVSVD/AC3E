import{m as O,a as _}from"./mixins-00a35343.js";import{m as L}from"./detailsBooksModal-a09597dc.js";import{m as A,a as R}from"./alertModal-064cb8ca.js";import{m as H,s as V}from"./multiselect-040cdaf8.js";import{r as m,o as n,h as $,i as M,b as o,j as w,g as v,t as f,a as h,w as d,F as T,e as P,l as B,f as g,n as C,k as b,m as N,T as D,v as F,p as U}from"./index-a6b313c0.js";/* empty css                                                         */import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./main-a60f64cc.js";const E={components:{modalProgressYear:H,Multiselect:V,modalconfirmacion:A,modalalerta:R},mixins:[O],data:()=>({book:{workType:"",bookAuthors:"",chapterAuthors:"",bookTitle:"",chapterTitle:"",firstPage:"",lastPage:"",editorialCityCountry:"",researcherInvolved:null,year:"",month:"",ISBN:"",editors:"",progressReport:"",comments:""},currentYear:new Date().getFullYear(),coauthor:!1,draft:!1,showModalProgress:!1,buttonDisable:!1,usuarios:[],researchers:[],idResearcher:"",errors:[],buttonText:"Save Book"}),created(){this.getProgressReport(),this.getUsuarios(),this.getUsuarios2();const e=new Date().getFullYear(),t=2e3,a=e+1;this.years=Array.from({length:a-t+1},(c,s)=>t+s),this.selectedYear=e,this.years.sort((c,s)=>s-c)},methods:{getUsuarios(){_.get("api/researchers").then(e=>{this.researchers=e.data}).catch(e=>console.log(e))},handleFormSubmit1(e){this.book.progressReport=e},getUsuarios2(){_.get("api/usuarios").then(e=>{this.usuarios=e.data.sort((t,a)=>t.name.localeCompare(a.name))}).catch(e=>console.log(e))},getProgressReport(){_.get("api/showProgressReport").then(e=>{this.book.progressReport=e.data}).catch(e=>console.log(e))},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Save draft",message:"¿Are you sure you want to save this book as a draft? this action cannot be undone.",okButton:"Save",cancelButton:"Return"})){var t="";this.book.researcherInvolved!==null&&this.book.researcherInvolved.length!==0&&this.book.researcherInvolved.forEach((s,i)=>{t+=s.name,i===this.book.researcherInvolved.length-1?t+=".":t+=", "});var a="";this.idResearcher!=""?a=this.idResearcher:a=this.userID;let c={centerResearcher:a,status:"Draft",researcherInvolved:t,workType:this.book.workType,bookAuthors:this.book.bookAuthors,chapterAuthors:this.book.chapterAuthors,editors:this.book.editors,ISBN:this.book.ISBN,bookTitle:this.book.bookTitle,chapterTitle:this.book.chapterTitle,firstPage:this.book.firstPage,lastPage:this.book.lastPage,editorialCityCountry:this.book.editorialCityCountry,month:this.book.month,year:this.book.year,progressReport:this.book.progressReport,comments:this.book.comments};_.post("api/books",c).then(s=>{this.toast.success("Draft saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{s.response?s.response.status===422?this.toast.warning(`Validation error: ${s.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):s.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${s.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):s.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${s.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},onInput(e){const t=e.target;this.book.year=t.value.slice(0,4)},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async createBook(){this.errors=[];const e=["ISBN","editors","comments","chapterTitle","chapterAuthors","firstPage","lastPage"];for(const i in this.book)!e.includes(i)&&(this.book[i]===""||this.book[i]===0||this.book[i]==null)&&this.errors.push(i);this.book.workType=="Book Chapter"&&this.book.chapterTitle==""&&this.errors.push("chapterTitle"),this.book.workType=="Book Chapter"&&this.book.chapterAuthors==""&&this.errors.push("chapterAuthors");var t=await _.post("../api/verifyBook",this.book).then((function(i){return i.data}).bind(this)).catch(function(i){console.log(i)});t>0&&this.errors.push("duplicated");var a="";if(this.errors.length!=0&&(this.errors.forEach(i=>{i=="workType"?a=a+`The field Work Type is required
`:i=="bookAuthors"?a=a+`The field Book Authors is required
`:i=="bookTitle"?a=a+`The field Book Title is required
`:i=="chapterTitle"?a=a+`The field Chapter Title is required
`:i=="chapterAuthors"?a=a+`The field Chapter Authors is required
`:i=="editorialCityCountry"?a=a+`The field Editorial/City/Country is required
`:i=="nameOfResearchLine"?a=a+`The field Name of Research Line is required
`:i=="progressReport"?a=a+`The field Progress Report is required
`:i=="firstPage"?a=a+`The field First Page is required
`:i=="lastPage"?a=a+`The field Last Page is required
`:i=="duplicated"?a=a+`There is already a post with the same data, please try again.
`:a=a+"The field "+this.capitalizeFirstLetter(i)+` is required
`}),this.toast.warning(a,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Save Book",message:"¿Are you sure you want to save this book?.",okButton:"Save",cancelButton:"Return"})){var c="";this.idResearcher!=""?c=this.idResearcher:c=this.userID;var s="";this.book.researcherInvolved!==null&&this.book.researcherInvolved.length!==0&&this.book.researcherInvolved.forEach((p,y)=>{s+=p.name,y===this.book.researcherInvolved.length-1?s+=".":s+=", "});let u={status:"Finished",researcherInvolved:s,workType:this.book.workType,centerResearcher:c,bookAuthors:this.book.bookAuthors,chapterAuthors:this.book.chapterAuthors,editors:this.book.editors,ISBN:this.book.ISBN,bookTitle:this.book.bookTitle,chapterTitle:this.book.chapterTitle,firstPage:this.book.firstPage,lastPage:this.book.lastPage,editorialCityCountry:this.book.editorialCityCountry,year:this.book.year,month:this.book.month,progressReport:this.book.progressReport,comments:this.book.comments};_.post("api/books",u).then(p=>{this.buttonDisable=!0,this.buttonText="Saving...",this.toast.success("Book saved successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(p=>{p.response?p.response.status===422?this.toast.warning(`Validation error: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):p.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${p.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},q={name:"modal"},Y={class:"modal-mask"},J={class:"modal-wrapper"},j={class:"modal-container"},W={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},z={for:""},G=o("i",{class:"fa-solid fa-pen-to-square"},null,-1),X=[G],K={key:0,class:"col-5 m-0"},Q={class:"fw-normal",style:{"font-size":"14px"}},Z=o("option",{disabled:"",value:""},"Select a researcher",-1),x=["value"],oo={class:"modal-body"},eo={class:"row"},to={class:"col-md-6"},so=o("label",{for:""},"AC3E researcher involved:",-1),ro=o("label",{for:"",style:{color:"orange"}},"*",-1),lo=o("br",null,null,-1),ao={class:"row"},io={class:"col-md-4"},no=o("label",{for:""},"Work Type: ",-1),uo=o("label",{for:"",style:{color:"orange"}},"*",-1),ho=o("br",null,null,-1),co=o("option",{disabled:"",value:""},"Select an option",-1),bo=o("option",{value:"Book (Whole)"},"Book (Whole)",-1),po=o("option",{value:"Book Chapter"},"Book Chapter",-1),ko=[co,bo,po],fo={class:"col-md-4"},mo=o("label",{for:""},"Book Title:",-1),go=o("label",{for:"",style:{color:"orange"}},"*",-1),_o=o("br",null,null,-1),vo={class:"col-md-4"},yo=o("label",{for:""},"Chapter Title:",-1),Bo={key:0,for:"",style:{color:"orange"}},$o=o("br",null,null,-1),Co=o("br",null,null,-1),wo={class:"row"},To={class:"col-md-3"},Po=o("label",{for:""},"First Page:",-1),Oo=o("br",null,null,-1),Ao={class:"col-md-3"},Ro=o("label",{for:""},"Last Page:",-1),So=o("br",null,null,-1),Io={class:"col-md-3"},Fo=o("label",{for:""},"Year:",-1),Ho=o("label",{for:"",style:{color:"orange"}},"*",-1),Vo=o("br",null,null,-1),Mo=o("option",{disabled:"",value:""},"Select a year",-1),No=["value"],Do={class:"col-md-3"},Lo=o("label",{for:"selectMonth"},"Month:",-1),Uo=o("label",{for:"selectMonth",style:{color:"orange"}},"*",-1),Eo=o("br",null,null,-1),qo=o("option",{disabled:"",value:""},"Select a month",-1),Yo=o("option",{value:"January"},"January",-1),Jo=o("option",{value:"February"},"February",-1),jo=o("option",{value:"March"},"March",-1),Wo=o("option",{value:"April"},"April",-1),zo=o("option",{value:"May"},"May",-1),Go=o("option",{value:"June"},"June",-1),Xo=o("option",{value:"July"},"July",-1),Ko=o("option",{value:"August"},"August",-1),Qo=o("option",{value:"September"},"September",-1),Zo=o("option",{value:"October"},"October",-1),xo=o("option",{value:"November"},"November",-1),oe=o("option",{value:"December"},"December",-1),ee=[qo,Yo,Jo,jo,Wo,zo,Go,Xo,Ko,Qo,Zo,xo,oe],te=o("br",null,null,-1),se={class:"row"},re={class:"col-md-4"},le=o("label",{for:""},"Editors:",-1),ae=o("br",null,null,-1),ie={class:"col-md-4"},ne=o("label",{for:""},"Book Authors:",-1),ue=o("label",{for:"",style:{color:"orange"}},"*",-1),de=o("br",null,null,-1),he={class:"col-md-4"},ce=o("label",{for:""},"Chapter Authors:",-1),be={key:0,for:"",style:{color:"orange"}},pe=o("br",null,null,-1),ke=o("br",null,null,-1),fe={class:"row"},me={class:"col-md-3"},ge=o("label",{for:""},"Editorial/City/Country:",-1),_e=o("label",{for:"",style:{color:"orange"}},"*",-1),ve=o("br",null,null,-1),ye={class:"col-md-3"},Be=o("label",{for:""},"ISBN:",-1),$e=o("br",null,null,-1),Ce={class:"col-md-6"},we=o("label",{for:""},"Comments:",-1),Te=o("br",null,null,-1),Pe={class:"modal-footer"},Oe={class:"form-check-label"},Ae=["disabled"],Re=["disabled"];function Se(e,t,a,c,s,i){const u=m("Multiselect"),p=m("modalfotoperfil"),y=m("modalconfirmacion"),k=m("modalalerta"),l=m("modalProgressYear");return n(),$(D,{name:"modalcrear"},{default:M(()=>[o("div",q,[o("div",Y,[o("div",J,[o("div",j,[o("div",W,[w(e.$slots,"header",{},()=>[v(" New Book ")]),o("label",z,[v("Progress year: "+f(e.book.progressReport)+"    ",1),o("a",{class:"btn",onClick:t[0]||(t[0]=r=>e.showModalProgress=!0)},X)]),e.is("Administrator")?(n(),h("label",K,[v(" Researcher: "),o("label",Q,[d(o("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=r=>e.idResearcher=r)},[Z,(n(!0),h(T,null,P(e.usuarios,r=>(n(),h("option",{key:r.id,value:r.id},f(r.name),9,x))),128))],512),[[B,e.idResearcher]])])])):g("",!0),o("a",{class:"btn btn-closed",onClick:t[2]||(t[2]=r=>e.$emit("close")),ref:"closeBtn"},"X",512)]),o("div",oo,[w(e.$slots,"body",{},()=>[o("div",eo,[o("div",to,[so,ro,C(u,{placeholder:"Select the participants",modelValue:e.book.researcherInvolved,"onUpdate:modelValue":t[3]||(t[3]=r=>e.book.researcherInvolved=r),searchable:!0,"close-on-select":!1,createTag:!0,options:e.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])])]),lo,o("div",ao,[o("div",io,[no,uo,ho,d(o("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=r=>e.book.workType=r)},ko,512),[[B,e.book.workType]])]),o("div",fo,[mo,go,_o,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=r=>e.book.bookTitle=r)},null,512),[[b,e.book.bookTitle]])]),o("div",vo,[yo,e.book.workType=="Book Chapter"?(n(),h("label",Bo,"*")):g("",!0),$o,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=r=>e.book.chapterTitle=r)},null,512),[[b,e.book.chapterTitle]])])]),Co,o("div",wo,[o("div",To,[Po,Oo,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=r=>e.book.firstPage=r)},null,512),[[b,e.book.firstPage]])]),o("div",Ao,[Ro,So,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=r=>e.book.lastPage=r)},null,512),[[b,e.book.lastPage]])]),o("div",Io,[Fo,Ho,Vo,d(o("select",{class:"form-select",id:"selectYear","onUpdate:modelValue":t[9]||(t[9]=r=>e.book.year=r)},[Mo,(n(!0),h(T,null,P(e.years,r=>(n(),h("option",{key:r,value:r},f(r),9,No))),128))],512),[[B,e.book.year]])]),o("div",Do,[Lo,Uo,Eo,d(o("select",{class:"form-select",id:"selectMonth","onUpdate:modelValue":t[10]||(t[10]=r=>e.book.month=r)},ee,512),[[B,e.book.month]])])]),te,o("div",se,[o("div",re,[le,ae,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=r=>e.book.editors=r)},null,512),[[b,e.book.editors]])]),o("div",ie,[ne,ue,de,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=r=>e.book.bookAuthors=r)},null,512),[[b,e.book.bookAuthors]])]),o("div",he,[ce,e.book.workType=="Book Chapter"?(n(),h("label",be,"*")):g("",!0),pe,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=r=>e.book.chapterAuthors=r)},null,512),[[b,e.book.chapterAuthors]])])]),ke,o("div",fe,[o("div",me,[ge,_e,ve,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=r=>e.book.editorialCityCountry=r)},null,512),[[b,e.book.editorialCityCountry]])]),o("div",ye,[Be,$e,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=r=>e.book.ISBN=r)},null,512),[[b,e.book.ISBN]])]),o("div",Ce,[we,Te,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=r=>e.book.comments=r)},null,512),[[b,e.book.comments]])])])])]),o("div",Pe,[w(e.$slots,"footer",{},()=>[o("label",Oe,[d(o("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":t[17]||(t[17]=r=>e.draft=r)},null,512),[[N,e.draft]]),v(" Save as a draft")]),e.draft==!1?(n(),h("a",{key:0,class:"btn btn-continue float-end",onClick:t[18]||(t[18]=r=>i.createBook()),disabled:e.buttonDisable},f(e.buttonText),9,Ae)):(n(),h("a",{key:1,class:"btn btn-continue float-end",onClick:t[19]||(t[19]=r=>i.guardarBorrador()),disabled:e.buttonDisable}," Save draft ",8,Re))])]),e.showFotoPerfil?(n(),$(p,{key:0,onClose:t[20]||(t[20]=r=>e.showFotoPerfil=!1)})):g("",!0),C(y,{ref:"confirmation"},null,512),C(k,{ref:"alert"},null,512),e.showModalProgress?(n(),$(l,{key:1,progressYear:e.book.progressReport,onClose:t[21]||(t[21]=r=>e.showModalProgress=!1),onSubmit:i.handleFormSubmit1},null,8,["progressYear","onSubmit"])):g("",!0)])])])])]),_:3})}const Ie=S(E,[["render",Se]]),Fe={components:{modalProgressYear:H,modalconfirmacion:A,modalalerta:R,Multiselect:V},mixins:[O],data:()=>({book:{workType:"",bookAuthors:"",chapterAuthors:"",bookTitle:"",chapterTitle:"",researcherInvolved:null,firstPage:"",lastPage:"",editorialCityCountry:"",year:"",ISBN:"",editors:"",progressReport:"",comments:""},options1:["Biomedical Systems","Control and Automation","Data Analytics and Artificial Intelligence","Electrical Systems","Energy Conversion and Power Systems","Instrumentation"],showModalBookAutor:!1,showModalChapterAutor:!1,bookAuthors1:[],researchers:[],usuarios:[],chapterAuthors1:[],idResearcher:"",currentYear:new Date().getFullYear(),coauthor:!1,draft:!1,showModalProgress:!1,buttonDisable:!1,id:"",errors:[],buttonText:"Edit Book"}),props:{book1:Object},created(){if(this.id=this.book1.id,this.idResearcher=this.book1.centerResearcher,this.book.workType=this.book1.workType,this.book.bookAuthors=this.book1.bookAuthors,this.book.chapterAuthors=this.book1.chapterAuthors,this.book.bookTitle=this.book1.bookTitle,this.book.chapterTitle=this.book1.chapterTitle,this.book.firstPage=this.book1.firstPage,this.book.lastPage=this.book1.lastPage,this.book.editorialCityCountry=this.book1.editorialCityCountry,this.book.year=this.book1.year,this.book.progressReport=this.book1.progressReport,this.book.ISBN=this.book1.ISBN,this.book.month=this.book1.month,this.book.editors=this.book1.editors,this.book.bookAuthors=this.book1.bookAuthors,this.book.chapterAuthors=this.book1.chapterAuthors,this.book.comments=this.book1.comments,this.book1.researcherInvolved!=null){const c=this.book1.researcherInvolved.split(",");this.book.researcherInvolved=c.map((s,i)=>(s=s.trim(),s.endsWith(".")&&(s=s.slice(0,-1)),{value:s,name:s}))}const e=new Date().getFullYear(),t=2e3,a=e+1;this.years=Array.from({length:a-t+1},(c,s)=>t+s),this.selectedYear=e,this.years.sort((c,s)=>s-c),this.getUsuarios(),this.getUsuarios2()},methods:{getUsuarios2(){_.get("api/usuarios").then(e=>{this.usuarios=e.data.sort((t,a)=>t.name.localeCompare(a.name))}).catch(e=>console.log(e))},getUsuarios(){_.get("api/researchers").then(e=>{this.researchers=e.data}).catch(e=>console.log(e))},handleFormSubmit1(e){this.book.progressReport=e},onInput(e){const t=e.target;this.book.year=t.value.slice(0,4)},cerrarModal(){const e=this.$refs.closeBtn;this.$emit("recarga"),e.click()},capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},async guardarBorrador(){if(await this.$refs.confirmation.show({title:"Edit draft",message:"¿Are you sure you want to edit this book as a draft? this action cannot be undone.",okButton:"Edit",cancelButton:"Return"})){var t="";this.book.researcherInvolved!==null&&this.book.researcherInvolved.length!==0&&this.book.researcherInvolved.forEach((s,i)=>{t+=s.name,i===this.book.researcherInvolved.length-1?t+=".":t+=", "});var a="";this.idResearcher!=""?a=this.idResearcher:a=this.userID;let c={centerResearcher:a,status:"Draft",researcherInvolved:t,workType:this.book.workType,centerResearcher:this.userID,bookAuthors:this.book.bookAuthors,chapterAuthors:this.book.chapterAuthors,editors:this.book.editors,ISBN:this.book.ISBN,bookTitle:this.book.bookTitle,chapterTitle:this.book.chapterTitle,firstPage:this.book.firstPage,lastPage:this.book.lastPage,editorialCityCountry:this.book.editorialCityCountry,year:this.book.year,month:this.book.month,progressReport:this.book.progressReport,comments:this.book.comments};_.put(`api/books/${this.id}`,c).then(s=>{this.toast.success("Draft edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(s=>{s.response?s.response.status===422?this.toast.warning(`Validation error: ${s.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):s.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${s.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):s.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${s.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}},async editBook(){this.errors=[];const e=["ISBN","editors","comments","chapterTitle","chapterAuthors","firstPage","lastPage"];for(const u in this.book)!e.includes(u)&&(this.book[u]===""||this.book[u]===0||this.book[u]==null)&&this.errors.push(u);this.book.workType=="Book Chapter"&&(this.book.chapterTitle==""||this.book.chapterTitle==null)&&this.errors.push("chapterTitle"),this.book.workType=="Book Chapter"&&(this.book.chapterAuthors==""||this.book.chapterAuthors==null)&&this.errors.push("chapterAuthors");var t="";this.idResearcher!=""?t=this.idResearcher:t=this.userID;let a={centerResearcher:t,id:this.id,workType:this.book.workType,bookAuthors:this.book.bookAuthors,chapterAuthors:this.book.chapterAuthors,editors:this.book.editors,ISBN:this.book.ISBN,bookTitle:this.book.bookTitle,chapterTitle:this.book.chapterTitle,firstPage:this.book.firstPage,lastPage:this.book.lastPage,editorialCityCountry:this.book.editorialCityCountry,year:this.book.year,month:this.book.month,progressReport:this.book.progressReport,comments:this.book.comments};var c=await _.post("../api/verifyBook",a).then((function(u){return u.data}).bind(this)).catch(function(u){console.log(u)});c>0&&this.errors.push("duplicated");var s="";if(this.errors.length!=0&&(this.errors.forEach(u=>{u=="workType"?s=s+`The field Work Type is required
`:u=="bookAuthors"?s=s+`The field Book Authors is required
`:u=="bookTitle"?s=s+`The field Book Title is required
`:u=="chapterTitle"?s=s+`The field Chapter Title is required
`:u=="chapterAuthors"?s=s+`The field Chapter Authors is required
`:u=="editorialCityCountry"?s=s+`The field Editorial/City/Country is required
`:u=="nameOfResearchLine"?s=s+`The field Name of Research Line is required
`:u=="progressReport"?s=s+`The field Progress Report is required
`:u=="firstPage"?s=s+`The field First Page is required
`:u=="lastPage"?s=s+`The field Last Page is required
`:u=="duplicated"?s=s+`There is already a post with the same data, please try again.
`:s=s+"The field "+this.capitalizeFirstLetter(u)+` is required
`}),this.toast.warning(s,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})),this.errors.length===0&&await this.$refs.confirmation.show({title:"Edit Book",message:"¿Are you sure you want to edit this book?.",okButton:"Edit",cancelButton:"Return"})){var i="";this.book.researcherInvolved!==null&&this.book.researcherInvolved.length!==0&&this.book.researcherInvolved.forEach((k,l)=>{i+=k.name,l===this.book.researcherInvolved.length-1?i+=".":i+=", "});var t="";this.idResearcher!=""?t=this.idResearcher:t=this.userID;let y={centerResearcher:t,status:"Finished",researcherInvolved:i,workType:this.book.workType,bookAuthors:this.book.bookAuthors,chapterAuthors:this.book.chapterAuthors,editors:this.book.editors,ISBN:this.book.ISBN,bookTitle:this.book.bookTitle,chapterTitle:this.book.chapterTitle,firstPage:this.book.firstPage,lastPage:this.book.lastPage,editorialCityCountry:this.book.editorialCityCountry,year:this.book.year,month:this.book.month,progressReport:this.book.progressReport,comments:this.book.comments};this.buttonDisable=!0,this.buttonText="Editing...",_.put(`api/books/${this.id}`,y).then(k=>{this.toast.success("Book edited successfully!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),setTimeout(()=>{this.cerrarModal()},1500)}).catch(k=>{k.response?k.response.status===422?this.toast.warning(`Validation error: ${k.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):k.response.status===404?this.toast.error("Resource not found.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${k.response.data.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):k.request?this.toast.error("No response from server.",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.toast.error(`An error occurred: ${k.message}`,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})}}}},He={name:"modal"},Ve={class:"modal-mask"},Me={class:"modal-wrapper"},Ne={class:"modal-container"},De={class:"modal-header pb-1 fw-bold",style:{color:"#444444"}},Le={for:""},Ue=o("i",{class:"fa-solid fa-pen-to-square"},null,-1),Ee=[Ue],qe={key:0,class:"col-5 m-0"},Ye={class:"fw-normal",style:{"font-size":"14px"}},Je=o("option",{disabled:"",value:""},"Select a researcher",-1),je=["value"],We={class:"modal-body"},ze={class:"row"},Ge={class:"col-md-6"},Xe=o("label",{for:""},"AC3E researcher involved:",-1),Ke=o("label",{for:"",style:{color:"orange"}},"*",-1),Qe=o("br",null,null,-1),Ze={class:"row"},xe={class:"col-md-4"},ot=o("label",{for:""},"Work Type: ",-1),et=o("label",{for:"",style:{color:"orange"}},"*",-1),tt=o("br",null,null,-1),st=o("option",{disabled:"",value:null},"Select an option",-1),rt=o("option",{value:"Book (Whole)"},"Book (Whole)",-1),lt=o("option",{value:"Book Chapter"},"Book Chapter",-1),at=[st,rt,lt],it={class:"col-md-4"},nt=o("label",{for:""},"Book Title:",-1),ut=o("label",{for:"",style:{color:"orange"}},"*",-1),dt=o("br",null,null,-1),ht={class:"col-md-4"},ct=o("label",{for:""},"Chapter Title:",-1),bt={key:0,for:"",style:{color:"orange"}},pt=o("br",null,null,-1),kt=o("br",null,null,-1),ft={class:"row"},mt={class:"col-md-3"},gt=o("label",{for:""},"First Page:",-1),_t=o("label",{for:"",style:{color:"orange"}},"*",-1),vt=o("br",null,null,-1),yt={class:"col-md-3"},Bt=o("label",{for:""},"Last Page:",-1),$t=o("label",{for:"",style:{color:"orange"}},"*",-1),Ct=o("br",null,null,-1),wt={class:"col-md-3"},Tt=o("label",{for:""},"Year:",-1),Pt=o("label",{for:"",style:{color:"orange"}},"*",-1),Ot=o("br",null,null,-1),At=o("option",{disabled:"",value:null},"Select a year",-1),Rt=["value"],St={class:"col-md-3"},It=o("label",{for:"selectMonth"},"Month:",-1),Ft=o("label",{for:"selectMonth",style:{color:"orange"}},"*",-1),Ht=o("br",null,null,-1),Vt=o("option",{disabled:"",value:null},"Select a month",-1),Mt=o("option",{value:"January"},"January",-1),Nt=o("option",{value:"February"},"February",-1),Dt=o("option",{value:"March"},"March",-1),Lt=o("option",{value:"April"},"April",-1),Ut=o("option",{value:"May"},"May",-1),Et=o("option",{value:"June"},"June",-1),qt=o("option",{value:"July"},"July",-1),Yt=o("option",{value:"August"},"August",-1),Jt=o("option",{value:"September"},"September",-1),jt=o("option",{value:"October"},"October",-1),Wt=o("option",{value:"November"},"November",-1),zt=o("option",{value:"December"},"December",-1),Gt=[Vt,Mt,Nt,Dt,Lt,Ut,Et,qt,Yt,Jt,jt,Wt,zt],Xt=o("br",null,null,-1),Kt={class:"row"},Qt={class:"col-md-4"},Zt=o("label",{for:""},"Editors:",-1),xt=o("br",null,null,-1),os={class:"col-md-4"},es=o("label",{for:""},"Book Authors:",-1),ts=o("label",{for:"",style:{color:"orange"}},"*",-1),ss=o("br",null,null,-1),rs={class:"col-md-4"},ls=o("label",{for:""},"Chapter Authors:",-1),as={key:0,for:"",style:{color:"orange"}},is=o("br",null,null,-1),ns=o("br",null,null,-1),us={class:"row"},ds={class:"col-md-3"},hs=o("label",{for:""},"Editorial/City/Country:",-1),cs=o("label",{for:"",style:{color:"orange"}},"*",-1),bs=o("br",null,null,-1),ps={class:"col-md-3"},ks=o("label",{for:""},"ISBN:",-1),fs=o("br",null,null,-1),ms={class:"col-md-6"},gs=o("label",{for:""},"Comments:",-1),_s=o("br",null,null,-1),vs={class:"modal-footer"},ys={class:"form-check-label"},Bs=["disabled"],$s=["disabled"];function Cs(e,t,a,c,s,i){const u=m("Multiselect"),p=m("modalconfirmacion"),y=m("modalalerta"),k=m("modalProgressYear");return n(),$(D,{name:"modalcrear"},{default:M(()=>[o("div",He,[o("div",Ve,[o("div",Me,[o("div",Ne,[o("div",De,[w(e.$slots,"header",{},()=>[v(" Edit Book ")]),o("label",Le,[v("Progress year: "+f(e.book.progressReport)+"    ",1),o("a",{class:"btn",onClick:t[0]||(t[0]=l=>e.showModalProgress=!0)},Ee)]),e.is("Administrator")?(n(),h("label",qe,[v(" Researcher: "),o("label",Ye,[d(o("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=l=>e.idResearcher=l)},[Je,(n(!0),h(T,null,P(e.usuarios,l=>(n(),h("option",{key:l.id,value:l.id},f(l.name),9,je))),128))],512),[[B,e.idResearcher]])])])):g("",!0),o("a",{class:"btn btn-closed",onClick:t[2]||(t[2]=l=>e.$emit("close")),ref:"closeBtn"},"X",512)]),o("div",We,[w(e.$slots,"body",{},()=>[o("div",ze,[o("div",Ge,[Xe,Ke,C(u,{placeholder:"Select the participants",modelValue:e.book.researcherInvolved,"onUpdate:modelValue":t[3]||(t[3]=l=>e.book.researcherInvolved=l),searchable:!0,"close-on-select":!1,createTag:!0,options:e.researchers,mode:"tags",label:"name",trackBy:"id",object:!0},null,8,["modelValue","options"])])]),Qe,o("div",Ze,[o("div",xe,[ot,et,tt,d(o("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=l=>e.book.workType=l)},at,512),[[B,e.book.workType]])]),o("div",it,[nt,ut,dt,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=l=>e.book.bookTitle=l)},null,512),[[b,e.book.bookTitle]])]),o("div",ht,[ct,e.book.workType=="Book Chapter"?(n(),h("label",bt,"*")):g("",!0),pt,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>e.book.chapterTitle=l)},null,512),[[b,e.book.chapterTitle]])])]),kt,o("div",ft,[o("div",mt,[gt,_t,vt,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>e.book.firstPage=l)},null,512),[[b,e.book.firstPage]])]),o("div",yt,[Bt,$t,Ct,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>e.book.lastPage=l)},null,512),[[b,e.book.lastPage]])]),o("div",wt,[Tt,Pt,Ot,d(o("select",{class:"form-select",id:"selectYear","onUpdate:modelValue":t[9]||(t[9]=l=>e.book.year=l)},[At,(n(!0),h(T,null,P(e.years,l=>(n(),h("option",{key:l,value:l},f(l),9,Rt))),128))],512),[[B,e.book.year]])]),o("div",St,[It,Ft,Ht,d(o("select",{class:"form-select",id:"selectMonth","onUpdate:modelValue":t[10]||(t[10]=l=>e.book.month=l)},Gt,512),[[B,e.book.month]])])]),Xt,o("div",Kt,[o("div",Qt,[Zt,xt,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=l=>e.book.editors=l)},null,512),[[b,e.book.editors]])]),o("div",os,[es,ts,ss,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=l=>e.book.bookAuthors=l)},null,512),[[b,e.book.bookAuthors]])]),o("div",rs,[ls,e.book.workType=="Book Chapter"?(n(),h("label",as,"*")):g("",!0),is,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=l=>e.book.chapterAuthors=l)},null,512),[[b,e.book.chapterAuthors]])])]),ns,o("div",us,[o("div",ds,[hs,cs,bs,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=l=>e.book.editorialCityCountry=l)},null,512),[[b,e.book.editorialCityCountry]])]),o("div",ps,[ks,fs,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=l=>e.book.ISBN=l)},null,512),[[b,e.book.ISBN]])]),o("div",ms,[gs,_s,d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=l=>e.book.comments=l)},null,512),[[b,e.book.comments]])])])])]),o("div",vs,[w(e.$slots,"footer",{},()=>[o("label",ys,[d(o("input",{type:"checkbox",class:"form-check-","onUpdate:modelValue":t[17]||(t[17]=l=>e.draft=l)},null,512),[[N,e.draft]]),v(" Edit as a draft")]),e.draft==!1?(n(),h("a",{key:0,class:"btn btn-continue float-end",onClick:t[18]||(t[18]=l=>i.editBook()),disabled:e.buttonDisable},f(e.buttonText),9,Bs)):(n(),h("a",{key:1,class:"btn btn-continue float-end",onClick:t[19]||(t[19]=l=>i.guardarBorrador()),disabled:e.buttonDisable}," Edit draft ",8,$s))])]),C(p,{ref:"confirmation"},null,512),C(y,{ref:"alert"},null,512),e.showModalProgress?(n(),$(k,{key:0,progressYear:e.book.progressReport,onClose:t[20]||(t[20]=l=>e.showModalProgress=!1),onSubmit:i.handleFormSubmit1},null,8,["progressYear","onSubmit"])):g("",!0)])])])])]),_:3})}const ws=S(Fe,[["render",Cs]]),Ts={components:{modalver:L,modalcrear:Ie,modaleditar:ws,modalconfirmacion:A,modalalerta:R},mixins:[O],data(){return{books:null,book:null,showDetailsBook:!1,showNewBook:!1,showEditBook:!1,bookEdit:null,mostrarTabla:!1,mostrarCarga:!0,table:null}},created(){this.getBooks(this.userID)},methods:{verBook(e){this.book=e,this.showDetailsBook=!0},getBooks(e){_.get(`api/books/${e}`).then(t=>{this.books=t.data,this.table!=null&&(this.table.clear(),this.table.destroy()),this.crearTabla("#MyTableBooks")}).catch(t=>console.log(t))},recargarTabla(e){this.mostrarCarga=!0,e=="General"?(this.books=null,this.getBooks(this.userID)):this.crearTabla("#MyTableBooks")},editBook(e){this.bookEdit=e,this.showEditBook=!0},async deleteBook(e){await this.$refs.confirmation.show({title:"Delete Book",message:"¿Are you sure you want to delete this Book?.",okButton:"Delete",cancelButton:"Return"})&&_.delete(`api/books/${e}`).then(a=>{this.toast.success("Book successfully removed!",{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}),this.recargarTabla("General")}).catch(a=>console.log(a))}}},Ps={class:"row mt-4 mx-4"},Os={class:"col-12"},As={class:"card mb-4"},Rs={class:"row pb-0 p-4"},Ss={class:"col-12"},Is={class:"d-flex justify-content-end"},Fs=o("i",{class:"fa-solid fa-rotate"},null,-1),Hs=[Fs],Vs={class:"card-body px-0 pt-0 pb-2",style:{"min-height":"400px"}},Ms={class:"container"},Ns={class:"table-responsive p-0"},Ds={class:"loader-sm"},Ls={class:"table align-items-center mb-0",id:"MyTableBooks"},Us=o("thead",null,[o("tr",{style:{color:"black"}},[o("th",{style:{"min-width":"16px"}}),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"ID"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"Actions"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"Status"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"User"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"Book Title"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"Book Authors"),o("th",{class:"text-uppercase text-xs font-weight-bolder"},"Year")])],-1),Es=o("td",null,null,-1),qs={class:"text-sm font-weight-bolder mb-0",style:{color:"black"}},Ys={class:"align-middle text-end"},Js={class:"d-flex px-3 py-1 justify-content-center align-items-center"},js=["onClick"],Ws=o("i",{class:"fa fa-fw fa-edit"},null,-1),zs=[Ws],Gs=["onClick"],Xs=o("i",{class:"fa-regular fa-eye"},null,-1),Ks=[Xs],Qs=["onClick"],Zs=o("i",{class:"fa fa-fw fa-trash"},null,-1),xs=[Zs],or={key:0,class:"text-sm font-weight-bolder mb-0",style:{color:"#878686"}},er={key:1,class:"text-sm font-weight-bolder mb-0",style:{color:"#28A745"}},tr={class:"text-sm mb-0"},sr={key:0,class:"text-sm mb-0"},rr={key:1,class:"text-sm mb-0 truncate-text"},lr={key:0,class:"text-sm mb-0"},ar={key:1,class:"text-sm mb-0"},ir={key:0,class:"text-sm mb-0"},nr={key:1,class:"text-sm mb-0"},ur=U('<div class="row"><div class="col-3"><label style="font-weight:500;"> These buttons use the elements selected in the table, if none exist, it will select all the records. </label></div><div class="col-auto"><label title="To select a single record from the table, just do \r Click on the box in the first column to select \r several consecutive hold SHIFT, to select several \r non-consecutive hold CTRL."><span class="badge bg-dark-grey fs-10">?</span></label></div></div>',1);function dr(e,t,a,c,s,i){const u=m("modalconfirmacion"),p=m("modalalerta"),y=m("modalver"),k=m("modaleditar"),l=m("modalcrear");return n(),h("div",Ps,[o("div",Os,[o("div",As,[o("div",Rs,[o("div",Ss,[o("div",Is,[o("a",{class:"btn btn-spacing btn-continue",id:"show-modal1",onClick:t[0]||(t[0]=r=>s.showNewBook=!0)},"New Book"),v("   "),o("a",{class:"btn btn-spacing btn-search-blue",onClick:t[1]||(t[1]=r=>i.recargarTabla("General"))},Hs)])])]),o("div",Vs,[o("div",Ms,[o("div",Ns,[d(o("div",Ds,null,512),[[F,s.mostrarCarga]]),d(o("table",Ls,[Us,o("tbody",null,[(n(!0),h(T,null,P(s.books,r=>(n(),h("tr",{key:r.id},[Es,o("td",null,[o("p",qs,f(r.id),1)]),o("td",Ys,[o("div",Js,[o("a",{class:"btn btn-alert btn-xs",title:"Edit",onClick:I=>i.editBook(r)},zs,8,js),v("   "),o("a",{class:"btn btn-success btn-xs",title:"Details",onClick:I=>i.verBook(r)},Ks,8,Gs),v("   "),o("a",{class:"btn btn-closed btn-xs",title:"Delete",onClick:I=>i.deleteBook(r.id)},xs,8,Qs)])]),o("td",null,[r.status=="Draft"?(n(),h("p",or,f(r.status),1)):g("",!0),r.status=="Finished"?(n(),h("p",er,f(r.status),1)):g("",!0)]),o("td",null,[o("p",tr,f(r.usuario.name),1)]),o("td",null,[r.bookTitle==null?(n(),h("p",sr,"---")):(n(),h("p",rr,f(r.bookTitle),1))]),o("td",null,[r.bookAuthors==null?(n(),h("p",lr,"---")):(n(),h("p",ar,f(r.bookAuthors),1))]),o("td",null,[r.year==null?(n(),h("p",ir,"---")):(n(),h("p",nr,f(r.year),1))])]))),128))])],512),[[F,s.mostrarTabla]]),ur])])])]),C(u,{ref:"confirmation"},null,512),C(p,{ref:"alert"},null,512),s.showDetailsBook?(n(),$(y,{key:0,book1:s.book,onClose:t[2]||(t[2]=r=>s.showDetailsBook=!1)},null,8,["book1"])):g("",!0),s.showEditBook?(n(),$(k,{key:1,book1:s.bookEdit,onClose:t[3]||(t[3]=r=>s.showEditBook=!1),onRecarga:t[4]||(t[4]=r=>i.recargarTabla("General"))},null,8,["book1"])):g("",!0),s.showNewBook?(n(),$(l,{key:2,onClose:t[5]||(t[5]=r=>s.showNewBook=!1),onRecarga:t[6]||(t[6]=r=>i.recargarTabla("General"))})):g("",!0)])])}const _r=S(Ts,[["render",dr]]);export{_r as default};
